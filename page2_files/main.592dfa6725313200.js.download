(self.webpackChunkidp_bxsearch=self.webpackChunkidp_bxsearch||[]).push([[179],{2884:(Dt,Le,D)=>{"use strict";var a=D(7582),s=64,c=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),T=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],V=Math.pow(2,53)-1,ie=function(){function J(){this.state=Int32Array.from(T),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return J.prototype.update=function(fe){if(this.finished)throw new Error("Attempted to update an already finished hash.");var ke=0,Ce=fe.byteLength;if(this.bytesHashed+=Ce,8*this.bytesHashed>V)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;Ce>0;)this.buffer[this.bufferLength++]=fe[ke++],Ce--,this.bufferLength===s&&(this.hashBuffer(),this.bufferLength=0)},J.prototype.digest=function(){if(!this.finished){var fe=8*this.bytesHashed,ke=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),Ce=this.bufferLength;if(ke.setUint8(this.bufferLength++,128),Ce%s>=56){for(var we=this.bufferLength;we<s;we++)ke.setUint8(we,0);this.hashBuffer(),this.bufferLength=0}for(we=this.bufferLength;we<56;we++)ke.setUint8(we,0);ke.setUint32(56,Math.floor(fe/4294967296),!0),ke.setUint32(60,fe),this.hashBuffer(),this.finished=!0}var he=new Uint8Array(32);for(we=0;we<8;we++)he[4*we]=this.state[we]>>>24&255,he[4*we+1]=this.state[we]>>>16&255,he[4*we+2]=this.state[we]>>>8&255,he[4*we+3]=this.state[we]>>>0&255;return he},J.prototype.hashBuffer=function(){for(var ke=this.buffer,Ce=this.state,we=Ce[0],he=Ce[1],A=Ce[2],pe=Ce[3],ge=Ce[4],pt=Ce[5],Pe=Ce[6],Be=Ce[7],rt=0;rt<s;rt++){if(rt<16)this.temp[rt]=(255&ke[4*rt])<<24|(255&ke[4*rt+1])<<16|(255&ke[4*rt+2])<<8|255&ke[4*rt+3];else{var wt=this.temp[rt-2];this.temp[rt]=(((wt>>>17|wt<<15)^(wt>>>19|wt<<13)^wt>>>10)+this.temp[rt-7]|0)+((((wt=this.temp[rt-15])>>>7|wt<<25)^(wt>>>18|wt<<14)^wt>>>3)+this.temp[rt-16]|0)}var L=(((ge>>>6|ge<<26)^(ge>>>11|ge<<21)^(ge>>>25|ge<<7))+(ge&pt^~ge&Pe)|0)+(Be+(c[rt]+this.temp[rt]|0)|0)|0,Oe=((we>>>2|we<<30)^(we>>>13|we<<19)^(we>>>22|we<<10))+(we&he^we&A^he&A)|0;Be=Pe,Pe=pt,pt=ge,ge=pe+L|0,pe=A,A=he,he=we,we=L+Oe|0}Ce[0]+=we,Ce[1]+=he,Ce[2]+=A,Ce[3]+=pe,Ce[4]+=ge,Ce[5]+=pt,Ce[6]+=Pe,Ce[7]+=Be},J}(),le=typeof Buffer<"u"&&Buffer.from?function(J){return Buffer.from(J,"utf8")}:J=>(new TextEncoder).encode(J);function me(J){return J instanceof Uint8Array?J:"string"==typeof J?le(J):ArrayBuffer.isView(J)?new Uint8Array(J.buffer,J.byteOffset,J.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(J)}!function(){function J(fe){this.secret=fe,this.hash=new ie,this.reset()}J.prototype.update=function(fe){if(!function ae(J){return"string"==typeof J?0===J.length:0===J.byteLength}(fe)&&!this.error)try{this.hash.update(me(fe))}catch(ke){this.error=ke}},J.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},J.prototype.digest=function(){return(0,a.__awaiter)(this,void 0,void 0,function(){return(0,a.__generator)(this,function(fe){return[2,this.digestSync()]})})},J.prototype.reset=function(){if(this.hash=new ie,this.secret){this.outer=new ie;var fe=function re(J){var fe=me(J);if(fe.byteLength>s){var ke=new ie;ke.update(fe),fe=ke.digest()}var Ce=new Uint8Array(s);return Ce.set(fe),Ce}(this.secret),ke=new Uint8Array(s);ke.set(fe);for(var Ce=0;Ce<s;Ce++)fe[Ce]^=54,ke[Ce]^=92;for(this.hash.update(fe),this.outer.update(ke),Ce=0;Ce<fe.byteLength;Ce++)fe[Ce]=0}}}()},1393:(Dt,Le,D)=>{"use strict";D.d(Le,{c:()=>ke});var a=D(690),s=D(2470);let oe;const T=Ce=>Ce.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V=Ce=>(void 0===oe&&(oe=void 0===Ce.style.animationName&&void 0!==Ce.style.webkitAnimationName?"-webkit-":""),oe),ie=(Ce,we,he)=>{const A=we.startsWith("animation")?V(Ce):"";Ce.style.setProperty(A+we,he)},Te=(Ce,we)=>{const he=we.startsWith("animation")?V(Ce):"";Ce.style.removeProperty(he+we)},ae=[],fe=(Ce=[],we)=>{if(void 0!==we){const he=Array.isArray(we)?we:[we];return[...Ce,...he]}return Ce},ke=Ce=>{let we,he,A,pe,ge,pt,It,Qe,jt,gt,yt,ve,Ve,Pe=[],Be=[],rt=[],wt=!1,Ie={},L=[],Oe=[],ut={},Nt=0,an=!1,bt=!1,at=!0,Xe=!1,Zt=!0,St=!1;const wn=Ce,$t=[],Cn=[],Ot=[],Wt=[],st=[],U=[],Se=[],Vt=[],en=[],jn=[],Mi="function"==typeof AnimationEffect||void 0!==s.w&&"function"==typeof s.w.AnimationEffect,dn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Mi,qn=()=>jn,Fi=(Tt,sn)=>((sn?.oneTimeCallback?Cn:$t).push({c:Tt,o:sn}),Ve),Ji=()=>{if(dn)jn.forEach(Tt=>{Tt.cancel()}),jn.length=0;else{const Tt=Ot.slice();(0,a.r)(()=>{Tt.forEach(sn=>{Te(sn,"animation-name"),Te(sn,"animation-duration"),Te(sn,"animation-timing-function"),Te(sn,"animation-iteration-count"),Te(sn,"animation-delay"),Te(sn,"animation-play-state"),Te(sn,"animation-fill-mode"),Te(sn,"animation-direction")})})}},xi=()=>{st.forEach(Tt=>{Tt?.parentNode&&Tt.parentNode.removeChild(Tt)}),st.length=0},nn=()=>void 0!==ge?ge:It?It.getFill():"both",bn=()=>void 0!==jt?jt:void 0!==pt?pt:It?It.getDirection():"normal",Bn=()=>an?"linear":void 0!==A?A:It?It.getEasing():"linear",kt=()=>bt?0:void 0!==gt?gt:void 0!==he?he:It?It.getDuration():0,cn=()=>void 0!==pe?pe:It?It.getIterations():1,ft=()=>void 0!==yt?yt:void 0!==we?we:It?It.getDelay():0,Ci=()=>{0!==Nt&&(Nt--,0===Nt&&((()=>{Eo(),Vt.forEach(si=>si()),en.forEach(si=>si());const Tt=at?1:0,sn=L,Tn=Oe,ni=ut;Ot.forEach(si=>{const ki=si.classList;sn.forEach(Ri=>ki.add(Ri)),Tn.forEach(Ri=>ki.remove(Ri));for(const Ri in ni)ni.hasOwnProperty(Ri)&&ie(si,Ri,ni[Ri])}),$t.forEach(si=>si.c(Tt,Ve)),Cn.forEach(si=>si.c(Tt,Ve)),Cn.length=0,Zt=!0,at&&(Xe=!0),at=!0})(),It&&It.animationFinish()))},hi=(Tt=!0)=>{xi();const sn=(Ce=>(Ce.forEach(we=>{for(const he in we)if(we.hasOwnProperty(he)){const A=we[he];if("easing"===he)we["animation-timing-function"]=A,delete we[he];else{const pe=T(he);pe!==he&&(we[pe]=A,delete we[he])}}}),Ce))(Pe);Ot.forEach(Tn=>{if(sn.length>0){const ni=((Ce=[])=>Ce.map(we=>{const he=we.offset,A=[];for(const pe in we)we.hasOwnProperty(pe)&&"offset"!==pe&&A.push(`${pe}: ${we[pe]};`);return`${100*he}% { ${A.join(" ")} }`}).join(" "))(sn);ve=void 0!==Ce?Ce:(Ce=>{let we=ae.indexOf(Ce);return we<0&&(we=ae.push(Ce)-1),`ion-animation-${we}`})(ni);const si=((Ce,we,he)=>{var A;const pe=(Ce=>{const we=void 0!==Ce.getRootNode?Ce.getRootNode():Ce;return we.head||we})(he),ge=V(he),pt=pe.querySelector("#"+Ce);if(pt)return pt;const Pe=(null!==(A=he.ownerDocument)&&void 0!==A?A:document).createElement("style");return Pe.id=Ce,Pe.textContent=`@${ge}keyframes ${Ce} { ${we} } @${ge}keyframes ${Ce}-alt { ${we} }`,pe.appendChild(Pe),Pe})(ve,ni,Tn);st.push(si),ie(Tn,"animation-duration",`${kt()}ms`),ie(Tn,"animation-timing-function",Bn()),ie(Tn,"animation-delay",`${ft()}ms`),ie(Tn,"animation-fill-mode",nn()),ie(Tn,"animation-direction",bn());const ki=cn()===1/0?"infinite":cn().toString();ie(Tn,"animation-iteration-count",ki),ie(Tn,"animation-play-state","paused"),Tt&&ie(Tn,"animation-name",`${si.id}-alt`),(0,a.r)(()=>{ie(Tn,"animation-name",si.id||null)})}})},Di=(Tt=!0)=>{(()=>{U.forEach(ni=>ni()),Se.forEach(ni=>ni());const Tt=Be,sn=rt,Tn=Ie;Ot.forEach(ni=>{const si=ni.classList;Tt.forEach(ki=>si.add(ki)),sn.forEach(ki=>si.remove(ki));for(const ki in Tn)Tn.hasOwnProperty(ki)&&ie(ni,ki,Tn[ki])})})(),Pe.length>0&&(dn?(Ot.forEach(Tt=>{const sn=Tt.animate(Pe,{id:wn,delay:ft(),duration:kt(),easing:Bn(),iterations:cn(),fill:nn(),direction:bn()});sn.pause(),jn.push(sn)}),jn.length>0&&(jn[0].onfinish=()=>{Ci()})):hi(Tt)),wt=!0},Do=Tt=>{if(Tt=Math.min(Math.max(Tt,0),.9999),dn)jn.forEach(sn=>{sn.currentTime=sn.effect.getComputedTiming().delay+kt()*Tt,sn.pause()});else{const sn=`-${kt()*Tt}ms`;Ot.forEach(Tn=>{Pe.length>0&&(ie(Tn,"animation-delay",sn),ie(Tn,"animation-play-state","paused"))})}},ir=Tt=>{jn.forEach(sn=>{sn.effect.updateTiming({delay:ft(),duration:kt(),easing:Bn(),iterations:cn(),fill:nn(),direction:bn()})}),void 0!==Tt&&Do(Tt)},wr=(Tt=!0,sn)=>{(0,a.r)(()=>{Ot.forEach(Tn=>{ie(Tn,"animation-name",ve||null),ie(Tn,"animation-duration",`${kt()}ms`),ie(Tn,"animation-timing-function",Bn()),ie(Tn,"animation-delay",void 0!==sn?`-${sn*kt()}ms`:`${ft()}ms`),ie(Tn,"animation-fill-mode",nn()||null),ie(Tn,"animation-direction",bn()||null);const ni=cn()===1/0?"infinite":cn().toString();ie(Tn,"animation-iteration-count",ni),Tt&&ie(Tn,"animation-name",`${ve}-alt`),(0,a.r)(()=>{ie(Tn,"animation-name",ve||null)})})})},Ho=(Tt=!1,sn=!0,Tn)=>(Tt&&Wt.forEach(ni=>{ni.update(Tt,sn,Tn)}),dn?ir(Tn):wr(sn,Tn),Ve),Dn=()=>{wt&&(dn?jn.forEach(Tt=>{Tt.pause()}):Ot.forEach(Tt=>{ie(Tt,"animation-play-state","paused")}),St=!0)},Jo=()=>{Qe=void 0,Ci()},Eo=()=>{Qe&&clearTimeout(Qe)},et=Tt=>new Promise(sn=>{Tt?.sync&&(bt=!0,Fi(()=>bt=!1,{oneTimeCallback:!0})),wt||Di(),Xe&&(dn?(Do(0),ir()):wr(),Xe=!1),Zt&&(Nt=Wt.length+1,Zt=!1),Fi(()=>sn(),{oneTimeCallback:!0}),Wt.forEach(Tn=>{Tn.play()}),dn?(jn.forEach(Tt=>{Tt.play()}),(0===Pe.length||0===Ot.length)&&Ci()):(()=>{if(Eo(),(0,a.r)(()=>{Ot.forEach(Tt=>{Pe.length>0&&ie(Tt,"animation-play-state","running")})}),0===Pe.length||0===Ot.length)Ci();else{const Tt=ft()||0,sn=kt()||0,Tn=cn()||1;isFinite(Tn)&&(Qe=setTimeout(Jo,Tt+sn*Tn+100)),((Ce,we)=>{let he;const A={passive:!0},ge=pt=>{Ce===pt.target&&(he&&he(),Eo(),(0,a.r)(()=>{Ot.forEach(Tt=>{Te(Tt,"animation-duration"),Te(Tt,"animation-delay"),Te(Tt,"animation-play-state")}),(0,a.r)(Ci)}))};Ce&&(Ce.addEventListener("webkitAnimationEnd",ge,A),Ce.addEventListener("animationend",ge,A),he=()=>{Ce.removeEventListener("webkitAnimationEnd",ge,A),Ce.removeEventListener("animationend",ge,A)})})(Ot[0])}})(),St=!1}),rn=(Tt,sn)=>{const Tn=Pe[0];return void 0===Tn||void 0!==Tn.offset&&0!==Tn.offset?Pe=[{offset:0,[Tt]:sn},...Pe]:Tn[Tt]=sn,Ve};return Ve={parentAnimation:It,elements:Ot,childAnimations:Wt,id:wn,animationFinish:Ci,from:rn,to:(Tt,sn)=>{const Tn=Pe[Pe.length-1];return void 0===Tn||void 0!==Tn.offset&&1!==Tn.offset?Pe=[...Pe,{offset:1,[Tt]:sn}]:Tn[Tt]=sn,Ve},fromTo:(Tt,sn,Tn)=>rn(Tt,sn).to(Tt,Tn),parent:Tt=>(It=Tt,Ve),play:et,pause:()=>(Wt.forEach(Tt=>{Tt.pause()}),Dn(),Ve),stop:()=>{Wt.forEach(Tt=>{Tt.stop()}),wt&&(Ji(),wt=!1),an=!1,bt=!1,Zt=!0,jt=void 0,gt=void 0,yt=void 0,Nt=0,Xe=!1,at=!0,St=!1},destroy:Tt=>(Wt.forEach(sn=>{sn.destroy(Tt)}),(Tt=>{Ji(),Tt&&xi()})(Tt),Ot.length=0,Wt.length=0,Pe.length=0,$t.length=0,Cn.length=0,wt=!1,Zt=!0,Ve),keyframes:Tt=>{const sn=Pe!==Tt;return Pe=Tt,sn&&(Tt=>{dn?qn().forEach(sn=>{if(sn.effect.setKeyframes)sn.effect.setKeyframes(Tt);else{const Tn=new KeyframeEffect(sn.effect.target,Tt,sn.effect.getTiming());sn.effect=Tn}}):hi()})(Pe),Ve},addAnimation:Tt=>{if(null!=Tt)if(Array.isArray(Tt))for(const sn of Tt)sn.parent(Ve),Wt.push(sn);else Tt.parent(Ve),Wt.push(Tt);return Ve},addElement:Tt=>{if(null!=Tt)if(1===Tt.nodeType)Ot.push(Tt);else if(Tt.length>=0)for(let sn=0;sn<Tt.length;sn++)Ot.push(Tt[sn]);else console.error("Invalid addElement value");return Ve},update:Ho,fill:Tt=>(ge=Tt,Ho(!0),Ve),direction:Tt=>(pt=Tt,Ho(!0),Ve),iterations:Tt=>(pe=Tt,Ho(!0),Ve),duration:Tt=>(!dn&&0===Tt&&(Tt=1),he=Tt,Ho(!0),Ve),easing:Tt=>(A=Tt,Ho(!0),Ve),delay:Tt=>(we=Tt,Ho(!0),Ve),getWebAnimations:qn,getKeyframes:()=>Pe,getFill:nn,getDirection:bn,getDelay:ft,getIterations:cn,getEasing:Bn,getDuration:kt,afterAddRead:Tt=>(Vt.push(Tt),Ve),afterAddWrite:Tt=>(en.push(Tt),Ve),afterClearStyles:(Tt=[])=>{for(const sn of Tt)ut[sn]="";return Ve},afterStyles:(Tt={})=>(ut=Tt,Ve),afterRemoveClass:Tt=>(Oe=fe(Oe,Tt),Ve),afterAddClass:Tt=>(L=fe(L,Tt),Ve),beforeAddRead:Tt=>(U.push(Tt),Ve),beforeAddWrite:Tt=>(Se.push(Tt),Ve),beforeClearStyles:(Tt=[])=>{for(const sn of Tt)Ie[sn]="";return Ve},beforeStyles:(Tt={})=>(Ie=Tt,Ve),beforeRemoveClass:Tt=>(rt=fe(rt,Tt),Ve),beforeAddClass:Tt=>(Be=fe(Be,Tt),Ve),onFinish:Fi,isRunning:()=>0!==Nt&&!St,progressStart:(Tt=!1,sn)=>(Wt.forEach(Tn=>{Tn.progressStart(Tt,sn)}),Dn(),an=Tt,wt||Di(),Ho(!1,!0,sn),Ve),progressStep:Tt=>(Wt.forEach(sn=>{sn.progressStep(Tt)}),Do(Tt),Ve),progressEnd:(Tt,sn,Tn)=>(an=!1,Wt.forEach(ni=>{ni.progressEnd(Tt,sn,Tn)}),void 0!==Tn&&(gt=Tn),Xe=!1,at=!0,0===Tt?(jt="reverse"===bn()?"normal":"reverse","reverse"===jt&&(at=!1),dn?(Ho(),Do(1-sn)):(yt=(1-sn)*kt()*-1,Ho(!1,!1))):1===Tt&&(dn?(Ho(),Do(sn)):(yt=sn*kt()*-1,Ho(!1,!1))),void 0!==Tt&&(Fi(()=>{gt=void 0,jt=void 0,yt=void 0},{oneTimeCallback:!0}),It||et()),Ve)}}},4352:(Dt,Le,D)=>{"use strict";D.d(Le,{E:()=>me,a:()=>a,s:()=>Te});const a=ae=>{try{if(ae instanceof ie)return ae.value;if(!c()||"string"!=typeof ae||""===ae)return ae;if(ae.includes("onload="))return"";const be=document.createDocumentFragment(),re=document.createElement("div");be.appendChild(re),re.innerHTML=ae,V.forEach(Ce=>{const we=be.querySelectorAll(Ce);for(let he=we.length-1;he>=0;he--){const A=we[he];A.parentNode?A.parentNode.removeChild(A):be.removeChild(A);const pe=oe(A);for(let ge=0;ge<pe.length;ge++)s(pe[ge])}});const J=oe(be);for(let Ce=0;Ce<J.length;Ce++)s(J[Ce]);const fe=document.createElement("div");fe.appendChild(be);const ke=fe.querySelector("div");return null!==ke?ke.innerHTML:fe.innerHTML}catch(be){return console.error(be),""}},s=ae=>{if(ae.nodeType&&1!==ae.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ae.attributes instanceof NamedNodeMap))return void ae.remove();for(let re=ae.attributes.length-1;re>=0;re--){const J=ae.attributes.item(re),fe=J.name;if(!T.includes(fe.toLowerCase())){ae.removeAttribute(fe);continue}const ke=J.value,Ce=ae[fe];(null!=ke&&ke.toLowerCase().includes("javascript:")||null!=Ce&&Ce.toLowerCase().includes("javascript:"))&&ae.removeAttribute(fe)}const be=oe(ae);for(let re=0;re<be.length;re++)s(be[re])},oe=ae=>null!=ae.children?ae.children:ae.childNodes,c=()=>{var ae;const be=window,re=null===(ae=be?.Ionic)||void 0===ae?void 0:ae.config;return!re||(re.get?re.get("sanitizerEnabled",!0):!0===re.sanitizerEnabled||void 0===re.sanitizerEnabled)},T=["class","id","href","src","name","slot"],V=["script","style","iframe","meta","link","object","embed"];class ie{constructor(be){this.value=be}}const Te=ae=>{const be=window,re=be.Ionic;if(!re||!re.config||"Object"===re.config.constructor.name)return be.Ionic=be.Ionic||{},be.Ionic.config=Object.assign(Object.assign({},be.Ionic.config),ae),be.Ionic.config},me=!0},4587:(Dt,Le,D)=>{"use strict";D.d(Le,{G:()=>T});class s{constructor(ie,Te,le,me,ae){this.id=Te,this.name=le,this.disableScroll=ae,this.priority=1e6*me+Te,this.ctrl=ie}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ie=this.ctrl.capture(this.name,this.id,this.priority);return ie&&this.disableScroll&&this.ctrl.disableScroll(this.id),ie}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class oe{constructor(ie,Te,le,me){this.id=Te,this.disable=le,this.disableScroll=me,this.ctrl=ie}block(){if(this.ctrl){if(this.disable)for(const ie of this.disable)this.ctrl.disableGesture(ie,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ie of this.disable)this.ctrl.enableGesture(ie,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const c="backdrop-no-scroll",T=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ie){var Te;return new s(this,this.newID(),ie.name,null!==(Te=ie.priority)&&void 0!==Te?Te:0,!!ie.disableScroll)}createBlocker(ie={}){return new oe(this,this.newID(),ie.disable,!!ie.disableScroll)}start(ie,Te,le){return this.canStart(ie)?(this.requestedStart.set(Te,le),!0):(this.requestedStart.delete(Te),!1)}capture(ie,Te,le){if(!this.start(ie,Te,le))return!1;const me=this.requestedStart;let ae=-1e4;if(me.forEach(be=>{ae=Math.max(ae,be)}),ae===le){this.capturedId=Te,me.clear();const be=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ie}});return document.dispatchEvent(be),!0}return me.delete(Te),!1}release(ie){this.requestedStart.delete(ie),this.capturedId===ie&&(this.capturedId=void 0)}disableGesture(ie,Te){let le=this.disabledGestures.get(ie);void 0===le&&(le=new Set,this.disabledGestures.set(ie,le)),le.add(Te)}enableGesture(ie,Te){const le=this.disabledGestures.get(ie);void 0!==le&&le.delete(Te)}disableScroll(ie){this.disabledScroll.add(ie),1===this.disabledScroll.size&&document.body.classList.add(c)}enableScroll(ie){this.disabledScroll.delete(ie),0===this.disabledScroll.size&&document.body.classList.remove(c)}canStart(ie){return!(void 0!==this.capturedId||this.isDisabled(ie))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ie){const Te=this.disabledGestures.get(ie);return!!(Te&&Te.size>0)}newID(){return this.gestureId++,this.gestureId}}},5421:(Dt,Le,D)=>{"use strict";D.r(Le),D.d(Le,{MENU_BACK_BUTTON_PRIORITY:()=>T,OVERLAY_BACK_BUTTON_PRIORITY:()=>c,blockHardwareBackButton:()=>s,startHardwareBackButton:()=>oe});var a=D(5861);const s=()=>{document.addEventListener("backbutton",()=>{})},oe=()=>{const V=document;let ie=!1;V.addEventListener("backbutton",()=>{if(ie)return;let Te=0,le=[];const me=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(re,J){le.push({priority:re,handler:J,id:Te++})}}});V.dispatchEvent(me);const ae=function(){var re=(0,a.Z)(function*(J){try{if(J?.handler){const fe=J.handler(be);null!=fe&&(yield fe)}}catch(fe){console.error(fe)}});return function(fe){return re.apply(this,arguments)}}(),be=()=>{if(le.length>0){let re={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};le.forEach(J=>{J.priority>=re.priority&&(re=J)}),ie=!0,le=le.filter(J=>J.id!==re.id),ae(re).then(()=>ie=!1)}};be()})},c=100,T=99},690:(Dt,Le,D)=>{"use strict";D.d(Le,{a:()=>ie,b:()=>Te,c:()=>oe,d:()=>J,e:()=>fe,f:()=>re,g:()=>le,h:()=>pe,i:()=>V,j:()=>c,k:()=>be,l:()=>ke,m:()=>ae,n:()=>Ce,o:()=>A,p:()=>he,q:()=>ge,r:()=>me,s:()=>pt,t:()=>a,u:()=>we});const a=(Pe,Be=0)=>new Promise(rt=>{s(Pe,Be,rt)}),s=(Pe,Be=0,rt)=>{let wt,It;const Ie={passive:!0},Oe=()=>{wt&&wt()},ut=Nt=>{(void 0===Nt||Pe===Nt.target)&&(Oe(),rt(Nt))};return Pe&&(Pe.addEventListener("webkitTransitionEnd",ut,Ie),Pe.addEventListener("transitionend",ut,Ie),It=setTimeout(ut,Be+500),wt=()=>{It&&(clearTimeout(It),It=void 0),Pe.removeEventListener("webkitTransitionEnd",ut,Ie),Pe.removeEventListener("transitionend",ut,Ie)}),Oe},oe=(Pe,Be)=>{Pe.componentOnReady?Pe.componentOnReady().then(rt=>Be(rt)):me(()=>Be(Pe))},c=(Pe,Be=[])=>{const rt={};return Be.forEach(wt=>{Pe.hasAttribute(wt)&&(null!==Pe.getAttribute(wt)&&(rt[wt]=Pe.getAttribute(wt)),Pe.removeAttribute(wt))}),rt},T=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],V=(Pe,Be)=>{let rt=T;return Be&&Be.length>0&&(rt=rt.filter(wt=>!Be.includes(wt))),c(Pe,rt)},ie=(Pe,Be,rt,wt)=>{var It;if(typeof window<"u"){const Ie=window,L=null===(It=Ie?.Ionic)||void 0===It?void 0:It.config;if(L){const Oe=L.get("_ael");if(Oe)return Oe(Pe,Be,rt,wt);if(L._ael)return L._ael(Pe,Be,rt,wt)}}return Pe.addEventListener(Be,rt,wt)},Te=(Pe,Be,rt,wt)=>{var It;if(typeof window<"u"){const Ie=window,L=null===(It=Ie?.Ionic)||void 0===It?void 0:It.config;if(L){const Oe=L.get("_rel");if(Oe)return Oe(Pe,Be,rt,wt);if(L._rel)return L._rel(Pe,Be,rt,wt)}}return Pe.removeEventListener(Be,rt,wt)},le=(Pe,Be=Pe)=>Pe.shadowRoot||Be,me=Pe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Pe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Pe):setTimeout(Pe),ae=Pe=>!!Pe.shadowRoot&&!!Pe.attachShadow,be=Pe=>{const Be=Pe.closest("ion-item");return Be?Be.querySelector("ion-label"):null},re=Pe=>{if(Pe.focus(),Pe.classList.contains("ion-focusable")){const Be=Pe.closest("ion-app");Be&&Be.setFocus([Pe])}},J=(Pe,Be)=>{let rt;const wt=Pe.getAttribute("aria-labelledby"),It=Pe.id;let Ie=null!==wt&&""!==wt.trim()?wt:Be+"-lbl",L=null!==wt&&""!==wt.trim()?document.getElementById(wt):be(Pe);return L?(null===wt&&(L.id=Ie),rt=L.textContent,L.setAttribute("aria-hidden","true")):""!==It.trim()&&(L=document.querySelector(`label[for="${It}"]`),L&&(""!==L.id?Ie=L.id:L.id=Ie=`${It}-lbl`,rt=L.textContent)),{label:L,labelId:Ie,labelText:rt}},fe=(Pe,Be,rt,wt,It)=>{if(Pe||ae(Be)){let Ie=Be.querySelector("input.aux-input");Ie||(Ie=Be.ownerDocument.createElement("input"),Ie.type="hidden",Ie.classList.add("aux-input"),Be.appendChild(Ie)),Ie.disabled=It,Ie.name=rt,Ie.value=wt||""}},ke=(Pe,Be,rt)=>Math.max(Pe,Math.min(Be,rt)),Ce=(Pe,Be)=>{if(!Pe){const rt="ASSERT: "+Be;throw console.error(rt),new Error(rt)}},we=Pe=>Pe.timeStamp||Date.now(),he=Pe=>{if(Pe){const Be=Pe.changedTouches;if(Be&&Be.length>0){const rt=Be[0];return{x:rt.clientX,y:rt.clientY}}if(void 0!==Pe.pageX)return{x:Pe.pageX,y:Pe.pageY}}return{x:0,y:0}},A=Pe=>{const Be="rtl"===document.dir;switch(Pe){case"start":return Be;case"end":return!Be;default:throw new Error(`"${Pe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},pe=(Pe,Be)=>{const rt=Pe._original||Pe;return{_original:Pe,emit:ge(rt.emit.bind(rt),Be)}},ge=(Pe,Be=0)=>{let rt;return(...wt)=>{clearTimeout(rt),rt=setTimeout(Pe,Be,...wt)}},pt=(Pe,Be)=>{if(Pe??(Pe={}),Be??(Be={}),Pe===Be)return!0;const rt=Object.keys(Pe);if(rt.length!==Object.keys(Be).length)return!1;for(const wt of rt)if(!(wt in Be)||Pe[wt]!==Be[wt])return!1;return!0}},6939:(Dt,Le,D)=>{"use strict";D.d(Le,{L:()=>c,a:()=>T,b:()=>V,c:()=>ie,d:()=>Te,e:()=>Be,g:()=>It,l:()=>pt,s:()=>rt,t:()=>ae});var a=D(5861),s=D(4190),oe=D(690);const c="ionViewWillEnter",T="ionViewDidEnter",V="ionViewWillLeave",ie="ionViewDidLeave",Te="ionViewWillUnload",ae=Ie=>new Promise((L,Oe)=>{(0,s.c)(()=>{be(Ie),re(Ie).then(ut=>{ut.animation&&ut.animation.destroy(),J(Ie),L(ut)},ut=>{J(Ie),Oe(ut)})})}),be=Ie=>{const L=Ie.enteringEl,Oe=Ie.leavingEl;wt(L,Oe,Ie.direction),Ie.showGoBack?L.classList.add("can-go-back"):L.classList.remove("can-go-back"),rt(L,!1),L.style.setProperty("pointer-events","none"),Oe&&(rt(Oe,!1),Oe.style.setProperty("pointer-events","none"))},re=function(){var Ie=(0,a.Z)(function*(L){const Oe=yield fe(L);return Oe&&s.B.isBrowser?ke(Oe,L):Ce(L)});return function(Oe){return Ie.apply(this,arguments)}}(),J=Ie=>{const L=Ie.enteringEl,Oe=Ie.leavingEl;L.classList.remove("ion-page-invisible"),L.style.removeProperty("pointer-events"),void 0!==Oe&&(Oe.classList.remove("ion-page-invisible"),Oe.style.removeProperty("pointer-events"))},fe=function(){var Ie=(0,a.Z)(function*(L){return L.leavingEl&&L.animated&&0!==L.duration?L.animationBuilder?L.animationBuilder:"ios"===L.mode?(yield Promise.resolve().then(D.bind(D,113))).iosTransitionAnimation:(yield Promise.resolve().then(D.bind(D,2645))).mdTransitionAnimation:void 0});return function(Oe){return Ie.apply(this,arguments)}}(),ke=function(){var Ie=(0,a.Z)(function*(L,Oe){yield we(Oe,!0);const ut=L(Oe.baseEl,Oe);pe(Oe.enteringEl,Oe.leavingEl);const Nt=yield A(ut,Oe);return Oe.progressCallback&&Oe.progressCallback(void 0),Nt&&ge(Oe.enteringEl,Oe.leavingEl),{hasCompleted:Nt,animation:ut}});return function(Oe,ut){return Ie.apply(this,arguments)}}(),Ce=function(){var Ie=(0,a.Z)(function*(L){const Oe=L.enteringEl,ut=L.leavingEl;return yield we(L,!1),pe(Oe,ut),ge(Oe,ut),{hasCompleted:!0}});return function(Oe){return Ie.apply(this,arguments)}}(),we=function(){var Ie=(0,a.Z)(function*(L,Oe){const Nt=(void 0!==L.deepWait?L.deepWait:Oe)?[Be(L.enteringEl),Be(L.leavingEl)]:[Pe(L.enteringEl),Pe(L.leavingEl)];yield Promise.all(Nt),yield he(L.viewIsReady,L.enteringEl)});return function(Oe,ut){return Ie.apply(this,arguments)}}(),he=function(){var Ie=(0,a.Z)(function*(L,Oe){L&&(yield L(Oe))});return function(Oe,ut){return Ie.apply(this,arguments)}}(),A=(Ie,L)=>{const Oe=L.progressCallback,ut=new Promise(Nt=>{Ie.onFinish(an=>Nt(1===an))});return Oe?(Ie.progressStart(!0),Oe(Ie)):Ie.play(),ut},pe=(Ie,L)=>{pt(L,V),pt(Ie,c)},ge=(Ie,L)=>{pt(Ie,T),pt(L,ie)},pt=(Ie,L)=>{if(Ie){const Oe=new CustomEvent(L,{bubbles:!1,cancelable:!1});Ie.dispatchEvent(Oe)}},Pe=Ie=>Ie?new Promise(L=>(0,oe.c)(Ie,L)):Promise.resolve(),Be=function(){var Ie=(0,a.Z)(function*(L){const Oe=L;if(Oe){if(null!=Oe.componentOnReady){if(null!=(yield Oe.componentOnReady()))return}else if(null!=Oe.__registerHost)return void(yield new Promise(Nt=>(0,oe.r)(Nt)));yield Promise.all(Array.from(Oe.children).map(Be))}});return function(Oe){return Ie.apply(this,arguments)}}(),rt=(Ie,L)=>{L?(Ie.setAttribute("aria-hidden","true"),Ie.classList.add("ion-page-hidden")):(Ie.hidden=!1,Ie.removeAttribute("aria-hidden"),Ie.classList.remove("ion-page-hidden"))},wt=(Ie,L,Oe)=>{void 0!==Ie&&(Ie.style.zIndex="back"===Oe?"99":"101"),void 0!==L&&(L.style.zIndex="100")},It=Ie=>Ie.classList.contains("ion-page")?Ie:Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ie},4516:(Dt,Le,D)=>{"use strict";D.d(Le,{m:()=>ae});var a=D(5861),s=D(5421),oe=D(690),c=D(4595),T=D(1393);const V=be=>(0,T.c)().duration(be?400:300),ie=be=>{let re,J;const fe=be.width+8,ke=(0,T.c)(),Ce=(0,T.c)();be.isEndSide?(re=fe+"px",J="0px"):(re=-fe+"px",J="0px"),ke.addElement(be.menuInnerEl).fromTo("transform",`translateX(${re})`,`translateX(${J})`);const he="ios"===(0,c.b)(be),A=he?.2:.25;return Ce.addElement(be.backdropEl).fromTo("opacity",.01,A),V(he).addAnimation([ke,Ce])},Te=be=>{let re,J;const fe=(0,c.b)(be),ke=be.width;be.isEndSide?(re=-ke+"px",J=ke+"px"):(re=ke+"px",J=-ke+"px");const Ce=(0,T.c)().addElement(be.menuInnerEl).fromTo("transform",`translateX(${J})`,"translateX(0px)"),we=(0,T.c)().addElement(be.contentEl).fromTo("transform","translateX(0px)",`translateX(${re})`),he=(0,T.c)().addElement(be.backdropEl).fromTo("opacity",.01,.32);return V("ios"===fe).addAnimation([Ce,we,he])},le=be=>{const re=(0,c.b)(be),J=be.width*(be.isEndSide?-1:1)+"px",fe=(0,T.c)().addElement(be.contentEl).fromTo("transform","translateX(0px)",`translateX(${J})`);return V("ios"===re).addAnimation(fe)},ae=(()=>{const be=new Map,re=[],J=function(){var Qe=(0,a.Z)(function*(jt){const gt=yield pe(jt);return!!gt&&gt.open()});return function(gt){return Qe.apply(this,arguments)}}(),fe=function(){var Qe=(0,a.Z)(function*(jt){const gt=yield void 0!==jt?pe(jt):ge();return void 0!==gt&&gt.close()});return function(gt){return Qe.apply(this,arguments)}}(),ke=function(){var Qe=(0,a.Z)(function*(jt){const gt=yield pe(jt);return!!gt&&gt.toggle()});return function(gt){return Qe.apply(this,arguments)}}(),Ce=function(){var Qe=(0,a.Z)(function*(jt,gt){const yt=yield pe(gt);return yt&&(yt.disabled=!jt),yt});return function(gt,yt){return Qe.apply(this,arguments)}}(),we=function(){var Qe=(0,a.Z)(function*(jt,gt){const yt=yield pe(gt);return yt&&(yt.swipeGesture=jt),yt});return function(gt,yt){return Qe.apply(this,arguments)}}(),he=function(){var Qe=(0,a.Z)(function*(jt){if(null!=jt){const gt=yield pe(jt);return void 0!==gt&&gt.isOpen()}return void 0!==(yield ge())});return function(gt){return Qe.apply(this,arguments)}}(),A=function(){var Qe=(0,a.Z)(function*(jt){const gt=yield pe(jt);return!!gt&&!gt.disabled});return function(gt){return Qe.apply(this,arguments)}}(),pe=function(){var Qe=(0,a.Z)(function*(jt){return yield bt(),"start"===jt||"end"===jt?an(at=>at.side===jt&&!at.disabled)||an(at=>at.side===jt):null!=jt?an(yt=>yt.menuId===jt):an(yt=>!yt.disabled)||(re.length>0?re[0].el:void 0)});return function(gt){return Qe.apply(this,arguments)}}(),ge=function(){var Qe=(0,a.Z)(function*(){return yield bt(),Oe()});return function(){return Qe.apply(this,arguments)}}(),pt=function(){var Qe=(0,a.Z)(function*(){return yield bt(),ut()});return function(){return Qe.apply(this,arguments)}}(),Pe=function(){var Qe=(0,a.Z)(function*(){return yield bt(),Nt()});return function(){return Qe.apply(this,arguments)}}(),Be=(Qe,jt)=>{be.set(Qe,jt)},It=Qe=>{const jt=Qe.side;re.filter(gt=>gt.side===jt&&gt!==Qe).forEach(gt=>gt.disabled=!0)},Ie=function(){var Qe=(0,a.Z)(function*(jt,gt,yt){if(Nt())return!1;if(gt){const at=yield ge();at&&jt.el!==at&&(yield at.setOpen(!1,!1))}return jt._setOpen(gt,yt)});return function(gt,yt,at){return Qe.apply(this,arguments)}}(),Oe=()=>an(Qe=>Qe._isOpen),ut=()=>re.map(Qe=>Qe.el),Nt=()=>re.some(Qe=>Qe.isAnimating),an=Qe=>{const jt=re.find(Qe);if(void 0!==jt)return jt.el},bt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Qe=>new Promise(jt=>(0,oe.c)(Qe,jt))));return Be("reveal",le),Be("push",Te),Be("overlay",ie),typeof document<"u"&&document.addEventListener("ionBackButton",Qe=>{const jt=Oe();jt&&Qe.detail.register(s.MENU_BACK_BUTTON_PRIORITY,()=>jt.close())}),{registerAnimation:Be,get:pe,getMenus:pt,getOpen:ge,isEnabled:A,swipeGesture:we,isAnimating:Pe,isOpen:he,enable:Ce,toggle:ke,close:fe,open:J,_getOpenSync:Oe,_createAnimation:(Qe,jt)=>{const gt=be.get(Qe);if(!gt)throw new Error("animation not registered");return gt(jt)},_register:Qe=>{re.indexOf(Qe)<0&&(Qe.disabled||It(Qe),re.push(Qe))},_unregister:Qe=>{const jt=re.indexOf(Qe);jt>-1&&re.splice(jt,1)},_setOpen:Ie,_setActiveMenu:It}})()},2470:(Dt,Le,D)=>{"use strict";D.d(Le,{w:()=>a});const a=typeof window<"u"?window:void 0},8077:(Dt,Le,D)=>{"use strict";D.r(Le),D.d(Le,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>le});var a=D(4587);const s=(re,J,fe,ke)=>{const Ce=oe(re)?{capture:!!ke.capture,passive:!!ke.passive}:!!ke.capture;let we,he;return re.__zone_symbol__addEventListener?(we="__zone_symbol__addEventListener",he="__zone_symbol__removeEventListener"):(we="addEventListener",he="removeEventListener"),re[we](J,fe,Ce),()=>{re[he](J,fe,Ce)}},oe=re=>{if(void 0===c)try{const J=Object.defineProperty({},"passive",{get:()=>{c=!0}});re.addEventListener("optsTest",()=>{},J)}catch{c=!1}return!!c};let c;const ie=re=>re instanceof Document?re:re.ownerDocument,le=re=>{let J=!1,fe=!1,ke=!0,Ce=!1;const we=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},re),he=we.canStart,A=we.onWillStart,pe=we.onStart,ge=we.onEnd,pt=we.notCaptured,Pe=we.onMove,Be=we.threshold,rt=we.passive,wt=we.blurOnStart,It={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ie=((re,J,fe)=>{const ke=fe*(Math.PI/180),Ce="x"===re,we=Math.cos(ke),he=J*J;let A=0,pe=0,ge=!1,pt=0;return{start(Pe,Be){A=Pe,pe=Be,pt=0,ge=!0},detect(Pe,Be){if(!ge)return!1;const rt=Pe-A,wt=Be-pe,It=rt*rt+wt*wt;if(It<he)return!1;const Ie=Math.sqrt(It),L=(Ce?rt:wt)/Ie;return pt=L>we?1:L<-we?-1:0,ge=!1,!0},isGesture:()=>0!==pt,getDirection:()=>pt}})(we.direction,we.threshold,we.maxAngle),L=a.G.createGesture({name:re.gestureName,priority:re.gesturePriority,disableScroll:re.disableScroll}),Nt=()=>{J&&(Ce=!1,Pe&&Pe(It))},an=()=>!!L.capture()&&(J=!0,ke=!1,It.startX=It.currentX,It.startY=It.currentY,It.startTime=It.currentTime,A?A(It).then(Qe):Qe(),!0),Qe=()=>{wt&&(()=>{if(typeof document<"u"){const Xe=document.activeElement;Xe?.blur&&Xe.blur()}})(),pe&&pe(It),ke=!0},jt=()=>{J=!1,fe=!1,Ce=!1,ke=!0,L.release()},gt=Xe=>{const Zt=J,ve=ke;if(jt(),ve){if(me(It,Xe),Zt)return void(ge&&ge(It));pt&&pt(It)}},yt=((re,J,fe,ke,Ce)=>{let we,he,A,pe,ge,pt,Pe,Be=0;const rt=bt=>{Be=Date.now()+2e3,J(bt)&&(!he&&fe&&(he=s(re,"touchmove",fe,Ce)),A||(A=s(bt.target,"touchend",It,Ce)),pe||(pe=s(bt.target,"touchcancel",It,Ce)))},wt=bt=>{Be>Date.now()||J(bt)&&(!pt&&fe&&(pt=s(ie(re),"mousemove",fe,Ce)),Pe||(Pe=s(ie(re),"mouseup",Ie,Ce)))},It=bt=>{L(),ke&&ke(bt)},Ie=bt=>{Oe(),ke&&ke(bt)},L=()=>{he&&he(),A&&A(),pe&&pe(),he=A=pe=void 0},Oe=()=>{pt&&pt(),Pe&&Pe(),pt=Pe=void 0},ut=()=>{L(),Oe()},Nt=(bt=!0)=>{bt?(we||(we=s(re,"touchstart",rt,Ce)),ge||(ge=s(re,"mousedown",wt,Ce))):(we&&we(),ge&&ge(),we=ge=void 0,ut())};return{enable:Nt,stop:ut,destroy:()=>{Nt(!1),ke=fe=J=void 0}}})(we.el,Xe=>{const Zt=be(Xe);return!(fe||!ke||(ae(Xe,It),It.startX=It.currentX,It.startY=It.currentY,It.startTime=It.currentTime=Zt,It.velocityX=It.velocityY=It.deltaX=It.deltaY=0,It.event=Xe,he&&!1===he(It))||(L.release(),!L.start()))&&(fe=!0,0===Be?an():(Ie.start(It.startX,It.startY),!0))},Xe=>{J?!Ce&&ke&&(Ce=!0,me(It,Xe),requestAnimationFrame(Nt)):(me(It,Xe),Ie.detect(It.currentX,It.currentY)&&(!Ie.isGesture()||!an())&&at())},gt,{capture:!1,passive:rt}),at=()=>{jt(),yt.stop(),pt&&pt(It)};return{enable(Xe=!0){Xe||(J&&gt(void 0),jt()),yt.enable(Xe)},destroy(){L.destroy(),yt.destroy()}}},me=(re,J)=>{if(!J)return;const fe=re.currentX,ke=re.currentY,Ce=re.currentTime;ae(J,re);const we=re.currentX,he=re.currentY,pe=(re.currentTime=be(J))-Ce;if(pe>0&&pe<100){const pt=(he-ke)/pe;re.velocityX=(we-fe)/pe*.7+.3*re.velocityX,re.velocityY=.7*pt+.3*re.velocityY}re.deltaX=we-re.startX,re.deltaY=he-re.startY,re.event=J},ae=(re,J)=>{let fe=0,ke=0;if(re){const Ce=re.changedTouches;if(Ce&&Ce.length>0){const we=Ce[0];fe=we.clientX,ke=we.clientY}else void 0!==re.pageX&&(fe=re.pageX,ke=re.pageY)}J.currentX=fe,J.currentY=ke},be=re=>re.timeStamp||Date.now()},4190:(Dt,Le,D)=>{"use strict";D.d(Le,{B:()=>vs,H:()=>Ot,a:()=>at,b:()=>ei,c:()=>ys,e:()=>We,f:()=>gr,g:()=>Xe,h:()=>$t,i:()=>Ue,j:()=>bn,k:()=>Zn,p:()=>ke,r:()=>vo,s:()=>J});var a=D(5861);let oe,c,T,V=!1,ie=!1,Te=!1,le=!1,me=!1;const ae=typeof window<"u"?window:{},be=ae.document||{head:{}},re={$flags$:0,$resourcesUrl$:"",jmp:et=>et(),raf:et=>requestAnimationFrame(et),ael:(et,nt,rn,ln)=>et.addEventListener(nt,rn,ln),rel:(et,nt,rn,ln)=>et.removeEventListener(nt,rn,ln),ce:(et,nt)=>new CustomEvent(et,nt)},J=et=>{Object.assign(re,et)},ke=et=>Promise.resolve(et),Ce=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),we=(et,nt,rn,ln)=>{rn&&rn.map(([Gn,Tt,sn])=>{const Tn=A(et,Gn),ni=he(nt,sn),si=pe(Gn);re.ael(Tn,Tt,ni,si),(nt.$rmListeners$=nt.$rmListeners$||[]).push(()=>re.rel(Tn,Tt,ni,si))})},he=(et,nt)=>rn=>{try{256&et.$flags$?et.$lazyInstance$[nt](rn):(et.$queuedListeners$=et.$queuedListeners$||[]).push([nt,rn])}catch(ln){ir(ln)}},A=(et,nt)=>4&nt?be:8&nt?ae:16&nt?be.body:et,pe=et=>0!=(2&et),rt="s-id",wt="sty-id",L="http://www.w3.org/1999/xlink",Nt=new WeakMap,an=(et,nt,rn)=>{let ln=dr.get(et);Ce&&rn?(ln=ln||new CSSStyleSheet,"string"==typeof ln?ln=nt:ln.replaceSync(nt)):ln=nt,dr.set(et,ln)},bt=(et,nt,rn,ln)=>{let Gn=jt(nt,rn);const Tt=dr.get(Gn);if(et=11===et.nodeType?et:be,Tt)if("string"==typeof Tt){let Tn,sn=Nt.get(et=et.head||et);sn||Nt.set(et,sn=new Set),sn.has(Gn)||(et.host&&(Tn=et.querySelector(`[${wt}="${Gn}"]`))?Tn.innerHTML=Tt:(Tn=be.createElement("style"),Tn.innerHTML=Tt,et.insertBefore(Tn,et.querySelector("link"))),sn&&sn.add(Gn))}else et.adoptedStyleSheets.includes(Tt)||(et.adoptedStyleSheets=[...et.adoptedStyleSheets,Tt]);return Gn},jt=(et,nt)=>"sc-"+(nt&&32&et.$flags$?et.$tagName$+"-"+nt:et.$tagName$),gt=et=>et.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),at=et=>Ko.push(et),Xe=et=>hi(et).$modeName$,Zt={},wn=et=>"object"==(et=typeof et)||"function"===et,$t=(et,nt,...rn)=>{let ln=null,Gn=null,Tt=null,sn=!1,Tn=!1;const ni=[],si=Ri=>{for(let uo=0;uo<Ri.length;uo++)ln=Ri[uo],Array.isArray(ln)?si(ln):null!=ln&&"boolean"!=typeof ln&&((sn="function"!=typeof et&&!wn(ln))&&(ln=String(ln)),sn&&Tn?ni[ni.length-1].$text$+=ln:ni.push(sn?Cn(null,ln):ln),Tn=sn)};if(si(rn),nt){nt.key&&(Gn=nt.key),nt.name&&(Tt=nt.name);{const Ri=nt.className||nt.class;Ri&&(nt.class="object"!=typeof Ri?Ri:Object.keys(Ri).filter(uo=>Ri[uo]).join(" "))}}if("function"==typeof et)return et(null===nt?{}:nt,ni,st);const ki=Cn(et,null);return ki.$attrs$=nt,ni.length>0&&(ki.$children$=ni),ki.$key$=Gn,ki.$name$=Tt,ki},Cn=(et,nt)=>({$flags$:0,$tag$:et,$text$:nt,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Ot={},st={forEach:(et,nt)=>et.map(U).forEach(nt),map:(et,nt)=>et.map(U).map(nt).map(Se)},U=et=>({vattrs:et.$attrs$,vchildren:et.$children$,vkey:et.$key$,vname:et.$name$,vtag:et.$tag$,vtext:et.$text$}),Se=et=>{if("function"==typeof et.vtag){const rn=Object.assign({},et.vattrs);return et.vkey&&(rn.key=et.vkey),et.vname&&(rn.name=et.vname),$t(et.vtag,rn,...et.vchildren||[])}const nt=Cn(et.vtag,et.vtext);return nt.$attrs$=et.vattrs,nt.$children$=et.vchildren,nt.$key$=et.vkey,nt.$name$=et.vname,nt},Vt=(et,nt,rn,ln,Gn,Tt)=>{if(rn!==ln){let sn=Do(et,nt),Tn=nt.toLowerCase();if("class"===nt){const ni=et.classList,si=jn(rn),ki=jn(ln);ni.remove(...si.filter(Ri=>Ri&&!ki.includes(Ri))),ni.add(...ki.filter(Ri=>Ri&&!si.includes(Ri)))}else if("style"===nt){for(const ni in rn)(!ln||null==ln[ni])&&(ni.includes("-")?et.style.removeProperty(ni):et.style[ni]="");for(const ni in ln)(!rn||ln[ni]!==rn[ni])&&(ni.includes("-")?et.style.setProperty(ni,ln[ni]):et.style[ni]=ln[ni])}else if("key"!==nt)if("ref"===nt)ln&&ln(et);else if(sn||"o"!==nt[0]||"n"!==nt[1]){const ni=wn(ln);if((sn||ni&&null!==ln)&&!Gn)try{if(et.tagName.includes("-"))et[nt]=ln;else{const ki=ln??"";"list"===nt?sn=!1:(null==rn||et[nt]!=ki)&&(et[nt]=ki)}}catch{}let si=!1;Tn!==(Tn=Tn.replace(/^xlink\:?/,""))&&(nt=Tn,si=!0),null==ln||!1===ln?(!1!==ln||""===et.getAttribute(nt))&&(si?et.removeAttributeNS(L,nt):et.removeAttribute(nt)):(!sn||4&Tt||Gn)&&!ni&&(ln=!0===ln?"":ln,si?et.setAttributeNS(L,nt,ln):et.setAttribute(nt,ln))}else nt="-"===nt[2]?nt.slice(3):Do(ae,Tn)?Tn.slice(2):Tn[2]+nt.slice(3),rn&&re.rel(et,nt,rn,!1),ln&&re.ael(et,nt,ln,!1)}},en=/\s/,jn=et=>et?et.split(en):[],Mi=(et,nt,rn,ln)=>{const Gn=11===nt.$elm$.nodeType&&nt.$elm$.host?nt.$elm$.host:nt.$elm$,Tt=et&&et.$attrs$||Zt,sn=nt.$attrs$||Zt;for(ln in Tt)ln in sn||Vt(Gn,ln,Tt[ln],void 0,rn,nt.$flags$);for(ln in sn)Vt(Gn,ln,Tt[ln],sn[ln],rn,nt.$flags$)},dn=(et,nt,rn,ln)=>{const Gn=nt.$children$[rn];let sn,Tn,ni,Tt=0;if(V||(Te=!0,"slot"===Gn.$tag$&&(oe&&ln.classList.add(oe+"-s"),Gn.$flags$|=Gn.$children$?2:1)),null!==Gn.$text$)sn=Gn.$elm$=be.createTextNode(Gn.$text$);else if(1&Gn.$flags$)sn=Gn.$elm$=be.createTextNode("");else{if(le||(le="svg"===Gn.$tag$),sn=Gn.$elm$=be.createElementNS(le?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Gn.$flags$?"slot-fb":Gn.$tag$),le&&"foreignObject"===Gn.$tag$&&(le=!1),Mi(null,Gn,le),(et=>null!=et)(oe)&&sn["s-si"]!==oe&&sn.classList.add(sn["s-si"]=oe),Gn.$children$)for(Tt=0;Tt<Gn.$children$.length;++Tt)Tn=dn(et,Gn,Tt,sn),Tn&&sn.appendChild(Tn);"svg"===Gn.$tag$?le=!1:"foreignObject"===sn.tagName&&(le=!0)}return sn["s-hn"]=T,3&Gn.$flags$&&(sn["s-sr"]=!0,sn["s-cr"]=c,sn["s-sn"]=Gn.$name$||"",ni=et&&et.$children$&&et.$children$[rn],ni&&ni.$tag$===Gn.$tag$&&et.$elm$&&Pn(et.$elm$,!1)),sn},Pn=(et,nt)=>{re.$flags$|=1;const rn=et.childNodes;for(let ln=rn.length-1;ln>=0;ln--){const Gn=rn[ln];Gn["s-hn"]!==T&&Gn["s-ol"]&&(Fi(Gn).insertBefore(Gn,Zi(Gn)),Gn["s-ol"].remove(),Gn["s-ol"]=void 0,Te=!0),nt&&Pn(Gn,nt)}re.$flags$&=-2},qn=(et,nt,rn,ln,Gn,Tt)=>{let Tn,sn=et["s-cr"]&&et["s-cr"].parentNode||et;for(sn.shadowRoot&&sn.tagName===T&&(sn=sn.shadowRoot);Gn<=Tt;++Gn)ln[Gn]&&(Tn=dn(null,rn,Gn,et),Tn&&(ln[Gn].$elm$=Tn,sn.insertBefore(Tn,Zi(nt))))},ti=(et,nt,rn,ln,Gn)=>{for(;nt<=rn;++nt)(ln=et[nt])&&(Gn=ln.$elm$,Wo(ln),ie=!0,Gn["s-ol"]?Gn["s-ol"].remove():Pn(Gn,!0),Gn.remove())},to=(et,nt)=>et.$tag$===nt.$tag$&&("slot"===et.$tag$?et.$name$===nt.$name$:et.$key$===nt.$key$),Zi=et=>et&&et["s-ol"]||et,Fi=et=>(et["s-ol"]?et["s-ol"]:et).parentNode,yo=(et,nt)=>{const rn=nt.$elm$=et.$elm$,ln=et.$children$,Gn=nt.$children$,Tt=nt.$tag$,sn=nt.$text$;let Tn;null===sn?(le="svg"===Tt||"foreignObject"!==Tt&&le,"slot"===Tt||Mi(et,nt,le),null!==ln&&null!==Gn?((et,nt,rn,ln)=>{let Xn,On,Gn=0,Tt=0,sn=0,Tn=0,ni=nt.length-1,si=nt[0],ki=nt[ni],Ri=ln.length-1,uo=ln[0],zt=ln[Ri];for(;Gn<=ni&&Tt<=Ri;)if(null==si)si=nt[++Gn];else if(null==ki)ki=nt[--ni];else if(null==uo)uo=ln[++Tt];else if(null==zt)zt=ln[--Ri];else if(to(si,uo))yo(si,uo),si=nt[++Gn],uo=ln[++Tt];else if(to(ki,zt))yo(ki,zt),ki=nt[--ni],zt=ln[--Ri];else if(to(si,zt))("slot"===si.$tag$||"slot"===zt.$tag$)&&Pn(si.$elm$.parentNode,!1),yo(si,zt),et.insertBefore(si.$elm$,ki.$elm$.nextSibling),si=nt[++Gn],zt=ln[--Ri];else if(to(ki,uo))("slot"===si.$tag$||"slot"===zt.$tag$)&&Pn(ki.$elm$.parentNode,!1),yo(ki,uo),et.insertBefore(ki.$elm$,si.$elm$),ki=nt[--ni],uo=ln[++Tt];else{for(sn=-1,Tn=Gn;Tn<=ni;++Tn)if(nt[Tn]&&null!==nt[Tn].$key$&&nt[Tn].$key$===uo.$key$){sn=Tn;break}sn>=0?(On=nt[sn],On.$tag$!==uo.$tag$?Xn=dn(nt&&nt[Tt],rn,sn,et):(yo(On,uo),nt[sn]=void 0,Xn=On.$elm$),uo=ln[++Tt]):(Xn=dn(nt&&nt[Tt],rn,Tt,et),uo=ln[++Tt]),Xn&&Fi(si.$elm$).insertBefore(Xn,Zi(si.$elm$))}Gn>ni?qn(et,null==ln[Ri+1]?null:ln[Ri+1].$elm$,rn,ln,Tt,Ri):Tt>Ri&&ti(nt,Gn,ni)})(rn,ln,nt,Gn):null!==Gn?(null!==et.$text$&&(rn.textContent=""),qn(rn,null,nt,Gn,0,Gn.length-1)):null!==ln&&ti(ln,0,ln.length-1),le&&"svg"===Tt&&(le=!1)):(Tn=rn["s-cr"])?Tn.parentNode.textContent=sn:et.$text$!==sn&&(rn.data=sn)},Ji=et=>{const nt=et.childNodes;let rn,ln,Gn,Tt,sn,Tn;for(ln=0,Gn=nt.length;ln<Gn;ln++)if(rn=nt[ln],1===rn.nodeType){if(rn["s-sr"])for(sn=rn["s-sn"],rn.hidden=!1,Tt=0;Tt<Gn;Tt++)if(Tn=nt[Tt].nodeType,nt[Tt]["s-hn"]!==rn["s-hn"]||""!==sn){if(1===Tn&&sn===nt[Tt].getAttribute("slot")){rn.hidden=!0;break}}else if(1===Tn||3===Tn&&""!==nt[Tt].textContent.trim()){rn.hidden=!0;break}Ji(rn)}},xi=[],Mo=et=>{let nt,rn,ln,Gn,Tt,sn,Tn=0;const ni=et.childNodes,si=ni.length;for(;Tn<si;Tn++){if(nt=ni[Tn],nt["s-sr"]&&(rn=nt["s-cr"])&&rn.parentNode)for(ln=rn.parentNode.childNodes,Gn=nt["s-sn"],sn=ln.length-1;sn>=0;sn--)rn=ln[sn],!rn["s-cn"]&&!rn["s-nr"]&&rn["s-hn"]!==nt["s-hn"]&&(no(rn,Gn)?(Tt=xi.find(ki=>ki.$nodeToRelocate$===rn),ie=!0,rn["s-sn"]=rn["s-sn"]||Gn,Tt?Tt.$slotRefNode$=nt:xi.push({$slotRefNode$:nt,$nodeToRelocate$:rn}),rn["s-sr"]&&xi.map(ki=>{no(ki.$nodeToRelocate$,rn["s-sn"])&&(Tt=xi.find(Ri=>Ri.$nodeToRelocate$===rn),Tt&&!ki.$slotRefNode$&&(ki.$slotRefNode$=Tt.$slotRefNode$))})):xi.some(ki=>ki.$nodeToRelocate$===rn)||xi.push({$nodeToRelocate$:rn}));1===nt.nodeType&&Mo(nt)}},no=(et,nt)=>1===et.nodeType?null===et.getAttribute("slot")&&""===nt||et.getAttribute("slot")===nt:et["s-sn"]===nt||""===nt,Wo=et=>{et.$attrs$&&et.$attrs$.ref&&et.$attrs$.ref(null),et.$children$&&et.$children$.map(Wo)},Ue=et=>hi(et).$hostElement$,We=(et,nt,rn)=>{const ln=Ue(et);return{emit:Gn=>Ge(ln,nt,{bubbles:!!(4&rn),composed:!!(2&rn),cancelable:!!(1&rn),detail:Gn})}},Ge=(et,nt,rn)=>{const ln=re.ce(nt,rn);return et.dispatchEvent(ln),ln},Et=(et,nt)=>{nt&&!et.$onRenderResolve$&&nt["s-p"]&&nt["s-p"].push(new Promise(rn=>et.$onRenderResolve$=rn))},Q=(et,nt)=>{if(et.$flags$|=16,!(4&et.$flags$))return Et(et,et.$ancestorComponent$),ys(()=>tt(et,nt));et.$flags$|=512},tt=(et,nt)=>{const ln=et.$lazyInstance$;let Gn;return nt&&(et.$flags$|=256,et.$queuedListeners$&&(et.$queuedListeners$.map(([Tt,sn])=>kt(ln,Tt,sn)),et.$queuedListeners$=null),Gn=kt(ln,"componentWillLoad")),Gn=cn(Gn,()=>kt(ln,"componentWillRender")),cn(Gn,()=>$e(et,ln,nt))},$e=function(){var et=(0,a.Z)(function*(nt,rn,ln){const Gn=nt.$hostElement$,sn=Gn["s-rc"];ln&&(et=>{const nt=et.$cmpMeta$,rn=et.$hostElement$,ln=nt.$flags$,Tt=bt(rn.shadowRoot?rn.shadowRoot:rn.getRootNode(),nt,et.$modeName$);10&ln&&(rn["s-sc"]=Tt,rn.classList.add(Tt+"-h"),2&ln&&rn.classList.add(Tt+"-s"))})(nt);lt(nt,rn),sn&&(sn.map(ni=>ni()),Gn["s-rc"]=void 0);{const ni=Gn["s-p"],si=()=>nn(nt);0===ni.length?si():(Promise.all(ni).then(si),nt.$flags$|=4,ni.length=0)}});return function(rn,ln,Gn){return et.apply(this,arguments)}}(),lt=(et,nt,rn)=>{try{nt=nt.render&&nt.render(),et.$flags$&=-17,et.$flags$|=2,((et,nt)=>{const rn=et.$hostElement$,ln=et.$cmpMeta$,Gn=et.$vnode$||Cn(null,null),Tt=(et=>et&&et.$tag$===Ot)(nt)?nt:$t(null,null,nt);if(T=rn.tagName,ln.$attrsToReflect$&&(Tt.$attrs$=Tt.$attrs$||{},ln.$attrsToReflect$.map(([sn,Tn])=>Tt.$attrs$[Tn]=rn[sn])),Tt.$tag$=null,Tt.$flags$|=4,et.$vnode$=Tt,Tt.$elm$=Gn.$elm$=rn.shadowRoot||rn,oe=rn["s-sc"],c=rn["s-cr"],V=0!=(1&ln.$flags$),ie=!1,yo(Gn,Tt),re.$flags$|=1,Te){Mo(Tt.$elm$);let sn,Tn,ni,si,ki,Ri,uo=0;for(;uo<xi.length;uo++)sn=xi[uo],Tn=sn.$nodeToRelocate$,Tn["s-ol"]||(ni=be.createTextNode(""),ni["s-nr"]=Tn,Tn.parentNode.insertBefore(Tn["s-ol"]=ni,Tn));for(uo=0;uo<xi.length;uo++)if(sn=xi[uo],Tn=sn.$nodeToRelocate$,sn.$slotRefNode$){for(si=sn.$slotRefNode$.parentNode,ki=sn.$slotRefNode$.nextSibling,ni=Tn["s-ol"];ni=ni.previousSibling;)if(Ri=ni["s-nr"],Ri&&Ri["s-sn"]===Tn["s-sn"]&&si===Ri.parentNode&&(Ri=Ri.nextSibling,!Ri||!Ri["s-nr"])){ki=Ri;break}(!ki&&si!==Tn.parentNode||Tn.nextSibling!==ki)&&Tn!==ki&&(!Tn["s-hn"]&&Tn["s-ol"]&&(Tn["s-hn"]=Tn["s-ol"].parentNode.nodeName),si.insertBefore(Tn,ki))}else 1===Tn.nodeType&&(Tn.hidden=!0)}ie&&Ji(Tt.$elm$),re.$flags$&=-2,xi.length=0})(et,nt)}catch(ln){ir(ln,et.$hostElement$)}return null},nn=et=>{const rn=et.$hostElement$,Gn=et.$lazyInstance$,Tt=et.$ancestorComponent$;kt(Gn,"componentDidRender"),64&et.$flags$?kt(Gn,"componentDidUpdate"):(et.$flags$|=64,ft(rn),kt(Gn,"componentDidLoad"),et.$onReadyResolve$(rn),Tt||Bn()),et.$onInstanceResolve$(rn),et.$onRenderResolve$&&(et.$onRenderResolve$(),et.$onRenderResolve$=void 0),512&et.$flags$&&kr(()=>Q(et,!1)),et.$flags$&=-517},bn=et=>{{const nt=hi(et),rn=nt.$hostElement$.isConnected;return rn&&2==(18&nt.$flags$)&&Q(nt,!1),rn}},Bn=et=>{ft(be.documentElement),kr(()=>Ge(ae,"appload",{detail:{namespace:"ionic"}}))},kt=(et,nt,rn)=>{if(et&&et[nt])try{return et[nt](rn)}catch(ln){ir(ln)}},cn=(et,nt)=>et&&et.then?et.then(nt):nt(),ft=et=>et.classList.add("hydrated"),on=(et,nt,rn,ln,Gn,Tt,sn)=>{let Tn,ni,si,ki;if(1===Tt.nodeType){for(Tn=Tt.getAttribute("c-id"),Tn&&(ni=Tn.split("."),(ni[0]===sn||"0"===ni[0])&&(si={$flags$:0,$hostId$:ni[0],$nodeId$:ni[1],$depth$:ni[2],$index$:ni[3],$tag$:Tt.tagName.toLowerCase(),$elm$:Tt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},nt.push(si),Tt.removeAttribute("c-id"),et.$children$||(et.$children$=[]),et.$children$[si.$index$]=si,et=si,ln&&"0"===si.$depth$&&(ln[si.$index$]=si.$elm$))),ki=Tt.childNodes.length-1;ki>=0;ki--)on(et,nt,rn,ln,Gn,Tt.childNodes[ki],sn);if(Tt.shadowRoot)for(ki=Tt.shadowRoot.childNodes.length-1;ki>=0;ki--)on(et,nt,rn,ln,Gn,Tt.shadowRoot.childNodes[ki],sn)}else if(8===Tt.nodeType)ni=Tt.nodeValue.split("."),(ni[1]===sn||"0"===ni[1])&&(Tn=ni[0],si={$flags$:0,$hostId$:ni[1],$nodeId$:ni[2],$depth$:ni[3],$index$:ni[4],$elm$:Tt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Tn?(si.$elm$=Tt.nextSibling,si.$elm$&&3===si.$elm$.nodeType&&(si.$text$=si.$elm$.textContent,nt.push(si),Tt.remove(),et.$children$||(et.$children$=[]),et.$children$[si.$index$]=si,ln&&"0"===si.$depth$&&(ln[si.$index$]=si.$elm$))):si.$hostId$===sn&&("s"===Tn?(si.$tag$="slot",Tt["s-sn"]=ni[5]?si.$name$=ni[5]:"",Tt["s-sr"]=!0,ln&&(si.$elm$=be.createElement(si.$tag$),si.$name$&&si.$elm$.setAttribute("name",si.$name$),Tt.parentNode.insertBefore(si.$elm$,Tt),Tt.remove(),"0"===si.$depth$&&(ln[si.$index$]=si.$elm$)),rn.push(si),et.$children$||(et.$children$=[]),et.$children$[si.$index$]=si):"r"===Tn&&(ln?Tt.remove():(Gn["s-cr"]=Tt,Tt["s-cn"]=!0))));else if(et&&"style"===et.$tag$){const Ri=Cn(null,Tt.textContent);Ri.$elm$=Tt,Ri.$index$="0",et.$children$=[Ri]}},_e=(et,nt)=>{if(1===et.nodeType){let rn=0;for(;rn<et.childNodes.length;rn++)_e(et.childNodes[rn],nt);if(et.shadowRoot)for(rn=0;rn<et.shadowRoot.childNodes.length;rn++)_e(et.shadowRoot.childNodes[rn],nt)}else if(8===et.nodeType){const rn=et.nodeValue.split(".");"o"===rn[0]&&(nt.set(rn[1]+"."+rn[2],et),et.nodeValue="",et["s-en"]=rn[3])}},Jn=(et,nt,rn)=>{if(nt.$members$){et.watchers&&(nt.$watchers$=et.watchers);const ln=Object.entries(nt.$members$),Gn=et.prototype;if(ln.map(([Tt,[sn]])=>{31&sn||2&rn&&32&sn?Object.defineProperty(Gn,Tt,{get(){return((et,nt)=>hi(this).$instanceValues$.get(nt))(0,Tt)},set(Tn){((et,nt,rn,ln)=>{const Gn=hi(et),Tt=Gn.$hostElement$,sn=Gn.$instanceValues$.get(nt),Tn=Gn.$flags$,ni=Gn.$lazyInstance$;rn=((et,nt)=>null==et||wn(et)?et:4&nt?"false"!==et&&(""===et||!!et):2&nt?parseFloat(et):1&nt?String(et):et)(rn,ln.$members$[nt][0]);const si=Number.isNaN(sn)&&Number.isNaN(rn);if((!(8&Tn)||void 0===sn)&&rn!==sn&&!si&&(Gn.$instanceValues$.set(nt,rn),ni)){if(ln.$watchers$&&128&Tn){const Ri=ln.$watchers$[nt];Ri&&Ri.map(uo=>{try{ni[uo](rn,sn,nt)}catch(zt){ir(zt,Tt)}})}2==(18&Tn)&&Q(Gn,!1)}})(this,Tt,Tn,nt)},configurable:!0,enumerable:!0}):1&rn&&64&sn&&Object.defineProperty(Gn,Tt,{value(...Tn){const ni=hi(this);return ni.$onInstancePromise$.then(()=>ni.$lazyInstance$[Tt](...Tn))}})}),1&rn){const Tt=new Map;Gn.attributeChangedCallback=function(sn,Tn,ni){re.jmp(()=>{const si=Tt.get(sn);if(this.hasOwnProperty(si))ni=this[si],delete this[si];else if(Gn.hasOwnProperty(si)&&"number"==typeof this[si]&&this[si]==ni)return;this[si]=(null!==ni||"boolean"!=typeof this[si])&&ni})},et.observedAttributes=ln.filter(([sn,Tn])=>15&Tn[0]).map(([sn,Tn])=>{const ni=Tn[1]||sn;return Tt.set(ni,sn),512&Tn[0]&&nt.$attrsToReflect$.push([sn,ni]),ni})}}return et},Je=function(){var et=(0,a.Z)(function*(nt,rn,ln,Gn,Tt){if(!(32&rn.$flags$)){{if(rn.$flags$|=32,(Tt=Ho(ln)).then){const si=()=>{};Tt=yield Tt,si()}Tt.isProxied||(ln.$watchers$=Tt.watchers,Jn(Tt,ln,2),Tt.isProxied=!0);const ni=()=>{};rn.$flags$|=8;try{new Tt(rn)}catch(si){ir(si)}rn.$flags$&=-9,rn.$flags$|=128,ni(),yn(rn.$lazyInstance$)}if(Tt.style){let ni=Tt.style;"string"!=typeof ni&&(ni=ni[rn.$modeName$=(et=>Ko.map(nt=>nt(et)).find(nt=>!!nt))(nt)]);const si=jt(ln,rn.$modeName$);if(!dr.has(si)){const ki=()=>{};an(si,ni,!!(1&ln.$flags$)),ki()}}}const sn=rn.$ancestorComponent$,Tn=()=>Q(rn,!0);sn&&sn["s-rc"]?sn["s-rc"].push(Tn):Tn()});return function(rn,ln,Gn,Tt,sn){return et.apply(this,arguments)}}(),yn=et=>{kt(et,"connectedCallback")},At=et=>{const nt=et["s-cr"]=be.createComment("");nt["s-cn"]=!0,et.insertBefore(nt,et.firstChild)},ei=(et,nt={})=>{const ln=[],Gn=nt.exclude||[],Tt=ae.customElements,sn=be.head,Tn=sn.querySelector("meta[charset]"),ni=be.createElement("style"),si=[],ki=be.querySelectorAll(`[${wt}]`);let Ri,uo=!0,zt=0;for(Object.assign(re,nt),re.$resourcesUrl$=new URL(nt.resourcesUrl||"./",be.baseURI).href,re.$flags$|=2;zt<ki.length;zt++)an(ki[zt].getAttribute(wt),gt(ki[zt].innerHTML),!0);et.map(Xn=>{Xn[1].map(On=>{const Rn={$flags$:On[0],$tagName$:On[1],$members$:On[2],$listeners$:On[3]};Rn.$members$=On[2],Rn.$listeners$=On[3],Rn.$attrsToReflect$=[],Rn.$watchers$={};const Ei=Rn.$tagName$,Li=class extends HTMLElement{constructor(mo){super(mo),Di(mo=this,Rn),1&Rn.$flags$&&mo.attachShadow({mode:"open",delegatesFocus:!!(16&Rn.$flags$)})}connectedCallback(){Ri&&(clearTimeout(Ri),Ri=null),uo?si.push(this):re.jmp(()=>(et=>{if(!(1&re.$flags$)){const nt=hi(et),rn=nt.$cmpMeta$,ln=()=>{};if(1&nt.$flags$)we(et,nt,rn.$listeners$),yn(nt.$lazyInstance$);else{let Gn;if(nt.$flags$|=1,Gn=et.getAttribute(rt),Gn){if(1&rn.$flags$){const Tt=bt(et.shadowRoot,rn,et.getAttribute("s-mode"));et.classList.remove(Tt+"-h",Tt+"-s")}((et,nt,rn,ln)=>{const Tt=et.shadowRoot,sn=[],ni=Tt?[]:null,si=ln.$vnode$=Cn(nt,null);re.$orgLocNodes$||_e(be.body,re.$orgLocNodes$=new Map),et[rt]=rn,et.removeAttribute(rt),on(si,sn,[],ni,et,et,rn),sn.map(ki=>{const Ri=ki.$hostId$+"."+ki.$nodeId$,uo=re.$orgLocNodes$.get(Ri),zt=ki.$elm$;uo&&""===uo["s-en"]&&uo.parentNode.insertBefore(zt,uo.nextSibling),Tt||(zt["s-hn"]=nt,uo&&(zt["s-ol"]=uo,zt["s-ol"]["s-nr"]=zt)),re.$orgLocNodes$.delete(Ri)}),Tt&&ni.map(ki=>{ki&&Tt.appendChild(ki)})})(et,rn.$tagName$,Gn,nt)}Gn||12&rn.$flags$&&At(et);{let Tt=et;for(;Tt=Tt.parentNode||Tt.host;)if(1===Tt.nodeType&&Tt.hasAttribute("s-id")&&Tt["s-p"]||Tt["s-p"]){Et(nt,nt.$ancestorComponent$=Tt);break}}rn.$members$&&Object.entries(rn.$members$).map(([Tt,[sn]])=>{if(31&sn&&et.hasOwnProperty(Tt)){const Tn=et[Tt];delete et[Tt],et[Tt]=Tn}}),kr(()=>Je(et,nt,rn))}ln()}})(this))}disconnectedCallback(){re.jmp(()=>(et=>{if(!(1&re.$flags$)){const nt=hi(this),rn=nt.$lazyInstance$;nt.$rmListeners$&&(nt.$rmListeners$.map(ln=>ln()),nt.$rmListeners$=void 0),kt(rn,"disconnectedCallback")}})())}componentOnReady(){return hi(this).$onReadyPromise$}};Rn.$lazyBundleId$=Xn[0],!Gn.includes(Ei)&&!Tt.get(Ei)&&(ln.push(Ei),Tt.define(Ei,Jn(Li,Rn,1)))})}),ni.innerHTML=ln+"{visibility:hidden}.hydrated{visibility:inherit}",ni.setAttribute("data-styles",""),sn.insertBefore(ni,Tn?Tn.nextSibling:sn.firstChild),uo=!1,si.length?si.map(Xn=>Xn.connectedCallback()):re.jmp(()=>Ri=setTimeout(Bn,30))},Zn=et=>{const nt=new URL(et,re.$resourcesUrl$);return nt.origin!==ae.location.origin?nt.href:nt.pathname},Ci=new WeakMap,hi=et=>Ci.get(et),vo=(et,nt)=>Ci.set(nt.$lazyInstance$=et,nt),Di=(et,nt)=>{const rn={$flags$:0,$hostElement$:et,$cmpMeta$:nt,$instanceValues$:new Map};return rn.$onInstancePromise$=new Promise(ln=>rn.$onInstanceResolve$=ln),rn.$onReadyPromise$=new Promise(ln=>rn.$onReadyResolve$=ln),et["s-p"]=[],et["s-rc"]=[],we(et,rn,nt.$listeners$),Ci.set(et,rn)},Do=(et,nt)=>nt in et,ir=(et,nt)=>(0,console.error)(et,nt),wr=new Map,Ho=(et,nt,rn)=>{const ln=et.$tagName$.replace(/-/g,"_"),Gn=et.$lazyBundleId$,Tt=wr.get(Gn);return Tt?Tt[ln]:D(863)(`./${Gn}.entry.js`).then(sn=>(wr.set(Gn,sn),sn[ln]),ir)},dr=new Map,Ko=[],jo=[],Dn=[],Tr=(et,nt)=>rn=>{et.push(rn),me||(me=!0,nt&&4&re.$flags$?kr(Eo):re.raf(Eo))},Jo=et=>{for(let nt=0;nt<et.length;nt++)try{et[nt](performance.now())}catch(rn){ir(rn)}et.length=0},Eo=()=>{Jo(jo),Jo(Dn),(me=jo.length>0)&&re.raf(Eo)},kr=et=>ke().then(et),gr=Tr(jo,!1),ys=Tr(Dn,!0),vs={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},4595:(Dt,Le,D)=>{"use strict";D.d(Le,{a:()=>ae,b:()=>Nt,c:()=>oe,g:()=>me,i:()=>an});var a=D(4190);class s{constructor(){this.m=new Map}reset(Qe){this.m=new Map(Object.entries(Qe))}get(Qe,jt){const gt=this.m.get(Qe);return void 0!==gt?gt:jt}getBoolean(Qe,jt=!1){const gt=this.m.get(Qe);return void 0===gt?jt:"string"==typeof gt?"true"===gt:!!gt}getNumber(Qe,jt){const gt=parseFloat(this.m.get(Qe));return isNaN(gt)?void 0!==jt?jt:NaN:gt}set(Qe,jt){this.m.set(Qe,jt)}}const oe=new s,le="ionic-persist-config",me=bt=>be(bt),ae=(bt,Qe)=>("string"==typeof bt&&(Qe=bt,bt=void 0),me(bt).includes(Qe)),be=(bt=window)=>{if(typeof bt>"u")return[];bt.Ionic=bt.Ionic||{};let Qe=bt.Ionic.platforms;return null==Qe&&(Qe=bt.Ionic.platforms=re(bt),Qe.forEach(jt=>bt.document.documentElement.classList.add(`plt-${jt}`))),Qe},re=bt=>{const Qe=oe.get("platform");return Object.keys(Oe).filter(jt=>{const gt=Qe?.[jt];return"function"==typeof gt?gt(bt):Oe[jt](bt)})},fe=bt=>!!(Ie(bt,/iPad/i)||Ie(bt,/Macintosh/i)&&ge(bt)),we=bt=>Ie(bt,/android|sink/i),ge=bt=>L(bt,"(any-pointer:coarse)"),Pe=bt=>Be(bt)||rt(bt),Be=bt=>!!(bt.cordova||bt.phonegap||bt.PhoneGap),rt=bt=>{const Qe=bt.Capacitor;return!!Qe?.isNative},Ie=(bt,Qe)=>Qe.test(bt.navigator.userAgent),L=(bt,Qe)=>{var jt;return null===(jt=bt.matchMedia)||void 0===jt?void 0:jt.call(bt,Qe).matches},Oe={ipad:fe,iphone:bt=>Ie(bt,/iPhone/i),ios:bt=>Ie(bt,/iPhone|iPod/i)||fe(bt),android:we,phablet:bt=>{const Qe=bt.innerWidth,jt=bt.innerHeight,gt=Math.min(Qe,jt),yt=Math.max(Qe,jt);return gt>390&&gt<520&&yt>620&&yt<800},tablet:bt=>{const Qe=bt.innerWidth,jt=bt.innerHeight,gt=Math.min(Qe,jt),yt=Math.max(Qe,jt);return fe(bt)||(bt=>we(bt)&&!Ie(bt,/mobile/i))(bt)||gt>460&&gt<820&&yt>780&&yt<1400},cordova:Be,capacitor:rt,electron:bt=>Ie(bt,/electron/i),pwa:bt=>{var Qe;return!!(null!==(Qe=bt.matchMedia)&&void 0!==Qe&&Qe.call(bt,"(display-mode: standalone)").matches||bt.navigator.standalone)},mobile:ge,mobileweb:bt=>ge(bt)&&!Pe(bt),desktop:bt=>!ge(bt),hybrid:Pe};let ut;const Nt=bt=>bt&&(0,a.g)(bt)||ut,an=(bt={})=>{if(typeof window>"u")return;const Qe=window.document,jt=window,gt=jt.Ionic=jt.Ionic||{},yt={};bt._ael&&(yt.ael=bt._ael),bt._rel&&(yt.rel=bt._rel),bt._ce&&(yt.ce=bt._ce),(0,a.s)(yt);const at=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(bt=>{try{const Qe=bt.sessionStorage.getItem(le);return null!==Qe?JSON.parse(Qe):{}}catch{return{}}})(jt)),{persistConfig:!1}),gt.config),(bt=>{const Qe={};return bt.location.search.slice(1).split("&").map(jt=>jt.split("=")).map(([jt,gt])=>[decodeURIComponent(jt),decodeURIComponent(gt)]).filter(([jt])=>((bt,Qe)=>bt.substr(0,Qe.length)===Qe)(jt,"ionic:")).map(([jt,gt])=>[jt.slice(6),gt]).forEach(([jt,gt])=>{Qe[jt]=gt}),Qe})(jt)),bt);oe.reset(at),oe.getBoolean("persistConfig")&&((bt,Qe)=>{try{bt.sessionStorage.setItem(le,JSON.stringify(Qe))}catch{return}})(jt,at),be(jt),gt.config=oe,gt.mode=ut=oe.get("mode",Qe.documentElement.getAttribute("mode")||(ae(jt,"ios")?"ios":"md")),oe.set("mode",ut),Qe.documentElement.setAttribute("mode",ut),Qe.documentElement.classList.add(ut),oe.getBoolean("_testing")&&oe.set("animated",!1);const Xe=ve=>{var Ve;return null===(Ve=ve.tagName)||void 0===Ve?void 0:Ve.startsWith("ION-")},Zt=ve=>["ios","md"].includes(ve);(0,a.a)(ve=>{for(;ve;){const Ve=ve.mode||ve.getAttribute("mode");if(Ve){if(Zt(Ve))return Ve;Xe(ve)&&console.warn('Invalid ionic mode: "'+Ve+'", expected: "ios" or "md"')}ve=ve.parentElement}return ut})}},113:(Dt,Le,D)=>{"use strict";D.r(Le),D.d(Le,{iosTransitionAnimation:()=>re,shadow:()=>ie});var a=D(1393),s=D(6939);D(2470),D(4190);const V=J=>document.querySelector(`${J}.ion-cloned-element`),ie=J=>J.shadowRoot||J,Te=J=>{const fe="ION-TABS"===J.tagName?J:J.querySelector("ion-tabs"),ke="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=fe){const Ce=fe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ce?Ce.querySelector(ke):null}return J.querySelector(ke)},le=(J,fe)=>{const ke="ION-TABS"===J.tagName?J:J.querySelector("ion-tabs");let Ce=[];if(null!=ke){const we=ke.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=we&&(Ce=we.querySelectorAll("ion-buttons"))}else Ce=J.querySelectorAll("ion-buttons");for(const we of Ce){const he=we.closest("ion-header"),A=he&&!he.classList.contains("header-collapse-condense-inactive"),pe=we.querySelector("ion-back-button"),ge=we.classList.contains("buttons-collapse");if(null!==pe&&("start"===we.slot||""===we.slot)&&(ge&&A&&fe||!ge))return pe}return null},ae=(J,fe,ke,Ce,we,he)=>{const A=fe?`calc(100% - ${he.right+4}px)`:he.left-4+"px",pe=fe?"7px":"-7px",ge=fe?"-4px":"4px",pt=fe?"-4px":"4px",Pe=fe?"right":"left",Be=fe?"left":"right",It=ke?[{offset:0,opacity:1,transform:`translate3d(${ge}, ${he.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${pe}, ${we.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${pe}, ${we.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ge}, ${he.top-46}px, 0) scale(1)`}],Oe=ke?[{offset:0,opacity:1,transform:`translate3d(${pt}, ${he.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${pt}, ${he.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${pt}, ${he.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${pt}, ${he.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${pt}, ${he.top-46}px, 0) scale(1)`}],ut=(0,a.c)(),Nt=(0,a.c)(),an=V("ion-back-button"),bt=ie(an).querySelector(".button-text"),Qe=ie(an).querySelector("ion-icon");an.text=Ce.text,an.mode=Ce.mode,an.icon=Ce.icon,an.color=Ce.color,an.disabled=Ce.disabled,an.style.setProperty("display","block"),an.style.setProperty("position","fixed"),Nt.addElement(Qe),ut.addElement(bt),ut.beforeStyles({"transform-origin":`${Pe} center`}).beforeAddWrite(()=>{Ce.style.setProperty("display","none"),an.style.setProperty(Pe,A)}).afterAddWrite(()=>{Ce.style.setProperty("display",""),an.style.setProperty("display","none"),an.style.removeProperty(Pe)}).keyframes(It),Nt.beforeStyles({"transform-origin":`${Be} center`}).keyframes(Oe),J.addAnimation([ut,Nt])},be=(J,fe,ke,Ce,we,he)=>{const A=fe?`calc(100% - ${we.right}px)`:`${we.left}px`,pe=fe?"-18px":"18px",ge=fe?"right":"left",Be=ke?[{offset:0,opacity:0,transform:`translate3d(${pe}, ${he.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${we.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${we.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${pe}, ${he.top-4}px, 0) scale(0.5)`}],rt=V("ion-title"),wt=(0,a.c)();rt.innerText=Ce.innerText,rt.size=Ce.size,rt.color=Ce.color,wt.addElement(rt),wt.beforeStyles({"transform-origin":`${ge} center`,height:"46px",display:"",position:"relative",[ge]:A}).beforeAddWrite(()=>{Ce.style.setProperty("display","none")}).afterAddWrite(()=>{Ce.style.setProperty("display",""),rt.style.setProperty("display","none")}).keyframes(Be),J.addAnimation(wt)},re=(J,fe)=>{var ke;try{const Ce="cubic-bezier(0.32,0.72,0,1)",we="opacity",he="transform",A="0%",ge="rtl"===J.ownerDocument.dir,pt=ge?"-99.5%":"99.5%",Pe=ge?"33%":"-33%",Be=fe.enteringEl,rt=fe.leavingEl,wt="back"===fe.direction,It=Be.querySelector(":scope > ion-content"),Ie=Be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),L=Be.querySelectorAll(":scope > ion-header > ion-toolbar"),Oe=(0,a.c)(),ut=(0,a.c)();if(Oe.addElement(Be).duration((null!==(ke=fe.duration)&&void 0!==ke?ke:0)||540).easing(fe.easing||Ce).fill("both").beforeRemoveClass("ion-page-invisible"),rt&&null!=J){const Qe=(0,a.c)();Qe.addElement(J),Oe.addAnimation(Qe)}if(It||0!==L.length||0!==Ie.length?(ut.addElement(It),ut.addElement(Ie)):ut.addElement(Be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Oe.addAnimation(ut),wt?ut.beforeClearStyles([we]).fromTo("transform",`translateX(${Pe})`,`translateX(${A})`).fromTo(we,.8,1):ut.beforeClearStyles([we]).fromTo("transform",`translateX(${pt})`,`translateX(${A})`),It){const Qe=ie(It).querySelector(".transition-effect");if(Qe){const jt=Qe.querySelector(".transition-cover"),gt=Qe.querySelector(".transition-shadow"),yt=(0,a.c)(),at=(0,a.c)(),Xe=(0,a.c)();yt.addElement(Qe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),at.addElement(jt).beforeClearStyles([we]).fromTo(we,0,.1),Xe.addElement(gt).beforeClearStyles([we]).fromTo(we,.03,.7),yt.addAnimation([at,Xe]),ut.addAnimation([yt])}}const Nt=Be.querySelector("ion-header.header-collapse-condense"),{forward:an,backward:bt}=((J,fe,ke,Ce,we)=>{const he=le(Ce,ke),A=Te(we),pe=Te(Ce),ge=le(we,ke),pt=null!==he&&null!==A&&!ke,Pe=null!==pe&&null!==ge&&ke;if(pt){const Be=A.getBoundingClientRect(),rt=he.getBoundingClientRect();be(J,fe,ke,A,Be,rt),ae(J,fe,ke,he,Be,rt)}else if(Pe){const Be=pe.getBoundingClientRect(),rt=ge.getBoundingClientRect();be(J,fe,ke,pe,Be,rt),ae(J,fe,ke,ge,Be,rt)}return{forward:pt,backward:Pe}})(Oe,ge,wt,Be,rt);if(L.forEach(Qe=>{const jt=(0,a.c)();jt.addElement(Qe),Oe.addAnimation(jt);const gt=(0,a.c)();gt.addElement(Qe.querySelector("ion-title"));const yt=(0,a.c)(),at=Array.from(Qe.querySelectorAll("ion-buttons,[menuToggle]")),Xe=Qe.closest("ion-header"),Zt=Xe?.classList.contains("header-collapse-condense-inactive");let ve;ve=at.filter(wt?Cn=>{const Ot=Cn.classList.contains("buttons-collapse");return Ot&&!Zt||!Ot}:Cn=>!Cn.classList.contains("buttons-collapse")),yt.addElement(ve);const Ve=(0,a.c)();Ve.addElement(Qe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const St=(0,a.c)();St.addElement(ie(Qe).querySelector(".toolbar-background"));const wn=(0,a.c)(),$t=Qe.querySelector("ion-back-button");if($t&&wn.addElement($t),jt.addAnimation([gt,yt,Ve,St,wn]),yt.fromTo(we,.01,1),Ve.fromTo(we,.01,1),wt)Zt||gt.fromTo("transform",`translateX(${Pe})`,`translateX(${A})`).fromTo(we,.01,1),Ve.fromTo("transform",`translateX(${Pe})`,`translateX(${A})`),wn.fromTo(we,.01,1);else if(Nt||gt.fromTo("transform",`translateX(${pt})`,`translateX(${A})`).fromTo(we,.01,1),Ve.fromTo("transform",`translateX(${pt})`,`translateX(${A})`),St.beforeClearStyles([we,"transform"]),Xe?.translucent?St.fromTo("transform",ge?"translateX(-100%)":"translateX(100%)","translateX(0px)"):St.fromTo(we,.01,"var(--opacity)"),an||wn.fromTo(we,.01,1),$t&&!an){const Ot=(0,a.c)();Ot.addElement(ie($t).querySelector(".button-text")).fromTo("transform",ge?"translateX(-100px)":"translateX(100px)","translateX(0px)"),jt.addAnimation(Ot)}}),rt){const Qe=(0,a.c)(),jt=rt.querySelector(":scope > ion-content"),gt=rt.querySelectorAll(":scope > ion-header > ion-toolbar"),yt=rt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(jt||0!==gt.length||0!==yt.length?(Qe.addElement(jt),Qe.addElement(yt)):Qe.addElement(rt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Oe.addAnimation(Qe),wt){Qe.beforeClearStyles([we]).fromTo("transform",`translateX(${A})`,ge?"translateX(-100%)":"translateX(100%)");const at=(0,s.g)(rt);Oe.afterAddWrite(()=>{"normal"===Oe.getDirection()&&at.style.setProperty("display","none")})}else Qe.fromTo("transform",`translateX(${A})`,`translateX(${Pe})`).fromTo(we,1,.8);if(jt){const at=ie(jt).querySelector(".transition-effect");if(at){const Xe=at.querySelector(".transition-cover"),Zt=at.querySelector(".transition-shadow"),ve=(0,a.c)(),Ve=(0,a.c)(),St=(0,a.c)();ve.addElement(at).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(Xe).beforeClearStyles([we]).fromTo(we,.1,0),St.addElement(Zt).beforeClearStyles([we]).fromTo(we,.7,.03),ve.addAnimation([Ve,St]),Qe.addAnimation([ve])}}gt.forEach(at=>{const Xe=(0,a.c)();Xe.addElement(at);const Zt=(0,a.c)();Zt.addElement(at.querySelector("ion-title"));const ve=(0,a.c)(),Ve=at.querySelectorAll("ion-buttons,[menuToggle]"),St=at.closest("ion-header"),wn=St?.classList.contains("header-collapse-condense-inactive"),$t=Array.from(Ve).filter(Se=>{const Vt=Se.classList.contains("buttons-collapse");return Vt&&!wn||!Vt});ve.addElement($t);const Cn=(0,a.c)(),Ot=at.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ot.length>0&&Cn.addElement(Ot);const Wt=(0,a.c)();Wt.addElement(ie(at).querySelector(".toolbar-background"));const st=(0,a.c)(),U=at.querySelector("ion-back-button");if(U&&st.addElement(U),Xe.addAnimation([Zt,ve,Cn,st,Wt]),Oe.addAnimation(Xe),st.fromTo(we,.99,0),ve.fromTo(we,.99,0),Cn.fromTo(we,.99,0),wt){if(wn||Zt.fromTo("transform",`translateX(${A})`,ge?"translateX(-100%)":"translateX(100%)").fromTo(we,.99,0),Cn.fromTo("transform",`translateX(${A})`,ge?"translateX(-100%)":"translateX(100%)"),Wt.beforeClearStyles([we,"transform"]),St?.translucent?Wt.fromTo("transform","translateX(0px)",ge?"translateX(-100%)":"translateX(100%)"):Wt.fromTo(we,"var(--opacity)",0),U&&!bt){const Vt=(0,a.c)();Vt.addElement(ie(U).querySelector(".button-text")).fromTo("transform",`translateX(${A})`,`translateX(${(ge?-124:124)+"px"})`),Xe.addAnimation(Vt)}}else wn||Zt.fromTo("transform",`translateX(${A})`,`translateX(${Pe})`).fromTo(we,.99,0).afterClearStyles([he,we]),Cn.fromTo("transform",`translateX(${A})`,`translateX(${Pe})`).afterClearStyles([he,we]),st.afterClearStyles([we]),Zt.afterClearStyles([we]),ve.afterClearStyles([we])})}return Oe}catch(Ce){throw Ce}}},2645:(Dt,Le,D)=>{"use strict";D.r(Le),D.d(Le,{mdTransitionAnimation:()=>T});var a=D(1393),s=D(6939);D(2470),D(4190);const T=(V,ie)=>{var Te,le,me;const re="back"===ie.direction,fe=ie.leavingEl,ke=(0,s.g)(ie.enteringEl),Ce=ke.querySelector("ion-toolbar"),we=(0,a.c)();if(we.addElement(ke).fill("both").beforeRemoveClass("ion-page-invisible"),re?we.duration((null!==(Te=ie.duration)&&void 0!==Te?Te:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):we.duration((null!==(le=ie.duration)&&void 0!==le?le:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ce){const he=(0,a.c)();he.addElement(Ce),we.addAnimation(he)}if(fe&&re){we.duration((null!==(me=ie.duration)&&void 0!==me?me:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const he=(0,a.c)();he.addElement((0,s.g)(fe)).onFinish(A=>{1===A&&he.elements.length>0&&he.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),we.addAnimation(he)}return we}},3910:(Dt,Le,D)=>{"use strict";D.d(Le,{B:()=>jt,G:()=>gt,a:()=>Te,b:()=>le,c:()=>re,d:()=>wt,e:()=>fe,f:()=>Ie,g:()=>ut,h:()=>V,i:()=>an,j:()=>we,k:()=>Be,m:()=>ae,s:()=>Qe});var a=D(5861),s=D(4595),oe=D(5421),c=D(690);let T=0;const V=new WeakMap,ie=yt=>({create:at=>ke(yt,at),dismiss:(at,Xe,Zt)=>pt(document,at,Xe,yt,Zt),getTop:()=>(0,a.Z)(function*(){return Be(document,yt)})()}),Te=ie("ion-alert"),le=ie("ion-action-sheet"),ae=ie("ion-modal"),re=ie("ion-popover"),fe=yt=>{typeof document<"u"&&ge(document);const at=T++;yt.overlayIndex=at,yt.hasAttribute("id")||(yt.id=`ion-overlay-${at}`)},ke=(yt,at)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(yt).then(()=>{const Xe=document.createElement(yt);return Xe.classList.add("overlay-hidden"),Object.assign(Xe,Object.assign(Object.assign({},at),{hasController:!0})),L(document).appendChild(Xe),new Promise(Zt=>(0,c.c)(Xe,Zt))}):Promise.resolve(),Ce='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',we=(yt,at)=>{let Xe=yt.querySelector(Ce);const Zt=Xe?.shadowRoot;Zt&&(Xe=Zt.querySelector(Ce)||Xe),Xe?(0,c.f)(Xe):at.focus()},A=(yt,at)=>{const Xe=Array.from(yt.querySelectorAll(Ce));let Zt=Xe.length>0?Xe[Xe.length-1]:null;const ve=Zt?.shadowRoot;ve&&(Zt=ve.querySelector(Ce)||Zt),Zt?Zt.focus():at.focus()},ge=yt=>{0===T&&(T=1,yt.addEventListener("focus",at=>{((yt,at)=>{const Xe=Be(at,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Zt=yt.target;Xe&&Zt&&!Xe.classList.contains("ion-disable-focus-trap")&&(Xe.shadowRoot?(()=>{if(Xe.contains(Zt))Xe.lastFocus=Zt;else{const St=Xe.lastFocus;we(Xe,Xe),St===at.activeElement&&A(Xe,Xe),Xe.lastFocus=at.activeElement}})():(()=>{if(Xe===Zt)Xe.lastFocus=void 0;else{const St=(0,c.g)(Xe);if(!St.contains(Zt))return;const wn=St.querySelector(".ion-overlay-wrapper");if(!wn)return;if(wn.contains(Zt))Xe.lastFocus=Zt;else{const $t=Xe.lastFocus;we(wn,Xe),$t===at.activeElement&&A(wn,Xe),Xe.lastFocus=at.activeElement}}})())})(at,yt)},!0),yt.addEventListener("ionBackButton",at=>{const Xe=Be(yt);Xe?.backdropDismiss&&at.detail.register(oe.OVERLAY_BACK_BUTTON_PRIORITY,()=>Xe.dismiss(void 0,jt))}),yt.addEventListener("keyup",at=>{if("Escape"===at.key){const Xe=Be(yt);Xe?.backdropDismiss&&Xe.dismiss(void 0,jt)}}))},pt=(yt,at,Xe,Zt,ve)=>{const Ve=Be(yt,Zt,ve);return Ve?Ve.dismiss(at,Xe):Promise.reject("overlay does not exist")},Be=(yt,at,Xe)=>{const Zt=((yt,at)=>(void 0===at&&(at="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(yt.querySelectorAll(at)).filter(Xe=>Xe.overlayIndex>0)))(yt,at).filter(ve=>!(yt=>yt.classList.contains("overlay-hidden"))(ve));return void 0===Xe?Zt[Zt.length-1]:Zt.find(ve=>ve.id===Xe)},rt=(yt=!1)=>{const Xe=L(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Xe&&(yt?Xe.setAttribute("aria-hidden","true"):Xe.removeAttribute("aria-hidden"))},wt=function(){var yt=(0,a.Z)(function*(at,Xe,Zt,ve,Ve){var St,wn;if(at.presented)return;rt(!0),at.presented=!0,at.willPresent.emit(),null===(St=at.willPresentShorthand)||void 0===St||St.emit();const $t=(0,s.b)(at),Cn=at.enterAnimation?at.enterAnimation:s.c.get(Xe,"ios"===$t?Zt:ve);(yield Oe(at,Cn,at.el,Ve))&&(at.didPresent.emit(),null===(wn=at.didPresentShorthand)||void 0===wn||wn.emit()),"ION-TOAST"!==at.el.tagName&&It(at.el),at.keyboardClose&&(null===document.activeElement||!at.el.contains(document.activeElement))&&at.el.focus()});return function(Xe,Zt,ve,Ve,St){return yt.apply(this,arguments)}}(),It=function(){var yt=(0,a.Z)(function*(at){let Xe=document.activeElement;if(!Xe)return;const Zt=Xe?.shadowRoot;Zt&&(Xe=Zt.querySelector(Ce)||Xe),yield at.onDidDismiss(),Xe.focus()});return function(Xe){return yt.apply(this,arguments)}}(),Ie=function(){var yt=(0,a.Z)(function*(at,Xe,Zt,ve,Ve,St,wn){var $t,Cn;if(!at.presented)return!1;rt(!1),at.presented=!1;try{at.el.style.setProperty("pointer-events","none"),at.willDismiss.emit({data:Xe,role:Zt}),null===($t=at.willDismissShorthand)||void 0===$t||$t.emit({data:Xe,role:Zt});const Ot=(0,s.b)(at),Wt=at.leaveAnimation?at.leaveAnimation:s.c.get(ve,"ios"===Ot?Ve:St);Zt!==gt&&(yield Oe(at,Wt,at.el,wn)),at.didDismiss.emit({data:Xe,role:Zt}),null===(Cn=at.didDismissShorthand)||void 0===Cn||Cn.emit({data:Xe,role:Zt}),V.delete(at),at.el.classList.add("overlay-hidden"),at.el.style.removeProperty("pointer-events"),void 0!==at.el.lastFocus&&(at.el.lastFocus=void 0)}catch(Ot){console.error(Ot)}return at.el.remove(),!0});return function(Xe,Zt,ve,Ve,St,wn,$t){return yt.apply(this,arguments)}}(),L=yt=>yt.querySelector("ion-app")||yt.body,Oe=function(){var yt=(0,a.Z)(function*(at,Xe,Zt,ve){Zt.classList.remove("overlay-hidden");const St=Xe(at.el,ve);(!at.animated||!s.c.getBoolean("animated",!0))&&St.duration(0),at.keyboardClose&&St.beforeAddWrite(()=>{const $t=Zt.ownerDocument.activeElement;$t?.matches("input,ion-input, ion-textarea")&&$t.blur()});const wn=V.get(at)||[];return V.set(at,[...wn,St]),yield St.play(),!0});return function(Xe,Zt,ve,Ve){return yt.apply(this,arguments)}}(),ut=(yt,at)=>{let Xe;const Zt=new Promise(ve=>Xe=ve);return Nt(yt,at,ve=>{Xe(ve.detail)}),Zt},Nt=(yt,at,Xe)=>{const Zt=ve=>{(0,c.b)(yt,at,Zt),Xe(ve)};(0,c.a)(yt,at,Zt)},an=yt=>"cancel"===yt||yt===jt,bt=yt=>yt(),Qe=(yt,at)=>{if("function"==typeof yt)return s.c.get("_zoneGate",bt)(()=>{try{return yt(at)}catch(Zt){throw Zt}})},jt="backdrop",gt="gesture"},6832:(Dt,Le,D)=>{"use strict";D.d(Le,{m:()=>V});var a=D(9862),s=D(1377),oe=D(9794),c=D(5887),T=D(5879);let V=(()=>{class ie{constructor(le,me,ae){this.httpClient=le,this.basePath="https://virtserver.swaggerhub.com/IdpEducation/ors-bxsearch-bff/v1.1",this.defaultHeaders=new a.WM,this.configuration=new c.V,ae&&(this.configuration=ae),"string"!=typeof this.configuration.basePath&&("string"!=typeof me&&(me=this.basePath),this.configuration.basePath=me),this.encoder=this.configuration.encoder||new s.H}addToHttpParams(le,me,ae){return"object"!=typeof me||me instanceof Date?this.addToHttpParamsRecursive(le,me,ae):this.addToHttpParamsRecursive(le,me)}addToHttpParamsRecursive(le,me,ae){if(null==me)return le;if("object"==typeof me)if(Array.isArray(me))me.forEach(be=>le=this.addToHttpParamsRecursive(le,be,ae));else if(me instanceof Date){if(null==ae)throw Error("key may not be null if value is Date");le=le.append(ae,me.toISOString().substr(0,10))}else Object.keys(me).forEach(be=>le=this.addToHttpParamsRecursive(le,me[be],null!=ae?`${ae}.${be}`:be));else{if(null==ae)throw Error("key may not be null if value is not object or array");le=le.append(ae,me)}return le}filterPrivateSessions(le,me,ae,be,re,J,fe="body",ke=!1,Ce){if(null==le)throw new Error("Required parameter xCorrelationID was null or undefined when calling filterPrivateSessions.");if(null==me)throw new Error("Required parameter referralPartnerId was null or undefined when calling filterPrivateSessions.");let we=new a.LE({encoder:this.encoder});null!=ae&&(we=this.addToHttpParams(we,ae,"fromTestStartDateLocal")),null!=be&&(we=this.addToHttpParams(we,be,"productId")),null!=me&&(we=this.addToHttpParams(we,me,"referralPartnerId")),null!=re&&(we=this.addToHttpParams(we,re,"testCenterId")),null!=J&&(we=this.addToHttpParams(we,J,"toTestStartDateLocal"));let he=this.defaultHeaders;null!=le&&(he=he.set("X-Correlation-ID",String(le)));let A=Ce&&Ce.httpHeaderAccept;void 0===A&&(A=this.configuration.selectHeaderAccept(["application/json"])),void 0!==A&&(he=he.set("Accept",A));let pe="json";return A&&A.startsWith("text")&&(pe="text"),this.httpClient.get(`${this.configuration.basePath}/v1/sessions/private/filter`,{params:we,responseType:pe,withCredentials:this.configuration.withCredentials,headers:he,observe:fe,reportProgress:ke})}findPrivateSessions(le,me,ae,be,re,J,fe,ke,Ce,we,he,A,pe,ge,pt,Pe,Be,rt="body",wt=!1,It){let Ie=new a.LE({encoder:this.encoder});null!=me&&(Ie=this.addToHttpParams(Ie,me,"city")),null!=ae&&(Ie=this.addToHttpParams(Ie,ae,"countryCode")),null!=be&&(Ie=this.addToHttpParams(Ie,be,"fromTestStartDateLocal")),null!=re&&(Ie=this.addToHttpParams(Ie,re,"locationId")),null!=J&&(Ie=this.addToHttpParams(Ie,J,"isPrivate")),null!=fe&&(Ie=this.addToHttpParams(Ie,fe,"order")),null!=ke&&(Ie=this.addToHttpParams(Ie,ke,"page")),null!=Ce&&(Ie=this.addToHttpParams(Ie,Ce,"pageSize")),null!=we&&(Ie=this.addToHttpParams(Ie,we,"productId")),null!=he&&(Ie=this.addToHttpParams(Ie,he,"radius")),null!=A&&(Ie=this.addToHttpParams(Ie,A,"referralPartnerId")),null!=pe&&(Ie=this.addToHttpParams(Ie,pe,"sessionId")),null!=ge&&(Ie=this.addToHttpParams(Ie,ge,"sortBy")),null!=pt&&(Ie=this.addToHttpParams(Ie,pt,"testCenterId")),Pe&&Pe.forEach(Nt=>{Ie=this.addToHttpParams(Ie,Nt,"timesOfDay")}),null!=Be&&(Ie=this.addToHttpParams(Ie,Be,"toTestStartDateLocal"));let L=this.defaultHeaders;null!=le&&(L=L.set("X-Correlation-ID",String(le)));let Oe=It&&It.httpHeaderAccept;void 0===Oe&&(Oe=this.configuration.selectHeaderAccept(["application/json"])),void 0!==Oe&&(L=L.set("Accept",Oe));let ut="json";return Oe&&Oe.startsWith("text")&&(ut="text"),this.httpClient.get(`${this.configuration.basePath}/v1/sessions/private`,{params:Ie,responseType:ut,withCredentials:this.configuration.withCredentials,headers:L,observe:rt,reportProgress:wt})}searchSessions(le,me,ae="body",be=!1,re){if(null==le)throw new Error("Required parameter sessionsSearchRequest was null or undefined when calling searchSessions.");let J=this.defaultHeaders;null!=me&&(J=J.set("X-Correlation-ID",String(me)));let fe=re&&re.httpHeaderAccept;void 0===fe&&(fe=this.configuration.selectHeaderAccept(["application/json"])),void 0!==fe&&(J=J.set("Accept",fe));const Ce=this.configuration.selectHeaderContentType(["application/json"]);void 0!==Ce&&(J=J.set("Content-Type",Ce));let we="json";return fe&&fe.startsWith("text")&&(we="text"),this.httpClient.post(`${this.configuration.basePath}/v1/sessions/search`,le,{responseType:we,withCredentials:this.configuration.withCredentials,headers:J,observe:ae,reportProgress:be})}static#e=this.\u0275fac=function(me){return new(me||ie)(T.LFG(a.eN),T.LFG(oe.G,8),T.LFG(c.V,8))};static#t=this.\u0275prov=T.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})()},5887:(Dt,Le,D)=>{"use strict";D.d(Le,{V:()=>a});class a{constructor(oe={}){this.apiKeys=oe.apiKeys,this.username=oe.username,this.password=oe.password,this.accessToken=oe.accessToken,this.basePath=oe.basePath,this.withCredentials=oe.withCredentials,this.encoder=oe.encoder}selectHeaderContentType(oe){if(0===oe.length)return;const c=oe.find(T=>this.isJsonMime(T));return void 0===c?oe[0]:c}selectHeaderAccept(oe){if(0===oe.length)return;const c=oe.find(T=>this.isJsonMime(T));return void 0===c?oe[0]:c}isJsonMime(oe){const c=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==oe&&(c.test(oe)||"application/json-patch+json"===oe.toLowerCase())}}},1377:(Dt,Le,D)=>{"use strict";D.d(Le,{H:()=>a});class a{encodeKey(oe){return encodeURIComponent(oe)}encodeValue(oe){return encodeURIComponent(oe)}decodeKey(oe){return decodeURIComponent(oe)}decodeValue(oe){return decodeURIComponent(oe)}}},2452:(Dt,Le,D)=>{"use strict";D.d(Le,{IR:()=>ie,mj:()=>Te.m});var a=D(9862),s=D(1377),oe=D(9794),c=D(5887),T=D(5879);let ie=(()=>{class Ie{constructor(Oe,ut,Nt){this.httpClient=Oe,this.basePath="https://virtserver.swaggerhub.com/IdpEducation/ors-bxsearch-bff/v1.1",this.defaultHeaders=new a.WM,this.configuration=new c.V,Nt&&(this.configuration=Nt),"string"!=typeof this.configuration.basePath&&("string"!=typeof ut&&(ut=this.basePath),this.configuration.basePath=ut),this.encoder=this.configuration.encoder||new s.H}addToHttpParams(Oe,ut,Nt){return"object"!=typeof ut||ut instanceof Date?this.addToHttpParamsRecursive(Oe,ut,Nt):this.addToHttpParamsRecursive(Oe,ut)}addToHttpParamsRecursive(Oe,ut,Nt){if(null==ut)return Oe;if("object"==typeof ut)if(Array.isArray(ut))ut.forEach(an=>Oe=this.addToHttpParamsRecursive(Oe,an,Nt));else if(ut instanceof Date){if(null==Nt)throw Error("key may not be null if value is Date");Oe=Oe.append(Nt,ut.toISOString().substr(0,10))}else Object.keys(ut).forEach(an=>Oe=this.addToHttpParamsRecursive(Oe,ut[an],null!=Nt?`${Nt}.${an}`:an));else{if(null==Nt)throw Error("key may not be null if value is not object or array");Oe=Oe.append(Nt,ut)}return Oe}getContentfulData(Oe,ut,Nt,an="body",bt=!1,Qe){if(null==Oe)throw new Error("Required parameter xCorrelationID was null or undefined when calling getContentfulData.");if(null==ut)throw new Error("Required parameter locale was null or undefined when calling getContentfulData.");if(null==Nt)throw new Error("Required parameter urlSlug was null or undefined when calling getContentfulData.");let jt=new a.LE({encoder:this.encoder});null!=ut&&(jt=this.addToHttpParams(jt,ut,"locale")),null!=Nt&&(jt=this.addToHttpParams(jt,Nt,"urlSlug"));let gt=this.defaultHeaders;null!=Oe&&(gt=gt.set("X-Correlation-ID",String(Oe)));let yt=Qe&&Qe.httpHeaderAccept;void 0===yt&&(yt=this.configuration.selectHeaderAccept(["application/json"])),void 0!==yt&&(gt=gt.set("Accept",yt));let at="json";return yt&&yt.startsWith("text")&&(at="text"),this.httpClient.get(`${this.configuration.basePath}/v1/contentful/getData`,{params:jt,responseType:at,withCredentials:this.configuration.withCredentials,headers:gt,observe:an,reportProgress:bt})}static#e=this.\u0275fac=function(ut){return new(ut||Ie)(T.LFG(a.eN),T.LFG(oe.G,8),T.LFG(c.V,8))};static#t=this.\u0275prov=T.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})();var Te=D(6832)},9794:(Dt,Le,D)=>{"use strict";D.d(Le,{G:()=>s});const s=new(D(5879).OlP)("basePath")},3180:(Dt,Le,D)=>{"use strict";D.d(Le,{V:()=>a});class a{constructor(oe={}){this.apiKeys=oe.apiKeys,this.username=oe.username,this.password=oe.password,this.accessToken=oe.accessToken,this.basePath=oe.basePath,this.withCredentials=oe.withCredentials,this.encoder=oe.encoder}selectHeaderContentType(oe){if(0===oe.length)return;const c=oe.find(T=>this.isJsonMime(T));return void 0===c?oe[0]:c}selectHeaderAccept(oe){if(0===oe.length)return;const c=oe.find(T=>this.isJsonMime(T));return void 0===c?oe[0]:c}isJsonMime(oe){const c=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==oe&&(c.test(oe)||"application/json-patch+json"===oe.toLowerCase())}}},692:(Dt,Le,D)=>{"use strict";D.d(Le,{G:()=>s});const s=new(D(5879).OlP)("basePath")},7570:(Dt,Le,D)=>{"use strict";D.d(Le,{eK:()=>V,KM:()=>be,uw:()=>ie,iQ:()=>J,lk:()=>fe});var a=D(9862);class s{encodeKey(we){return encodeURIComponent(we)}encodeValue(we){return encodeURIComponent(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}var oe=D(7951);class c{constructor(we={}){this.apiKeys=we.apiKeys,this.username=we.username,this.password=we.password,this.accessToken=we.accessToken,this.basePath=we.basePath,this.withCredentials=we.withCredentials,this.encoder=we.encoder,this.encodeParam=we.encodeParam?we.encodeParam:he=>this.defaultEncodeParam(he),this.credentials=we.credentials?we.credentials:{}}selectHeaderContentType(we){if(0===we.length)return;const he=we.find(A=>this.isJsonMime(A));return void 0===he?we[0]:he}selectHeaderAccept(we){if(0===we.length)return;const he=we.find(A=>this.isJsonMime(A));return void 0===he?we[0]:he}isJsonMime(we){const he=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==we&&(he.test(we)||"application/json-patch+json"===we.toLowerCase())}lookupCredential(we){const he=this.credentials[we];return"function"==typeof he?he():he}defaultEncodeParam(we){const he="date-time"===we.dataFormat&&we.value instanceof Date?we.value.toISOString():we.value;return encodeURIComponent(String(he))}}var T=D(5879);let V=(()=>{class Ce{constructor(he,A,pe){this.httpClient=he,this.basePath="http://localhost",this.defaultHeaders=new a.WM,this.configuration=new c,pe&&(this.configuration=pe),"string"!=typeof this.configuration.basePath&&(Array.isArray(A)&&A.length>0&&(A=A[0]),"string"!=typeof A&&(A=this.basePath),this.configuration.basePath=A),this.encoder=this.configuration.encoder||new s}addToHttpParams(he,A,pe){return"object"!=typeof A||A instanceof Date?this.addToHttpParamsRecursive(he,A,pe):this.addToHttpParamsRecursive(he,A)}addToHttpParamsRecursive(he,A,pe){if(null==A)return he;if("object"==typeof A)if(Array.isArray(A))A.forEach(ge=>he=this.addToHttpParamsRecursive(he,ge,pe));else if(A instanceof Date){if(null==pe)throw Error("key may not be null if value is Date");he=he.append(pe,A.toISOString().substring(0,10))}else Object.keys(A).forEach(ge=>he=this.addToHttpParamsRecursive(he,A[ge],null!=pe?`${pe}.${ge}`:ge));else{if(null==pe)throw Error("key may not be null if value is not object or array");he=he.append(pe,A)}return he}getCities(he,A,pe,ge,pt,Pe,Be,rt="body",wt=!1,It){let Ie=new a.LE({encoder:this.encoder});null!=A&&(Ie=this.addToHttpParams(Ie,A,"countryCode")),null!=pe&&(Ie=this.addToHttpParams(Ie,pe,"name")),null!=ge&&(Ie=this.addToHttpParams(Ie,ge,"order")),null!=pt&&(Ie=this.addToHttpParams(Ie,pt,"page")),null!=Pe&&(Ie=this.addToHttpParams(Ie,Pe,"pageSize")),null!=Be&&(Ie=this.addToHttpParams(Ie,Be,"sortBy"));let L=this.defaultHeaders;null!=he&&(L=L.set("X-Correlation-ID",String(he)));let Oe=It&&It.httpHeaderAccept;void 0===Oe&&(Oe=this.configuration.selectHeaderAccept(["application/json"])),void 0!==Oe&&(L=L.set("Accept",Oe));let ut=It&&It.context;void 0===ut&&(ut=new a.qT);let Nt="json";return Oe&&(Nt=Oe.startsWith("text")?"text":this.configuration.isJsonMime(Oe)?"json":"blob"),this.httpClient.request("get",`${this.configuration.basePath}/v1/referenceData/cities`,{context:ut,params:Ie,responseType:Nt,withCredentials:this.configuration.withCredentials,headers:L,observe:rt,reportProgress:wt})}static#e=this.\u0275fac=function(A){return new(A||Ce)(T.LFG(a.eN),T.LFG(oe.G,8),T.LFG(c,8))};static#t=this.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})(),ie=(()=>{class Ce{constructor(he,A,pe){this.httpClient=he,this.basePath="http://localhost",this.defaultHeaders=new a.WM,this.configuration=new c,pe&&(this.configuration=pe),"string"!=typeof this.configuration.basePath&&(Array.isArray(A)&&A.length>0&&(A=A[0]),"string"!=typeof A&&(A=this.basePath),this.configuration.basePath=A),this.encoder=this.configuration.encoder||new s}addToHttpParams(he,A,pe){return"object"!=typeof A||A instanceof Date?this.addToHttpParamsRecursive(he,A,pe):this.addToHttpParamsRecursive(he,A)}addToHttpParamsRecursive(he,A,pe){if(null==A)return he;if("object"==typeof A)if(Array.isArray(A))A.forEach(ge=>he=this.addToHttpParamsRecursive(he,ge,pe));else if(A instanceof Date){if(null==pe)throw Error("key may not be null if value is Date");he=he.append(pe,A.toISOString().substring(0,10))}else Object.keys(A).forEach(ge=>he=this.addToHttpParamsRecursive(he,A[ge],null!=pe?`${pe}.${ge}`:ge));else{if(null==pe)throw Error("key may not be null if value is not object or array");he=he.append(pe,A)}return he}calendarDates(he,A,pe,ge,pt,Pe,Be,rt,wt="body",It=!1,Ie){if(null==he)throw new Error("Required parameter languageSkills was null or undefined when calling calendarDates.");let L=new a.LE({encoder:this.encoder});null!=pe&&(L=this.addToHttpParams(L,pe,"countryCode")),he&&he.forEach(Qe=>{L=this.addToHttpParams(L,Qe,"languageSkills")}),null!=ge&&(L=this.addToHttpParams(L,ge,"testAvailableDateFrom")),pt&&pt.forEach(Qe=>{L=this.addToHttpParams(L,Qe,"testCategories")}),Pe&&Pe.forEach(Qe=>{L=this.addToHttpParams(L,Qe,"testDeliveryFormats")}),Be&&Be.forEach(Qe=>{L=this.addToHttpParams(L,Qe,"testModules")}),null!=rt&&(L=this.addToHttpParams(L,rt,"cityId"));let Oe=this.defaultHeaders;null!=A&&(Oe=Oe.set("X-Correlation-ID",String(A)));let ut=Ie&&Ie.httpHeaderAccept;void 0===ut&&(ut=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ut&&(Oe=Oe.set("Accept",ut));let Nt=Ie&&Ie.context;void 0===Nt&&(Nt=new a.qT);let an="json";return ut&&(an=ut.startsWith("text")?"text":this.configuration.isJsonMime(ut)?"json":"blob"),this.httpClient.request("get",`${this.configuration.basePath}/v1/sessions/calendarDates`,{context:Nt,params:L,responseType:an,withCredentials:this.configuration.withCredentials,headers:Oe,observe:wt,reportProgress:It})}findCountryCity(he,A,pe,ge,pt,Pe,Be,rt,wt,It="body",Ie=!1,L){if(null==he)throw new Error("Required parameter languageSkills was null or undefined when calling findCountryCity.");let Oe=new a.LE({encoder:this.encoder});null!=pe&&(Oe=this.addToHttpParams(Oe,pe,"countryCode")),he&&he.forEach(jt=>{Oe=this.addToHttpParams(Oe,jt,"languageSkills")}),null!=ge&&(Oe=this.addToHttpParams(Oe,ge,"page")),null!=pt&&(Oe=this.addToHttpParams(Oe,pt,"pageSize")),Pe&&Pe.forEach(jt=>{Oe=this.addToHttpParams(Oe,jt,"testDeliveryFormat")}),Be&&Be.forEach(jt=>{Oe=this.addToHttpParams(Oe,jt,"testModules")}),rt&&rt.forEach(jt=>{Oe=this.addToHttpParams(Oe,jt,"testCategory")}),null!=wt&&(Oe=this.addToHttpParams(Oe,wt,"cityId"));let ut=this.defaultHeaders;null!=A&&(ut=ut.set("X-Correlation-ID",String(A)));let Nt=L&&L.httpHeaderAccept;void 0===Nt&&(Nt=this.configuration.selectHeaderAccept(["application/json"])),void 0!==Nt&&(ut=ut.set("Accept",Nt));let an=L&&L.context;void 0===an&&(an=new a.qT);let bt="json";return Nt&&(bt=Nt.startsWith("text")?"text":this.configuration.isJsonMime(Nt)?"json":"blob"),this.httpClient.request("get",`${this.configuration.basePath}/v1/sessions/countryCity`,{context:an,params:Oe,responseType:bt,withCredentials:this.configuration.withCredentials,headers:ut,observe:It,reportProgress:Ie})}static#e=this.\u0275fac=function(A){return new(A||Ce)(T.LFG(a.eN),T.LFG(oe.G,8),T.LFG(c,8))};static#t=this.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})();const be={A:"A",D:"D"},J={Cd:"CD",Pb:"PB"},fe={Listening:"LISTENING",Reading:"READING",Speaking:"SPEAKING",Writing:"WRITING"}},7951:(Dt,Le,D)=>{"use strict";D.d(Le,{G:()=>s});const s=new(D(5879).OlP)("basePath")},859:(Dt,Le,D)=>{"use strict";D.d(Le,{Nd:()=>me,KM:()=>ae,lo:()=>be,uw:()=>V,Do:()=>ke});var a=D(9862);class s{encodeKey(we){return encodeURIComponent(we)}encodeValue(we){return encodeURIComponent(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}var oe=D(5955);class c{constructor(we={}){this.apiKeys=we.apiKeys,this.username=we.username,this.password=we.password,this.accessToken=we.accessToken,this.basePath=we.basePath,this.withCredentials=we.withCredentials,this.encoder=we.encoder,this.encodeParam=we.encodeParam?we.encodeParam:he=>this.defaultEncodeParam(he),this.credentials=we.credentials?we.credentials:{}}selectHeaderContentType(we){if(0===we.length)return;const he=we.find(A=>this.isJsonMime(A));return void 0===he?we[0]:he}selectHeaderAccept(we){if(0===we.length)return;const he=we.find(A=>this.isJsonMime(A));return void 0===he?we[0]:he}isJsonMime(we){const he=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==we&&(he.test(we)||"application/json-patch+json"===we.toLowerCase())}lookupCredential(we){const he=this.credentials[we];return"function"==typeof he?he():he}defaultEncodeParam(we){const he="date-time"===we.dataFormat&&we.value instanceof Date?we.value.toISOString():we.value;return encodeURIComponent(String(he))}}var T=D(5879);let V=(()=>{class Ce{constructor(he,A,pe){this.httpClient=he,this.basePath="http://localhost",this.defaultHeaders=new a.WM,this.configuration=new c,pe&&(this.configuration=pe),"string"!=typeof this.configuration.basePath&&(Array.isArray(A)&&A.length>0&&(A=A[0]),"string"!=typeof A&&(A=this.basePath),this.configuration.basePath=A),this.encoder=this.configuration.encoder||new s}addToHttpParams(he,A,pe){return"object"!=typeof A||A instanceof Date?this.addToHttpParamsRecursive(he,A,pe):this.addToHttpParamsRecursive(he,A)}addToHttpParamsRecursive(he,A,pe){if(null==A)return he;if("object"==typeof A)if(Array.isArray(A))A.forEach(ge=>he=this.addToHttpParamsRecursive(he,ge,pe));else if(A instanceof Date){if(null==pe)throw Error("key may not be null if value is Date");he=he.append(pe,A.toISOString().substring(0,10))}else Object.keys(A).forEach(ge=>he=this.addToHttpParamsRecursive(he,A[ge],null!=pe?`${pe}.${ge}`:ge));else{if(null==pe)throw Error("key may not be null if value is not object or array");he=he.append(pe,A)}return he}sessionSearch(he,A,pe="body",ge=!1,pt){if(null==he)throw new Error("Required parameter sessionSearchRequest was null or undefined when calling sessionSearch.");let Pe=this.defaultHeaders;null!=A&&(Pe=Pe.set("X-Correlation-ID",String(A)));let Be=pt&&pt.httpHeaderAccept;void 0===Be&&(Be=this.configuration.selectHeaderAccept(["application/json"])),void 0!==Be&&(Pe=Pe.set("Accept",Be));let rt=pt&&pt.context;void 0===rt&&(rt=new a.qT);const It=this.configuration.selectHeaderContentType(["application/json"]);void 0!==It&&(Pe=Pe.set("Content-Type",It));let Ie="json";return Be&&(Ie=Be.startsWith("text")?"text":this.configuration.isJsonMime(Be)?"json":"blob"),this.httpClient.request("post",`${this.configuration.basePath}/v2/sessions/search`,{context:rt,body:he,responseType:Ie,withCredentials:this.configuration.withCredentials,headers:Pe,observe:pe,reportProgress:ge})}static#e=this.\u0275fac=function(A){return new(A||Ce)(T.LFG(a.eN),T.LFG(oe.G,8),T.LFG(c,8))};static#t=this.\u0275prov=T.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})();const me={L:"L",R:"R",S:"S",W:"W"},ae={A:"A",D:"D"},be={RadiusKm:"RADIUS_KM",TestStartDate:"TEST_START_DATE"},ke={Afternoon:"AFTERNOON",Evening:"EVENING",Morning:"MORNING"}},5955:(Dt,Le,D)=>{"use strict";D.d(Le,{G:()=>s});const s=new(D(5879).OlP)("basePath")},9767:(Dt,Le,D)=>{"use strict";D.d(Le,{a:()=>le});var a=D(6814),s=D(1756),oe=D(5879),c=D(9582),T=D(2236),V=D(2197);function ie(me,ae){if(1&me){const be=oe.EpF();oe.TgZ(0,"button",14),oe.NdJ("click",function(){const fe=oe.CHM(be).$implicit,ke=oe.oxw();return oe.KtG(ke.selectLanguage(fe))}),oe._uU(1),oe.qZA()}if(2&me){const be=ae.$implicit,re=oe.oxw();let J;oe.Q6J("ngClass",(null==(J=re.getSelectedLang())?null:J.code)===(null==be?null:be.code)?"active":""),oe.xp6(1),oe.Oqu(null==be?null:be.description)}}function Te(me,ae){if(1&me){const be=oe.EpF();oe.TgZ(0,"li",15),oe.NdJ("click",function(){const fe=oe.CHM(be).$implicit,ke=oe.oxw();return oe.KtG(ke.selectLanguage(fe,!0))}),oe._uU(1),oe.qZA()}if(2&me){const be=ae.$implicit,re=oe.oxw();let J;oe.Q6J("ngClass",(null==(J=re.getSelectedLang())?null:J.code)===(null==be?null:be.code)?"active":""),oe.xp6(1),oe.hij(" ",null==be?null:be.description,"")}}let le=(()=>{class me{constructor(be,re,J){this.commonService=be,this.router=re,this.newSessionService=J,this.page="",this.isPopupOpen=!1}selectLanguage(be,re){be?.code!==this.commonService.selectedLang?.code&&(this.commonService.setLang(be),this.router.url.includes("rpt")?this.commonService.getContentfulDetailsApi("/book-ielts"):this.commonService.getContentfulDetailsApi(this.router.url),this.checkTLpopOpened()),re&&this.close()}checkTLpopOpened(){document.getElementById("test-location-popup")&&this.newSessionService.mapViewCompMethods$.next("closeSelectedTLpopup")}getSelectedLang(){return this.commonService.selectedLang||""}close(){this.isPopupOpen=!1}openPopUp(){window?.innerWidth<1099&&(this.isPopupOpen=!0)}static#e=this.\u0275fac=function(re){return new(re||me)(oe.Y36(c.v),oe.Y36(T.F0),oe.Y36(V.z))};static#t=this.\u0275cmp=oe.Xpm({type:me,selectors:[["app-language-switcher"]],inputs:{pageData:"pageData",page:"page"},standalone:!0,features:[oe.jDz],decls:17,vars:7,consts:[["ngbDropdown","","ngbDropdownToggle","",1,"language-dropdown",3,"ngClass","click"],["alt","language-drop-icon",1,"language-icon",3,"src"],["type","button","id","languageDropDown",1,"language-dropdown-button"],["alt","language-dropdown-arrow",1,"LanguageDropdownArrow",3,"src"],["ngbDropdownMenu","","aria-labelledby","languageDropDown"],[1,"language-drop-menu-wrapper","custom-scroll"],["ngbDropdownItem","",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"language-dropdown-mobile",3,"ngClass"],[1,"language-dropdown-overlay",3,"click"],[1,"language-dropdown-mobile-wrapper"],[1,"close",3,"click"],["src","/assets/images/close.svg","alt","close"],[1,"title"],[3,"ngClass","click",4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"ngClass","click"],[3,"ngClass","click"]],template:function(re,J){if(1&re&&(oe.TgZ(0,"div",0),oe.NdJ("click",function(){return J.openPopUp()}),oe._UZ(1,"img",1),oe.TgZ(2,"button",2),oe._uU(3),oe.qZA(),oe._UZ(4,"img",3),oe.TgZ(5,"div",4)(6,"div",5),oe.YNc(7,ie,2,2,"button",6),oe.qZA()()(),oe.TgZ(8,"div",7)(9,"div",8),oe.NdJ("click",function(){return J.close()}),oe.qZA(),oe.TgZ(10,"div",9)(11,"div",10),oe.NdJ("click",function(){return J.close()}),oe._UZ(12,"img",11),oe.qZA(),oe.TgZ(13,"div",12),oe._uU(14,"Select language"),oe.qZA(),oe.TgZ(15,"ul"),oe.YNc(16,Te,2,2,"li",13),oe.qZA()()()),2&re){let fe;oe.Q6J("ngClass","onBoarding"===J.page?"":"new-session-listing"),oe.xp6(1),oe.Q6J("src","onBoarding"===J.page?"assets/images/language-drop-icon.svg":"assets/images/language-drop-icon-black.svg",oe.LSH),oe.xp6(2),oe.Oqu(null==(fe=J.getSelectedLang())?null:fe.name),oe.xp6(1),oe.Q6J("src","onBoarding"===J.page?"/assets/images/language-dropdown-arrow.svg":"/assets/images/language-dropdown-arrow-black.svg",oe.LSH),oe.xp6(3),oe.Q6J("ngForOf",null==J.pageData?null:J.pageData.languages),oe.xp6(1),oe.Q6J("ngClass",J.isPopupOpen?"show":"hide"),oe.xp6(8),oe.Q6J("ngForOf",null==J.pageData?null:J.pageData.languages)}},dependencies:[a.ez,a.mk,a.sg,s.XC,s.jt,s.iD,s.Vi,s.TH],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-dark[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;border-radius:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{margin-top:20px;margin-bottom:20px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#878787;border-radius:4px}  app-language-switcher{display:flex;justify-content:flex-end;align-items:center}  app-language-switcher.onboarding{flex-grow:1}.language-dropdown[_ngcontent-%COMP%]{display:flex;gap:.2222222222rem;align-items:center}.language-dropdown.new-session-listing[_ngcontent-%COMP%]   .language-dropdown-button[_ngcontent-%COMP%]{color:#333541}.language-dropdown.new-session-listing[_ngcontent-%COMP%]:after{background:url(/assets/images/language-dropdown-arrow-black.svg) no-repeat}.language-dropdown[_ngcontent-%COMP%]   .language-icon[_ngcontent-%COMP%]{display:none}.language-dropdown[_ngcontent-%COMP%]   .language-dropdown-button[_ngcontent-%COMP%]{background:none;color:#fff;font-weight:500;font-family:Open Sans,sans-serif;font-size:.7777777778rem;line-height:.8888888889rem}.language-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{display:none}.language-dropdown[_ngcontent-%COMP%]:after{content:"";background:url(/assets/images/language-dropdown-arrow.svg) no-repeat;width:.8888888889rem;height:.8888888889rem;border:0;margin:0;display:none}.language-dropdown[_ngcontent-%COMP%]   .LanguageDropdownArrow[_ngcontent-%COMP%]{width:.8888888889rem;height:.8888888889rem}.language-dropdown-mobile[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999}.language-dropdown-mobile.show[_ngcontent-%COMP%]{display:block}.language-dropdown-mobile.hide[_ngcontent-%COMP%]{display:none}.language-dropdown-mobile[_ngcontent-%COMP%]   .language-dropdown-overlay[_ngcontent-%COMP%]{background:rgba(51,53,65,.7);width:100%;height:100%}.language-dropdown-mobile[_ngcontent-%COMP%]   .language-dropdown-mobile-wrapper[_ngcontent-%COMP%]{background:#fff;max-height:30rem;border-top-left-radius:.8888888889rem;border-top-right-radius:.8888888889rem;position:absolute;bottom:0;width:100%}.language-dropdown-mobile[_ngcontent-%COMP%]   .language-dropdown-mobile-wrapper[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:-40px;right:15px}.language-dropdown-mobile[_ngcontent-%COMP%]   .language-dropdown-mobile-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:1rem 1.1111111111rem;font-size:.8888888889rem;line-height:1.1111111111rem;font-weight:600;font-family:proxima-nova,sans-serif;color:#000}.language-dropdown-mobile[_ngcontent-%COMP%]   .language-dropdown-mobile-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;border-top:.0555555556rem solid rgba(135,135,135,.25);padding:1.3333333333rem 1.1111111111rem;max-height:26.8888888889rem;overflow-y:scroll;display:flex;flex-direction:column}.language-dropdown-mobile[_ngcontent-%COMP%]   .language-dropdown-mobile-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#525252;font-size:.8888888889rem;line-height:1.1111111111rem;font-weight:500;font-family:proxima-nova,sans-serif;padding:1.7777777778rem .6666666667rem .6666666667rem;border-bottom:1px solid rgba(135,135,135,.25)}.language-dropdown-mobile[_ngcontent-%COMP%]   .language-dropdown-mobile-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{padding-top:0}.language-dropdown-mobile[_ngcontent-%COMP%]   .language-dropdown-mobile-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#e31837;position:relative}.language-dropdown-mobile[_ngcontent-%COMP%]   .language-dropdown-mobile-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{content:"";background:url(/assets/images/active-arrow-red.svg) no-repeat;width:.8888888889rem;height:.8888888889rem;position:absolute;right:.8333333333rem;bottom:.7777777778rem}@media (min-width: 1100px){.language-dropdown[_ngcontent-%COMP%]{position:static;gap:.3636363636rem}.language-dropdown.new-session-listing[_ngcontent-%COMP%]{position:relative}.language-dropdown.new-session-listing[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{top:1.7727272727rem}.language-dropdown[_ngcontent-%COMP%]   .language-icon[_ngcontent-%COMP%]{width:1.0909090909rem;height:1.0909090909rem}.language-dropdown[_ngcontent-%COMP%]   .LanguageDropdownArrow[_ngcontent-%COMP%]{width:.7272727273rem;height:.7272727273rem}.language-dropdown[_ngcontent-%COMP%]   .language-dropdown-button[_ngcontent-%COMP%]{font-size:.6363636364rem;line-height:.7272727273rem}.language-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{top:1.4090909091rem;right:0;border:.0454545455rem solid rgba(135,135,135,.25);border-radius:.1818181818rem;box-shadow:0 .1818181818rem .2727272727rem -.0454545455rem #0000001a;min-width:5.8181818182rem;padding:0 .3636363636rem 0 0}.language-dropdown[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{display:block}.language-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .language-drop-menu-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.0909090909rem;padding:.9090909091rem .5454545455rem .9090909091rem .9090909091rem;overflow-y:scroll;max-height:7.8181818182rem}.language-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#000;font-size:.7272727273rem;line-height:1.2727272727rem;font-weight:400;font-family:Open Sans,sans-serif;padding:0}.language-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .language-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{color:#e31837;background:none}.language-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{color:#e31837;background:none}.language-dropdown[_ngcontent-%COMP%]:after{background:url(/assets/images/language-dropdown-arrow.svg) no-repeat;width:.7272727273rem;height:.7272727273rem;display:none}.language-dropdown-mobile[_ngcontent-%COMP%]{display:none}}']})}return me})()},9587:(Dt,Le,D)=>{"use strict";D.d(Le,{F:()=>le});var a=D(6814),s=D(5879),oe=D(2236);function c(me,ae){1&me&&s._UZ(0,"source",12)}function T(me,ae){if(1&me&&(s.ynx(0),s.TgZ(1,"a",8)(2,"span",9),s._uU(3),s.qZA(),s.TgZ(4,"span")(5,"picture"),s.YNc(6,c,1,0,"source",10),s._UZ(7,"img",11),s.qZA()()(),s.BQk()),2&me){const be=s.oxw();s.xp6(1),s.Q6J("href",(null==be.bannerDetails?null:be.bannerDetails.url)||"javascript:void(0)",s.LSH),s.uIk("target",null!=be.bannerDetails&&be.bannerDetails.url?"_blank":null),s.xp6(2),s.Oqu((null==be.bannerDetails?null:be.bannerDetails.description)||""),s.xp6(3),s.Q6J("ngIf",null==be.bannerDetails?null:be.bannerDetails.description)}}function V(me,ae){1&me&&s._UZ(0,"source",15)}function ie(me,ae){if(1&me&&(s.TgZ(0,"span",13)(1,"span",9),s._uU(2),s.qZA(),s.TgZ(3,"span")(4,"picture"),s.YNc(5,V,1,0,"source",14),s._UZ(6,"img",11),s.qZA()()()),2&me){const be=s.oxw();s.xp6(2),s.Oqu((null==be.bannerDetails?null:be.bannerDetails.description)||""),s.xp6(3),s.Q6J("ngIf",null==be.bannerDetails?null:be.bannerDetails.description)}}const Te=function(me,ae,be){return{"specialrequirement--ukvi":me,map:ae,"specialrequirement--location":be}};let le=(()=>{class me{constructor(be){this.router=be,this.openOrCloseUkviPopUp=new s.vpe,this.openOrClosePopUp=new s.vpe,this.addMapClass=!1}openOrCloseUkvi(){"/wizard/test-location-ukvi"===this.router.url&&window.innerWidth<1099?this.openOrClosePopUp.emit(!0):this.openOrCloseUkviPopUp.emit()}static#e=this.\u0275fac=function(re){return new(re||me)(s.Y36(oe.F0))};static#t=this.\u0275cmp=s.Xpm({type:me,selectors:[["app-special-requirement"]],inputs:{bannerDetails:"bannerDetails",urlFrom:"urlFrom",addMapClass:"addMapClass"},outputs:{openOrCloseUkviPopUp:"openOrCloseUkviPopUp",openOrClosePopUp:"openOrClosePopUp"},standalone:!0,features:[s.jDz],decls:11,vars:11,consts:[["tabindex","0",1,"specialrequirement","d-flex",3,"ngClass","click"],[1,"specialrequirement__img"],[3,"src","alt"],[1,"specialrequirement__text","d-flex","flex-column"],[1,"text-description","d-none","d-lg-flex",3,"innerHTML"],[1,"specialrequirement__links","d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["disabledLink",""],[1,"d-flex","align-items-center",3,"href"],[1,"link-text","d-none","d-lg-flex"],["media","(min-width:768px)","srcset","/assets/images/new-tab-blue.svg",4,"ngIf"],["src","/assets/images/chevron-box-right.svg","alt","chevron-right"],["media","(min-width:768px)","srcset","/assets/images/new-tab-blue.svg"],[1,"d-flex","align-items-center"],["media","(min-width:768px)","srcset","/assets/images/chevron-box-right.svg",4,"ngIf"],["media","(min-width:768px)","srcset","/assets/images/chevron-box-right.svg"]],template:function(re,J){if(1&re&&(s.TgZ(0,"div",0),s.NdJ("click",function(){return J.openOrCloseUkvi()}),s.TgZ(1,"section",1),s._UZ(2,"img",2),s.qZA(),s.TgZ(3,"section",3)(4,"h3"),s._uU(5),s.qZA(),s._UZ(6,"div",4),s.qZA(),s.TgZ(7,"section",5),s.YNc(8,T,8,4,"ng-container",6),s.YNc(9,ie,7,2,"ng-template",null,7,s.W1O),s.qZA()()),2&re){const fe=s.MAs(10);s.Q6J("ngClass",s.kEZ(7,Te,"booking-page"===J.urlFrom,"booking-page"===J.urlFrom&&J.addMapClass,("landing-page"===J.urlFrom||"test-location"===J.urlFrom)&&(null==J.bannerDetails?null:J.bannerDetails.description))),s.xp6(2),s.Q6J("src",null==J.bannerDetails||null==J.bannerDetails.image?null:J.bannerDetails.image.url,s.LSH)("alt",null==J.bannerDetails||null==J.bannerDetails.image?null:J.bannerDetails.image.title),s.xp6(3),s.Oqu(null==J.bannerDetails?null:J.bannerDetails.title),s.xp6(1),s.Q6J("innerHTML",null==J.bannerDetails?null:J.bannerDetails.longDescription,s.oJD),s.xp6(2),s.Q6J("ngIf","booking-page"!==J.urlFrom)("ngIfElse",fe)}},dependencies:[a.ez,a.mk,a.O5],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-dark[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:after, *[_ngcontent-%COMP%]:before{margin:0;padding:0;box-sizing:inherit;font-size:unset;line-height:unset;font-weight:unset}body[_ngcontent-%COMP%]{box-sizing:border-box}button[_ngcontent-%COMP%]{background:none;border:0;cursor:pointer;box-sizing:border-box;text-align:center;font-family:unset}img[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit;cursor:pointer}a[_ngcontent-%COMP%]:focus-visible, button[_ngcontent-%COMP%]:focus-visible{outline:thin dotted}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{margin:0;padding:0}.specialrequirement[_ngcontent-%COMP%]{background-color:#e5e5ff;border:.0833333333rem solid #000070;border-radius:.4444444444rem;padding:.8333333333rem;cursor:pointer;gap:.4444444444rem}.specialrequirement__img[_ngcontent-%COMP%]{width:1.1111111111rem;height:1.1111111111rem}.specialrequirement__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.specialrequirement__text[_ngcontent-%COMP%]{flex:2}.specialrequirement__text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000070;padding-left:.2222222222rem;font-size:.8888888889rem;line-height:1.1111111111rem;font-weight:600}.specialrequirement__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{pointer-events:none}.specialrequirement__links[_ngcontent-%COMP%]   .link-text[_ngcontent-%COMP%]{text-decoration:underline;color:#000070;font-weight:500}.specialrequirement__links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:.8888888889rem;height:.8888888889rem}.specialrequirement--ukvi[_ngcontent-%COMP%]{border-radius:.4444444444rem;align-items:center;border:.0555555556rem solid #000070;cursor:pointer;padding:.6666666667rem .8888888889rem}.specialrequirement.map[_ngcontent-%COMP%]{border-radius:0;border:0;border-left:.4444444444rem solid #000070}.specialrequirement.map[_ngcontent-%COMP%]   .specialrequirement__img[_ngcontent-%COMP%]{width:.8888888889rem;height:.8888888889rem}.specialrequirement.map[_ngcontent-%COMP%]   .specialrequirement__text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-left:0;font-size:.7777777778rem;line-height:.8888888889rem;font-weight:600}.specialrequirement.map[_ngcontent-%COMP%]   .specialrequirement__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:.6666666667rem;height:.6666666667rem}@media (min-width: 1100px){.specialrequirement[_ngcontent-%COMP%]{border-width:.0681818182rem;border-radius:.3636363636rem;padding:1.0909090909rem;gap:.7272727273rem}.specialrequirement__img[_ngcontent-%COMP%]{width:1.0909090909rem;height:1.0909090909rem}.specialrequirement__text[_ngcontent-%COMP%]{gap:.1818181818rem}.specialrequirement__text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8181818182rem;line-height:.9090909091rem;padding-left:0}.specialrequirement__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{gap:.3636363636rem;pointer-events:initial}.specialrequirement__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .link-text[_ngcontent-%COMP%]{font-size:.6363636364rem;line-height:.7272727273rem}.specialrequirement__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .specialrequirement__links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:.7272727273rem;height:.7272727273rem}.specialrequirement__links[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{gap:.3636363636rem;pointer-events:initial;cursor:pointer}.specialrequirement__links[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .link-text[_ngcontent-%COMP%]{font-size:.6363636364rem;line-height:.7272727273rem}.specialrequirement__links[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .specialrequirement__links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:.7272727273rem;height:.7272727273rem}.specialrequirement--ukvi[_ngcontent-%COMP%]{border-radius:0;border:0;border-left:.5454545455rem solid #000070;align-items:center;padding:.7272727273rem 2.1818181818rem .7272727273rem 1.6363636364rem;cursor:pointer}.specialrequirement--location[_ngcontent-%COMP%]{cursor:default}.specialrequirement.map[_ngcontent-%COMP%]{border-left:.3636363636rem solid #000070}.specialrequirement.map[_ngcontent-%COMP%]   .specialrequirement__img[_ngcontent-%COMP%]{width:1.0909090909rem;height:1.0909090909rem}.specialrequirement.map[_ngcontent-%COMP%]   .specialrequirement__text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8181818182rem;line-height:.9090909091rem}.specialrequirement.map[_ngcontent-%COMP%]   .specialrequirement__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:.7272727273rem;height:.7272727273rem}}']})}return me})()},8716:(Dt,Le,D)=>{"use strict";D.d(Le,{e:()=>ke});var a=D(5879),s=D(6814),oe=D(4379),c=D(9582);function T(Ce,we){if(1&Ce&&(a.TgZ(0,"li",30),a._UZ(1,"img",13),a.TgZ(2,"div",31)(3,"h3"),a._uU(4),a.qZA(),a.TgZ(5,"p"),a._uU(6),a.qZA()(),a._UZ(7,"div",32),a.TgZ(8,"div",33),a._UZ(9,"div",34),a.qZA()()),2&Ce){const he=we.$implicit;a.xp6(1),a.Q6J("src",null==he||null==he.image?null:he.image.url,a.LSH)("alt",null==he||null==he.image?null:he.image.title),a.xp6(3),a.Oqu(null==he?null:he.title),a.xp6(2),a.Oqu(null==he?null:he.description),a.xp6(3),a.Q6J("innerHTML",null==he?null:he.longDescription,a.oJD)}}function V(Ce,we){if(1&Ce&&(a.TgZ(0,"div",27)(1,"ul",28),a.YNc(2,T,10,5,"li",29),a.qZA()()),2&Ce){const he=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",null==he.navCards?null:he.navCards.setOne)}}function ie(Ce,we){if(1&Ce&&(a.TgZ(0,"li",30),a._UZ(1,"img",13),a.TgZ(2,"div",31)(3,"h3"),a._uU(4),a.qZA(),a.TgZ(5,"p"),a._uU(6),a.qZA()(),a._UZ(7,"div",32),a.TgZ(8,"div",33),a._UZ(9,"div",34),a.qZA()()),2&Ce){const he=we.$implicit;a.xp6(1),a.Q6J("src",null==he||null==he.image?null:he.image.url,a.LSH)("alt",null==he||null==he.image?null:he.image.title),a.xp6(3),a.Oqu(null==he?null:he.title),a.xp6(2),a.Oqu(null==he?null:he.description),a.xp6(3),a.Q6J("innerHTML",null==he?null:he.longDescription,a.oJD)}}function Te(Ce,we){if(1&Ce&&(a.TgZ(0,"div",27)(1,"ul",28),a.YNc(2,ie,10,5,"li",29),a.qZA()()),2&Ce){const he=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",null==he.navCards?null:he.navCards.setTwo)}}function le(Ce,we){if(1&Ce&&(a.TgZ(0,"li",30),a._UZ(1,"img",13),a.TgZ(2,"div",31)(3,"h3"),a._uU(4),a.qZA(),a.TgZ(5,"p"),a._uU(6),a.qZA()(),a._UZ(7,"div",32),a.TgZ(8,"div",33),a._UZ(9,"div",34),a.qZA()()),2&Ce){const he=we.$implicit;a.xp6(1),a.Q6J("src",null==he||null==he.image?null:he.image.url,a.LSH)("alt",null==he||null==he.image?null:he.image.title),a.xp6(3),a.Oqu(null==he?null:he.title),a.xp6(2),a.Oqu(null==he?null:he.description),a.xp6(3),a.Q6J("innerHTML",null==he?null:he.longDescription,a.oJD)}}function me(Ce,we){if(1&Ce&&(a.TgZ(0,"div",27)(1,"ul",28),a.YNc(2,le,10,5,"li",29),a.qZA()()),2&Ce){const he=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",null==he.navCards?null:he.navCards.setThree)}}function ae(Ce,we){if(1&Ce&&(a.TgZ(0,"li",30),a._UZ(1,"img",13),a.TgZ(2,"div",31)(3,"h3"),a._uU(4),a.qZA(),a.TgZ(5,"p"),a._uU(6),a.qZA()(),a._UZ(7,"div",32),a.TgZ(8,"div",33),a._UZ(9,"div",34),a.qZA()()),2&Ce){const he=we.$implicit;a.xp6(1),a.Q6J("src",null==he||null==he.image?null:he.image.url,a.LSH)("alt",null==he||null==he.image?null:he.image.title),a.xp6(3),a.Oqu(null==he?null:he.title),a.xp6(2),a.Oqu(null==he?null:he.description),a.xp6(3),a.Q6J("innerHTML",null==he?null:he.longDescription,a.oJD)}}function be(Ce,we){if(1&Ce&&(a.TgZ(0,"div",27)(1,"ul",28),a.YNc(2,ae,10,5,"li",29),a.qZA()()),2&Ce){const he=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",null==he.navCards?null:he.navCards.setFour)}}function re(Ce,we){if(1&Ce){const he=a.EpF();a.TgZ(0,"li",35),a.NdJ("click",function(){const ge=a.CHM(he).$implicit,pt=a.oxw(2);return a.KtG(pt.updatePopupDetails(ge.url,ge.name))}),a.TgZ(1,"div",36)(2,"div",37),a._UZ(3,"img",13)(4,"img",38),a.qZA(),a.TgZ(5,"div",39)(6,"h3"),a._uU(7),a.qZA(),a.TgZ(8,"p"),a._uU(9),a.qZA()(),a.TgZ(10,"div",40),a._UZ(11,"img",41),a.qZA()()()}if(2&Ce){const he=we.$implicit;a.xp6(3),a.s9C("src",null==he||null==he.image?null:he.image.url,a.LSH),a.s9C("alt",null==he||null==he.image?null:he.image.title),a.xp6(4),a.Oqu(null==he?null:he.title),a.xp6(2),a.Oqu(null==he?null:he.description)}}function J(Ce,we){if(1&Ce){const he=a.EpF();a.TgZ(0,"section",1),a._UZ(1,"div",2),a.TgZ(2,"div",3)(3,"div",4)(4,"img",5),a.NdJ("click",function(){a.CHM(he);const pe=a.oxw();return a.KtG(pe.goBackToPreviousPopup())}),a.qZA(),a.TgZ(5,"h2",6),a._uU(6),a.qZA(),a.TgZ(7,"div",7)(8,"img",8),a.NdJ("click",function(){a.CHM(he);const pe=a.oxw();return a.KtG(pe.closePopup())}),a.qZA(),a.TgZ(9,"img",9),a.NdJ("click",function(){a.CHM(he);const pe=a.oxw();return a.KtG(pe.closePopup())}),a.qZA()()(),a.TgZ(10,"div",10)(11,"div",11)(12,"div",12),a._UZ(13,"img",13),a.qZA()(),a.TgZ(14,"div",14)(15,"h4"),a._uU(16),a.qZA(),a._UZ(17,"div",15),a.qZA(),a.TgZ(18,"div",16)(19,"h4"),a._uU(20),a.qZA(),a.TgZ(21,"div",17),a.YNc(22,V,3,1,"div",18),a.YNc(23,Te,3,1,"div",18),a.YNc(24,me,3,1,"div",18),a.YNc(25,be,3,1,"div",18),a.qZA()(),a.TgZ(26,"div",19)(27,"ul",20),a.YNc(28,re,12,4,"li",21),a.qZA()()(),a.TgZ(29,"div",22)(30,"div",23),a._UZ(31,"img",24),a.TgZ(32,"button",25),a.NdJ("click",function(){a.CHM(he);const pe=a.oxw();return a.KtG(pe.goBackToPreviousPopup())}),a._uU(33,"Back "),a.qZA()(),a.TgZ(34,"button",26),a.NdJ("click",function(){a.CHM(he);const pe=a.oxw();return a.KtG(pe.closePopup())}),a._uU(35),a.qZA()()()()}if(2&Ce){const he=a.oxw();a.Q6J("ngClass","/session-listing/get-help/ukvi/immigration"===(null==he.ukviDetails?null:he.ukviDetails.urlSlug)?"":"booking-page"===he.urlFrom?"ukvipopup--listing":""),a.xp6(6),a.Oqu(null==he.ukviDetails?null:he.ukviDetails.title),a.xp6(7),a.Q6J("src","booking-page"===he.urlFrom?null==he.ukviDetails||null==he.ukviDetails.image?null:he.ukviDetails.image.url:"/assets/images/Passport-red.svg",a.LSH)("alt","booking-page"===he.urlFrom?null==he.ukviDetails||null==he.ukviDetails.image?null:he.ukviDetails.image.title:"Passport"),a.xp6(3),a.Oqu(null==he.labelText?null:he.labelText.paragraphTitleLabel),a.xp6(1),a.Q6J("innerHTML",null==he.ukviDetails?null:he.ukviDetails.description,a.oJD),a.xp6(3),a.Oqu(null==he.labelText?null:he.labelText.navCardListLabel),a.xp6(2),a.Q6J("ngIf",null==he.navCards||null==he.navCards.setOne?null:he.navCards.setOne.length),a.xp6(1),a.Q6J("ngIf",null==he.navCards||null==he.navCards.setTwo?null:he.navCards.setTwo.length),a.xp6(1),a.Q6J("ngIf",null==he.navCards||null==he.navCards.setThree?null:he.navCards.setThree.length),a.xp6(1),a.Q6J("ngIf",null==he.navCards||null==he.navCards.setFour?null:he.navCards.setFour.length),a.xp6(3),a.Q6J("ngForOf",null==he.ukviDetails?null:he.ukviDetails.navCards),a.xp6(7),a.Oqu(null==he.buttonsText?null:he.buttonsText.gotIt)}}const fe={[oe.Rz.POPUP_TITLE_LABEL]:"popupTitleLabel",[oe.Rz.NAVCARD_LIST_LABEL]:"navCardListLabel",[oe.Rz.P_TITLE_LABEL]:"paragraphTitleLabel"};let ke=(()=>{class Ce{constructor(he,A,pe){this.commonService=he,this.renderer=A,this.document=pe,this.labelText={},this.buttonsText={},this.navCards={},this.closeUkviPopup=new a.vpe,this.lastPopup=null,this.popupHistory=[]}ngOnInit(){this.renderer.addClass(this.document.body,"noScroll"),this.getUkviPopupDetails()}ngOnDestroy(){this.renderer.removeClass(this.document.body,"noScroll")}getUkviPopupDetails(he){this.commonService.getUkviPopupDetailsApi(he||("booking-page"==this.urlFrom?"/session-listing/get-help":oe.Cl.IMMIGRATION_SLUG)).subscribe(pe=>{this.ukviDetails=pe,this.ukviDetails?.labels?.forEach(ge=>{this.labelText[fe[ge?.options]]=ge.displayText}),this.getButtonDetails(this.ukviDetails?.buttons),this.formNavCards()})}getButtonDetails(he){he?.length&&he.forEach(A=>{A?.options===oe.EK.CLOSE_BUTTON&&(this.buttonsText.gotIt=A.displayText)})}formNavCards(){if(this.ukviDetails?.navCards?.length){this.navCards.setOne=this.ukviDetails?.navCards?.slice(0,2);const he=this.ukviDetails?.navCards?.length;he>=3&&(this.navCards.setTwo=this.ukviDetails?.navCards?.slice(2,4)),he>=5&&(this.navCards.setThree=this.ukviDetails?.navCards?.slice(4,6)),he>=7&&(this.navCards.setFour=this.ukviDetails?.navCards?.slice(6,8)),[this.navCards.setOne,this.navCards.setTwo,this.navCards.setThree,this.navCards.setFour].forEach(pe=>{pe?.forEach(ge=>{"Special assistance bookings"===ge?.title&&ge?.url&&(ge.url=this.commonService.getUtmAndClickId(ge.url))})})}}closePopup(){this.closeUkviPopup.emit()}updatePopupDetails(he,A){const pe=document.querySelector("#ukvi-infoPopup .ukvipopup__body");if(pe&&(pe.scrollTop=0),A.toLowerCase().startsWith(oe.Cl.SPL_ACS_ARR_NAME.toLowerCase())||oe.Cl.UKVI_INFO_NAME.toLowerCase().includes(A.toLowerCase())||oe.Cl.SPL_ACS_ARR_NAME.toLowerCase().includes(A.toLowerCase()))window.open(he,"_blank");else{this.ukviDetails&&this.popupHistory.push({slug:this.lastPopup?.slug||"",name:this.lastPopup?.name||"",details:this.ukviDetails}),this.lastPopup={slug:he,name:A},this.getUkviPopupDetails(he);const ge=document.getElementById("ukvi-infoPopup");ge&&ge.classList.add("previous")}}goBackToPreviousPopup(){if(!this.popupHistory?.length)return;const he=this.popupHistory.pop();if(!he)return;this.lastPopup={slug:he.slug,name:he.name},this.ukviDetails=he.details;const A=document.getElementById("ukvi-infoPopup");A&&(this.lastPopup?.slug?A.classList.add("previous"):A.classList.remove("previous"))}static#e=this.\u0275fac=function(A){return new(A||Ce)(a.Y36(c.v),a.Y36(a.Qsj),a.Y36(s.K0))};static#t=this.\u0275cmp=a.Xpm({type:Ce,selectors:[["app-ukvi-popup"]],inputs:{urlFrom:"urlFrom"},outputs:{closeUkviPopup:"closeUkviPopup"},standalone:!0,features:[a.jDz],decls:1,vars:1,consts:[["id","ukvi-infoPopup","class","ukvipopup show",3,"ngClass",4,"ngIf"],["id","ukvi-infoPopup",1,"ukvipopup","show",3,"ngClass"],[1,"ukvipopup__overlay"],[1,"ukvipopup__content","d-flex","flex-column"],[1,"ukvipopup__close","d-flex","justify-content-end","align-items-lg-center"],["src","/assets/images/chevron-left.svg","alt","back","tabindex","0",1,"ukvipopup__back",3,"click"],[1,"d-none","d-lg-block"],[1,"closeicons"],["src","/assets/images/close-outline.svg","alt","close","tabindex","0",1,"close","d-none","d-lg-block",3,"click"],["src","/assets/images/close.svg","alt","close","tabindex","0",1,"close","d-block","d-lg-none",3,"click"],[1,"ukvipopup__body","d-flex","flex-column","custom-scroll"],[1,"ukvipopup__title","d-flex","flex-column","d-flex"],[1,"title-img","align-items-center","justify-content-center"],[3,"src","alt"],[1,"ukvipopup__subtitle","d-flex","flex-column"],[1,"paragraph","d-flex","flex-column",3,"innerHTML"],[1,"ukvipopup__cards","d-flex","flex-column"],[1,"testtypes","flex-column"],["class","testtypes__card",4,"ngIf"],[1,"testtypelinks"],[1,"d-flex","flex-column"],[3,"click",4,"ngFor","ngForOf"],[1,"ukvipopup__button"],[1,"back","align-items-center","d-lg-none"],["src","/assets/images/chevron-left.svg","alt","left-arrow"],[1,"text-start",3,"click"],[1,"d-flex","align-items-center","justify-content-center","primary",3,"click"],[1,"testtypes__card"],[1,"d-flex","flex-column","flex-lg-row"],["class","ukvicard d-flex flex-column",4,"ngFor","ngForOf"],[1,"ukvicard","d-flex","flex-column"],[1,"ukvicard__text","d-flex","flex-column"],[1,"spacer"],[1,"ukvicard__list","d-flex","flex-column"],[1,"d-flex","flex-column",3,"innerHTML"],[3,"click"],["tabindex","0",1,"testtypelinks__card","d-flex","flex-column","flex-lg-row"],[1,"links-image","d-flex","align-items-center","justify-content-between"],["src","/assets/images/chevron-right.svg","alt","right-arrow",1,"d-block","d-md-none"],[1,"links-text","d-flex","flex-column"],[1,"links-arrow","d-none","d-lg-flex","align-items-center"],["src","/assets/images/chevron-right.svg","alt","right-arrow"]],template:function(A,pe){1&A&&a.YNc(0,J,36,13,"section",0),2&A&&a.Q6J("ngIf",pe.ukviDetails)},dependencies:[s.ez,s.mk,s.sg,s.O5],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker,a.link-grey,a.link-dark{text-decoration:none;font-weight:500}html{font-size:18px;line-height:1.1111111111rem}h1{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText,.input{font-size:.8888888889rem;line-height:.9444444444rem}.input ::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback{font-size:.5555555556rem;line-height:.6666666667rem}legend{font-size:18px;font-weight:400}.Instructional-text{font-size:10px;font-weight:400;line-height:12px}.text-darker,a.link-darker{color:#212529}.text-dark,a.link-dark{color:#495057}.text-blue{color:#00aaad}.text-grey,a.link-grey{color:#f4dcdf}.text-gray{color:#656565}.text-purple{color:#bd60a5}.text-dark-red{color:#b5142c}a.btn-link{font-size:.6363636364rem}legend{font-size:22px;font-weight:400}.sub-copy{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text{font-size:12px;font-weight:400;line-height:14px}body{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p{margin-bottom:1rem}h1,h2,h3,h4,h5,h6{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b{font-weight:700}h1{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2{font-size:1.59rem;font-weight:600}h3{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4{font-size:1.563rem}h5{font-size:1.1rem}h6{font-size:1rem;font-weight:600}.a-link{font-weight:600;font-size:18px}.text-bold,.weight-semi{font-weight:600}.weight-bold{font-weight:700}small,.text_small,.text-small{font-size:.8rem}.text-medium{font-weight:500}.leadText{font-size:1rem;line-height:1.1818181818rem}.clickwrap{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}*,*:after,*:before{margin:0;padding:0;box-sizing:inherit;font-size:unset;line-height:unset;font-weight:unset}body{box-sizing:border-box}button{background:none;border:0;cursor:pointer;box-sizing:border-box;text-align:center;font-family:unset}img{display:block}ul{list-style:none}a{color:inherit;text-decoration:inherit;cursor:pointer}a:focus-visible,button:focus-visible{outline:thin dotted}h1,h2,h3,h4,h5,h6,p,ul,li{margin:0;padding:0}.ukvipopup{display:none}.ukvipopup__overlay{position:fixed;width:100%;height:100%;background:rgba(51,53,65,.7);top:0;left:0;z-index:16}.ukvipopup__content{position:fixed;gap:.8333333333rem;z-index:20;width:100%;height:calc(100% - 4.2222222222rem);bottom:0;left:0;animation:ease-out animatebottom .3s}.ukvipopup__close{padding:0 .8333333333rem}.ukvipopup__close h2{font-weight:600;flex:2;color:#000}.ukvipopup__close .close{cursor:pointer}.ukvipopup__back{display:none}.ukvipopup__body{background-color:#fff;padding:1.7777777778rem 1.3333333333rem 1.3333333333rem;gap:1.3333333333rem;border-radius:.8888888889rem .8888888889rem 0 0;height:calc(100% - 6.6666666667rem);overflow-y:scroll}.ukvipopup__title{gap:1.3333333333rem}.ukvipopup__title .title-img{background-color:#fde8eb;width:2.6666666667rem;height:2.6666666667rem;padding:.4444444444rem;border-radius:.2222222222rem}.ukvipopup__title .title-img img{width:100%;height:100%}.ukvipopup__title h3{font-size:1.3333333333rem;line-height:1.6666666667rem;font-weight:700;color:#000}.ukvipopup__subtitle{gap:.6666666667rem}.ukvipopup__subtitle h4{color:#a61242;font-weight:600;font-size:1rem;line-height:1.1111111111rem}.ukvipopup__subtitle .paragraph{gap:1.3333333333rem;padding-top:.2222222222rem}.ukvipopup__subtitle .paragraph p{font-family:Open Sans,sans-serif;font-size:.7777777778rem;line-height:1.3333333333rem}.ukvipopup__subtitle .paragraph p a:has(img){display:none}.ukvipopup__subtitle a{color:#006dca;text-decoration:underline;gap:.4444444444rem;font-size:.8888888889rem;line-height:1.3333333333rem}.ukvipopup__cards{gap:.8888888889rem}.ukvipopup__cards h4{color:#a61242;font-weight:600;font-size:1rem;line-height:1.1111111111rem}.ukvipopup .testtypes{gap:1.1111111111rem;display:flex}.ukvipopup .testtypes__card ul{gap:1.1111111111rem}.ukvipopup .testtypes .ukvicard{gap:1.1111111111rem;border:.0555555556rem solid rgba(135,135,135,.25);border-radius:.2222222222rem;padding:.8888888889rem;cursor:auto}.ukvipopup .testtypes .ukvicard img{width:2.6666666667rem;height:2.6666666667rem}.ukvipopup .testtypes .ukvicard__text{gap:.5555555556rem}.ukvipopup .testtypes .ukvicard__text h3{font-size:1.1111111111rem;line-height:1.3333333333rem;color:#000;font-weight:600}.ukvipopup .testtypes .ukvicard__text p{font-family:Open Sans,sans-serif;color:#333541;font-size:.7777777778rem;line-height:1.3333333333rem}.ukvipopup .testtypes .ukvicard .spacer{border-bottom:.0555555556rem solid rgba(135,135,135,.25)}.ukvipopup .testtypes .ukvicard__list div{gap:.6666666667rem}.ukvipopup .testtypes .ukvicard__list div h5{font-size:.8888888889rem;line-height:1.1111111111rem;color:#000;font-weight:600}.ukvipopup .testtypes .ukvicard__list div ul{gap:.6666666667rem;display:flex;flex-direction:column}.ukvipopup .testtypes .ukvicard__list div ul li{display:flex;gap:.4444444444rem}.ukvipopup .testtypes .ukvicard__list div ul li:before{content:"";background:url(/assets/images/check-gray.svg) no-repeat center;width:1.3333333333rem;min-width:1.3333333333rem;height:1.3333333333rem;background-size:cover}.ukvipopup .testtypes .ukvicard__list div ul li p{font-size:.7777777778rem;line-height:1.3333333333rem;margin:0;color:#000;font-family:Open Sans,sans-serif}.ukvipopup .testtypes .ukvicard__list div ul li p span img{width:1.3333333333rem;height:1.3333333333rem;min-width:1.3333333333rem}.ukvipopup .testtypes .ukvicard:hover,.ukvipopup .testtypes .ukvicard.active{background-color:#e6e9ec;border:.0681818182rem solid #333541}.ukvipopup .testtypelinks{display:none}.ukvipopup .testtypelinks ul{gap:1.3333333333rem}.ukvipopup .testtypelinks__card{box-shadow:0 1px 2px #1018280d;padding:1.1111111111rem;gap:1.3333333333rem;border-radius:.4444444444rem;border:.0555555556rem solid rgba(135,135,135,.25)}.ukvipopup .testtypelinks__card .links-text h3{color:#000;font-size:.8888888889rem;line-height:1.1111111111rem}.ukvipopup .testtypelinks__card .links-text p{font-family:Open Sans,sans-serif;color:#333541;font-size:.7777777778rem;line-height:1.3333333333rem}.ukvipopup .testtypelinks__card .links-image img,.ukvipopup .testtypelinks__card .links-image img:first-child{width:1.3333333333rem;height:1.3333333333rem}.ukvipopup .testtypelinks__card .links-image img:last-child{width:.6666666667rem;height:.6666666667rem}.ukvipopup .testtypelinks__card:hover,.ukvipopup .testtypelinks__card .active{background-color:#e6e9ec}.ukvipopup__button{padding:1.3333333333rem;border-top:.0555555556rem solid rgba(135,135,135,.25);position:fixed;bottom:0;width:100%;background:#fff}.ukvipopup__button .primary{background-color:#e31837;color:#fff;border-radius:.2222222222rem;padding:.6666666667rem .8333333333rem}.ukvipopup__button button{width:100%;font-size:.8888888889rem;line-height:1.3333333333rem;font-weight:400}.ukvipopup__button .back{display:none}.ukvipopup.show{display:block}.ukvipopup.hide,.ukvipopup--listing .testtypes{display:none}.ukvipopup--listing .testtypelinks{display:flex;flex-direction:column}.ukvipopup--listing .ukvipopup__button{display:none}.ukvipopup--listing .ukvipopup__body{height:100%}.ukvipopup.previous .ukvipopup__body{height:calc(100% - 6.6666666667rem)}.ukvipopup.previous .ukvipopup__button{display:flex;gap:.8888888889rem}.ukvipopup.previous .ukvipopup__button .back,.ukvipopup.previous .ukvipopup__button button{width:50%}.ukvipopup.previous .ukvipopup__button .back{display:flex;gap:.4444444444rem}.ukvipopup.previous .ukvipopup__button .back img{width:.6666666667rem;height:.6666666667rem}@keyframes animatebottom{0%{bottom:-16.6666666667rem;opacity:0}to{bottom:0;opacity:1}}@media (min-width: 1100px){.ukvipopup__content{right:0;top:0;width:50%;height:100%;left:inherit;gap:0;animation:ease-out animateleft .3s}.ukvipopup__close{background-color:#fff;gap:.7272727273rem;padding:1.0909090909rem 1.0909090909rem 1.0909090909rem 1.4545454545rem;border-bottom:.0454545455rem solid rgba(135,135,135,.25)}.ukvipopup__close h2{font-size:1.0909090909rem;line-height:1.2727272727rem}.ukvipopup__back{width:1.0909090909rem;height:1.0909090909rem}.ukvipopup__body{padding:1.4545454545rem;height:calc(100dvh - 7.3636363636rem);overflow-y:scroll;gap:1.4545454545rem;border-right:.3636363636rem solid #fff;border-radius:0}.ukvipopup__body.custom-scroll::-webkit-scrollbar{width:.1818181818rem;border-radius:.1818181818rem}.ukvipopup__body.custom-scroll::-webkit-scrollbar-track{margin-top:1.4545454545rem;margin-bottom:32}.ukvipopup__body.custom-scroll::-webkit-scrollbar-thumb{background-color:#2c2c3340;border-radius:.1818181818rem}.ukvipopup__title{gap:.7272727273rem}.ukvipopup__title .title-img{width:2.5454545455rem;height:2.5454545455rem;border-radius:.2545454545rem;padding:.3636363636rem}.ukvipopup__title h3{font-size:1.2727272727rem;line-height:1.4545454545rem}.ukvipopup__subtitle{gap:.7272727273rem}.ukvipopup__subtitle h4{font-size:.9090909091rem;line-height:1.0909090909rem}.ukvipopup__subtitle .paragraph{gap:1.2727272727rem;padding-top:.1818181818rem}.ukvipopup__subtitle .paragraph p{font-size:.7272727273rem;line-height:1.2727272727rem}.ukvipopup__subtitle a{gap:.3636363636rem;font-size:.7272727273rem;line-height:1.0909090909rem}.ukvipopup__cards{gap:.7272727273rem}.ukvipopup__cards h4{font-size:.9090909091rem;line-height:1.0909090909rem}.ukvipopup .testtypes,.ukvipopup .testtypes__card ul{gap:.9090909091rem}.ukvipopup .testtypes .ukvicard{gap:1.0909090909rem;border:.0454545455rem solid rgba(135,135,135,.25);border-radius:.1818181818rem;padding:.7272727273rem;width:48.5%}.ukvipopup .testtypes .ukvicard__text{gap:.4545454545rem;min-height:8.0909090909rem}.ukvipopup .testtypes .ukvicard__text h3{font-size:1.0909090909rem;line-height:1.2727272727rem;width:70%}.ukvipopup .testtypes .ukvicard__text p{font-size:.7272727273rem;line-height:1.2727272727rem}.ukvipopup .testtypes .ukvicard__list div{gap:.5454545455rem}.ukvipopup .testtypes .ukvicard__list div h5{font-size:.7272727273rem;line-height:.9090909091rem}.ukvipopup .testtypes .ukvicard__list div ul{gap:.5454545455rem}.ukvipopup .testtypes .ukvicard__list div ul li{gap:.3636363636rem}.ukvipopup .testtypes .ukvicard__list div ul li:before{width:1.0909090909rem;min-width:1.0909090909rem;height:1.0909090909rem}.ukvipopup .testtypes .ukvicard__list div ul li p{gap:.3636363636rem;font-size:.6363636364rem;line-height:1.0909090909rem}.ukvipopup .testtypes .ukvicard__list div ul li p span img{width:1.0909090909rem;min-width:1.0909090909rem;height:1.0909090909rem}.ukvipopup .testtypes .ukvicard img{width:2.5454545455rem;height:2.5454545455rem}.ukvipopup .testtypes .ukvicard spacer{border-bottom:.0454545455rem solid rgba(135,135,135,.25)}.ukvipopup .testtypelinks ul{gap:1.0909090909rem}.ukvipopup .testtypelinks__card{padding:1.0909090909rem;gap:1.0909090909rem;border-radius:.3636363636rem;border:.0454545455rem solid rgba(135,135,135,.25);cursor:pointer}.ukvipopup .testtypelinks__card .links-image{width:1.4545454545rem;height:1.4545454545rem}.ukvipopup .testtypelinks__card .links-image img,.ukvipopup .testtypelinks__card .links-image img:first-child{width:100%;height:100%}.ukvipopup .testtypelinks__card .links-text{flex:2}.ukvipopup .testtypelinks__card .links-text h3{font-size:.8181818182rem;line-height:.9090909091rem}.ukvipopup .testtypelinks__card .links-text p{font-size:.7272727273rem;line-height:1.2727272727rem}.ukvipopup .testtypelinks__card .links-arrow img{width:.5454545455rem;height:.5454545455rem}.ukvipopup .testtypelinks__card:hover,.ukvipopup .testtypelinks__card .active{border:.0681818182rem solid #333541}.ukvipopup__button{padding:.9090909091rem 1.4545454545rem;border-top:.0454545455rem solid rgba(135,135,135,.25);width:50%}.ukvipopup__button button{font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:.1818181818rem;padding:.5454545455rem .6818181818rem;width:calc(100% - .3636363636rem)}.ukvipopup--listing .ukvipopup__body{height:100%}.ukvipopup.previous .ukvipopup__back{display:block;cursor:pointer}.ukvipopup.previous .ukvipopup__body{height:calc(100dvh - 7.3636363636rem)}.ukvipopup.previous .ukvipopup__button button{width:100%}@keyframes animateleft{0%{right:-16.6666666667rem;opacity:0}to{right:0;opacity:1}}}\n'],encapsulation:2})}return Ce})()},9582:(Dt,Le,D)=>{"use strict";D.d(Le,{v:()=>wn});var a=D(5861),s=D(5619),oe=D(8180),c=D(9397),T=D(5592),V=D(7398),ie=D(6306),Te=D(2096),le=D(4379),me=D(7570),ae=D(1231),be=D(1342),re=D.n(be),J=D(4499),fe=D(8303),ke=D(8012);const Ce=($t,Cn)=>$t.Auth.fetchAuthSession(Cn);var we=D(451),he=D(8687),A=D(7503),pt=D(7228);const Pe=($t,Cn)=>(0,pt.Zm)({category:we.WD.Auth,action:$t,...Cn});var Be=D(1040),rt=D(2273),wt=D(6759),It=D(54),Ie=D(297),Oe=D(5360);const ut=function(){var $t=(0,a.Z)(function*(Cn){const Ot=Cn.getConfig().Auth?.Cognito;(0,ke.FG)(Ot);const{userPoolEndpoint:Wt,userPoolId:st}=Ot,{tokens:U}=yield Ce(Cn,{forceRefresh:!1});(0,A.CA)(U);const Se=($t=>(0,Be.z)(rt.x,(0,wt.u)("GetUser"),(0,It.o)(),{...Ie.n,...$t}))({endpointResolver:(0,Oe.e)({endpointOverride:Wt})}),{UserAttributes:Vt}=yield Se({region:(0,he.y)(st),userAgentValue:Pe(we.g4.FetchUserAttributes)},{AccessToken:U.accessToken.toString()});return function ge($t){const Cn={};return $t?.forEach(Ot=>{Ot.Name&&(Cn[Ot.Name]=Ot.Value)}),Cn}(Vt)});return function(Ot){return $t.apply(this,arguments)}}();var bt=D(5879),Qe=D(9730);const jt=new bt.OlP("google-tag-manager-config");let gt=(()=>{class $t{constructor(Ot){this._googleTagManagerConfig={id:null,gtm_auth:"",gtm_preview:""},Ot&&this.set(Ot)}set(Ot){this._googleTagManagerConfig=Ot}get(){return this._googleTagManagerConfig}static#e=this.\u0275fac=function(Wt){return new(Wt||$t)(bt.LFG(jt,8))};static#t=this.\u0275prov=bt.Yz7({token:$t,factory:$t.\u0275fac,providedIn:"root"})}return $t})(),yt=(()=>{class $t{constructor(Ot,Wt,st="noisy",U,Se,Vt,en){this.googleTagManagerConfiguration=Ot,this.googleTagManagerId=Wt,this.googleTagManagerMode=st,this.googleTagManagerAuth=U,this.googleTagManagerPreview=Se,this.googleTagManagerResourcePath=Vt,this.googleTagManagerCSPNonce=en,this.isLoaded=!1,this.browserGlobals={windowRef:()=>window,documentRef:()=>document},this.config=this.googleTagManagerConfiguration?.get(),null==this.config&&(this.config={id:null}),this.config={...this.config,id:Wt||this.config.id,gtm_auth:U||this.config.gtm_auth,gtm_preview:Se||this.config.gtm_preview,gtm_resource_path:Vt||this.config.gtm_resource_path}}checkForId(){if("silent"!==this.googleTagManagerMode&&!this.config.id)throw new Error("Google tag manager ID not provided.");return!!this.config.id}getDataLayer(){this.checkForId();const Ot=this.browserGlobals.windowRef();return Ot.dataLayer=Ot.dataLayer||[],Ot.dataLayer}pushOnDataLayer(Ot){this.checkForId(),this.getDataLayer().push(Ot)}addGtmToDom(){return new Promise((Ot,Wt)=>{if(this.isLoaded)return Ot(this.isLoaded);if(!this.checkForId())return Ot(!1);const st=this.browserGlobals.documentRef();this.pushOnDataLayer({"gtm.start":(new Date).getTime(),event:"gtm.js"});const U=st.createElement("script");U.id="GTMscript",U.async=!0,U.src=this.applyGtmQueryParams(this.config.gtm_resource_path?this.config.gtm_resource_path:"https://www.googletagmanager.com/gtm.js"),U.addEventListener("load",()=>Ot(this.isLoaded=!0)),U.addEventListener("error",()=>Wt(!1)),this.googleTagManagerCSPNonce&&U.setAttribute("nonce",this.googleTagManagerCSPNonce),st.head.insertBefore(U,st.head.firstChild)})}pushTag(Ot){return new Promise((Wt,st)=>this.checkForId()?this.isLoaded?(this.pushOnDataLayer(Ot),Wt()):void this.addGtmToDom().then(()=>(this.pushOnDataLayer(Ot),Wt())).catch(()=>st()):Wt())}applyGtmQueryParams(Ot){return-1===Ot.indexOf("?")&&(Ot+="?"),Ot+Object.keys(this.config).filter(Wt=>this.config[Wt]).map(Wt=>`${Wt}=${this.config[Wt]}`).join("&")}static#e=this.\u0275fac=function(Wt){return new(Wt||$t)(bt.LFG(gt,8),bt.LFG("googleTagManagerId",8),bt.LFG("googleTagManagerMode",8),bt.LFG("googleTagManagerAuth",8),bt.LFG("googleTagManagerPreview",8),bt.LFG("googleTagManagerResourcePath",8),bt.LFG("googleTagManagerCSPNonce",8))};static#t=this.\u0275prov=bt.Yz7({token:$t,factory:$t.\u0275fac,providedIn:"root"})}return $t})();var Xe=D(2236),Zt=D(2452),ve=D(91),Ve=D(6491),St=D(2930);let wn=(()=>{class $t{constructor(Ot,Wt,st,U,Se,Vt,en,jn){this.gtmHelper=Ot,this.gtmService=Wt,this.router=st,this.landingService=U,this.manageBookingService=Se,this.activatedRoute=Vt,this.sharedStateService=en,this.cookieService=jn,this.ttDetails=new s.X({}),this.result={},this.previousUrl="",this.currentStep=0,this.dontUpdateCurrentStep=!1,this.userInfo={},this.loadingSubject=new s.X(!0),this.loading$=this.loadingSubject.asObservable()}storeTTdetails(Ot){this.ttDetails.pipe((0,oe.q)(1),(0,c.b)(Wt=>{let st={...Wt};this.isTestType(Ot.navDetails?.name)?(st.testType=Ot.navDetails.name,(Ot?.navDetails?.name===le.v7?.LS_A1||Ot?.navDetails?.name===le.v7?.LS_B1)&&(st.testFormat=null)):this.isTestFormat(Ot.navDetails?.name)?st.testFormat=Ot?.navDetails?.name===le.Rs.NOT_SURE||Ot?.navDetails?.name===le.Rs.NOT_SURE_UKVI?"All":Ot?.navDetails?.name:Ot.testLocationDetails?st.testLocation=Ot.testLocationDetails:Ot.testDateDetails?st.testDate=Ot.testDateDetails:Ot.searchFilterDetails?st.searchFilterDetails=Ot.searchFilterDetails:Ot.selectedLrw&&(st.selectedLrw=Ot.selectedLrw),"/wizard/test-type"===this.router.url&&(st.isUkvi="/wizard/type-ukvi"===Ot?.navDetails?.url),this.setTTdetails(st)})).subscribe()}isTestType(Ot){return[le.v7.IELTS_AC,le.v7.IELTS_GT,le.v7.IELTS_UKVI_AC,le.v7.IELTS_UKVI_GT,le.v7.LS_A1,le.v7.LS_B1].includes(Ot)}isTestFormat(Ot){return[le.Rs.IELTS_ON_PAPER,le.Rs.IELTS_ON_COMPUTER,le.Rs.IELTS_ONLINE,le.Rs.IELTS_UKVI_ON_PAPER,le.Rs.IELTS_UKVI_ON_COMPUTER,le.Rs.NOT_SURE,le.Rs.NOT_SURE_UKVI].includes(Ot)}setTTdetails(Ot){localStorage.setItem(le.dR.TT_DETAILS,JSON.stringify(Ot)),this.ttDetails.next(Ot)}getTestType(Ot){return Ot===le.v7.IELTS_AC||Ot===le.v7.IELTS_GT?(this.result={testModule:Ot===le.v7.IELTS_AC?le.e3.ACADEMIC:le.e3.GENERAL_TRAINING,testCategory:le.MI.IELTS},this.result):Ot===le.v7.IELTS_UKVI_AC||Ot===le.v7.IELTS_UKVI_GT?(this.result={testModule:Ot===le.v7.IELTS_UKVI_AC?le.e3.ACADEMIC:le.e3.GENERAL_TRAINING,testCategory:le.MI.IELTS_UKVI},this.result):Ot===le.v7.LS_A1||Ot===le.v7.LS_B1?(this.result={testModule:Ot===le.v7.LS_A1?le.e3.A1:le.e3.B1,testCategory:le.MI.LIFE_SKILLS},this.result):void 0}mainProductInclude(Ot){return Wt=>Ot.toLowerCase().includes(Wt.toLowerCase())}extractGeneralOrAcademic(Ot){const Wt=this.mainProductInclude(Ot);return Wt("GT")||Wt("General Training")?le.Y.General:Wt("AC")||Wt("Academic")?le.Y.Academic:"-"}getLocalStorageValue(Ot){const Wt=localStorage.getItem(Ot);return Wt?JSON.parse(Wt):""}getSessionStorageValue(Ot,Wt){const st=sessionStorage.getItem(Ot);return Wt&&st?JSON.parse(st):st||""}clearSessionStorageValue(Ot){sessionStorage.removeItem(Ot)}clearAllSessionStorage(){sessionStorage.clear()}clearAllLocalStorage(){localStorage.clear()}clearLocalStorageValue(Ot){localStorage.removeItem(Ot),this.clearTTdetails(Ot)}clearTTdetails(Ot){Ot===le.dR.TT_DETAILS&&(this.ttDetails.next({}),this.router.navigate(["/wizard"]))}getTestFormat(){return this.ttData=this.getLocalStorageValue(le.dR.TT_DETAILS),this.ttData?.testFormat===le.Rs.IELTS_ON_PAPER||this.ttData?.testFormat===le.Rs.IELTS_UKVI_ON_PAPER?[me.iQ.Pb]:this.ttData?.testFormat===le.Rs.IELTS_ON_COMPUTER||this.ttData?.testFormat===le.Rs.IELTS_UKVI_ON_COMPUTER?[me.iQ.Cd]:[]}getContentfulDetailsApi(Ot){const Wt=Ot?.split("?");this.landingService?.getContentfulData("",this.selectedLang?.code||"en-GB",Wt?.length?Wt[0]:Ot).subscribe({next:st=>{this.trackGa4(ae.dS.eventName.pagenav,st?.pageName),this.getLanguages(st),this.manageBookingService.particularPageData.next(st)}})}trackGa4(Ot,Wt,st){const U=this.getConsentGroupsMatch(),Se=this.gtmHelper.getGtmEvents(Ot,Wt,st,this.previousUrl,this.currentStep,U);this.gtmService.pushTag(Se)}getConsentGroupsMatch(){const Wt=this.getCookieValue().match(/groups=([^&]*)/),st=[];return Wt?.length&&decodeURIComponent(Wt[1]).split(",").forEach(U=>{U?.includes(":1")&&st.push(U?.split(":")[0])}),st?.length?","+st.join(",")+",":",C0001,C0004,C0003,C0002,"}getCookieValue(){return document.cookie.split("; ").find(Wt=>Wt.startsWith("OptanonConsent="))||""}getLanguages(Ot){if(Ot?.languages?.length){const Wt=Ot.languages.filter(st=>st?.code===this.selectedLang?.code);this.selectedLang=Wt?.length?Wt[0]:Ot?.languages[0],sessionStorage.setItem(le.dR.SELECTED_LANG,JSON.stringify(this.selectedLang))}else this.selectedLang=void 0,this.clearSessionStorageValue(le.dR.SELECTED_LANG)}setLang(Ot){this.selectedLang=Ot,localStorage.setItem(le.dR.SELECTED_LANG,JSON.stringify(Ot))}isObjNotEmpty(Ot){return Ot&&Object.keys(Ot)?.length}updateCurrentStep(Ot){this.dontUpdateCurrentStep?this.dontUpdateCurrentStep=!1:(this.dontUpdateCurrentStep=!!Ot,this.currentStep=Ot?this.currentStep-1:this.currentStep+1)}loadScript(Ot,Wt,st,U){return new Promise((Se,Vt)=>{const en=document.createElement("script");en.src=Ot,en.setAttribute("type",Wt),en.setAttribute("charset",st),en.setAttribute("data-domain-script",U),en.onload=()=>{this.initOptanonWrapper(),Se()},en.onerror=jn=>{Vt(jn)},document.head.appendChild(en)})}initOptanonWrapper(){window.OptanonWrapper=function(){}}getUTM(Ot){return this.activatedRoute.queryParams.subscribe(Wt=>{if(this.isObjNotEmpty(Wt)&&!sessionStorage.getItem(le.cf.UTM_VALUE)){const{utm_source:st,utm_medium:U,utm_campaign:Se,utm_id:Vt,utm_term:en,utm_content:jn,u_src:Mi,u_mdm:dn,u_cmp:Pn,u_id:qn,u_trm:ti,u_cnt:qi}=Wt,to={u_src:st||Mi,u_mdm:U||dn,u_cmp:Se||Pn,u_id:Vt||qn,u_trm:en||ti,u_cnt:jn||qi};"{}"!=JSON.stringify(to)&&sessionStorage.setItem(le.cf.UTM_VALUE,JSON.stringify(to))}}),this.formUTM(Ot)}setOrGetClickIdInCookie(){return new T.y(Ot=>{let Wt=!1;const st=window.location.search,U=new URLSearchParams(st),Se=U.get("s2s_fbc"),Vt=U.get("s2s_fbp"),en=U.get("s2s_ga"),jn=U.get("s2s_gac");let Mi="";if(!this.cookieService.get(le.RY.CLICK_ID_VALUE))if(Se||Vt||en||jn)Mi+=this.formClickIdParams(Se,"s2s_fbc"),Mi+=this.formClickIdParams(Vt,"s2s_fbp"),Mi+=this.formClickIdParams(en,"s2s_ga"),Mi+=this.formClickIdParams(jn,"s2s_gac"),Mi&&this.cookieService.put(le.RY.CLICK_ID_VALUE,Mi);else{Wt=!0;const dn=this.cookieService.get(le.RY.FBC),Pn=this.cookieService.get(le.RY.FBP),qn=this.cookieService.get(le.RY.GA),ti=qn?this.extractGaValue(qn):null,qi=this.getGaContainerValue(J.site.gaContainer);Mi+=this.formClickIdParams(dn,"s2s_fbc"),Mi+=this.formClickIdParams(Pn,"s2s_fbp"),Mi+=this.formClickIdParams(ti,"s2s_ga"),Mi+=this.formClickIdParams(qi,"s2s_gac"),Mi&&this.cookieService.put(le.RY.CLICK_ID_VALUE,Mi)}Ot.next(Wt),Ot.complete()})}considerFbClickIds(){const Ot=setInterval(()=>{const Wt=this.cookieService.get(le.RY.FBP),st=this.cookieService.get(le.RY.FBC);(Wt||st)&&this.updateClickIdWithParams(Wt,st),Wt&&st&&clearInterval(Ot)},100)}updateClickIdWithParams(Ot,Wt){let st=this.cookieService.get(le.RY.CLICK_ID_VALUE)||"";const U=new Set(st.split("&"));Wt&&!U.has(`s2s_fbc=${Wt}`)&&U.add(`s2s_fbc=${Wt}`),Ot&&!U.has(`s2s_fbp=${Ot}`)&&U.add(`s2s_fbp=${Ot}`),st=Array.from(U).join("&"),this.cookieService.put(le.RY.CLICK_ID_VALUE,st)}formClickIdParams(Ot,Wt){return Ot&&"null"!==Ot?`&${Wt}=${encodeURIComponent(Ot)}`:""}appendQueryParams(Ot,Wt){return re()(Ot,{queryParams:Wt})}formUTM(Ot){const Wt=this.getSessionStorageValue(le.cf.UTM_VALUE)||"";return Wt?JSON.parse(Wt):{}}formClickIds(Ot){const Wt=this.cookieService.get(le.RY.CLICK_ID_VALUE)??"";if(Wt){const st=new URLSearchParams(Wt),U={};return st.forEach((Se,Vt)=>{U[Vt]=Se}),U}return{}}formUtmAndClickId(Ot){const U={...this.formUTM(Ot),...this.formClickIds(Ot)};return Object.keys(U)?.length>0?this.appendQueryParams(Ot,U):Ot}getUtmAndClickId(Ot){const U={...this.getUTM(Ot),...this.formClickIds(Ot)};return Object.keys(U)?.length>0?this.appendQueryParams(Ot,U):Ot}getToggleValue(Ot){return this.sharedStateService.getState().pipe((0,V.U)(Wt=>Ot?!(!Wt||!Wt[Ot]):Wt),(0,ie.K)(()=>(0,Te.of)(!1)))}getUkviPopupDetailsApi(Ot){return this.landingService?.getContentfulData("",this.selectedLang?.code||"en-GB",Ot).pipe((0,V.U)(Wt=>Wt))}extractGaValue(Ot){if(!Ot)return null;const Wt=Ot.split(".");return Ot.startsWith("GA1.1.")&&Wt.length>=4?Wt[2]+"."+Wt[3]:Ot.startsWith("GS1.1.")&&Wt.length>=3?Wt[2]:null}getGaContainerValue(Ot){const Wt=this.cookieService.get(Ot);return Wt?this.extractGaValue(Wt):null}getUserInfo(){var Ot=this;return(0,a.Z)(function*(){if(yield Ot.getToken())try{const st=yield ut(fe.d);return Ot.userInfo=st,st}catch{Ot.userInfo={}}finally{Ot.loadingSubject.next(!1)}else Ot.userInfo={},Ot.loadingSubject.next(!1);return Ot.userInfo})()}signIntoAccount(){var Ot=this;return(0,a.Z)(function*(){if(yield Ot.getToken())window.location.href=J?.site?.oneAccountUrl+"/dashboard";else{const st=window.location.href;Ot.setSsoCookie("referrerUrl",st),Ot.setSsoCookie("previousPageUrl",st),window.location.replace(J.site.oneAccountUrl)}})()}getUserInitial(){return this.userInfo?.name?.split(" ")[0]||""}isInvalidUser(){const Ot="string"==typeof this.userInfo?.sub&&""!==this.userInfo?.sub.trim(),Wt=this.userInfo?.name,st=!Wt||""===Wt.trim()||/^[0-9a-fA-F]+$/.test(Wt);return Ot&&st}setSsoCookie(Ot,Wt){const st="localhost"===window.location.hostname,U=st?"":"Secure;",Se=st?"lax":"strict";document.cookie=`${Ot}=${encodeURIComponent(Wt)}; path=/; domain=${J.site.envSubDomain}; ${U} SameSite=${Se}`}getToken(){return(0,a.Z)(function*(){try{return(yield Ce(fe.d,void 0))?.tokens?.idToken?.toString()||""}catch(Ot){return console.log(Ot),""}})()}getCookie(Ot){const Wt=document.cookie.split("; ");for(const st of Wt){const[U,...Se]=st.split("=");if(U===Ot)return Se.join("=")}return null}static#e=this.\u0275fac=function(Wt){return new(Wt||$t)(bt.LFG(Qe.G),bt.LFG(yt),bt.LFG(Xe.F0),bt.LFG(Zt.IR),bt.LFG(ve.h),bt.LFG(Xe.gz),bt.LFG(Ve.G),bt.LFG(St.N_))};static#t=this.\u0275prov=bt.Yz7({token:$t,factory:$t.\u0275fac,providedIn:"root"})}return $t})()},1231:(Dt,Le,D)=>{"use strict";D.d(Le,{L:()=>oe,dS:()=>a,iH:()=>s});const a={eventName:{events:"Events",eventsGa4:"events_ga4",pagenav:"Pagenav"},category:{speakingReservenow:"Speaking Reserve now",reviewBooking:"Review Booking",continueButton:"Continue Button",selectAndContinue:"Select and continue"},pageName:{welcomeToIeltsOnline:"Welcome to IELTS Online",selectSpeaking:"Select Speaking"},common:{na:"na",english:"English",anonymous:"anonymous",v2:"V2",loggedIn:"logged in",loggedOut:"logged out"},websiteName:{bxSearch:"BX Search"}},s={h2:{wizardH2testDate:"wizard-h2-Test_date_",testDateLSa1:"wizard-h2-Test_date_Life_Skills_A1",testDateLSb1:"wizard-h2-Test_date_Life_Skills_B1",testDateNotSureUkvi:"wizard-h2-Test_date_Not_sure_Ukvi",testDateNotSure:"wizard-h2-Test_date_Not_sure"}},oe={common:{na:"NA",no:"N",yes:"Y",ieltsDesktopSites:"IELTS_Desktop_Sites",ieltsBxSearch:"IELTS BXSearch"},pageName:{onboarding_page:"Onboarding page",testTypePage:"Test Type Page"},eventType:{pageViewed:"PageViewed",buttonClicked:"ButtonClicked"},sectionName:{journey_type:"Journey type",testType:"Test type",TestTypeUKVI:"TestTypeUKVI"},functionalityName:{bX_Onboarding:"BX Onboarding",TestTypePage:"TestTypePage",TestTypeUKVI:"TestTypeUKVI"},actionType:{engagement:"Engagement",interaction:"Interaction"},testTypes:{findAnIeltsTestSession:"Find an IELTS test session",ieltsAcademic:"IELTS Academic",ieltsGeneralTraining:"IELTS General Training",ukvi:"UKVI",ieltsForUkviAcademic:"IELTS for UKVI (Academic)"}}},4379:(Dt,Le,D)=>{"use strict";D.d(Le,{Bl:()=>re,Cl:()=>ke,EK:()=>me,MI:()=>ie,R:()=>J,RY:()=>T,Rs:()=>s,Rz:()=>le,Y:()=>be,c9:()=>ae,cf:()=>c,dR:()=>oe,e3:()=>Te,pL:()=>fe,v7:()=>a,zj:()=>V});var a=function(Ce){return Ce.IELTS_AC="IELTS Academic",Ce.IELTS_GT="IELTS General Training",Ce.IELTS_UKVI_AC="IELTS for UKVI (Academic)",Ce.IELTS_UKVI_GT="IELTS for UKVI (General Training)",Ce.LS_A1="Life Skills A1",Ce.LS_B1="Life Skills B1",Ce.ALL_TT="All test types",Ce.IELTS_UKVI_AC_WITHOUT_BRACKET="IELTS UKVI Academic",Ce.IELTS_UKVI_GT_WITHOUT_BRACKET="IELTS UKVI General Training",Ce.IELTS_UKVI_LS_A1="IELTS UKVI Life Skills A1",Ce.IELTS_UKVI_LS_B1="IELTS UKVI Life Skills B1",Ce}(a||{}),s=function(Ce){return Ce.IELTS_ON_PAPER="IELTS on Paper",Ce.IELTS_ON_COMPUTER="IELTS on Computer",Ce.IELTS_UKVI_ON_PAPER="IELTS on Paper UKVI",Ce.IELTS_UKVI_ON_COMPUTER="IELTS on Computer UKVI",Ce.IELTS_ONLINE="IELTS Online",Ce.NOT_SURE="Not sure",Ce.NOT_SURE_UKVI="Not sure Ukvi",Ce.ALL="All",Ce.ALL_TF="All test formats",Ce.ON_COMPUTER="On computer",Ce.ON_PAPER="On paper",Ce}(s||{}),oe=function(Ce){return Ce.TT_DETAILS="ttDetails",Ce.SELECTED_LANG="selectedLang",Ce.FILTER_RESPONSE="filterResponse",Ce.RPT_REFRESHED="isRPTRefreshed",Ce.SPEAKING_DETAILS="speakingDetails",Ce.SOURCE_URL="sourceUrl",Ce.RP_LINK="rpLink",Ce.RPT_FILTER_DETAILS_AVAILABLE="rptFilterDetailsAvailable",Ce}(oe||{}),c=function(Ce){return Ce.UTM_VALUE="utmValue",Ce}(c||{}),T=function(Ce){return Ce.CLICK_ID_VALUE="click_id_value",Ce.CLIENT_TRACKING="client_tracking",Ce.GA="_ga",Ce.FBP="_fbp",Ce.FBC="_fbc",Ce}(T||{}),V=function(Ce){return Ce.EARLIEST_DATE="Earliest date",Ce.LATEST_DATE="Latest date",Ce.AM="AM",Ce.PM="PM",Ce.ANY="ANY",Ce}(V||{}),ie=function(Ce){return Ce.IELTS="IELTS",Ce.IELTS_UKVI="IELTS_UKVI",Ce.LIFE_SKILLS="LIFE_SKILLS",Ce}(ie||{}),Te=function(Ce){return Ce.ACADEMIC="ACADEMIC",Ce.GENERAL_TRAINING="GENERAL_TRAINING",Ce.A1="A1",Ce.B1="B1",Ce}(Te||{}),le=function(Ce){return Ce.TEST_TYPE_LABEL="TEST_TYPE_LABEL",Ce.TEST_FORMAT_LABEL="TEST_FORMAT_LABEL",Ce.TEST_CENTRE_LABEL="TEST_CENTRE_LABEL",Ce.LIST_VIEW_LABEL="LIST_VIEW_LABEL",Ce.MAP_VIEW_LABEL="MAP_VIEW_LABEL",Ce.SORT_LABEL="SORT_LABEL",Ce.SORT_LIST_LABEL="SORT_LIST_LABEL",Ce.P_TEST_CENTRE_LABEL="P_TEST_CENTRE_LABEL",Ce.FILTER_LABEL="FILTER_LABEL",Ce.BACK_LABEL="BACK_LABEL",Ce.DISPLAY_LABEL="DISPLAY_LABEL",Ce.TIME_PREFERENCE_LABEL="TIME_PREFERENCE_LABEL",Ce.DECIDE_LABEL="DECIDE_LABEL",Ce.SORT_FILTER_LABEL="SORT_FILTER_LABEL",Ce.FILTER_BY_LABEL="FILTER_BY_LABEL",Ce.TT_LABEL="TT_LABEL",Ce.SELECT_TT_LABEL="SELECT_TT_LABEL",Ce.TF_LABEL="TF_LABEL",Ce.SELECT_TF_LABEL="SELECT_TF_LABEL",Ce.SELECT_LOCATION_LABEL="SELECT_LOCATION_LABEL",Ce.TEST_LOCATION_LABEL="TEST_LOCATION_LABEL",Ce.TEST_DATE_LABEL="TEST_DATE_LABEL",Ce.SELECT_DATE_LABEL="SELECT_DATE_LABEL",Ce.COUNTRY_LABEL="COUNTRY_LABEL",Ce.CITY_LABEL="CITY_LABEL",Ce.DATE_RANGE_LABEL="DATE_RANGE_LABEL",Ce.SELECTED_LABEL="SELECTED_LABEL",Ce.SELECT_LABEL="SELECT_LABEL",Ce.CONFIRM_SPEAKING_LABEL="CONFIRM_SPEAKING_LABEL",Ce.SPEAKING_RANGE_LABEL="SPEAKING_RANGE_LABEL",Ce.SPEAKING_LABEL="SPEAKING_LABEL",Ce.WRITTEN_LABEL="WRITTEN_LABEL",Ce.P_TITLE_LABEL="P_TITLE_LABEL",Ce.NAVCARD_LIST_LABEL="NAVCARD_LIST_LABEL",Ce.POPUP_TITLE_LABEL="POPUP_TITLE_LABEL",Ce.TERMS_CONDITION_LABEL="TERMS_CONDITION_LABEL",Ce}(le||{}),me=function(Ce){return Ce.CONFIRM_BUTTON="CONFIRM_BUTTON",Ce.CLEAR_BUTTON="CLEAR_BUTTON",Ce.SEARCH_BUTTON="SEARCH_BUTTON",Ce.CANCEL_BUTTON="CANCEL_BUTTON",Ce.CHANGE_BUTTON="CHANGE_BUTTON",Ce.CONTINUE_BUTTON="CONTINUE_BUTTON",Ce.CLOSE_BUTTON="CLOSE_BUTTON",Ce}(me||{}),ae=function(Ce){return Ce.AFTER_WRITTEN_TEST="After written test",Ce.BEFORE_WRITTEN_TEST="Before written test",Ce.SAME_DAY="Same day",Ce}(ae||{}),be=function(Ce){return Ce.Academic="IELTS Academic",Ce.General="IELTS General Training",Ce}(be||{});function re(Ce){return{[a.IELTS_GT]:"IELTS,GT",[a.IELTS_AC]:"IELTS,AC",[a.IELTS_UKVI_GT]:"IELTS_UKVI,GT",[a.IELTS_UKVI_AC]:"IELTS_UKVI,AC",[a.LS_A1]:"LIFE_SKILLS,A1",[a.LS_B1]:"LIFE_SKILLS,B1"}[Ce]||""}const J=Ce=>({"IELTS,GT":"IELTS General Training","IELTS,AC":"IELTS Academic","IELTS_UKVI,GT":"IELTS for UKVI (General Training)","IELTS_UKVI,AC":"IELTS for UKVI (Academic)","LIFE_SKILLS,A1":"Life Skills A1","LIFE_SKILLS,B1":"Life Skills B1","IELTS,GENERAL_TRAINING":"IELTS General Training","IELTS,ACADEMIC":"IELTS Academic","IELTS_UKVI,GENERAL_TRAINING":"IELTS for UKVI (General Training)","IELTS_UKVI,ACADEMIC":"IELTS for UKVI (Academic)"}[Ce]||""),fe={[le.TEST_TYPE_LABEL]:"testTypeLabel",[le.TEST_FORMAT_LABEL]:"testFormatLabel",[le.TEST_CENTRE_LABEL]:"testCentreLabel",[le.LIST_VIEW_LABEL]:"listViewLabel",[le.MAP_VIEW_LABEL]:"mapViewLabel",[le.SORT_LABEL]:"sortLabel",[le.SORT_LIST_LABEL]:"sortListLabel",[le.P_TEST_CENTRE_LABEL]:"pTestCentreLabel",[le.FILTER_LABEL]:"filterLabel",[le.BACK_LABEL]:"backLabel",[le.DISPLAY_LABEL]:"displayLabel",[le.TIME_PREFERENCE_LABEL]:"timePreference",[le.DECIDE_LABEL]:"decide",[le.SORT_FILTER_LABEL]:"sortFilter",[le.FILTER_BY_LABEL]:"filterBy",[le.TT_LABEL]:"ttLabel",[le.SELECT_TT_LABEL]:"selectTTlabel",[le.TF_LABEL]:"tFLabel",[le.SELECT_TF_LABEL]:"selectTFlabel",[le.SELECT_LOCATION_LABEL]:"selectLocationLabel",[le.TEST_LOCATION_LABEL]:"testLocationLabel",[le.TEST_DATE_LABEL]:"testDateLabel",[le.SELECT_DATE_LABEL]:"selectDateLabel",[le.COUNTRY_LABEL]:"countryLabel",[le.CITY_LABEL]:"cityLabel",[le.DATE_RANGE_LABEL]:"dateRangeLabel",[le.SELECTED_LABEL]:"selectedLabel",[le.P_TITLE_LABEL]:"bookaTestLabel"};var ke=function(Ce){return Ce.UKVI_INFO_NAME="GOV.UK official website",Ce.SPL_ACS_ARR_NAME="Special assistance bookings",Ce.IMMIGRATION_SLUG="/session-listing/get-help/ukvi/immigration",Ce}(ke||{})},2259:(Dt,Le,D)=>{"use strict";D.d(Le,{t:()=>Nt});var a=D(6814),s=D(4379),oe=D(1342),c=D.n(oe),T=D(9767),V=D(1756),ie=D(8180),le=(D(2614),D(1374)),me=D(9397),ae=D(5879),be=D(91),re=D(9582),J=D(2236),fe=D(8425),ke=D(6491),Ce=D(2930);function we(an,bt){if(1&an){const Qe=ae.EpF();ae.TgZ(0,"button",20)(1,"img",21),ae.NdJ("click",function(){ae.CHM(Qe);const gt=ae.oxw(2);return ae.KtG(gt.back())}),ae.qZA()()}}function he(an,bt){if(1&an&&ae._UZ(0,"app-language-switcher",22),2&an){const Qe=ae.oxw(2);ae.Q6J("pageData",Qe.pageData)("page","onBoarding")}}function A(an,bt){if(1&an&&(ae.TgZ(0,"span",26),ae._uU(1),ae.qZA()),2&an){const Qe=ae.oxw(3);ae.xp6(1),ae.Oqu(Qe.userInitial.charAt(0))}}function pe(an,bt){if(1&an){const Qe=ae.EpF();ae.ynx(0),ae.TgZ(1,"button",23),ae.NdJ("click",function(){ae.CHM(Qe);const gt=ae.oxw(2);return ae.KtG(gt.onClickAccount())}),ae._UZ(2,"img",24),ae.YNc(3,A,2,1,"span",25),ae.qZA(),ae.BQk()}if(2&an){const Qe=ae.oxw(2);ae.xp6(1),ae.Q6J("ngClass",!Qe.isInvalidUser&&Qe.userInitial?"loggedIn":"")("title",Qe.isInvalidUser||Qe.userInitial?"Dashboard":"Sign-in"),ae.xp6(2),ae.Q6J("ngIf",!Qe.isInvalidUser&&Qe.userInitial)}}function ge(an,bt){if(1&an&&(ae.TgZ(0,"div",28),ae._uU(1),ae.qZA()),2&an){const Qe=ae.oxw().$implicit;ae.xp6(1),ae.Oqu(null==Qe?null:Qe.displayText)}}function pt(an,bt){if(1&an&&(ae.TgZ(0,"div"),ae.YNc(1,ge,2,1,"div",27),ae.qZA()),2&an){const Qe=bt.$implicit;ae.xp6(1),ae.Q6J("ngIf","WELCOME_LABEL"===(null==Qe?null:Qe.options))}}function Pe(an,bt){if(1&an&&(ae.TgZ(0,"div")(1,"p")(2,"a",29),ae._uU(3),ae._UZ(4,"img",30),ae.qZA()()()),2&an){const Qe=ae.oxw(2);ae.xp6(2),ae.uIk("href",null==Qe.pageData||null==Qe.pageData.leftNavigation||null==Qe.pageData.leftNavigation.callToAction?null:Qe.pageData.leftNavigation.callToAction.primaryCtaUrl,ae.LSH),ae.xp6(1),ae.Oqu(null==Qe.pageData||null==Qe.pageData.leftNavigation||null==Qe.pageData.leftNavigation.callToAction?null:Qe.pageData.leftNavigation.callToAction.primaryCtaLabel)}}function Be(an,bt){if(1&an&&ae._UZ(0,"div",35),2&an){const Qe=ae.oxw().$implicit;ae.Q6J("innerHTML",null==Qe?null:Qe.displayText,ae.oJD)}}function rt(an,bt){if(1&an&&(ae.TgZ(0,"div",33),ae.YNc(1,Be,1,1,"div",34),ae.qZA()),2&an){const Qe=bt.$implicit;ae.xp6(1),ae.Q6J("ngIf","TERMS_CONDITION_LABEL"===(null==Qe?null:Qe.options))}}function wt(an,bt){if(1&an&&(ae.TgZ(0,"div",31),ae.YNc(1,rt,2,1,"div",32),ae.qZA()),2&an){const Qe=ae.oxw(2);ae.xp6(1),ae.Q6J("ngForOf",null==Qe.pageData?null:Qe.pageData.labels)}}function It(an,bt){if(1&an&&(ae.TgZ(0,"div"),ae._uU(1),ae.qZA()),2&an){const Qe=ae.oxw().$implicit;ae.xp6(1),ae.Oqu(null==Qe?null:Qe.displayText)}}function Ie(an,bt){if(1&an&&(ae.TgZ(0,"div",43),ae._uU(1),ae.qZA()),2&an){const Qe=ae.oxw().$implicit;ae.xp6(1),ae.Oqu(null==Qe?null:Qe.displayText)}}function L(an,bt){if(1&an&&(ae.TgZ(0,"div",41),ae.YNc(1,It,2,1,"div",9),ae.YNc(2,Ie,2,1,"div",42),ae.qZA()),2&an){const Qe=bt.$implicit;ae.xp6(1),ae.Q6J("ngIf","PROGRESS_LABEL"===(null==Qe?null:Qe.options)),ae.xp6(1),ae.Q6J("ngIf","PROGRESS_TYPE_LABEL"===(null==Qe?null:Qe.options))}}function Oe(an,bt){if(1&an&&(ae.TgZ(0,"div",36)(1,"div",37)(2,"div",38),ae.YNc(3,L,3,2,"div",39),ae.qZA(),ae._UZ(4,"ngb-progressbar",40),ae.qZA()()),2&an){const Qe=ae.oxw(2);ae.xp6(3),ae.Q6J("ngForOf",null==Qe.pageData?null:Qe.pageData.labels),ae.xp6(1),ae.Q6J("value",25*Qe.progressBarCount)}}function ut(an,bt){if(1&an&&(ae.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),ae.YNc(5,we,2,0,"button",6),ae.TgZ(6,"div",7),ae.YNc(7,he,1,2,"app-language-switcher",8),ae.YNc(8,pe,4,3,"ng-container",9),ae.ALo(9,"async"),ae.qZA()(),ae.TgZ(10,"div",10)(11,"div",11)(12,"h1")(13,"div",12),ae.YNc(14,pt,2,1,"div",13),ae.TgZ(15,"div"),ae._uU(16),ae.qZA()()()(),ae.TgZ(17,"div",14),ae._UZ(18,"div",15),ae.YNc(19,Pe,5,2,"div",9),ae.qZA(),ae._UZ(20,"div",16),ae.qZA(),ae.TgZ(21,"div",17),ae.YNc(22,wt,2,1,"div",18),ae.YNc(23,Oe,5,2,"div",19),ae.qZA()()()()()),2&an){const Qe=ae.oxw();ae.Q6J("ngClass","/wizard"===(null==Qe.pageData?null:Qe.pageData.urlSlug)?"landing-page":""),ae.xp6(5),ae.Q6J("ngIf","/wizard"!==(null==Qe.pageData?null:Qe.pageData.urlSlug)),ae.xp6(2),ae.Q6J("ngIf",Qe.langSwitcher&&(null==Qe.pageData||null==Qe.pageData.languages?null:Qe.pageData.languages.length)),ae.xp6(1),ae.Q6J("ngIf",Qe.enableProfileIcon&&!ae.lcZ(9,12,Qe.commonService.loading$)),ae.xp6(4),ae.Q2q("datatracking-id","wizard-h1-",null==Qe.pageData||null==Qe.pageData.leftNavigation||null==Qe.pageData.leftNavigation.name?null:Qe.pageData.leftNavigation.name.replaceAll(" ","_"),""),ae.xp6(2),ae.Q6J("ngForOf",null==Qe.pageData?null:Qe.pageData.labels),ae.xp6(1),ae.Q2q("datatracking-id","wizard-section-",null==Qe.pageData||null==Qe.pageData.leftNavigation||null==Qe.pageData.leftNavigation.name?null:Qe.pageData.leftNavigation.name.replaceAll(" ","_"),""),ae.xp6(1),ae.hij(" ",null==Qe.pageData||null==Qe.pageData.leftNavigation?null:Qe.pageData.leftNavigation.title,""),ae.xp6(2),ae.Q6J("innerHtml",null==Qe.pageData||null==Qe.pageData.leftNavigation?null:Qe.pageData.leftNavigation.description,ae.oJD),ae.xp6(1),ae.Q6J("ngIf",null==Qe.pageData||null==Qe.pageData.leftNavigation||null==Qe.pageData.leftNavigation.callToAction?null:Qe.pageData.leftNavigation.callToAction.primaryCtaLabel),ae.xp6(3),ae.Q6J("ngIf","/wizard"===(null==Qe.pageData?null:Qe.pageData.urlSlug)),ae.xp6(1),ae.Q6J("ngIf",Qe.pageData&&"/wizard"!==(null==Qe.pageData?null:Qe.pageData.urlSlug))}}let Nt=(()=>{class an{constructor(Qe,jt,gt,yt,at,Xe,Zt){this.manageBookingService=Qe,this.location=jt,this.commonService=gt,this.router=yt,this.onetrust=at,this.sharedStateService=Xe,this.cookieService=Zt,this.progressBarCount=0,this.enableProfileIcon=!1}ngOnInit(){this.commonService.getUserInfo(),this.getPageDetails(),this.commonService.ttDetails?.pipe((0,ie.q)(1)).subscribe({next:Qe=>this.ttDetails=Qe}),this.isEnabled(),this.sharedStateService.getState().pipe((0,le.P)()).subscribe(Qe=>{this.enableProfileIcon=!!Qe.enableProfileIcon})}isEnabled(){this.commonService.getToggleValue("enableLanguageSwitcher").pipe((0,le.P)()).subscribe(Qe=>{this.langSwitcher=Qe})}onClickAccount(){this.commonService.signIntoAccount()}get userInitial(){return this.commonService.getUserInitial()}get isInvalidUser(){return this.commonService.isInvalidUser()}getPageDetails(){this.manageBookingService.particularPageData.subscribe(Qe=>{this.commonService.isObjNotEmpty(Qe)&&(this.pageData=Qe,this.progressBarCount="wizard"!==this.pageData?.urlSlug?this.manageBookingService.getMobileProgressBarCount(this.pageData?.labels):0,"/wizard"===this.pageData?.urlSlug&&this.pageData?.labels?.length&&this.onetrust.waitForCookies().subscribe(jt=>{if(jt&&(this.handleImarketingDetails(),this.pageData?.labels.forEach(gt=>{gt&&gt?.options===s.Rz.TERMS_CONDITION_LABEL&&(gt.displayText=gt?.displayText?.replace("{{termsAndConditionsUrl}}",this.commonService.getUtmAndClickId("https://ielts.idp.com/legal-notices#ielts-test-and-payment-terms-and-conditions")),gt.displayText=gt?.displayText?.replace("{{privacyUrl}}",this.commonService.getUtmAndClickId("https://ielts.idp.com/legal-notices#ielts-australia-privacy-policy")))}),this.pageData?.leftNavigation?.callToAction?.primaryCtaUrl)){const gt=this.commonService.getUtmAndClickId(this.pageData.leftNavigation.callToAction.primaryCtaUrl);this.pageData.leftNavigation.callToAction.primaryCtaUrl=gt}}),this.formUtmLongDesc())})}handleImarketingDetails(){this.sharedStateService.getState().pipe((0,le.P)()).subscribe(Qe=>{Qe.enableImarketingDetails&&this.commonService.setOrGetClickIdInCookie().pipe((0,me.b)(gt=>{gt&&this.commonService.considerFbClickIds()})).subscribe()})}formUtmLongDesc(){if(this.pageData?.leftNavigation?.description){let Qe=(new DOMParser).parseFromString(this.pageData.leftNavigation.description,"text/html");const jt=sessionStorage.getItem(s.cf.UTM_VALUE)||"{}",gt=c()("/",{queryParams:JSON.parse(jt)})?.replace("/?","")||"";let yt=this.cookieService.get(s.RY.CLICK_ID_VALUE)??"";yt.startsWith("&")&&(yt=yt.substring(1)),Qe&&Qe.querySelectorAll("a").forEach(at=>{if(at.getAttribute("href")?.includes("http")&&at.getAttribute("href")&&!at.getAttribute("href")?.includes(gt)&&!at.getAttribute("href")?.includes(yt)){const Xe=at.getAttribute("href");at.setAttribute("href",this.commonService.getUtmAndClickId(Xe))}}),this.pageData.leftNavigation.description=Qe.body.innerHTML}}back(){const Qe={"/wizard/test-date/ioc":()=>this.router.navigate(["/wizard/test-location"]),"/wizard/test-date-ukvi/ioc":()=>this.router.navigate(["/wizard/test-location-ukvi"]),"/wizard/test-location":()=>{this.navigateTo()},"/wizard/test-location-ukvi":()=>{this.navigateTo()},"/wizard/test-type":()=>this.router.navigate(["/wizard"])};Qe[this.router.url]?Qe[this.router.url]():["/wizard/type-ukvi-ac","/wizard/type-ukvi-gt","/wizard/type-academic","/wizard/type-general-training","/wizard/type-ukvi"].includes(this.router.url)?this.router.navigate(["/wizard/test-type"]):this.location.back()}navigateTo(){this.ttDetails?.testFormat?this.backToSelectedTestFormat():this.router.navigate(["/wizard/test-type"])}backToSelectedTestFormat(){const Qe={[s.v7.IELTS_AC]:"/wizard/type-academic",[s.v7.IELTS_GT]:"/wizard/type-general-training",[s.v7.IELTS_UKVI_AC]:"/wizard/type-ukvi-ac",[s.v7.IELTS_UKVI_GT]:"/wizard/type-ukvi-gt"},jt=this.ttDetails?.testType&&Qe[this.ttDetails.testType];jt?this.router.navigate([jt]):this.location.back()}static#e=this.\u0275fac=function(jt){return new(jt||an)(ae.Y36(be.h),ae.Y36(a.Ye),ae.Y36(re.v),ae.Y36(J.F0),ae.Y36(fe.U),ae.Y36(ke.G),ae.Y36(Ce.N_))};static#t=this.\u0275cmp=ae.Xpm({type:an,selectors:[["app-leftside-panel"]],standalone:!0,features:[ae.jDz],decls:1,vars:1,consts:[["class","left-fieldset flex-column align-items-stretch",3,"ngClass",4,"ngIf"],[1,"left-fieldset","flex-column","align-items-stretch",3,"ngClass"],[1,"new-page-heading"],[1,"legend"],[1,"legend-container","flex-row","flex-lg-column","d-flex"],[1,"header-icons-wrapper","new-mobile-icon-wrapper","ng-star-inserted"],["class","back-icon float-left",4,"ngIf"],[1,"userWrapper","w-100","d-flex"],["class","onboarding",3,"pageData","page",4,"ngIf"],[4,"ngIf"],[1,"new-content","d-flex","flex-lg-column","align-items-stretch","justify-content-center","justify-content-lg-start"],[1,"title"],[1,"new-landing-page-title"],[4,"ngFor","ngForOf"],["id","rich-text-field",1,"subTitle","d-none","d-lg-flex","flex-lg-column"],[3,"innerHtml"],[1,"actions"],[1,"new-bottom-container"],["class","landing-page-tnc w-100 ng-star-inserted",4,"ngIf"],["class","progressBar flexbox flex-column",4,"ngIf"],[1,"back-icon","float-left"],["src","/assets/images/back-button.svg","alt","left-arrow",3,"click"],[1,"onboarding",3,"pageData","page"],[1,"userIcon",3,"ngClass","title","click"],["src","/assets/images/UserWhite-icon.svg","alt","userIcon","width","24","height","24",1,"userimage","w-100","h-100"],["class","user",4,"ngIf"],[1,"user"],["class","subHeading",4,"ngIf"],[1,"subHeading"],["target","_blank"],["src","https://images.ctfassets.net/unrdeg6se4ke/5Ta1xwa2vqRSqJYRHxgxaV/584cc5b85b0995fea4026bfafdd27db7/new_tab.svg","alt","CheckWhoAcceptsIeltshere-icon"],[1,"landing-page-tnc","w-100","ng-star-inserted"],["class","new-term-and-condition",4,"ngFor","ngForOf"],[1,"new-term-and-condition"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"progressBar","flexbox","flex-column"],[1,"flexbox","flex-column-reverse","flex-lg-column","flex-xl-column"],[1,"flexbox","justify-content-lg-between","justify-content-center"],["class","progress-wrapper",4,"ngFor","ngForOf"],["id","progressBar",3,"value"],[1,"progress-wrapper"],["class","currentStepName",4,"ngIf"],[1,"currentStepName"]],template:function(jt,gt){1&jt&&ae.YNc(0,ut,24,14,"div",0),2&jt&&ae.Q6J("ngIf",gt.pageData)},dependencies:[a.ez,a.mk,a.sg,a.O5,a.Ov,T.a,V.ZQ,V.Ly],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-dark[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}.flexbox[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%]{list-style:none}.left-fieldset[_ngcontent-%COMP%]{display:flex;max-height:-moz-fit-content;max-height:fit-content;background-color:#f5f5f5}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]{max-width:unset;position:relative;width:100%;background:#A61242;padding:1.77777rem 1.33333rem 2.16666rem;display:flex}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{display:flex;background-repeat:no-repeat;color:#fff;line-height:1.4444444444rem;margin-bottom:0;padding-left:0;width:100%;justify-content:center}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]{position:relative;width:100%}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]{flex-grow:1;margin-left:-1.3333333333rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:3}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .new-landing-page-title[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1111111111rem;color:#fff;word-break:break-word;max-width:13.8888888889rem;text-align:center;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:3}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .new-landing-page-title[_ngcontent-%COMP%]   .subHeading[_ngcontent-%COMP%]{font-weight:500;font-size:1.25rem;display:none}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .header-icons-wrapper[_ngcontent-%COMP%]   .userWrapper[_ngcontent-%COMP%]{position:absolute;gap:.3636363636rem;right:0}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .header-icons-wrapper[_ngcontent-%COMP%]   .userWrapper[_ngcontent-%COMP%]   .userIcon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:transparent;border:none;width:1.1111111111rem;height:1.1111111111rem;box-shadow:0 .035rem .0694444444rem #1018280d}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .header-icons-wrapper[_ngcontent-%COMP%]   .userWrapper[_ngcontent-%COMP%]   .userIcon[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{color:#333541;font-weight:600;display:none;font-size:.5555555556rem;line-height:.6944444444rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .header-icons-wrapper[_ngcontent-%COMP%]   .userWrapper[_ngcontent-%COMP%]   .userIcon.loggedIn[_ngcontent-%COMP%]{background:#fff;border-radius:50%}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .header-icons-wrapper[_ngcontent-%COMP%]   .userWrapper[_ngcontent-%COMP%]   .userIcon.loggedIn[_ngcontent-%COMP%]   .userimage[_ngcontent-%COMP%]{display:none}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .header-icons-wrapper[_ngcontent-%COMP%]   .userWrapper[_ngcontent-%COMP%]   .userIcon.loggedIn[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-mobile-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-mobile-icon-wrapper[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{color:#fff;cursor:pointer;height:.7777777778rem;width:1.3333333333rem;padding:0;background:transparent;position:relative;z-index:1}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-mobile-icon-wrapper[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;display:block;object-fit:cover}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-bottom-container[_ngcontent-%COMP%]{display:none}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-bottom-container[_ngcontent-%COMP%]   .new-term-and-condition[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;text-align:left;align-self:flex-end;padding:0;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:2}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-bottom-container[_ngcontent-%COMP%]   .new-term-and-condition[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     p{font-size:.5454545455rem;line-height:.7272727273rem}  ngb-progressbar.progress#progressBar{background-color:#333541}  ngb-progressbar.progress#progressBar .progress-bar{background-color:#fff;border-radius:.0555555556rem}@media (min-width: 1100px) and (max-width: 1199.98px){.left-fieldset[_ngcontent-%COMP%]{flex-direction:column}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{margin-bottom:.9090909091rem;padding-left:0}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]{width:inherit;flex-direction:column}}@media (min-width: 1100px){.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]{border-radius:0 .7272727273rem .7272727273rem 0;flex-grow:1;z-index:12;width:29.25vw;margin-bottom:0;height:100vh;min-height:26rem;min-width:18.1818181818rem;padding:3.2727272727rem 1.0909090909rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]{flex-direction:column;width:100%;gap:1.0909090909rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .header-icons-wrapper[_ngcontent-%COMP%]   .userWrapper[_ngcontent-%COMP%]{gap:.3636363636rem;position:relative;right:initial}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .header-icons-wrapper[_ngcontent-%COMP%]   .userWrapper[_ngcontent-%COMP%]   .userIcon[_ngcontent-%COMP%]{width:1.0909090909rem;height:1.0909090909rem;box-shadow:0 .0416666667rem .0833333333rem #1018280d}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .header-icons-wrapper[_ngcontent-%COMP%]   .userWrapper[_ngcontent-%COMP%]   .userIcon[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6818181818rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-mobile-icon-wrapper[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{height:.6818181818rem;width:1.0909090909rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]{gap:1.0909090909rem;margin:0}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .new-landing-page-title[_ngcontent-%COMP%]{font-size:1.2727272727rem;line-height:1.4545454545rem;font-weight:700;max-width:none;text-align:start}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .new-landing-page-title[_ngcontent-%COMP%]   .subHeading[_ngcontent-%COMP%]{font-size:.9090909091rem;line-height:1.0909090909rem;display:block}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:12}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     ul{list-style:none;margin:0;padding-left:1.3636363636rem;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:8}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     ul li{position:relative;font-size:.7272727273rem;line-height:1.2727272727rem;font-family:Open Sans,sans-serif}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     ul li:not(:last-child){padding:0 0 .7272727273rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     ul li:before{content:" ";position:absolute;background-color:#fff;-webkit-mask-image:url(/assets/images/icon-tick.svg);mask-image:url(/assets/images/icon-tick.svg);left:-1.3636363636rem;opacity:1;width:1.0909090909rem;height:1.0909090909rem;background-size:contain}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     ul li p{margin:0}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     p{font-size:.7272727273rem;line-height:1.2727272727rem;font-family:Open Sans,sans-serif;margin:0;font-weight:400}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     p span{padding-top:.7272727273rem;display:block}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     p a{color:#fff;text-decoration:underline;padding-top:.7272727273rem;line-height:1.0909090909rem;display:flex;align-items:center;gap:.3636363636rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     p a img{width:.9090909091rem;height:.9090909091rem;object-fit:contain}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     p:not(:first-child){padding-top:1.2727272727rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     p:not(:first-child) a{padding:0}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     p:not(:first-child):has(a){padding-top:.7272727273rem;display:flex;gap:.3636363636rem;align-items:center}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     p.mt-16{padding-top:.7272727273rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]    >div{display:flex;flex-direction:column;gap:1.1818181818rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-bottom-container[_ngcontent-%COMP%]{display:flex;min-height:2.1363636364rem;flex-direction:column-reverse;align-content:center;align-items:center;flex-grow:3;gap:1.3333333333rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-bottom-container[_ngcontent-%COMP%]   .landing-page-tnc[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     p{margin-bottom:0}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-bottom-container[_ngcontent-%COMP%]   .landing-page-tnc[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]     p a{color:#fff}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .progressBar[_ngcontent-%COMP%]{width:100%;font-size:.6363636364rem;line-height:1.0909090909rem;font-family:Open Sans,sans-serif}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .progressBar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{gap:.3636363636rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .progressBar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{gap:1.0909090909rem}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .progressBar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{flex-grow:2}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .progressBar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .progress-wrapper[_ngcontent-%COMP%]:empty{display:none}.left-fieldset[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .progressBar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{border-radius:.0454545455rem;height:.2727272727rem}.left-fieldset.landing-page[_ngcontent-%COMP%]   .new-page-heading[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .new-landing-page-title[_ngcontent-%COMP%]   .subHeading[_ngcontent-%COMP%]{padding-bottom:.2272727273rem}}']})}return an})()},275:(Dt,Le,D)=>{"use strict";D.d(Le,{l:()=>T});var a=D(6814),s=D(5879),oe=D(91);function c(V,ie){if(1&V&&(s.TgZ(0,"div",1)(1,"div",2),s._UZ(2,"div",3)(3,"div",3)(4,"div",3)(5,"div",3),s.qZA()()),2&V){const Te=s.oxw();s.xp6(2),s.Q6J("ngClass",Te.progressBarCount>=1?"active":""),s.xp6(1),s.Q6J("ngClass",Te.progressBarCount>=2?"active":""),s.xp6(1),s.Q6J("ngClass",Te.progressBarCount>=3?"active":""),s.xp6(1),s.Q6J("ngClass",Te.progressBarCount>=4?"active":"")}}let T=(()=>{class V{constructor(Te){this.manageBookingService=Te,this.progressBarCount=0}ngOnInit(){this.manageBookingService.particularPageData.subscribe(Te=>{Te&&(this.pageData=Te,this.progressBarCount="wizard"!==this.pageData?.urlSlug?this.manageBookingService.getMobileProgressBarCount(this.pageData?.labels):0)})}static#e=this.\u0275fac=function(le){return new(le||V)(s.Y36(oe.h))};static#t=this.\u0275cmp=s.Xpm({type:V,selectors:[["app-mobile-progressbar"]],standalone:!0,features:[s.jDz],decls:1,vars:1,consts:[["class","mobile-progress-indicator-wrapper d-flex flex-column d-lg-none",4,"ngIf"],[1,"mobile-progress-indicator-wrapper","d-flex","flex-column","d-lg-none"],[1,"mobile-progress-indicator-inner-wrapper","d-flex"],[3,"ngClass"]],template:function(le,me){1&le&&s.YNc(0,c,6,4,"div",0),2&le&&s.Q6J("ngIf","/wizard"!==(null==me.pageData?null:me.pageData.urlSlug))},dependencies:[a.ez,a.mk,a.O5],styles:[".mobile-progress-indicator-wrapper[_ngcontent-%COMP%]{width:100%}.mobile-progress-indicator-wrapper[_ngcontent-%COMP%]   .mobile-progress-indicator-inner-wrapper[_ngcontent-%COMP%]{gap:8px;width:100%}.mobile-progress-indicator-wrapper[_ngcontent-%COMP%]   .mobile-progress-indicator-inner-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:6px;background-color:#878787;width:25%;border-radius:1px}.mobile-progress-indicator-wrapper[_ngcontent-%COMP%]   .mobile-progress-indicator-inner-wrapper[_ngcontent-%COMP%]   div.active[_ngcontent-%COMP%]{background-color:#a61242}.mobile-progress-indicator-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"]})}return V})()},252:(Dt,Le,D)=>{"use strict";D.d(Le,{R:()=>ae});var a=D(5879),s=D(6814),oe=D(91);function c(be,re){if(1&be&&a._UZ(0,"img",12),2&be){const J=a.oxw(2);a.Q6J("src",J.isBannerDetails?null==J.pageData||null==J.pageData.banners[0]||null==J.pageData.banners[0].image?null:J.pageData.banners[0].image.url:null==J.pageData||null==J.pageData.leftNavigation||null==J.pageData.leftNavigation.image?null:J.pageData.leftNavigation.image.url,a.LSH)("alt",J.isBannerDetails?null==J.pageData||null==J.pageData.banners[0]||null==J.pageData.banners[0].image?null:J.pageData.banners[0].image.title:null==J.pageData||null==J.pageData.leftNavigation||null==J.pageData.leftNavigation.image?null:J.pageData.leftNavigation.image.title)}}function T(be,re){if(1&be){const J=a.EpF();a.TgZ(0,"div",13)(1,"button",14),a.NdJ("click",function(){a.CHM(J);const ke=a.oxw(2);return a.KtG(ke.closePopup(!0))}),a._uU(2),a.qZA()()}if(2&be){const J=a.oxw(2);a.xp6(2),a.Oqu(null==J.pageData||null==J.pageData.banners[0]?null:J.pageData.banners[0].description)}}function V(be,re){if(1&be){const J=a.EpF();a.TgZ(0,"button",14),a.NdJ("click",function(){a.CHM(J);const ke=a.oxw(4);return a.KtG(ke.closePopup())}),a._uU(1),a.qZA()}if(2&be){const J=a.oxw().$implicit;a.xp6(1),a.Oqu(null==J?null:J.displayText)}}function ie(be,re){if(1&be&&(a.ynx(0),a.YNc(1,V,2,1,"button",16),a.BQk()),2&be){const J=re.$implicit;a.xp6(1),a.Q6J("ngIf","CLOSE_BUTTON"===(null==J?null:J.options))}}function Te(be,re){if(1&be&&(a.TgZ(0,"div",13),a.YNc(1,ie,2,1,"ng-container",15),a.qZA()),2&be){const J=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",null==J.pageData?null:J.pageData.buttons)}}function le(be,re){if(1&be){const J=a.EpF();a.TgZ(0,"div",13),a.ynx(1),a.TgZ(2,"button",14),a.NdJ("click",function(){a.CHM(J);const ke=a.oxw(2);return a.KtG(ke.openUrl(null==ke.pageData||null==ke.pageData.leftNavigation||null==ke.pageData.leftNavigation.callToAction?null:ke.pageData.leftNavigation.callToAction.primaryCtaUrl))}),a._uU(3),a.qZA(),a.BQk(),a.qZA()}if(2&be){const J=a.oxw(2);a.xp6(3),a.Oqu(null==J.pageData||null==J.pageData.leftNavigation||null==J.pageData.leftNavigation.callToAction?null:J.pageData.leftNavigation.callToAction.primaryCtaLabel)}}function me(be,re){if(1&be){const J=a.EpF();a.TgZ(0,"div",1),a.NdJ("click",function(){a.CHM(J);const ke=a.oxw();return a.KtG(ke.closePopup())}),a.TgZ(1,"div",2)(2,"a",3),a.NdJ("click",function(){a.CHM(J);const ke=a.oxw();return a.KtG(ke.closePopup())}),a._UZ(3,"img",4),a.qZA(),a.TgZ(4,"div",5),a.NdJ("click",function(ke){a.CHM(J);const Ce=a.oxw();return a.KtG(Ce.stop(ke))}),a.TgZ(5,"div",6),a.YNc(6,c,1,2,"img",7),a.qZA(),a.TgZ(7,"h3",8),a._uU(8),a.qZA(),a.TgZ(9,"div",9),a._UZ(10,"div",10),a.qZA(),a.YNc(11,T,3,1,"div",11),a.YNc(12,Te,2,1,"div",11),a.YNc(13,le,4,1,"div",11),a.qZA()()()}if(2&be){const J=a.oxw();a.xp6(5),a.Q6J("ngClass",J.isBannerDetails?"ukvi":""),a.xp6(1),a.Q6J("ngIf","/wizard"!==(null==J.pageData?null:J.pageData.urlSlug)),a.xp6(2),a.Oqu(J.isBannerDetails?null==J.pageData||null==J.pageData.banners[0]?null:J.pageData.banners[0].title:null==J.pageData||null==J.pageData.leftNavigation?null:J.pageData.leftNavigation.title),a.xp6(2),a.Q6J("innerHtml",J.isBannerDetails?null==J.pageData||null==J.pageData.banners[0]?null:J.pageData.banners[0].longDescription:null==J.pageData||null==J.pageData.leftNavigation?null:J.pageData.leftNavigation.description,a.oJD),a.xp6(1),a.Q6J("ngIf",J.isBannerDetails),a.xp6(1),a.Q6J("ngIf",!(J.isBannerDetails||null!=J.pageData&&null!=J.pageData.leftNavigation&&J.pageData.leftNavigation.callToAction)),a.xp6(1),a.Q6J("ngIf",!J.isBannerDetails&&(null==J.pageData||null==J.pageData.leftNavigation?null:J.pageData.leftNavigation.callToAction))}}let ae=(()=>{class be{constructor(J,fe,ke,Ce){this.manageBookingService=J,this.renderer=fe,this.el=ke,this.document=Ce,this.isBannerDetails=!1,this.isBtnLinkPopup=!1,this.openOrClosePopUp=new a.vpe}ngOnInit(){this.manageBookingService.particularPageData.subscribe(J=>{this.pageData=J,this.isBannerDetails=this.pageData?.banners?.length&&this.isBtnLinkPopup}),this.renderer.addClass(this.document.body,"noScroll")}ngOnDestroy(){this.renderer.removeClass(this.document.body,"noScroll")}closePopup(J){J&&"/wizard/test-location-ukvi"===this.pageData?.urlSlug?window.open(this.pageData?.banners[0]?.url,"_blank"):this.openOrClosePopUp.emit()}stop(J){J.stopPropagation()}openUrl(J){window.open(J,"_blank")}static#e=this.\u0275fac=function(fe){return new(fe||be)(a.Y36(oe.h),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(s.K0))};static#t=this.\u0275cmp=a.Xpm({type:be,selectors:[["app-popup"]],inputs:{isBtnLinkPopup:"isBtnLinkPopup"},outputs:{openOrClosePopUp:"openOrClosePopUp"},standalone:!0,features:[a.jDz],decls:1,vars:1,consts:[["class","popup-overlay show","id","infoPopup",3,"click",4,"ngIf"],["id","infoPopup",1,"popup-overlay","show",3,"click"],[1,"popup-wrapper"],[1,"close",3,"click"],["src","/assets/images/close.svg","alt","close-icon"],[1,"popup-inner-wrapper",3,"click"],[1,"d-flex","align-items-center",3,"ngClass"],["class","popup-img",3,"src","alt",4,"ngIf"],[1,"popup-heading"],[1,"popup-paragraphs","d-flex","flex-column"],[3,"innerHtml"],["class","popup-buttons",4,"ngIf"],[1,"popup-img",3,"src","alt"],[1,"popup-buttons"],[1,"popup-primary-btn","text-center",3,"click"],[4,"ngFor","ngForOf"],["class","popup-primary-btn text-center",3,"click",4,"ngIf"]],template:function(fe,ke){1&fe&&a.YNc(0,me,14,7,"div",0),2&fe&&a.Q6J("ngIf",ke.pageData)},dependencies:[s.ez,s.mk,s.sg,s.O5],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}.popup-overlay[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;background:rgba(51,53,65,.7);width:100%;height:100%;z-index:1000}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]{left:0;right:0;margin:0 auto;bottom:-.0555555556rem;position:fixed;display:flex;flex-direction:column;gap:.8333333333rem;animation:ease-out _ngcontent-%COMP%_animatebottom .25s}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end;padding:0 .8333333333rem}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]{background:#fff;border-radius:.8888888889rem .8888888889rem 0 0;padding:1.3333333333rem;display:flex;flex-direction:column;gap:.8888888889rem}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .ukvi[_ngcontent-%COMP%]{background:#FDE8EB;width:2.6666666667rem;height:2.6666666667rem;padding:.4444444444rem;border-radius:.2222222222rem}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .ukvi[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(26%) sepia(100%) saturate(6402%) hue-rotate(344deg) brightness(92%) contrast(93%)}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   img.popup-img[_ngcontent-%COMP%]{width:2.6666666667rem;height:2.6666666667rem}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   h3.popup-heading[_ngcontent-%COMP%]{font-size:1.3333333333rem;line-height:1.6666666667rem;font-weight:700;margin:0;color:#000}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-paragraphs[_ngcontent-%COMP%]     ul{padding:0;margin:0;list-style-type:none;display:flex;flex-direction:column;gap:.6666666667rem}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-paragraphs[_ngcontent-%COMP%]     ul li{font-family:Open Sans,sans-serif;font-size:.7777777778rem;line-height:1.3333333333rem;position:relative;color:#333541;padding-left:1.4444444444rem}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-paragraphs[_ngcontent-%COMP%]     ul li:before{content:" ";position:absolute;-webkit-mask-image:url(/assets/images/icon-tick.svg);mask-image:url(/assets/images/icon-tick.svg);width:1.1111111111rem;height:1.1111111111rem;background-color:#333541;left:0;top:.2222222222rem;transform:translateY(-.1111111111rem)}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-paragraphs[_ngcontent-%COMP%]     p{font-family:Open Sans,sans-serif;font-size:.7777777778rem;line-height:1.3333333333rem;color:#333541;margin:0}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-paragraphs[_ngcontent-%COMP%]     p span{padding-top:1.3333333333rem;display:block}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-paragraphs[_ngcontent-%COMP%]     p:not(:first-child){padding-top:1.3333333333rem}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-paragraphs[_ngcontent-%COMP%]     p a{text-decoration:none;color:#333541;font-size:.7777777778rem;line-height:.8888888889rem;font-weight:600;position:relative;display:flex;align-items:center;justify-content:center;gap:.4444444444rem}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-paragraphs[_ngcontent-%COMP%]     p a:after{content:" ";background-color:#333541;-webkit-mask-image:url(/assets/images/chevron-right.svg);mask-image:url(/assets/images/chevron-right.svg);-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;height:.5rem;width:.3611111111rem}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8888888889rem;align-items:center}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;border-radius:.2222222222rem}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-buttons[_ngcontent-%COMP%]   .popup-primary-btn[_ngcontent-%COMP%]{background-color:#e31837;padding:.6666666667rem .8333333333rem;font-size:.7777777778rem;line-height:1.3333333333rem;font-weight:600;color:#fff;border-radius:2.0909090909rem;text-align:center}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-buttons[_ngcontent-%COMP%]   .popup-secondary-btn[_ngcontent-%COMP%]{color:#333541;border:.0555555556rem solid #878787;padding:.6666666667rem 1.3333333333rem;background:transparent;font-size:.7777777778rem;line-height:1.3333333333rem;font-weight:600}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-buttons[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333541;font-size:.7777777778rem;line-height:.8888888889rem;font-weight:600;position:relative;display:flex;align-items:baseline;justify-content:center;gap:.4444444444rem}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-buttons[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:" ";background-color:#333541;-webkit-mask-image:url(/assets/images/chevron-right.svg);mask-image:url(/assets/images/chevron-right.svg);-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;height:.5rem;width:.3611111111rem}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-buttons[_ngcontent-%COMP%]   p.ukvi[_ngcontent-%COMP%]{font-size:.7777777778rem;line-height:.8888888889rem;margin:0}.popup-overlay[_ngcontent-%COMP%]   .popup-wrapper[_ngcontent-%COMP%]   .popup-inner-wrapper[_ngcontent-%COMP%]   .popup-buttons[_ngcontent-%COMP%]   p.ukvi[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.7777777778rem;line-height:.8888888889rem}@keyframes _ngcontent-%COMP%_animatebottom{0%{bottom:-300px;opacity:0}to{bottom:0;opacity:1}}.popup-overlay.show[_ngcontent-%COMP%]{display:block}.popup-overlay.hide[_ngcontent-%COMP%]{display:none}']})}return be})()},928:(Dt,Le,D)=>{"use strict";D.r(Le),D.d(Le,{NewManageBookingRoutingModule:()=>gn,testTypeMatcher:()=>Lt});var a=D(2236),s=D(5843),oe=D(1374),c=D(9397),T=D(5879),V=D(6491),ie=D(91),Te=D(9582),le=D(8425),me=D(6814),ae=D(2259);let be=(()=>{class Ht{constructor(Je,yn,ct,At,Jt){this.router=Je,this.sharedState=yn,this.manageBookingService=ct,this.commonService=At,this.onetrust=Jt}ngOnInit(){this.onetrust.waitForCookies().subscribe(Je=>{Je&&(this.sharedState?.getState().pipe((0,oe.P)())?.subscribe(yn=>{yn.enableImarketingDetails&&this.commonService?.setOrGetClickIdInCookie().pipe((0,c.b)(At=>{At&&this.commonService?.considerFbClickIds()})).subscribe()}),this.logoUrl=this.commonService.getUtmAndClickId("https://ielts.idp.com"))}),this.manageBookingService.particularPageData.subscribe(Je=>{this.commonService.isObjNotEmpty(Je)&&(this.pageData=Je)})}static#e=this.\u0275fac=function(yn){return new(yn||Ht)(T.Y36(a.F0),T.Y36(V.G),T.Y36(ie.h),T.Y36(Te.v),T.Y36(le.U))};static#t=this.\u0275cmp=T.Xpm({type:Ht,selectors:[["app-new-manage-booking"]],decls:7,vars:4,consts:[[1,"new-fieldset","align-items-stretch","d-flex","flex-column","flex-lg-row"],[1,"right-container","d-flex","flex-column"],[1,"new-logofocus",3,"ngClass"],["target","_blank","title","IDP IELTS","rel","noopener",1,"new-logo",3,"href"],[3,"src","alt"]],template:function(yn,ct){1&yn&&(T.TgZ(0,"div",0),T._UZ(1,"app-leftside-panel"),T.TgZ(2,"div",1),T._UZ(3,"router-outlet"),T.qZA(),T.TgZ(4,"div",2)(5,"a",3),T._UZ(6,"img",4),T.qZA()()()),2&yn&&(T.xp6(4),T.Q6J("ngClass","/wizard"!==(null==ct.pageData?null:ct.pageData.urlSlug)?"d-none d-lg-block":""),T.xp6(1),T.Q6J("href",ct.logoUrl,T.LSH),T.xp6(1),T.s9C("src",null==ct.pageData||null==ct.pageData.image?null:ct.pageData.image.url,T.LSH),T.s9C("alt",null==ct.pageData||null==ct.pageData.image?null:ct.pageData.image.title))},dependencies:[me.mk,a.lC,ae.t],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}[_nghost-%COMP%]{width:100%}.new-fieldset[_ngcontent-%COMP%]{min-height:100vh;max-height:-moz-fit-content;max-height:fit-content;position:relative}.new-fieldset[_ngcontent-%COMP%]   .new-logofocus[_ngcontent-%COMP%]{position:absolute;display:block;z-index:1;top:6.8888888889rem;left:1.3333333333rem;height:1.1111111111rem;width:6.5rem}.new-fieldset[_ngcontent-%COMP%]   .new-logofocus[_ngcontent-%COMP%]   .new-logo[_ngcontent-%COMP%]{display:block;background-size:contain;background-position:center;background-repeat:no-repeat;width:100%;height:100%}.new-fieldset[_ngcontent-%COMP%]   .new-logofocus[_ngcontent-%COMP%]   .new-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.new-fieldset[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{height:100%}@media (min-width: 1100px){.new-fieldset[_ngcontent-%COMP%]   .new-logofocus[_ngcontent-%COMP%]{bottom:1.4545454545rem;right:1.4654545455rem;top:inherit;left:inherit;width:6.3422727273rem;height:1.0909090909rem}.new-fieldset[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{height:100dvh;overflow-y:auto}.popup-overlay[_ngcontent-%COMP%]{display:none}}'],data:{animation:[s.J]}})}return Ht})();var re=D(1231),J=D(8180),fe=D(9862),ke=D(7394);const Ce={UKNOWN:"Unknown"},we={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Ce.UKNOWN},he={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},A={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},pe={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Ce.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},ge=[pe.PS4,pe.CHROME_BOOK,pe.MAC,pe.DELL,pe.ASUS,pe.UNKNOWN],pt={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Ce.UKNOWN},Pe={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Ce.UKNOWN.toLowerCase()},Be={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},wt={...he,...A,...Be,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},It={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},Ie={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},L=Object.keys(It).reduce((Ht,Jn)=>(Ht[Jn]=It[Jn],Ht),{}),Oe=Object.keys(Ie).reduce((Ht,Jn)=>(Ht[we[Jn]]=Ie[Jn],Ht),{});var ut=Object.freeze({__proto__:null,BROWSERS:we,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},BROWSER_VERSIONS_RE:Oe,BROWSER_VERSIONS_RE_MAP:Ie,DESKTOP_DEVICES:ge,DEVICES:pe,DEVICES_RE:wt,GENERAL:Ce,MOBILES_RE:he,OS:pt,OS_RE:Be,OS_VERSIONS:Pe,OS_VERSIONS_RE:L,OS_VERSIONS_RE_MAP:It,TABLETS_RE:A});class Nt{constructor(){}test(Jn,Je){return"string"==typeof Je&&(Je=new RegExp(Je)),Je instanceof RegExp?Je.test(Jn):Je&&Array.isArray(Je.and)?Je.and.every(yn=>this.test(Jn,yn)):Je&&Array.isArray(Je.or)?Je.or.some(yn=>this.test(Jn,yn)):!(!Je||!Je.not||this.test(Jn,Je.not))}exec(Jn,Je){return"string"==typeof Je&&(Je=new RegExp(Je)),Je instanceof RegExp?Je.exec(Jn):Je&&Array.isArray(Je)?Je.reduce((yn,ct)=>yn||this.exec(Jn,ct),null):null}}var an=function(Ht){return Ht.Mobile="mobile",Ht.Tablet="tablet",Ht.Desktop="desktop",Ht.Unknown="unknown",Ht}(an||{}),bt=function(Ht){return Ht.Portrait="portrait",Ht.Landscape="landscape",Ht}(bt||{});const Qe="iPad";let jt=(()=>{class Ht{constructor(Je){this.platformId=Je,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new Nt,this.deviceType="",this.orientation="",(0,me.NF)(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(Je=this.userAgent){Je!==this.userAgent&&(this.userAgent=Je);const yn=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(yn.forEach(ct=>{this[ct.prop]=Object.keys(ut[ct.const]).reduce((At,Jt)=>"device"===ut[ct.const][Jt]&&(0,me.NF)(this.platformId)&&(this.reTree.test(this.userAgent,A[Qe])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(At[ut[ct.const][Jt]]=Qe,Object):(At[ut[ct.const][Jt]]=this.reTree.test(Je,ut[`${ct.const}_RE`][Jt]),At),{})}),yn.forEach(ct=>{this[ct.prop]=Object.keys(ut[ct.const]).map(At=>ut[ct.const][At]).reduce((At,Jt)=>"device"===ct.prop&&At===ut[ct.const].ANDROID?this[ct.prop][Jt]?Jt:At:At===ut[ct.const].UNKNOWN&&this[ct.prop][Jt]?Jt:At,ut[ct.const].UNKNOWN)}),this.browser_version="0",this.browser!==we.UNKNOWN){const At=this.reTree.exec(Je,Oe[this.browser]);At&&(this.browser_version=At[1])}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?bt.Landscape:bt.Portrait:Ce.UKNOWN,this.deviceType=this.isTablet()?an.Tablet:this.isMobile(this.userAgent)?an.Mobile:this.isDesktop(this.userAgent)?an.Desktop:an.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(Je=this.userAgent){return!this.isTablet(Je)&&!!Object.keys(he).find(ct=>this.reTree.test(Je,he[ct]))}isTablet(Je=this.userAgent){return!(!(0,me.NF)(this.platformId)||!(this.reTree.test(this.userAgent,A[Qe])||typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(A).find(ct=>!!this.reTree.test(Je,A[ct]))}isDesktop(Je=this.userAgent){return(this.device!==pe.UNKNOWN||!this.isMobile(Je)&&!this.isTablet(Je))&&ge.indexOf(this.device)>-1}static#e=this.\u0275fac=function(yn){return new(yn||Ht)(T.LFG(T.Lbi))};static#t=this.\u0275prov=T.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"})}return Ht})();const gt=D(4499);let yt=(()=>{class Ht{constructor(Je,yn,ct,At){this.http=Je,this.deviceDetectorService=yn,this.datePipe=ct,this.commonService=At,this.subscription=new ke.w0}formClickStreamDetails(Je){const yn=this.deviceDetectorService.isMobile(),ct=location.origin?.includes("localhost"),At=ct?"":this.commonService.previousUrl?location.origin+this.commonService.previousUrl:re.L.common.na;let Jt={isMobileUser:this.deviceDetectorService.isMobile(this.deviceDetectorService.userAgent)?re.L.common.yes:re.L.common.no,screenResolution:window.innerWidth,sessionTrackId:"",userIPAddress:"",userId:re.L.common.na,userAgent:window.navigator.userAgent,siteLanguage:navigator.language,siteName:re.L.common.ieltsBxSearch,userloggedIn:re.L.common.no,eventTime:this.datePipe.transform(new Date,"dd-MM-yyyy HH:mm:ss.SS"),mobileDeviceModel:yn?this.deviceDetectorService.getDeviceInfo().device:re.L.common.na,mobileDeviceOS:yn?this.deviceDetectorService.getDeviceInfo().os:re.L.common.na,refererURL:At,requestURL:ct?"":location.href};Jt={...Jt,...Je},this.subscription=this.clickStreamApi(Jt).subscribe()}clickStreamApi(Je){const yn=new fe.WM({"Content-Type":"application/json","x-api-key":gt.site.clickStreamApiKey});return this.http.post(gt.site.clickStreamUrl,JSON.stringify({DeliveryStreamName:"ielts_analytics_clickstream_firehose_stream",Record:{Data:{eventMessage:{ielts_json:Je,systemname:re.L.common.ieltsDesktopSites}}}}),{headers:yn})}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(yn){return new(yn||Ht)(T.LFG(fe.eN),T.LFG(jt),T.LFG(me.uU),T.LFG(Te.v))};static#t=this.\u0275prov=T.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"})}return Ht})();var at=D(275),Xe=D(252),Zt=D(9587),ve=D(8716);function Ve(Ht,Jn){if(1&Ht&&(T.TgZ(0,"div",27),T._UZ(1,"img",24),T.TgZ(2,"div",25)(3,"h3"),T._uU(4),T.qZA()()()),2&Ht){const Je=T.oxw().$implicit;T.xp6(1),T.s9C("src",null==Je||null==Je.image?null:Je.image.url,T.LSH),T.s9C("alt",null==Je||null==Je.image?null:Je.image.title),T.xp6(3),T.Oqu(null==Je?null:Je.title)}}function St(Ht,Jn){1&Ht&&(T.TgZ(0,"button",28),T._UZ(1,"img",29),T._uU(2," Fastest results "),T.qZA())}function wn(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"li",19)(1,"a",20),T.NdJ("click",function(){const At=T.CHM(Je).$implicit,Jt=T.oxw(2);return T.KtG(Jt.navigateTo(At))}),T.YNc(2,Ve,5,3,"div",21),T.TgZ(3,"div",22)(4,"div",23),T._UZ(5,"img",24),T.TgZ(6,"div",25)(7,"h3"),T._uU(8),T.qZA()()(),T.TgZ(9,"p"),T._uU(10),T.qZA(),T.YNc(11,St,3,0,"button",26),T.qZA()()()}if(2&Ht){const Je=Jn.$implicit,yn=T.oxw(2);T.Q2q("datatracking-id","wizard-card-",null==Je||null==Je.name?null:Je.name.replaceAll(" ","_"),""),T.xp6(1),T.Q6J("target",null==Je?null:Je.ctaTarget),T.xp6(1),T.Q6J("ngIf","/wizard"===(null==yn.pageData?null:yn.pageData.urlSlug)),T.xp6(3),T.s9C("src",null==Je||null==Je.image?null:Je.image.url,T.LSH),T.s9C("alt",null==Je||null==Je.image?null:Je.image.title),T.xp6(3),T.Oqu(null==Je?null:Je.title),T.xp6(2),T.Oqu(null==Je?null:Je.description),T.xp6(1),T.Q6J("ngIf","IELTS on Computer"===(null==Je?null:Je.title))}}function $t(Ht,Jn){if(1&Ht&&T._UZ(0,"div",31),2&Ht){const Je=T.oxw().$implicit;T.Q6J("innerHTML",null==Je?null:Je.displayText,T.oJD)}}function Cn(Ht,Jn){if(1&Ht&&(T.TgZ(0,"div"),T.YNc(1,$t,1,1,"div",30),T.qZA()),2&Ht){const Je=Jn.$implicit;T.xp6(1),T.Q6J("ngIf","TERMS_CONDITION_LABEL"===(null==Je?null:Je.options))}}function Ot(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"app-special-requirement",32),T.NdJ("openOrCloseUkviPopUp",function(){T.CHM(Je);const ct=T.oxw(2);return T.KtG(ct.openOrCloseUkviPopUp())}),T.qZA()}if(2&Ht){const Je=T.oxw(2);T.Q6J("bannerDetails",null!=Je.pageData&&null!=Je.pageData.banners&&Je.pageData.banners.length?null==Je.pageData?null:Je.pageData.banners[0]:"")("urlFrom","landing-page")}}function Wt(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8),T._UZ(6,"app-mobile-progressbar",9),T.TgZ(7,"h2",10)(8,"span",11),T._uU(9),T.qZA(),T.TgZ(10,"span",12),T.NdJ("click",function(){T.CHM(Je);const ct=T.oxw();return T.KtG(ct.openOrClosePopUp())}),T._UZ(11,"img",13),T.qZA()(),T.TgZ(12,"div",14)(13,"ul"),T.YNc(14,wn,12,8,"li",15),T.qZA(),T.TgZ(15,"div",16),T.YNc(16,Cn,2,1,"div",17),T.qZA()(),T.YNc(17,Ot,1,2,"app-special-requirement",18),T.qZA()()()()()()}if(2&Ht){const Je=T.oxw();T.xp6(5),T.Q6J("ngClass","/wizard"===(null==Je.pageData?null:Je.pageData.urlSlug)?"landing-page":""),T.xp6(2),T.Q2q("datatracking-id","wizard-h2-",null==Je.pageData||null==Je.pageData.pageName?null:Je.pageData.pageName.replaceAll(" ","_"),""),T.xp6(2),T.Oqu(null==Je.pageData?null:Je.pageData.title),T.xp6(3),T.Q2q("datatracking-id","wizard-section-",null==Je.pageData||null==Je.pageData.leftNavigation||null==Je.pageData.leftNavigation.name?null:Je.pageData.leftNavigation.name.replaceAll(" ","_"),""),T.xp6(2),T.Q6J("ngForOf",null==Je.pageData?null:Je.pageData.navCards),T.xp6(1),T.Q6J("ngClass","/wizard"===(null==Je.pageData?null:Je.pageData.urlSlug)?"landing":""),T.xp6(1),T.Q6J("ngForOf",null==Je.pageData?null:Je.pageData.labels),T.xp6(1),T.Q6J("ngIf",(null==Je.pageData||null==Je.pageData.banners?null:Je.pageData.banners.length)&&Je.isUkvi)}}function st(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"app-popup",33),T.NdJ("openOrClosePopUp",function(){T.CHM(Je);const ct=T.oxw();return T.KtG(ct.openOrClosePopUp())}),T.qZA()}}function U(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"app-ukvi-popup",34),T.NdJ("closeUkviPopup",function(){T.CHM(Je);const ct=T.oxw();return T.KtG(ct.openOrCloseUkviPopUp())}),T.qZA()}2&Ht&&T.Q6J("urlFrom","landing-page")}D(4499);let Vt=(()=>{class Ht{constructor(Je,yn,ct,At,Jt,ei,Zn){this.manageBookingService=Je,this.router=yn,this.commonService=ct,this.http=At,this.clickStreamService=Jt,this.ngZone=ei,this.document=Zn,this.progressBarCount=0,this.isUkvi=!1,this.isUkviPopup=!1,this.showPopup=!1}ngOnInit(){this.configureRouteReuseStrategy(),this.commonService.updateCurrentStep(),this.fetchBookingDetails(),this.cleanupSearchFilterDetails(),this.subscribeToPageData(),this.getTTdetails(),localStorage.setItem("rpLink",JSON.stringify(!1)),this.initClickStream()}initClickStream(){location.href.includes("test-type")?this.initClickStreamPayload={pageName:re.L.pageName.testTypePage,sectionName:re.L.sectionName.testType,functionalityName:re.L.functionalityName.TestTypePage,actionType:re.L.actionType.engagement,eventType:re.L.eventType.pageViewed}:"/wizard"===location.pathname&&(this.initClickStreamPayload={eventType:re.L.eventType.pageViewed,pageName:re.L.pageName.onboarding_page,sectionName:re.L.sectionName.journey_type,functionalityName:re.L.functionalityName.bX_Onboarding,actionType:re.L.actionType.engagement}),this.initClickStreamPayload&&this.clickStreamService.formClickStreamDetails(this.initClickStreamPayload)}configureRouteReuseStrategy(){this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}fetchBookingDetails(){this.commonService.getContentfulDetailsApi(this.router.url)}cleanupSearchFilterDetails(){this.commonService.ttDetails.pipe((0,oe.P)()).subscribe(Je=>{Je?.searchFilterDetails&&(delete Je.searchFilterDetails,this.commonService.ttDetails.next(Je))})}subscribeToPageData(){this.manageBookingService.particularPageData.subscribe(Je=>{this.commonService.isObjNotEmpty(Je)&&(this.pageData=Je,this.updateProgressBarCount())})}updateProgressBarCount(){this.progressBarCount="wizard"!==this.pageData?.urlSlug?this.manageBookingService.getMobileProgressBarCount(this.pageData?.labels):0}getTTdetails(){this.commonService.ttDetails.pipe((0,J.q)(1)).subscribe(Je=>{Je&&(this.isUkvi=Je?.isUkvi&&"/wizard/type-ukvi"===this.router.url)})}navigateTo(Je){Je.title===re.L.testTypes.findAnIeltsTestSession?this.clickStreamPayload={pageName:re.L.pageName.onboarding_page,sectionName:re.L.sectionName.journey_type,functionalityName:re.L.functionalityName.bX_Onboarding,actionType:re.L.actionType.interaction,eventType:re.L.eventType.buttonClicked,CTATitle:Je.title}:Je.title===re.L.testTypes.ieltsAcademic||Je.title===re.L.testTypes.ieltsGeneralTraining||Je.title===re.L.testTypes.ukvi?this.clickStreamPayload={pageName:re.L.pageName.testTypePage,sectionName:re.L.sectionName.testType,functionalityName:re.L.functionalityName.TestTypePage,actionType:re.L.actionType.interaction,eventType:re.L.eventType.buttonClicked,CTATitle:Je.title,testType:Je.title}:Je.title===re.L.testTypes.ieltsForUkviAcademic&&(this.clickStreamPayload={pageName:re.L.pageName.testTypePage,sectionName:re.L.sectionName.TestTypeUKVI,functionalityName:re.L.functionalityName.TestTypeUKVI,actionType:re.L.actionType.interaction,eventType:re.L.eventType.buttonClicked,CTATitle:Je.title,testType:Je.title,testFormat:Je.title}),this.clickStreamPayload&&this.clickStreamService.formClickStreamDetails(this.clickStreamPayload),Je&&Je.url&&(this.commonService.storeTTdetails({navDetails:Je}),this.commonService.trackGa4(re.dS.eventName.eventsGa4,this.pageData?.pageName,Je?.title),Je.url.includes("https")?(Je.url=this.commonService.getUtmAndClickId(Je.url),window.open(Je.url,"_blank")):this.ngZone.run(()=>{this.router.navigate([Je.url])}))}openOrClosePopUp(){this.showPopup=!this.showPopup}openOrCloseUkviPopUp(){this.isUkviPopup=!this.isUkviPopup}static#e=this.\u0275fac=function(yn){return new(yn||Ht)(T.Y36(ie.h),T.Y36(a.F0),T.Y36(Te.v),T.Y36(fe.eN),T.Y36(yt),T.Y36(T.R0b),T.Y36(me.K0))};static#t=this.\u0275cmp=T.Xpm({type:Ht,selectors:[["app-new-landing-page"]],decls:3,vars:3,consts:[["class","flexbox flex-column new-content-wrapper flex-grow-1",4,"ngIf"],[3,"openOrClosePopUp",4,"ngIf"],[3,"urlFrom","closeUkviPopup",4,"ngIf"],[1,"flexbox","flex-column","new-content-wrapper","flex-grow-1"],[1,"new-main-content","ng-trigger","ng-trigger-routeAnimations"],[1,"d-flex","flex-grow-1","flex-row","ng-tns-c199-0"],[1,"ng-star-inserted","flex-grow-1"],[1,"flexbox","flex-grow-1","flex-column","new-content","align-items-center","align-items-xxl-start","justify-content-start"],[1,"new-all-content","d-flex","justify-content-start","align-items-start","flex-column","w-100","flex-grow-1",3,"ngClass"],[1,"w-100","d-lg-none"],[1,"new-content-title"],[1,"title"],[3,"click"],["src","/assets/images/tooltip-icon.svg","alt","info-icon"],[1,"d-flex","justify-content-between","flex-grow-1","w-100"],["class","option ng-star-inserted",4,"ngFor","ngForOf"],[1,"mob-copyrights",3,"ngClass"],[4,"ngFor","ngForOf"],["class","sr-pod",3,"bannerDetails","urlFrom","openOrCloseUkviPopUp",4,"ngIf"],[1,"option","ng-star-inserted"],[3,"target","click"],["class","d-lg-flex d-none flex-direction-row align-items-center heading-wrapper",4,"ngIf"],[1,"description-wrapper"],[1,"d-flex","flex-direction-row","align-items-start","description","heading-wrapper"],[3,"src","alt"],[1,"heading"],["class","fastResultBtn",4,"ngIf"],[1,"d-lg-flex","d-none","flex-direction-row","align-items-center","heading-wrapper"],[1,"fastResultBtn"],["src","assets/images/flash.svg","alt","Flash icon"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"sr-pod",3,"bannerDetails","urlFrom","openOrCloseUkviPopUp"],[3,"openOrClosePopUp"],[3,"urlFrom","closeUkviPopup"]],template:function(yn,ct){1&yn&&(T.YNc(0,Wt,18,8,"div",0),T.YNc(1,st,1,0,"app-popup",1),T.YNc(2,U,1,1,"app-ukvi-popup",2)),2&yn&&(T.Q6J("ngIf",ct.pageData),T.xp6(1),T.Q6J("ngIf",ct.showPopup),T.xp6(1),T.Q6J("ngIf",ct.isUkviPopup))},dependencies:[me.mk,me.sg,me.O5,at.l,Xe.R,Zt.F,ve.e],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-dark[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}  .right-container{flex-grow:1}  .right-container>.ng-star-inserted{flex-grow:1;display:flex}.new-content-wrapper[_ngcontent-%COMP%]{z-index:1}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]{margin-top:-.8333333333rem;background-color:#f5f5f5;border-radius:.8888888889rem .8888888889rem 0 0;flex-grow:1;display:flex;box-shadow:0 -.1111111111rem .8333333333rem #00000040}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]{max-width:none;width:100%;height:100%;display:flex;align-items:flex-start;justify-content:flex-start;flex-grow:3}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]{padding:1.7777777778rem 1.333333rem 2.666666rem;gap:.8888888889rem;height:100%}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   .new-content-title[_ngcontent-%COMP%]{text-align:left;font-weight:700;color:#000;margin:0;font-size:1.1111111111rem;line-height:1.3333333333rem;position:relative;display:flex;gap:.4444444444rem;padding-top:.4444444444rem;word-break:break-word}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   .new-content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.1111111111rem;height:1.1111111111rem;object-fit:contain}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   .new-content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:2}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   .new-content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){line-height:0;position:relative;top:.1111111111rem;cursor:pointer}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   .new-content-title[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{flex:1}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;gap:1.1111111111rem;margin-bottom:0;flex-direction:column}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%]{cursor:pointer}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{border:.0833333333rem solid #DBD6D2;border-radius:.4444444444rem;padding:1.1111111111rem;display:flex;flex-direction:column;width:100%;text-decoration:none;background-color:#fff;gap:.7272727273rem;box-shadow:0 .0555555556rem .1111111111rem #00000040}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]{margin:0;position:relative;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:2}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{flex-grow:1}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#000;font-size:.8888888889rem;line-height:1.1111111111rem;font-weight:600;display:none;word-break:break-word}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.1111111111rem .4444444444rem;background-color:#15803d;border-radius:.4444444444rem;font-family:Open Sans,sans-serif;font-size:.6666666667rem;line-height:.8888888889rem;font-weight:400}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]:after{content:" ";background-color:#333541;-webkit-mask-image:url(/assets/images/chevron-right.svg);mask-image:url(/assets/images/chevron-right.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;height:.8888888889rem;width:.8888888889rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .description-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8888888889rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .description-wrapper[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]{gap:.8888888889rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .description-wrapper[_ngcontent-%COMP%]   .heading-wrapper.description[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.1111111111rem;height:1.1111111111rem;object-fit:contain}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .description-wrapper[_ngcontent-%COMP%]   .heading-wrapper.description[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8888888889rem;word-break:break-word;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:2}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333541;font-size:.7777777778rem;margin:0;line-height:1.3333333333rem;font-family:Open Sans,sans-serif;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:4;word-break:break-word}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   .sr-pod[_ngcontent-%COMP%]{width:100%}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-direction:column;gap:1.3333333333rem;order:2}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mob-copyrights[_ngcontent-%COMP%]{display:none}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mob-copyrights[_ngcontent-%COMP%]     div p{margin:0;font-size:.6666666667rem;font-weight:400;line-height:.8888888889rem;color:#565656;font-family:Open Sans,sans-serif}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mob-copyrights[_ngcontent-%COMP%]     div p a{color:#565656;font-family:Open Sans,sans-serif}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mob-copyrights.landing[_ngcontent-%COMP%]{display:block}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content.landing-page[_ngcontent-%COMP%]{padding:2.666666rem 1.333333rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content.landing-page[_ngcontent-%COMP%]   .new-content-title[_ngcontent-%COMP%]{margin-top:2.4444444444rem;padding:0}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content.landing-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .description-wrapper[_ngcontent-%COMP%]   .heading-wrapper.description[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.5555555556rem;height:1.5555555556rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}@media (min-width: 1100px){.new-content-wrapper[_ngcontent-%COMP%]{min-height:26rem;flex-basis:26rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]{min-height:26rem;border-radius:0;box-shadow:none;overflow-y:auto;margin:0}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]{padding:1.7272727273rem 0 0;gap:2.1818181818rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   .new-content-title[_ngcontent-%COMP%]{margin:0;font-size:1.7272727273rem;line-height:2rem;padding:0}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   .new-content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.title){display:none}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:0;gap:1.0909090909rem 2.1818181818rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%]{width:calc(50% - 1.0909090909rem)}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{box-shadow:none}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .description-wrapper[_ngcontent-%COMP%]{gap:.5454545455rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .description-wrapper[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]{gap:.7272727273rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .description-wrapper[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;gap:.7272727273rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .description-wrapper[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.0909090909rem .3636363636rem;font-size:.5454545455rem;line-height:.7272727273rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .description-wrapper[_ngcontent-%COMP%]   .heading-wrapper.description[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:.9090909091rem;height:.9090909091rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{gap:0;order:unset}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mob-copyrights.landing[_ngcontent-%COMP%]{display:none}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content.landing-page[_ngcontent-%COMP%]{padding:2.1818181818rem 0 0}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content.landing-page[_ngcontent-%COMP%]   .new-content-title[_ngcontent-%COMP%]{padding-top:0;margin-top:0}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content.landing-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%]{width:100%}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content.landing-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]{justify-content:space-between}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content.landing-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.8181818182rem;height:1.8181818182rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content.landing-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .description-wrapper[_ngcontent-%COMP%]   .heading-wrapper.description[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content.landing-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .description-wrapper[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]:after{content:none}}@media (min-width: 1200px){.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]{padding:3.2727272727rem 2.1818181818rem;height:100%;position:inherit}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]{word-wrap:break-word;line-height:1.1818181818rem;gap:1.0909090909rem}}@media (min-width: 1100px) and (max-width: 1199.98px){.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]{padding:3.2727272727rem 2.1818181818rem 0;height:100%;position:inherit}}@media (min-width: 768px){.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;align-items:stretch;width:100%}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%]{display:block;width:calc(50% - 1.0909090909rem);border-radius:.3636363636rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{border-radius:.3636363636rem;padding:1.0909090909rem;height:100%}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]{margin:0}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8181818182rem;line-height:.9090909091rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.0909090909rem;height:1.0909090909rem;object-fit:contain}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .heading-wrapper[_ngcontent-%COMP%]:after{height:.5909090909rem;width:.3181818182rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.6363636364rem;line-height:1.0909090909rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{background:#E6E9EC;border:.0681818182rem solid #A59D95}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{align-items:flex-start;order:unset}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content.landing-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%]{width:100%}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   .new-content[_ngcontent-%COMP%]   .new-all-content.landing-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.2727272727rem}.new-content-wrapper[_ngcontent-%COMP%]   .new-main-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}}.fastResultBtn[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:8px;border-radius:6px;background:#2E6D0F;color:#fff;font-family:Open Sans,sans-serif;font-size:.6668181818rem;font-weight:500;line-height:.7272727273rem}@media (min-width: 1100px){.fastResultBtn[_ngcontent-%COMP%]{font-size:.5822727273rem}}']})}return Ht})();var en=D(4379);let jn=(()=>{class Ht{constructor(Je,yn){this.router=Je,this.commonService=yn}resolve(Je,yn){return this.ttData=this.commonService.getLocalStorageValue("ttDetails"),(this.ttData?.searchFilterDetails||"/wizard"!==this.router.url&&!this.ttData?.testType&&("/wizard/test-type"===yn?.url||"/wizard/test-type"!==this.router.url&&"/wizard/type-ukvi"===yn?.url)||"/wizard/type-academic"===yn?.url&&this.ttData?.testType!==en.v7.IELTS_AC||"/wizard/type-general-training"===yn?.url&&this.ttData?.testType!==en.v7.IELTS_GT||"/wizard/type-ukvi-ac"===yn?.url&&this.ttData?.testType!==en.v7.IELTS_UKVI_AC||"/wizard/type-ukvi-gt"===yn?.url&&this.ttData?.testType!==en.v7.IELTS_UKVI_GT)&&(this.router.navigate(["/wizard"]),this.commonService.clearLocalStorageValue(en.dR.TT_DETAILS)),""}static#e=this.\u0275fac=function(yn){return new(yn||Ht)(T.LFG(a.F0),T.LFG(Te.v))};static#t=this.\u0275prov=T.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"})}return Ht})();var Mi=D(1756);const dn=["cityInput"],Pn=["countryInput"];function qn(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"button",31),T.NdJ("click",function(){const At=T.CHM(Je).$implicit,Jt=T.oxw(2);return T.KtG(Jt.selectCountry(At))}),T._uU(1),T.qZA()}if(2&Ht){const Je=Jn.$implicit;T.xp6(1),T.Oqu(null==Je?null:Je.countryName)}}function ti(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"div",26)(1,"input",27,28),T.NdJ("keyup",function(ct){T.CHM(Je);const At=T.oxw();return T.KtG(At.filterItems(ct,"country"))}),T.qZA(),T.TgZ(3,"div",29),T.YNc(4,qn,2,1,"button",30),T.qZA()()}if(2&Ht){const Je=T.oxw();T.xp6(4),T.Q6J("ngForOf",Je.countryList)}}function qi(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"button",31),T.NdJ("click",function(){const At=T.CHM(Je).$implicit,Jt=T.oxw(2);return T.KtG(Jt.selectCity(At))}),T._uU(1),T.qZA()}if(2&Ht){const Je=Jn.$implicit;T.xp6(1),T.Oqu(null==Je?null:Je.city)}}function to(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"div",32)(1,"input",27,33),T.NdJ("keyup",function(ct){T.CHM(Je);const At=T.oxw();return T.KtG(At.filterItems(ct,"city"))}),T.qZA(),T.TgZ(3,"div",34),T.YNc(4,qi,2,1,"button",30),T.qZA()()}if(2&Ht){const Je=T.oxw();T.xp6(4),T.Q6J("ngForOf",Je.cityList)}}function Zi(Ht,Jn){if(1&Ht){const Je=T.EpF();T.ynx(0),T.TgZ(1,"button",35),T.NdJ("click",function(){T.CHM(Je);const ct=T.oxw();return T.KtG(ct.navigateTo())}),T._uU(2),T.qZA(),T.BQk()}if(2&Ht){const Je=T.oxw();T.xp6(2),T.hij(" ",Je.buttonLabel," ")}}function Fi(Ht,Jn){if(1&Ht&&(T.TgZ(0,"div",36),T._UZ(1,"img",37),T.TgZ(2,"div",38)(3,"div",39)(4,"div",40)(5,"p"),T._uU(6," If your country or city location is not available, please check if you are eligible for an IELTS Online test. "),T.qZA()()(),T.TgZ(7,"a",41),T._uU(8,"Explore IELTS Online "),T._UZ(9,"img",42),T.qZA()()()),2&Ht){const Je=T.oxw();T.xp6(7),T.Q6J("href",Je.exploreURL,T.LSH)}}function yo(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"app-special-requirement",43),T.NdJ("openOrClosePopUp",function(ct){T.CHM(Je);const At=T.oxw();return T.KtG(At.openOrClosePopUp(ct))}),T.qZA()}if(2&Ht){const Je=T.oxw();T.Q6J("bannerDetails",null!=Je.pageData&&null!=Je.pageData.banners&&Je.pageData.banners.length?null==Je.pageData?null:Je.pageData.banners[0]:"")("urlFrom","test-location")}}function Ji(Ht,Jn){if(1&Ht){const Je=T.EpF();T.ynx(0),T.TgZ(1,"button",35),T.NdJ("click",function(){T.CHM(Je);const ct=T.oxw();return T.KtG(ct.navigateTo())}),T._uU(2),T.qZA(),T.BQk()}if(2&Ht){const Je=T.oxw();T.xp6(2),T.hij(" ",Je.buttonLabel," ")}}function xi(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"app-popup",44),T.NdJ("openOrClosePopUp",function(){T.CHM(Je);const ct=T.oxw();return T.KtG(ct.openOrClosePopUp())}),T.qZA()}if(2&Ht){const Je=T.oxw();T.Q6J("isBtnLinkPopup",Je.isBtnLinkPopup)}}const Mo=D(4499);let no=(()=>{class Ht{constructor(Je,yn,ct,At,Jt){this.manageBookingService=Je,this.router=yn,this.renderer=ct,this.document=At,this.commonService=Jt,this.isUKVI=!1,this.isBtnLinkPopup=!1,this.showPopup=!1}ngOnInit(){this.exploreURL=this.commonService.getUtmAndClickId(Mo.site.bookingURL+"booking"),this.commonService.updateCurrentStep(),this.ttData=this.commonService.getLocalStorageValue("ttDetails"),!this.ttData?.searchFilterDetails&&(this.ttData&&this.ttData?.testType!==en.v7.LS_A1||this.ttData?.testType!==en.v7.LS_B1&&this.ttData?.testFormat||this.ttData&&this.ttData?.testType===en.v7.LS_A1||this.ttData?.testType===en.v7.LS_B1)?(this.commonService.getContentfulDetailsApi(this.router.url),this.manageBookingService.particularPageData.subscribe(Je=>{this.commonService.isObjNotEmpty(Je)&&(this.pageData=Je,this.pageData?.labels?.forEach(yn=>{"COUNTRY_LABEL"===yn?.options&&(this.countryLabel=yn?.displayText),"CITY_LABEL"===yn?.options&&(this.cityLabel=yn?.displayText)}),this.pageData?.buttons?.forEach(yn=>{"CONTINUE_BUTTON"===yn?.options&&(this.buttonLabel=yn?.displayText)}))}),this.testType=this.commonService.getTestType(this.ttData?.testType),this.isUKVI=this.testType?.testCategory===en.MI.IELTS_UKVI||this.testType?.testCategory===en.MI.LIFE_SKILLS,this.getCountryCity()):this.commonService.clearLocalStorageValue(en.dR.TT_DETAILS)}getCountryCity(){this.manageBookingService.getCountryCity(this.commonService.getTestFormat(),[this.testType?.testModule],[this.testType?.testCategory]).subscribe(Je=>{this.countryList=Je?.countryCities,this.countryListFiltered=Je?.countryCities})}selectCountry(Je){this.countrySelected=Je,this.document.getElementById("cityDropDown").classList.remove("fadecity"),this.cityList=Je?.cities?.filter(yn=>""!==yn.city),this.cityListFiltered=Je?.cities?.filter(yn=>""!==yn.city),this.countryInput&&this.countryInput.nativeElement&&(this.countryInput.nativeElement.value="",this.countryList=this.countryListFiltered),this.citySelected=null}selectCity(Je){this.citySelected=Je,this.cityInput&&this.cityInput.nativeElement&&(this.cityInput.nativeElement.value="",this.countryList=this.countryListFiltered,this.cityList=this.cityListFiltered)}openOrClosePopUp(Je){this.isBtnLinkPopup=Je,this.showPopup=!this.showPopup}navigateTo(){this.commonService.storeTTdetails({testLocationDetails:{countryCode:this.countrySelected?.countryCode,countryName:this.countrySelected?.countryName,cityName:this.citySelected?.city,countryList:this.countryList,selectedCClist:this.countrySelected}}),this.commonService.trackGa4(re.dS.eventName.eventsGa4,this.pageData?.pageName,this.buttonLabel),this.router.navigateByUrl(this.ttData?.isUkvi?"/wizard/test-date-ukvi/ioc":"/wizard/test-date/ioc")}filterItems(Je,yn){const ct=Je.target.value.toLowerCase();""===ct?"country"===yn?this.countryList=this.countryListFiltered:this.cityList=this.cityListFiltered:"country"===yn?this.countryList=this.countryListFiltered.filter(At=>At.countryName.toLowerCase().includes(ct)):this.cityList=this.cityListFiltered.filter(At=>At.city.toLowerCase().includes(ct))}static#e=this.\u0275fac=function(yn){return new(yn||Ht)(T.Y36(ie.h),T.Y36(a.F0),T.Y36(T.Qsj),T.Y36(me.K0),T.Y36(Te.v))};static#t=this.\u0275cmp=T.Xpm({type:Ht,selectors:[["app-new-test-type"]],viewQuery:function(yn,ct){if(1&yn&&(T.Gf(dn,5),T.Gf(Pn,5)),2&yn){let At;T.iGM(At=T.CRH())&&(ct.cityInput=At.first),T.iGM(At=T.CRH())&&(ct.countryInput=At.first)}},decls:39,vars:14,consts:[[1,"new-test-location-wrapper"],[1,"new-test-location"],[1,"test-loaction-container","d-flex","flex-column"],[1,"w-100","d-lg-none"],[1,"title"],[3,"click"],["src","/assets/images/tooltip-icon.svg","alt","info"],[1,"dropdown-container","d-flex","flex-column","flex-md-row"],[1,"dropdown","d-flex","flex-column"],["for","countryDropDown"],[1,"row"],[1,"col"],["ngbDropdown",""],["type","button","id","countryDropDown","ngbDropdownToggle",""],["ngbDropdownMenu","","aria-labelledby","countryDropDown",4,"ngIf"],["for","cityDropDown"],["type","button","id","cityDropDown","ngbDropdownToggle","",1,"fadecity",3,"disabled"],[1,"test"],["ngbDropdownMenu","","aria-labelledby","cityDropDown",4,"ngIf"],[1,"primary-button-container","d-none","d-lg-flex"],[4,"ngIf"],[1,"bottom-container","d-flex","flex-column"],["class","notification-pod-container d-flex align-items-start",4,"ngIf"],["class","sr-pod",3,"bannerDetails","urlFrom","openOrClosePopUp",4,"ngIf"],[1,"primary-button-container","d-flex","d-lg-none"],[3,"isBtnLinkPopup","openOrClosePopUp",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","countryDropDown"],["type","text","placeholder","Search...",1,"form-control",3,"keyup"],["countryInput",""],[1,"country-list-container"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"click"],["ngbDropdownMenu","","aria-labelledby","cityDropDown"],["cityInput",""],[1,"cities-list-container"],[1,"primary-button",3,"click"],[1,"notification-pod-container","d-flex","align-items-start"],["src","/assets/images/question-logo.svg","alt","location-icon"],[1,"content-wrapper","d-flex","flex-column","flex-lg-row"],[1,"content-container","d-flex","flex-column"],[1,"description"],["target","_blank",1,"d-flex","justify-content-lg-end",3,"href"],["src","/assets/images/share-icons.svg","alt","newtab"],[1,"sr-pod",3,"bannerDetails","urlFrom","openOrClosePopUp"],[3,"isBtnLinkPopup","openOrClosePopUp"]],template:function(yn,ct){1&yn&&(T.TgZ(0,"div",0)(1,"div",1)(2,"div",2),T._UZ(3,"app-mobile-progressbar",3),T.TgZ(4,"h2")(5,"span",4),T._uU(6),T.qZA(),T.TgZ(7,"span",5),T.NdJ("click",function(){return ct.openOrClosePopUp()}),T._UZ(8,"img",6),T.qZA()(),T.TgZ(9,"div",7)(10,"div",8)(11,"label",9),T._uU(12),T.qZA(),T.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"button",13)(17,"span"),T._uU(18),T.qZA()(),T.YNc(19,ti,5,1,"div",14),T.qZA()()()(),T.TgZ(20,"div",8)(21,"label",15),T._uU(22),T.qZA(),T.TgZ(23,"div",10)(24,"div",11)(25,"div",12)(26,"button",16)(27,"span"),T._uU(28),T.qZA()(),T.TgZ(29,"div",17),T.YNc(30,to,5,1,"div",18),T.qZA()()()()()(),T.TgZ(31,"div",19),T.YNc(32,Zi,3,1,"ng-container",20),T.qZA(),T.TgZ(33,"div",21),T.YNc(34,Fi,10,1,"div",22),T.YNc(35,yo,1,2,"app-special-requirement",23),T.TgZ(36,"div",24),T.YNc(37,Ji,3,1,"ng-container",20),T.qZA()()()()(),T.YNc(38,xi,1,1,"app-popup",25)),2&yn&&(T.xp6(4),T.Q2q("datatracking-id","wizard-h2-",null==ct.pageData||null==ct.pageData.pageName?null:ct.pageData.pageName.replaceAll(" ","_"),""),T.xp6(2),T.Oqu(null==ct.pageData?null:ct.pageData.title),T.xp6(6),T.hij(" ",ct.countryLabel," "),T.xp6(6),T.Oqu((null==ct.countrySelected?null:ct.countrySelected.countryName)||"Select Country"),T.xp6(1),T.Q6J("ngIf",ct.countryList),T.xp6(3),T.hij(" ",ct.cityLabel," "),T.xp6(4),T.Q6J("disabled",!ct.cityList),T.xp6(2),T.Oqu((null==ct.citySelected?null:ct.citySelected.city)||"Select City"),T.xp6(2),T.Q6J("ngIf",ct.cityList),T.xp6(2),T.Q6J("ngIf",null!=ct.citySelected),T.xp6(2),T.Q6J("ngIf",!ct.isUKVI),T.xp6(1),T.Q6J("ngIf",(null==ct.pageData||null==ct.pageData.banners?null:ct.pageData.banners.length)&&(null==ct.ttData?null:ct.ttData.isUkvi)),T.xp6(2),T.Q6J("ngIf",null!=ct.citySelected),T.xp6(1),T.Q6J("ngIf",ct.showPopup))},dependencies:[me.sg,me.O5,Mi.jt,Mi.iD,Mi.Vi,Mi.TH,at.l,Xe.R,Zt.F],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-dark[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}  .right-container{flex-grow:1}  .right-container>.ng-star-inserted{flex-grow:1;display:flex}.fadecity[_ngcontent-%COMP%]{opacity:.5}.new-test-location-wrapper[_ngcontent-%COMP%]{background-color:#f5f5f5;position:relative;margin-top:-.8333333333rem;border-radius:.8888888889rem .8888888889rem 0 0;box-shadow:0 -.1111111111rem .8333333333rem #00000040;width:100%}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]{padding:1.7777777778rem 1.3333333333rem 2.6666666667rem;height:100%}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]{gap:1.3333333333rem;height:100%;word-break:break-word}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#000;margin:0;font-size:1.1111111111rem;line-height:1.3333333333rem;position:relative;display:flex;align-items:baseline;gap:.4444444444rem;max-width:15.5555555556rem;word-break:break-word;align-items:flex-start}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.1111111111rem;height:1.1111111111rem;object-fit:cover}@media (min-width: 1100px){.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.7272727273rem;line-height:2rem;padding:0;max-width:unset}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.title){display:none}}@media (min-width: 768px) and (max-width: 1099.98px){.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{flex:1}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]{gap:1.3333333333rem;padding-top:.4444444444rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{gap:.4444444444rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border:.0833333333rem solid rgba(135,135,135,.25);min-height:2.6666666667rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#000;font-size:.8888888889rem;line-height:1.1111111111rem;font-weight:600}@media (min-width: 1100px){.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:.9090909091rem}}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;background-color:#fff;box-shadow:0 1px 2px #1018280d;padding:.5555555556rem .8888888889rem;font-size:.7777777778rem;line-height:1.3333333333rem;text-align:left;border-radius:.2222222222rem;position:relative;color:#000}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:" ";border:none;background-color:#333541;-webkit-mask-image:url(/assets/images/chevron-down.svg);mask-image:url(/assets/images/chevron-down.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;position:absolute;right:.8888888889rem;height:1.1111111111rem;width:1.1111111111rem;margin:0;top:50%;transform:translateY(-50%)}@media (min-width: 1100px){.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.6363636364rem .8181818182rem .6363636364rem .7272727273rem;font-size:.7272727273rem;line-height:1.2727272727rem;border-radius:.1818181818rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{height:.9090909091rem;width:.9090909091rem;right:.8181818182rem}}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;padding:0;inset:.6666666667rem auto auto 0!important;max-height:13.3333333333rem;overflow:auto;background:#fff}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.6666666667rem .8888888889rem;color:#6b6b6b;cursor:pointer}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{background:none}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#e6e9ec;color:#333541}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar{width:.2222222222rem;border-radius:.2222222222rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#878787;border-radius:.2222222222rem}@media (min-width: 1100px){.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{inset:.5454545455rem auto auto 0!important;max-height:11.8181818182rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5454545455rem .7272727273rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar{width:.1818181818rem;border-radius:.1818181818rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:.1818181818rem}}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{border:.0833333333rem solid #333541}@media (min-width: 1100px){.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{border-width:.0681818182rem}}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{max-height:none;overflow:initial;transform:translate3d(0,-.6666666667rem,0)!important;border-radius:.2222222222rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background-color:#fff;box-shadow:0 1px 2px #1018280d;padding:.5555555556rem .8888888889rem;font-size:.7777777778rem;line-height:1.3333333333rem;text-align:left;position:relative;color:#000;font-weight:400;z-index:2;border-radius:.2222222222rem;border-bottom:.0555555556rem solid #333541}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .country-list-container[_ngcontent-%COMP%], .new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .cities-list-container[_ngcontent-%COMP%]{max-height:13.3333333333rem;overflow:auto;border-right:.4444444444rem solid white;border-radius:.2222222222rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .country-list-container[_ngcontent-%COMP%]::-webkit-scrollbar, .new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .cities-list-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:.2222222222rem;border-radius:.2222222222rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .country-list-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .cities-list-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#878787;border-radius:.2222222222rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown.show[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border:.0833333333rem solid #333541}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{gap:1.3333333333rem;flex-grow:1;padding-top:.4444444444rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]{gap:.6666666667rem;padding:1.1111111111rem;border:.0833333333rem solid #FF8300;background:#FFF3E5;border-radius:.4444444444rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:1.1666666667rem;height:1.1666666667rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{gap:.8888888889rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{gap:.2222222222rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:.7777777778rem;line-height:.8888888889rem;color:#cf6a00;word-break:break-word}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7777777778rem;line-height:1.3333333333rem;font-family:Open Sans,sans-serif;word-break:break-word;margin:0}@media (min-width: 1100px){.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.6363636364rem;line-height:1.0909090909rem}}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff8300;text-decoration:none;display:inline}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.7777777778rem;line-height:.8888888889rem;text-decoration:underline;font-weight:500;color:#333541;gap:.4444444444rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:.8888888889rem;height:.8888888889rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .primary-button-container[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{background-color:#e31837;padding:.6666666667rem .8333333333rem;width:100%;color:#fff;font-weight:600;font-size:.8888888889rem;line-height:1.3333333333rem;border-radius:.2222222222rem;border-radius:2.0909090909rem;text-align:center}@media (min-width: 1100px){.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .primary-button-container[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{padding:.5454545455rem 1.0909090909rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:.1818181818rem}}@media (min-width: 576px){.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{max-width:none}}@media (min-width: 1100px){.new-test-location-wrapper[_ngcontent-%COMP%]{box-shadow:none;border-radius:0;margin:0}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]{padding:3.2727272727rem 2.1818181818rem;height:100%}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]{gap:1.4545454545rem;height:100%}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-top:1.7272727273rem;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:2}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]{gap:1.0909090909rem;padding-top:0}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%] > div.dropdown[_ngcontent-%COMP%]{gap:.3636363636rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%] > div.dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{min-height:2.5454545455rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%] > div.dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{transform:translateY(-.5909090909rem)!important;border-radius:.1818181818rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%] > div.dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.6363636364rem .8181818182rem .6363636364rem .7272727273rem;font-size:.7272727273rem;line-height:1.2727272727rem;color:#000;border-width:.0454545455rem;border-radius:.1818181818rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%] > div.dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%] > div.dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .country-list-container[_ngcontent-%COMP%], .new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%] > div.dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .cities-list-container[_ngcontent-%COMP%]{max-height:11.8181818182rem;border-width:.3636363636rem;border-radius:.1818181818rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%] > div.dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .country-list-container[_ngcontent-%COMP%]::-webkit-scrollbar, .new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%] > div.dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .cities-list-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:.1818181818rem;border-radius:.1818181818rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%] > div.dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .country-list-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%] > div.dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .cities-list-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:.1818181818rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{justify-content:end;padding-top:.8181818182rem;padding-top:0}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]{margin-bottom:0;padding:1.0909090909rem;gap:.7272727273rem;border-radius:.3636363636rem;border-width:.0681818182rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:.9545454545rem;height:.9545454545rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{gap:2.1818181818rem;align-items:center;flex-grow:1}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{flex-grow:1}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-width:8.6818181818rem;font-size:.6363636364rem;line-height:.7272727273rem;gap:.3636363636rem;width:30%}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .notification-pod-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:.7272727273rem;height:.7272727273rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .primary-button-container[_ngcontent-%COMP%]{padding-top:.7272727273rem}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .primary-button-container[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;text-align:center;border-radius:2.0909090909rem}}@media (min-width: 1100px) and (min-width: 768px){.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{max-width:none}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]{padding-top:0}.new-test-location-wrapper[_ngcontent-%COMP%]   .new-test-location[_ngcontent-%COMP%]   .test-loaction-container[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%] > div.dropdown[_ngcontent-%COMP%]{width:50%}}']})}return Ht})();var Wo=D(7570),Bt=D(2213),Ue=D(8502);function We(Ht,Jn){1&Ht&&T._UZ(0,"app-mobile-progressbar")}function Ge(Ht,Jn){if(1&Ht&&T._UZ(0,"span",22),2&Ht){const Je=T.oxw();T.Q6J("innerHTML",null==Je.pageData?null:Je.pageData.description,T.oJD)}}function Et(Ht,Jn){1&Ht&&(T.TgZ(0,"div",23)(1,"ul",24)(2,"li")(3,"button",25),T._uU(4,"On-computer"),T.qZA()(),T.TgZ(5,"li")(6,"button"),T._uU(7,"On-paper"),T.qZA()()()())}function Q(Ht,Jn){1&Ht&&(T.TgZ(0,"div",26)(1,"h3"),T._uU(2,"What days do you want to take the paper test? "),T.qZA(),T.TgZ(3,"div",27)(4,"ul",28)(5,"li",29),T._uU(6,"Both days"),T.qZA(),T.TgZ(7,"li"),T._uU(8,"Thursday"),T.qZA(),T.TgZ(9,"li"),T._uU(10,"Saturday"),T.qZA()()()())}function tt(Ht,Jn){1&Ht&&(T.TgZ(0,"div",30)(1,"div",31)(2,"h3"),T._uU(3,"Which months do you want to take the paper test?"),T.qZA(),T.TgZ(4,"h4"),T._uU(5,"Select up to three months"),T.qZA()(),T.TgZ(6,"div",32)(7,"ul",24)(8,"li",33),T._UZ(9,"div",34),T.TgZ(10,"div",35)(11,"p",36),T._uU(12,"Jan"),T.qZA(),T.TgZ(13,"p",37),T._uU(14,"2024"),T.qZA()()(),T.TgZ(15,"li",38),T._UZ(16,"div",34),T.TgZ(17,"div",35)(18,"p",36),T._uU(19,"Jan"),T.qZA(),T.TgZ(20,"p",37),T._uU(21,"2024"),T.qZA()()(),T.TgZ(22,"li",38),T._UZ(23,"div",34),T.TgZ(24,"div",35)(25,"p",36),T._uU(26,"Jan"),T.qZA(),T.TgZ(27,"p",37),T._uU(28,"2024"),T.qZA()()(),T.TgZ(29,"li",38),T._UZ(30,"div",34),T.TgZ(31,"div",35)(32,"p",36),T._uU(33,"Jan"),T.qZA(),T.TgZ(34,"p",37),T._uU(35,"2024"),T.qZA()()(),T.TgZ(36,"li",38),T._UZ(37,"div",34),T.TgZ(38,"div",35)(39,"p",36),T._uU(40,"Jan"),T.qZA(),T.TgZ(41,"p",37),T._uU(42,"2024"),T.qZA()()(),T.TgZ(43,"li",38),T._UZ(44,"div",34),T.TgZ(45,"div",35)(46,"p",36),T._uU(47,"Jan"),T.qZA(),T.TgZ(48,"p",37),T._uU(49,"2024"),T.qZA()()(),T.TgZ(50,"li",38),T._UZ(51,"div",34),T.TgZ(52,"div",35)(53,"p",36),T._uU(54,"Jan"),T.qZA(),T.TgZ(55,"p",37),T._uU(56,"2024"),T.qZA()()()()()())}function $e(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"div",39),T.NdJ("mouseenter",function(){const At=T.CHM(Je).$implicit,Jt=T.oxw();return T.KtG(Jt.hoveredDate=At)})("mouseleave",function(){T.CHM(Je);const ct=T.oxw();return T.KtG(ct.hoveredDate=null)}),T.TgZ(1,"div",40),T._uU(2),T.qZA()()}if(2&Ht){const Je=Jn.$implicit,yn=Jn.focused,ct=T.oxw();T.ekj("focused",yn)("range",ct.isRange(Je))("before-from",ct.isBeforeFrom(Je))("first",ct.isFirst(Je))("selecting-second",ct.isSelectingSecond())("sunday",ct.isSunday(Je))("last",ct.isLast(Je))("faded",ct.isHovered(Je)||ct.isInside(Je)),T.xp6(2),T.Oqu(Je.day)}}function lt(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"div",41)(1,"button",42),T.NdJ("click",function(){T.CHM(Je);const ct=T.oxw();return T.KtG(ct.getNextThreeMonthDates())})("keyup",function(){T.CHM(Je);const ct=T.oxw();return T.KtG(ct.getNextThreeMonthDates())}),T.TgZ(2,"span"),T._UZ(3,"img",43),T.qZA(),T._uU(4,"Display the next 3 months "),T.qZA()()}if(2&Ht){const Je=T.oxw();T.Q6J("ngClass",1==Je.showNextThreeMonth?"display-show":"")}}function nn(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"a",52),T.NdJ("click",function(){T.CHM(Je);const ct=T.oxw(2);return T.KtG(ct.onClearSelection())}),T._uU(1),T.qZA()}if(2&Ht){const Je=T.oxw(2);T.xp6(1),T.Oqu(Je.clearSessionBtnLabel)}}function bn(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"button",53),T.NdJ("click",function(){T.CHM(Je);const ct=T.oxw(2);return T.KtG(ct.findSession())}),T._uU(1),T.qZA()}if(2&Ht){const Je=T.oxw(2);T.Q6J("disabled",!Je.selectedDate),T.xp6(1),T.Oqu(Je.findSessionBtnLabel)}}function Bn(Ht,Jn){if(1&Ht&&(T.TgZ(0,"div",44)(1,"div",45),T._UZ(2,"h3",46),T.TgZ(3,"h4",47),T._uU(4),T.qZA()(),T._UZ(5,"div",48),T.TgZ(6,"div",49),T.YNc(7,nn,2,1,"a",50),T.YNc(8,bn,2,2,"button",51),T.qZA()()),2&Ht){const Je=T.oxw();T.xp6(2),T.Q6J("innerHTML",null==Je.pageData?null:Je.pageData.description,T.oJD),T.xp6(2),T.Oqu(Je.selectedDate),T.xp6(3),T.Q6J("ngIf",Je.selectedDate),T.xp6(1),T.Q6J("ngIf",Je.selectedDate)}}function kt(Ht,Jn){if(1&Ht){const Je=T.EpF();T.TgZ(0,"app-popup",54),T.NdJ("openOrClosePopUp",function(){T.CHM(Je);const ct=T.oxw();return T.KtG(ct.openOrClosePopUp())}),T.qZA()}}let cn=(()=>{class Ht{constructor(){this.language="en"}static#e=this.\u0275fac=function(yn){return new(yn||Ht)};static#t=this.\u0275prov=T.Yz7({token:Ht,factory:Ht.\u0275fac})}return Ht})();const ft={en:{weekdays:["M","T","W","T","F","S","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekLabel:"week"}};let Ze=(()=>{class Ht extends Mi.wf{constructor(Je){super(),this._i18n=Je}getWeekdayLabel(Je){return ft[this._i18n.language].weekdays[Je-1]}getWeekLabel(){return ft[this._i18n.language].weekLabel}getMonthShortName(Je){return ft[this._i18n.language].months[Je-1]}getMonthFullName(Je){return this.getMonthShortName(Je)}getDayAriaLabel(Je){return`${Je.day}-${Je.month}-${Je.year}`}static#e=this.\u0275fac=function(yn){return new(yn||Ht)(T.LFG(cn))};static#t=this.\u0275prov=T.Yz7({token:Ht,factory:Ht.\u0275fac})}return Ht})(),on=(()=>{class Ht{constructor(Je,yn,ct,At,Jt,ei,Zn,Ci,hi,vo){this.calendar=Je,this.sessionSearchService=yn,this.manageBookingService=ct,this.router=At,this.citiesService=Jt,this.renderer=ei,this.document=Zn,this.i18n=Ci,this.commonService=hi,this.el=vo,this.fromDate=null,this.toDate=null,this.showError=!1,this.debug="test",this.hoveredDate=null,this.innerWidth=0,this.languageSkills=[Wo.lk.Listening,Wo.lk.Reading,Wo.lk.Writing],this.enabledDates=[],this.isComputer=!0,this.h2DataTrackingValue="",this.isFirstDate=!1,this.isLastDate=!1,this.showPopup=!1,this.showNextThreeMonth=!1,this.isLastDateforThreeMonth=!1,this.isLastDateforSixMonth=!1,this.isSixMonthEnabled=!1,this.mobileViewDisplayMonth=4,this.showDisplayNextMobile=!1,this.sessionDatesObj=[""];const Di=this.calendar.getToday();this.minDate=this.calendar.getNext(Di,"d",0);const Do=this.calendar.getNext(this.minDate,"m",3);this.mobileViewDisplayMonth=Do.month-this.minDate.month==2?3:4,this.maxDate=this.calendar.getNext(Di,"m",3),this.maximumCalenderDate=this.calendar.getNext(Di,"m",4),this.maximumCalenderDate=this.getLastDayOfMonth(this.maximumCalenderDate),this.maxDate=this.getLastDayOfMonth(this.maxDate)}ngOnInit(){this.commonService.updateCurrentStep(),document?.body?.classList?.add("test-date-body"),this.enabledDates=[new Mi.qj(0,0,0)],this.isDisabled=Je=>!this.enabledDates.some(yn=>Je.equals(yn)),window.scroll({top:0,left:0,behavior:"smooth"}),this.ttData=this.commonService.getLocalStorageValue(en.dR.TT_DETAILS),!this.commonService.isObjNotEmpty(this.ttData.searchFilterDetails)&&(this.ttData&&this.ttData?.testType!==en.v7.LS_A1||this.ttData?.testType!==en.v7.LS_B1&&this.ttData?.testFormat&&this.ttData?.testLocation)||this.ttData&&this.ttData?.testType===en.v7.LS_A1||this.ttData?.testType===en.v7.LS_B1&&this.ttData?.testLocation?(this.commonService.getContentfulDetailsApi(this.router.url),this.manageBookingService.particularPageData.subscribe(Je=>{this.commonService.isObjNotEmpty(Je)&&(this.pageData=Je,this.pageData?.buttons?.forEach(yn=>{yn?.options===en.EK.SEARCH_BUTTON&&(this.findSessionBtnLabel=yn?.displayText),yn?.options===en.EK.CLEAR_BUTTON&&(this.clearSessionBtnLabel=yn?.displayText)}))}),this.testType=this.commonService.getTestType(this.ttData?.testType),this.getCityId()):this.commonService.clearLocalStorageValue(en.dR.TT_DETAILS),this.innerWidth=window.innerWidth,this.getDataTrackingValue()}getLastDayOfMonth(Je){const yn=new Date(Je.year,Je.month,0).getDate();return new Mi.qj(Je.year,Je.month,yn)}ngAfterViewInit(){const Je=this.el.nativeElement.querySelector(".ngb-dp-arrow-prev");Je&&this.isFirstDate?this.renderer?.setStyle(Je,"visibility","hidden"):Je&&this.renderer?.removeStyle(Je,"visibility")}onResize(){this.innerWidth=window.innerWidth}ngOnDestroy(){document?.body?.classList?.remove("test-date-body")}onDateSelection(Je){try{this.showError=!1,this.fromDate||this.toDate?this.fromDate&&!this.toDate?Je.after(this.fromDate)||Je.equals(this.fromDate)?this.toDate=Je:(this.toDate=this.fromDate,this.fromDate=Je):(this.toDate=null,this.fromDate=Je):this.fromDate=Je,this.selectedDate=(0,Bt.q)((0,Ue.UW)(this.fromDate),this.toDate?(0,Ue.UW)(this.toDate):void 0)}catch{this.debug=this.fromDate?.toString()||"failed"}}onNavigate(Je){const{year:yn,month:ct}=Je?.next;this.isFirstDate=yn===this.minDate?.year&&ct===this.minDate?.month,this.isLastDateforThreeMonth=yn===this.maxDate?.year&&ct===this.maxDate?.month;const At=this.calendar.getToday(),Jt=this.calendar.getNext(At,"m",6);this.isLastDateforSixMonth=yn===Jt?.year&&ct===Jt?.month-1,this.showNextThreeMonth=!0===this.isLastDateforThreeMonth&&!this.isSixMonthEnabled,this.hideNavBtn()}getNextThreeMonthDates(){this.innerWidth<1024&&(this.showDisplayNextMobile=!0),this.isSixMonthEnabled=!0;const Je=this.calendar.getToday(),yn=this.calendar.getNext(Je,"d",90);this.getCalendarDates(yn),this.maximumCalenderDate=this.calendar.getNext(Je,"m",6),this.mobileViewDisplayMonth=this.maximumCalenderDate.month-yn.month==2?this.mobileViewDisplayMonth+2:this.mobileViewDisplayMonth+3,this.maximumCalenderDate=this.getLastDayOfMonth(this.maximumCalenderDate),this.showNextThreeMonth=!1}isHovered(Je){return this.fromDate&&!this.toDate&&this.hoveredDate&&Je.after(this.fromDate)&&Je.before(this.hoveredDate)}isInside(Je){return this.toDate&&Je.after(this.fromDate)&&Je.before(this.toDate)}isRange(Je){return this.isFirst(Je)||this.isLast(Je)||this.isInside(Je)||this.isHovered(Je)}isFirst(Je){return Je.equals(this.fromDate)}isBeforeFrom(Je){return Je.before(this.fromDate)}isSelectingSecond(){return null!==this.fromDate&&null===this.toDate}isLast(Je){return this.toDate&&Je.equals(this.toDate)}isSunday(Je){return 0===new Date((0,Ue.UW)(Je)+"T00:00:00").getDay()}findSession(){if(this.commonService.trackGa4(re.dS.eventName.eventsGa4,this.pageData?.pageName,this.findSessionBtnLabel),this.toDate||(this.toDate=this.fromDate),this.fromDate&&this.toDate){const Je={fromDate:(0,Ue.UW)(this.fromDate),toDate:(0,Ue.UW)(this.toDate),sessionDates:this.sessionDatesObj,isSixMonthEnabled:this.isSixMonthEnabled};this.commonService.storeTTdetails({testDateDetails:Je});const yn=this.commonService.getCookie("osrTestData");if(yn){const ct=decodeURIComponent(yn),At=JSON.parse(ct);At.isOSR=!1;const Jt=encodeURIComponent(JSON.stringify(At));document.cookie=`osrTestData=${Jt}; path=/;`}this.router.navigate(["/book-ielts"])}}getCityId(){this.countrydata=this.ttData?.testLocation,this.citiesService.getCities(void 0,this.countrydata?.countryCode,this.countrydata?.cityName,Wo.KM.A).subscribe(Je=>{this.cityDetail=Je?.items;const yn=this.calendar.getToday();this.getCalendarDates(yn)})}getCalendarDates(Je){const Jt=Je.year+"-"+Je.month+"-"+Je.day;this.sessionSearchService.calendarDates(this.languageSkills,void 0,this.countrydata?.countryCode,Jt,[this.testType?.testCategory],this.commonService.getTestFormat(),[this.testType?.testModule],this.cityDetail[0]?.id).subscribe(ei=>{ei?.sessionDates&&ei?.sessionDates.forEach(Zn=>{this.sessionDatesObj.push(Zn)}),this.enabledDates=this.sessionDatesObj.map(Zn=>{const[Ci,hi,vo]=Zn.split("-").map(Number);return new Mi.qj(Ci,hi,vo)}),this.isDisabled=Zn=>!this.enabledDates.some(Ci=>Zn.equals(Ci))},ei=>{this.enabledDates=[new Mi.qj(0,0,0)],this.isDisabled=Zn=>!this.enabledDates.some(Ci=>Zn.equals(Ci))})}onClearSelection(){this.selectedDate=null,this.fromDate=null,this.toDate=null}openOrClosePopUp(){this.showPopup=!this.showPopup}getDataTrackingValue(){this.h2DataTrackingValue=this.ttData?.testFormat===en.Rs.ALL?this.ttData?.testType?.includes("UKVI")?re.iH?.h2?.testDateNotSureUkvi:re.iH?.h2?.testDateNotSure:this.ttData?.testFormat||this.ttData?.testType!==en.v7.LS_A1&&this.ttData?.testType!==en.v7.LS_B1?`${re.iH?.h2?.wizardH2testDate}${this.ttData?.testFormat?.replaceAll(" ","_")}`:this.ttData?.testType===en.v7.LS_A1?re.iH?.h2?.testDateLSa1:re.iH?.h2?.testDateLSb1}hideNavBtn(){const Je=this.el?.nativeElement?.querySelector(".ngb-dp-arrow-prev");Je&&this.isFirstDate?this.renderer?.setStyle(Je,"visibility","hidden"):Je&&this.renderer?.removeStyle(Je,"visibility");const yn=this.el?.nativeElement?.querySelector(".ngb-dp-arrow-next");yn&&this.isLastDateforSixMonth?this.renderer.setStyle(yn,"visibility","hidden"):yn&&this.renderer.removeStyle(yn,"visibility")}static#e=this.\u0275fac=function(yn){return new(yn||Ht)(T.Y36(Mi.vL),T.Y36(Wo.uw),T.Y36(ie.h),T.Y36(a.F0),T.Y36(Wo.eK),T.Y36(T.Qsj),T.Y36(me.K0),T.Y36(Mi.wf),T.Y36(Te.v),T.Y36(T.SBq))};static#t=this.\u0275cmp=T.Xpm({type:Ht,selectors:[["app-new-test-date"]],hostBindings:function(yn,ct){1&yn&&T.NdJ("resize",function(Jt){return ct.onResize(Jt)},!1,T.Jf7)},features:[T._Bn([cn,{provide:Mi.wf,useClass:Ze}])],decls:25,vars:18,consts:[[1,"test-date-on-paper-container",3,"ngClass"],[1,"test-date-on-paper-wrapper"],[1,"test-date-on-paper-content","d-flex","flex-column"],[1,"heading-and-tab-container","d-flex","align-items-lg-center","justify-content-lg-between","flex-column","flex-lg-row"],[1,"heading-container","on-computer","d-flex","flex-column"],[4,"ngIf"],[1,"heading","d-flex","justify-content-between"],[1,"title"],[1,"d-lg-none",3,"click"],["src","/assets/images/tooltip-icon.svg","alt","info"],[1,"sub-heading","d-none","d-lg-flex"],[3,"innerHTML",4,"ngIf"],["class","tab-container",4,"ngIf"],["class","test-day-select-container d-flex flex-column",4,"ngIf"],["class","test-month-select-container d-flex flex-column",4,"ngIf"],[1,"test-calender-container"],["outsideDays","hidden",1,"d-flex",3,"displayMonths","dayTemplate","minDate","firstDayOfWeek","maxDate","markDisabled","dateSelect","navigate"],["dp",""],["t",""],["class","nextcalender align-items-center justify-content-center",3,"ngClass",4,"ngIf"],["class","test-date-on-paper-footer d-flex flex-column",4,"ngIf"],[3,"openOrClosePopUp",4,"ngIf"],[3,"innerHTML"],[1,"tab-container"],[1,"d-flex"],[1,"active"],[1,"test-day-select-container","d-flex","flex-column"],[1,"select-date-pod-container"],[1,"d-flex","flex-column","flex-lg-row"],[1,"active","d-flex","align-items-center","justify-content-between"],[1,"test-month-select-container","d-flex","flex-column"],[1,"heading-container"],[1,"select-month-pod-container"],[1,"d-flex","flex-column","align-items-center","active"],[1,"calender-image","d-flex"],[1,"mont-year","d-flex","flex-column","align-items-center"],[1,"month"],[1,"year"],[1,"d-flex","flex-column","align-items-center"],[1,"custom-date-range",3,"mouseenter","mouseleave"],[1,"overlay"],[1,"nextcalender","align-items-center","justify-content-center",3,"ngClass"],[1,"d-flex","align-items-center",3,"click","keyup"],["src","/assets/images/search-gray.svg","alt",""],[1,"test-date-on-paper-footer","d-flex","flex-column"],[1,"footer-heading-wrapper","d-lg-none"],[1,"heading",3,"innerHTML"],[1,"sub-heading"],[1,"footer-border","d-lg-none"],[1,"test-date-links","d-flex","align-items-center"],["datatracking-id","wizard-link-clear-date-range",3,"click",4,"ngIf"],["datatracking-id","wizard-btn-confirm-date-range",3,"disabled","click",4,"ngIf"],["datatracking-id","wizard-link-clear-date-range",3,"click"],["datatracking-id","wizard-btn-confirm-date-range",3,"disabled","click"],[3,"openOrClosePopUp"]],template:function(yn,ct){if(1&yn&&(T.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),T.YNc(5,We,1,0,"app-mobile-progressbar",5),T.TgZ(6,"h2",6)(7,"span",7),T._uU(8),T.qZA(),T.TgZ(9,"span",8),T.NdJ("click",function(){return ct.openOrClosePopUp()}),T._UZ(10,"img",9),T.qZA()(),T.TgZ(11,"h3",10),T.YNc(12,Ge,1,1,"span",11),T._uU(13),T.qZA()(),T.YNc(14,Et,8,0,"div",12),T.qZA(),T.YNc(15,Q,11,0,"div",13),T.YNc(16,tt,57,0,"div",14),T.TgZ(17,"div",15)(18,"ngb-datepicker",16,17),T.NdJ("dateSelect",function(Jt){return ct.onDateSelection(Jt)})("navigate",function(Jt){return ct.onNavigate(Jt)}),T.qZA(),T.YNc(20,$e,3,17,"ng-template",null,18,T.W1O),T.YNc(22,lt,5,1,"div",19),T.qZA()(),T.YNc(23,Bn,9,4,"div",20),T.qZA()(),T.YNc(24,kt,1,0,"app-popup",21)),2&yn){const At=T.MAs(21);T.Q6J("ngClass",ct.selectedDate?"selected":""),T.xp6(5),T.Q6J("ngIf","/wizard"!==(null==ct.pageData?null:ct.pageData.urlSlug)),T.xp6(1),T.uIk("datatracking-id",ct.h2DataTrackingValue),T.xp6(2),T.Oqu(null==ct.pageData?null:ct.pageData.title),T.xp6(4),T.Q6J("ngIf",ct.selectedDate),T.xp6(1),T.hij(" ",ct.selectedDate,""),T.xp6(1),T.Q6J("ngIf",!ct.isComputer),T.xp6(1),T.Q6J("ngIf",!ct.isComputer),T.xp6(1),T.Q6J("ngIf",!ct.isComputer),T.xp6(2),T.Q6J("displayMonths",ct.innerWidth>1024?2:ct.mobileViewDisplayMonth)("dayTemplate",At)("minDate",ct.minDate)("firstDayOfWeek",7)("maxDate",ct.maximumCalenderDate)("markDisabled",ct.isDisabled),T.xp6(4),T.Q6J("ngIf",!ct.showDisplayNextMobile),T.xp6(1),T.Q6J("ngIf",ct.selectedDate),T.xp6(1),T.Q6J("ngIf",ct.showPopup)}},dependencies:[me.mk,me.O5,Mi.VL,at.l,Xe.R],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}  .test-date-body{overflow:hidden}  .right-container{flex-grow:1}  .right-container>.ng-star-inserted{flex-grow:1}.test-date-on-paper-container[_ngcontent-%COMP%]{margin-top:-.8333333333rem;background-color:#f5f5f5;box-shadow:0 -.1111111111rem .8333333333rem #00000040;z-index:1;position:relative;border-radius:.8888888889rem .8888888889rem 0 0;height:100%;flex-grow:1}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]{padding:1.7777777778rem 0;height:calc(100dvh - 4.2222222222rem);overflow:scroll}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]{gap:1.7777777778rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]{gap:1.3333333333rem;position:fixed;top:4.1666666667rem;left:0;width:100%;background-color:#f5f5f5;padding:1.7777777778rem 1.3333333333rem;border-radius:.8888888889rem .8888888889rem 0 0;z-index:4}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .heading-container[_ngcontent-%COMP%]{gap:1.3333333333rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .heading-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{text-align:left;font-weight:700;color:#000;margin:0;font-size:1.1111111111rem;line-height:1.3333333333rem;position:relative;display:flex;align-items:center;gap:.4444444444rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .heading-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.1111111111rem;height:1.1111111111rem;object-fit:contain}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .heading-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{flex:1}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .heading-container[_ngcontent-%COMP%]   .sub-heading[_ngcontent-%COMP%]{margin:0;color:#000;font-weight:400;font-family:Open Sans,sans-serif;gap:.1111111111rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .heading-container[_ngcontent-%COMP%]   .sub-heading[_ngcontent-%COMP%]     span p{margin:0}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]{background-color:#e6e9ec;border-radius:.2222222222rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{gap:.8888888889rem;margin:0;list-style-type:none;padding:.4444444444rem .8888888889rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:transparent;flex-grow:1;width:50%}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;padding:.2222222222rem .5555555556rem;background:transparent;color:#6b6b6b;font-weight:600;border-radius:.2222222222rem;font-size:.8888888889rem;line-height:1.3333333333rem;width:100%}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#fff;background-color:#333541}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-day-select-container[_ngcontent-%COMP%]{gap:.8888888889rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-day-select-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;margin:0;padding:0;font-size:.8888888889rem;line-height:1.1111111111rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-day-select-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none;gap:.6666666667rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-day-select-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#fff;border-radius:.2222222222rem;border:.0555555556rem solid rgba(135,135,135,.25);box-shadow:0 1px 2px #1018280d;color:#000;font-weight:600;cursor:pointer;position:relative;gap:.8888888889rem;flex-grow:1;width:100%;padding:.8888888889rem;font-size:.8888888889rem;line-height:1.1111111111rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-day-select-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#E6E9EC;border:.0833333333rem solid #333541}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-day-select-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{content:"";-webkit-mask-image:url(/assets/images/right-icon.svg);mask-image:url(/assets/images/right-icon.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;background-color:#242424;width:1.1111111111rem;height:1.1111111111rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]{padding-top:.8888888889rem;gap:.8888888889rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#000;font-size:.8888888889rem;line-height:1.1111111111rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#000;font-family:Open Sans,sans-serif;font-size:.7777777778rem;line-height:1.3333333333rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]{cursor:pointer;overflow-y:scroll}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style-type:none;margin:0;min-width:45.3333333333rem;gap:.6666666667rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;border-radius:.3333333333rem;opacity:.5;border:.0833333333rem solid rgba(135,135,135,.25);box-shadow:0 1px 2px #1018280d;flex-grow:1;width:100%;width:5.3333333333rem;height:5.3333333333rem;padding:.6666666667rem 1.3333333333rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .calender-image[_ngcontent-%COMP%]{position:relative}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .calender-image[_ngcontent-%COMP%]:after{content:"";-webkit-mask-image:url(/assets/images/calender-icon.svg);mask-image:url(/assets/images/calender-icon.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;background-color:#333541;width:1.1111111111rem;height:1.1111111111rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .mont-year[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:1rem;line-height:1.1111111111rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .mont-year[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{margin:0;margin-top:-.4444444444rem;font-family:Open Sans,sans-serif;font-size:.8888888889rem;line-height:1.5555555556rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{opacity:1;background-color:#e6e9ec;border:.125rem solid #333541}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .calender-image[_ngcontent-%COMP%]:after{-webkit-mask-image:url(/assets/images/calender-active-icon.svg);mask-image:url(/assets/images/calender-active-icon.svg);width:1.1111111111rem;height:1.1111111111rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .mont-year[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%], .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .mont-year[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{color:#333541}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]{position:relative}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker{border:none;border-radius:0;width:100%;display:flex;flex-direction:column}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header{background:none;padding:0}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted{gap:1.1111111111rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted[ng-reflect-prev-disabled=true] .ngb-dp-arrow:nth-child(1){cursor:not-allowed}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted[ng-reflect-prev-disabled=true] .ngb-dp-arrow:nth-child(1):hover{background-color:#fff;border:.0555555556rem solid rgba(135,135,135,.25)}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-arrow{width:2rem;height:2rem;flex:unset;border-radius:.2222222222rem;background-color:#fff;border:.0555555556rem solid rgba(135,135,135,.25);display:none}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-arrow button{margin:0;padding:0;width:100%;height:100%;color:#333541;display:flex;align-items:center;justify-content:center;border-radius:.2222222222rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-arrow button span{margin:0;position:relative;border:none;background-color:#333541;-webkit-mask-image:url(/assets/images/chevron-right.svg);mask-image:url(/assets/images/chevron-right.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;height:.7222222222rem;width:.4166666667rem;transform:rotate(180deg)}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-arrow:hover, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-arrow.active{background-color:#e6e9ec;border:.0555555556rem solid #333541}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-arrow.right button span, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-arrow.ngb-dp-arrow-next button span{transform:none}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-navigation-select{flex-grow:2;gap:0;justify-content:center;display:none}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-navigation-select select{padding:0;background-color:transparent;border:none;background-image:none;width:-moz-fit-content;width:fit-content;flex:unset;color:#000;font-weight:600;height:auto;pointer-events:none}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content{flex-direction:column;gap:1.7777777778rem;padding-top:7.6666666667rem;padding-bottom:2.6666666667rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month{flex-grow:1;width:100%;gap:.8888888889rem;display:flex;flex-direction:column;overflow:hidden;min-height:18.2777777778rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month .ngb-dp-month-name{background:transparent;text-align:left;font-size:1rem;line-height:1.1111111111rem;height:auto;color:#000;font-weight:600;padding:0 1.3333333333rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month{display:flex;flex-direction:column;gap:1.3333333333rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-weekdays{background:none;border:none;gap:1.3333333333rem;position:fixed;left:0;top:10.6666666667rem;z-index:4;width:100%;background-color:#f5f5f5}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-weekdays .ngb-dp-weekday{color:#000;font-weight:600;font-style:normal;height:1.1111111111rem;font-size:.8888888889rem;line-height:1.1111111111rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-weekdays.ngb-dp-week{padding:0 1.3333333333rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week{gap:1.3333333333rem;padding:0 1.0909090909rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-weekday{flex-grow:1;width:100%}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day{flex-grow:1;display:flex;align-items:center;justify-content:center;font-size:.8888888889rem;line-height:1.5555555556rem;width:1.5555555556rem;height:1.5555555556rem;outline:none}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range .overlay{font-family:Open Sans,sans-serif;color:#000;border-radius:.2222222222rem;text-align:center;display:flex;align-items:center;justify-content:center;position:relative;z-index:2;width:2rem;height:2rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range .overlay:hover{background-color:#333541;color:#fff}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range{position:relative}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.first .overlay, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.last .overlay{background-color:#333541;color:#fff}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range:hover{position:relative}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.faded:before, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.last:not(.first):before, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.selecting-second:not(.first):not(.before-from):hover:before{content:"";position:absolute;top:0;left:-5vw;background-color:#e6e9ec;width:15vw;height:100%;z-index:0}@media (min-width: 400px){.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.faded:before, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.last:not(.first):before, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.selecting-second:not(.first):not(.before-from):hover:before{left:-10vw;width:19vw}}@media (min-width: 650px){.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.faded:before, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.last:not(.first):before, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.selecting-second:not(.first):not(.before-from):hover:before{left:-9.8vw;width:14.5vw}}@media (min-width: 992px){.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.faded:before, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.last:not(.first):before, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.selecting-second:not(.first):not(.before-from):hover:before{left:-14.5vw;width:18vw}}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day.disabled .custom-date-range .overlay{color:#333541;text-decoration:line-through;opacity:.3}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week:last-child{padding-bottom:0}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month:not(:first-child) .ngb-dp-weekdays{display:none}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]{background-color:#f5f5f5;z-index:1;display:flex}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fff;border-radius:1.1111111111rem;border:.0555555556rem solid rgba(135,135,135,.25);color:#333541;font-weight:600;font-size:.7777777778rem;line-height:.7777777778rem;padding:.6111111111rem .8333333333rem;box-shadow:0 .0555555556rem .1111111111rem -.0555555556rem #1018281a,0 .0555555556rem .1666666667rem #1018281a;gap:.2727272727rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#e6e9ec;border:.0833333333rem solid #333541}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]{background-color:#fff;gap:.8888888889rem;padding:1.3333333333rem 0 1.7777777778rem;border-radius:.8888888889rem .8888888889rem 0 0;box-shadow:0 -.2222222222rem .8333333333rem #00000040;position:fixed;bottom:0;z-index:2;width:100%}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]   .footer-heading-wrapper[_ngcontent-%COMP%]{padding:0 1.3333333333rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]   .footer-heading-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:1rem;line-height:1.1111111111rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]   .footer-heading-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]     p{margin:0}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]   .footer-heading-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:.8888888889rem;line-height:1.5555555556rem;margin:0;font-weight:400}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]   .footer-border[_ngcontent-%COMP%]{border:.0555555556rem solid rgba(135,135,135,.25)}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]   .test-date-links[_ngcontent-%COMP%]{gap:1.3333333333rem;padding:0 1.3333333333rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]   .test-date-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333541;font-weight:500;text-decoration:underline;width:100%;font-size:.7777777778rem;line-height:.8888888889rem;cursor:pointer;text-align:center}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]   .test-date-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e31837;padding:.6666666667rem .8333333333rem;width:100%;color:#fff;font-weight:600;font-size:.8888888889rem;line-height:1.3333333333rem;border-radius:2.2222222222rem;text-align:center}.test-date-on-paper-container.selected[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 14.6111111111rem)}@media (max-width: 380px){.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week{gap:1.1111111111rem}}@media (min-width: 1100px){.test-date-on-paper-container[_ngcontent-%COMP%]{min-height:23.6363636364rem;max-height:100vh;overflow-y:auto;box-shadow:none;border-radius:0;margin:0}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]{padding:3.2727272727rem 2.1818181818rem;height:100%;overflow:auto}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]{gap:1.0909090909rem;padding:0;overflow:auto}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]{gap:2.9090909091rem;position:relative;padding:0;background:transparent;border-radius:0;top:inherit}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .heading-container[_ngcontent-%COMP%]{gap:0}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .heading-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:1.7272727273rem;line-height:2rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .heading-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.title){display:none}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .heading-container[_ngcontent-%COMP%]   .sub-heading[_ngcontent-%COMP%]{margin:0;font-size:.8181818182rem;line-height:1.4545454545rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .heading-container.on-computer[_ngcontent-%COMP%]   .sub-heading[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.2727272727rem;gap:.1818181818rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]{min-width:12.6363636364rem;border-radius:.1818181818rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:.3636363636rem .7272727273rem;gap:.7272727273rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:transparent;width:50%}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .heading-and-tab-container[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.1818181818rem .4545454545rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:.1818181818rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-day-select-container[_ngcontent-%COMP%]{gap:1.0909090909rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-day-select-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8636363636rem;line-height:1.0909090909rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-day-select-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{gap:1.0909090909rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-day-select-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8636363636rem;line-height:1.0909090909rem;padding:.7272727273rem;width:23.5%;flex-grow:initial}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-day-select-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{width:1.0909090909rem;height:1.0909090909rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]{gap:1.0909090909rem;flex-grow:1;padding:0}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9090909091rem;line-height:1.0909090909rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.2727272727rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]{overflow:inherit}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{gap:1.0909090909rem;min-width:auto}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.4090909091rem 1.0909090909rem;gap:.2727272727rem;max-width:4.3636363636rem;max-height:4.3636363636rem;width:auto;height:auto}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .calender-image[_ngcontent-%COMP%]:after{width:1.0909090909rem;height:1.0909090909rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .mont-year[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:.9090909091rem;line-height:1.0909090909rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .mont-year[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{font-size:.8181818182rem;line-height:1.4545454545rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-month-select-container[_ngcontent-%COMP%]   .select-month-pod-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .calender-image[_ngcontent-%COMP%]:after{width:1.0909090909rem;height:1.0909090909rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]{position:relative}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker{gap:1.4545454545rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header{position:absolute;top:0;width:100%}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted{gap:.9090909091rem;justify-content:space-between}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-arrow{display:flex;border-radius:.1818181818rem;width:1.6363636364rem;height:1.6363636364rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-arrow button{border-radius:.1818181818rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-arrow button span{width:.3636363636rem;height:.5909090909rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-navigation-select{display:none;gap:.3636363636rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-navigation-select select{font-size:1.0909090909rem;line-height:1.2727272727rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ng-star-inserted .ngb-dp-navigation-select select:first-child{text-align:end}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content{padding:0;flex-direction:row;gap:2.1818181818rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month{min-height:15.9090909091rem;z-index:1;gap:1.0909090909rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month .ngb-dp-month-name{text-align:center;font-size:1.0909090909rem;line-height:1.2727272727rem;padding:.1818181818rem 0}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month{gap:.9090909091rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-weekdays{gap:1.0909090909rem;padding:0;position:relative;top:inherit;background:transparent}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-weekdays .ngb-dp-weekday{height:.9090909091rem;font-size:.7272727273rem;line-height:.9090909091rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-weekdays.ngb-dp-week{padding:0}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week{gap:1.0909090909rem;font-size:.7272727273rem;line-height:1.2727272727rem;border-radius:.1818181818rem;padding:0}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day{height:1.0909090909rem;font-size:.7272727273rem;line-height:1.2727272727rem;border-radius:.1818181818rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range .overlay{font-size:.7272727273rem;line-height:1.2727272727rem;width:1.6363636364rem;height:1.6363636364rem;border-radius:.1818181818rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.faded:before, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.last:not(.first):before, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.selecting-second:not(.first):not(.before-from):hover:before{left:-3.3vw;background-color:#e6e9ec;width:5.8vw}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range:hover{color:#fff;width:1.6363636364rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range:not(.sunday):before, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range:hover:not(.sunday):before{left:-3vw;background-color:#e6e9ec;width:6vw}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.faded>.overlay{width:1.6363636364rem;height:1.6363636364rem;color:#676563;background-color:#e6e9ec}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month:not(:first-child) .ngb-dp-weekdays{display:flex}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:50%;height:100%;display:none}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{gap:.2727272727rem;border-width:.0454545455rem;border-radius:.9090909091rem;box-shadow:0 .0454545455rem .0909090909rem -.0454545455rem #1018281a,0 .0454545455rem .1363636364rem #1018281a;font-size:.6363636364rem;line-height:.6363636364rem;padding:.5rem .6818181818rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{border:.0681818182rem solid #333541}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-content[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender.display-show[_ngcontent-%COMP%]{display:flex}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]{max-width:14.9090909091rem;padding-top:1.0909090909rem;background-color:transparent;box-shadow:none;padding-bottom:0;position:relative}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]   .test-date-links[_ngcontent-%COMP%]{gap:2.1818181818rem;padding:0;text-align:inherit}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]   .test-date-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.6818181818rem;line-height:.6818181818rem;text-align:center;width:-moz-fit-content;width:fit-content;min-width:4.5454545455rem}.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]   .test-date-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5454545455rem .6818181818rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:2.0909090909rem}.test-date-on-paper-container.selected[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]{height:100%}}@media (min-width: 768px) and (max-width: 1199.98px){.test-date-on-paper-container[_ngcontent-%COMP%]   .test-date-on-paper-wrapper[_ngcontent-%COMP%]   .test-date-on-paper-footer[_ngcontent-%COMP%]   .test-date-links[_ngcontent-%COMP%]{max-width:20rem}}']})}return Ht})();const _e=[{path:"",component:be,children:[{path:"",component:Vt},{path:"test-location",component:no},{path:"test-location-ukvi",component:no},{path:"test-date/ioc",component:on},{path:"test-date-ukvi/ioc",component:on},{matcher:Lt,component:Vt,resolve:{state:jn}},{path:"**",redirectTo:"",pathMatch:"full"}]}];function Lt(Ht){return 1===Ht.length&&["test-type","type-academic","type-ukvi","type-general-training","type-ukvi-gt","type-ukvi-ac"].indexOf(Ht[0].path)>-1?{consumed:Ht}:null}let gn=(()=>{class Ht{static#e=this.\u0275fac=function(yn){return new(yn||Ht)};static#t=this.\u0275mod=T.oAB({type:Ht});static#n=this.\u0275inj=T.cJS({imports:[a.Bz.forChild(_e),a.Bz]})}return Ht})()},91:(Dt,Le,D)=>{"use strict";D.d(Le,{h:()=>le});var a=D(7570),s=D(5619),oe=D(1374),c=D(7398),T=D(5879),V=D(2236),ie=D(2452),Te=D(9582);let le=(()=>{class me{constructor(be,re,J,fe,ke){this.router=be,this.ngZone=re,this.landingService=J,this.sessionSearchService=fe,this.commonService=ke,this.particularPageData=new s.X({})}getMobileProgressBarCount(be){let re=0;return be?.length&&be.forEach(J=>{"PROGRESS_LABEL"===J?.options&&(re={"Step 1/4":1,"Step 2/4":2,"Step 3/4":3,"Step 4/4":4}[J?.name]||0)}),re}getCountryCity(be,re,J){return this.sessionSearchService.findCountryCity([a.lk.Listening,a.lk.Reading,a.lk.Writing],void 0,void 0,0,0,be,re,J).pipe((0,oe.P)(),(0,c.U)(ke=>{const Ce=[];return ke?.countryCities?.forEach(we=>{const he={cities:[],countryCode:we.countryCode,countryName:we.countryName};let A=0;const pe=[];we?.cities?.forEach(ge=>{ge?.city&&(pe.push(ge),A++)}),A>0&&(he.cities=pe,Ce.push(he))}),ke.countryCities=Ce,ke}))}static#e=this.\u0275fac=function(re){return new(re||me)(T.LFG(V.F0),T.LFG(T.R0b),T.LFG(ie.IR),T.LFG(a.uw),T.LFG(Te.v))};static#t=this.\u0275prov=T.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})()},6599:(Dt,Le,D)=>{"use strict";D.d(Le,{H:()=>oe});var a=D(5879),s=D(2197);let oe=(()=>{class c{constructor(V){this.newSessionService=V}resetTopSearchFilter(){this.newSessionService.resetSearchTopFilter.next(!0)}static#e=this.\u0275fac=function(ie){return new(ie||c)(a.Y36(s.z))};static#t=this.\u0275cmp=a.Xpm({type:c,selectors:[["app-data-not-found"]],standalone:!0,features:[a.jDz],decls:18,vars:0,consts:[[1,"noresults-container","d-flex","align-items-center","justify-content-center","flex-column"],["src","/assets/images/no-results-logo.svg","alt",""],[1,"noresults-content-container","d-flex","justify-content-center","flex-column"],[1,"d-flex","justify-content-center","flex-column"],[1,"d-flex","align-items-center"],[3,"click"]],template:function(ie,Te){1&ie&&(a.TgZ(0,"div",0),a._UZ(1,"img",1),a.TgZ(2,"div",2)(3,"h2"),a._uU(4,"Oh no, we couldn't find any matching test sessions. "),a.qZA(),a.TgZ(5,"p"),a._uU(6,"Please consider the following suggestions:"),a.qZA(),a.TgZ(7,"ul",3)(8,"li",4),a._uU(9,"Try selecting a different test format"),a.qZA(),a.TgZ(10,"li",4),a._uU(11,"Adjust your preferred location"),a.qZA(),a.TgZ(12,"li",4),a._uU(13,"Choose a different date or date range"),a.qZA(),a.TgZ(14,"li",4),a._uU(15,"If feasible, opt for a different test"),a.qZA()()(),a.TgZ(16,"button",5),a.NdJ("click",function(){return Te.resetTopSearchFilter()}),a._uU(17,"Update search conditions"),a.qZA()())},styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-dark[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}  app-new-session{flex-grow:1;width:100%}[_nghost-%COMP%]{width:100%;height:100%}.noresults-container[_ngcontent-%COMP%]{padding:0 1.3333333333rem;gap:1.7777777778rem;max-width:31.1111111111rem;margin:0 auto;height:100%}.noresults-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5.7777777778rem;height:7.1111111111rem;object-fit:cover}.noresults-container[_ngcontent-%COMP%]   .noresults-content-container[_ngcontent-%COMP%]{gap:.6666666667rem}.noresults-container[_ngcontent-%COMP%]   .noresults-content-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e31837;font-weight:700;margin:0;font-size:1.3333333333rem;line-height:1.6666666667rem}.noresults-container[_ngcontent-%COMP%]   .noresults-content-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#333541;margin:0;font-size:.8888888889rem;line-height:1.5555555556rem}.noresults-container[_ngcontent-%COMP%]   .noresults-content-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none;padding-left:.5555555556rem}.noresults-container[_ngcontent-%COMP%]   .noresults-content-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#333541;font-size:.8888888889rem;line-height:1.5555555556rem;gap:.5555555556rem}.noresults-container[_ngcontent-%COMP%]   .noresults-content-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";border-radius:50%;background-color:#333541;width:5px;height:5px}.noresults-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e31837;padding:.6666666667rem .8333333333rem;width:100%;color:#fff;font-weight:600;font-size:.8888888889rem;line-height:1.3333333333rem;border-radius:.2222222222rem;border-radius:2.0909090909rem;text-align:center}@media (min-width: 1100px){.noresults-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5454545455rem 1.0909090909rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:.1818181818rem}}@media (min-width: 1100px){.noresults-container[_ngcontent-%COMP%]{gap:1.4545454545rem;max-width:25.4545454545rem;margin:0 auto;height:calc(100vh - 92px)}.noresults-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:4.7272727273rem;height:5.8181818182rem}.noresults-container[_ngcontent-%COMP%]   .noresults-content-container[_ngcontent-%COMP%]{padding:0 .9090909091rem;gap:.5454545455rem}.noresults-container[_ngcontent-%COMP%]   .noresults-content-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2727272727rem;line-height:1.4545454545rem}.noresults-container[_ngcontent-%COMP%]   .noresults-content-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8181818182rem;line-height:1.4545454545rem}.noresults-container[_ngcontent-%COMP%]   .noresults-content-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{gap:.2727272727rem;padding-left:.4545454545rem}.noresults-container[_ngcontent-%COMP%]   .noresults-content-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8181818182rem;line-height:1.4545454545rem;gap:.4545454545rem}.noresults-container[_ngcontent-%COMP%]   .noresults-content-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{width:.2272727273rem;height:.2272727273rem}.noresults-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:2.0909090909rem;text-align:center}}']})}return c})()},8373:(Dt,Le,D)=>{"use strict";D.d(Le,{Q:()=>ft});var a=D(5861),s=D(859),oe=D(6866),c=D(8502),T=D(8645),V=D(1374),ie=D(9397),Te=D(9773),le=D(3620),me=D(6328),ae=D(1631),be=D(9666),re=D(2181),J=D(7398),fe=D(6306),ke=D(4379),Ce=D(364),we=D(6814),he=D(1756),A=D(1231),pe=D(6599),ge=D(8298),pt=D(9767),Pe=D(8716),Be=D(9587),rt=D(948),wt=D(2372),It=D(1342),Ie=D(4499),L=D(5879),Oe=D(91),ut=D(1459),Nt=D(2236),an=D(9582),bt=D(6491),Qe=D(2197),jt=D(6832),gt=D(9862);class yt{encodeKey(on){return encodeURIComponent(on)}encodeValue(on){return encodeURIComponent(on)}decodeKey(on){return decodeURIComponent(on)}decodeValue(on){return decodeURIComponent(on)}}var at=D(692),Xe=D(3180);let Zt=(()=>{class Ze{constructor(_e,Lt,gn){this.httpClient=_e,this.basePath="https://virtserver.swaggerhub.com/IdpEducation/ors-bxsearch-bff/v2.1",this.defaultHeaders=new gt.WM,this.configuration=new Xe.V,gn&&(this.configuration=gn),"string"!=typeof this.configuration.basePath&&("string"!=typeof Lt&&(Lt=this.basePath),this.configuration.basePath=Lt),this.encoder=this.configuration.encoder||new yt}addToHttpParams(_e,Lt,gn){return"object"!=typeof Lt||Lt instanceof Date?this.addToHttpParamsRecursive(_e,Lt,gn):this.addToHttpParamsRecursive(_e,Lt)}addToHttpParamsRecursive(_e,Lt,gn){if(null==Lt)return _e;if("object"==typeof Lt)if(Array.isArray(Lt))Lt.forEach(Ht=>_e=this.addToHttpParamsRecursive(_e,Ht,gn));else if(Lt instanceof Date){if(null==gn)throw Error("key may not be null if value is Date");_e=_e.append(gn,Lt.toISOString().substr(0,10))}else Object.keys(Lt).forEach(Ht=>_e=this.addToHttpParamsRecursive(_e,Lt[Ht],null!=gn?`${gn}.${Ht}`:Ht));else{if(null==gn)throw Error("key may not be null if value is not object or array");_e=_e.append(gn,Lt)}return _e}privateSessionSearch(_e,Lt,gn="body",Ht=!1,Jn){if(null==_e)throw new Error("Required parameter xCorrelationID was null or undefined when calling privateSessionSearch.");let Je=this.defaultHeaders;null!=_e&&(Je=Je.set("X-Correlation-ID",String(_e)));let yn=Jn&&Jn.httpHeaderAccept;void 0===yn&&(yn=this.configuration.selectHeaderAccept(["application/json"])),void 0!==yn&&(Je=Je.set("Accept",yn));const At=this.configuration.selectHeaderContentType(["application/json"]);void 0!==At&&(Je=Je.set("Content-Type",At));let Jt="json";return yn&&yn.startsWith("text")&&(Jt="text"),this.httpClient.post(`${this.configuration.basePath}/v2/sessions/private`,Lt,{responseType:Jt,withCredentials:this.configuration.withCredentials,headers:Je,observe:gn,reportProgress:Ht})}static#e=this.\u0275fac=function(Lt){return new(Lt||Ze)(L.LFG(gt.eN),L.LFG(at.G,8),L.LFG(Xe.V,8))};static#t=this.\u0275prov=L.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"})}return Ze})();function ve(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"div",33),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(4);return L.KtG(gn.openSearchFilter("ttDropDown"))}),L.TgZ(1,"div",40),L._UZ(2,"img",35),L.TgZ(3,"p"),L._uU(4),L.qZA()()()}if(2&Ze){const _e=L.oxw(4);L.xp6(2),L.Q6J("src",_e.getTestTypeIcon(null==_e.searchBarDisplaytext?null:_e.searchBarDisplaytext.testType),L.LSH),L.xp6(2),L.Oqu((null==_e.searchBarDisplaytext?null:_e.searchBarDisplaytext.testType)||(null==_e.labelText?null:_e.labelText.selectTTlabel))}}function Ve(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"h2"),L._uU(4),L.qZA(),L.TgZ(5,"img",30),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(3);return L.KtG(gn.editFilter())}),L.qZA()(),L.TgZ(6,"div",31),L.YNc(7,ve,5,2,"div",32),L.TgZ(8,"div",33),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(3);return L.KtG(gn.openSearchFilter("tfDropDown"))}),L.TgZ(9,"div",34),L._UZ(10,"img",35),L.TgZ(11,"p"),L._uU(12),L.qZA()()(),L.TgZ(13,"div",33),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(3);return L.KtG(gn.openSearchFilter("testLocationDropDown"))}),L.TgZ(14,"div",34),L._UZ(15,"img",36),L.TgZ(16,"p"),L._uU(17),L.qZA()()(),L.TgZ(18,"div",33),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(3);return L.KtG(gn.openSearchFilter("testDateDropDown"))}),L.TgZ(19,"div",34),L._UZ(20,"img",37),L.TgZ(21,"p"),L._uU(22),L.qZA()()()()(),L.TgZ(23,"div",38),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(3);return L.KtG(gn.editFilter())}),L._UZ(24,"img",39),L.qZA()()}if(2&Ze){const _e=L.oxw(3);L.xp6(4),L.Oqu((null==_e.searchBarDisplaytext?null:_e.searchBarDisplaytext.testType)||(null==_e.labelText?null:_e.labelText.selectTTlabel)),L.xp6(3),L.Q6J("ngIf",!_e.isOSR),L.xp6(3),L.Q6J("src",_e.getTestFormatIcon(null==_e.searchBarDisplaytext?null:_e.searchBarDisplaytext.testFormat),L.LSH),L.xp6(2),L.Oqu((null==_e.searchBarDisplaytext?null:_e.searchBarDisplaytext.testFormat)||(null==_e.labelText?null:_e.labelText.selectTFlabel)),L.xp6(5),L.Oqu((null==_e.searchBarDisplaytext?null:_e.searchBarDisplaytext.testLocation)||(null==_e.labelText?null:_e.labelText.selectLocationLabel)),L.xp6(5),L.hij(" ",(null==_e.searchBarDisplaytext?null:_e.searchBarDisplaytext.testDate)||(null==_e.labelText?null:_e.labelText.selectDateLabel)," ")}}function St(Ze,on){1&Ze&&(L.TgZ(0,"div",41)(1,"div",42),L._UZ(2,"img",43),L.TgZ(3,"button",44),L._UZ(4,"img",45),L.qZA()(),L.TgZ(5,"div",46)(6,"h2"),L._uU(7,"We have pre-selected your previous IELTS test centre and format for your convenience."),L.qZA(),L.TgZ(8,"p"),L._uU(9,"Please use the search bar to change the test centre, city or test format if needed."),L.qZA()(),L.TgZ(10,"button",47),L._UZ(11,"img",48),L.qZA()())}function wn(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"div",22)(1,"a",23),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(2);return L.KtG(gn.back())}),L.TgZ(2,"span"),L._UZ(3,"img",24),L.qZA(),L._uU(4),L.qZA(),L.YNc(5,Ve,25,6,"div",25),L.YNc(6,St,12,0,"div",26),L.qZA()}if(2&Ze){const _e=L.oxw(2);L.xp6(4),L.Oqu(null==_e.labelText?null:_e.labelText.backLabel),L.xp6(1),L.Q6J("ngIf",!_e.editFilters),L.xp6(1),L.Q6J("ngIf",_e.isOSR)}}function $t(Ze,on){if(1&Ze&&L._UZ(0,"app-language-switcher",49),2&Ze){const _e=L.oxw(2);L.Q6J("pageData",_e.pageData)}}function Cn(Ze,on){if(1&Ze&&(L.TgZ(0,"span",53),L._uU(1),L.qZA()),2&Ze){const _e=L.oxw(3);L.xp6(1),L.Oqu(_e.userInitial.charAt(0))}}function Ot(Ze,on){if(1&Ze){const _e=L.EpF();L.ynx(0),L.TgZ(1,"button",50),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(2);return L.KtG(gn.onClickAccount())}),L._UZ(2,"img",51),L.YNc(3,Cn,2,1,"span",52),L.qZA(),L.BQk()}if(2&Ze){const _e=L.oxw(2);L.xp6(1),L.Q6J("ngClass",!_e.isInvalidUser&&_e.userInitial?"loggedIn":"")("title",_e.isInvalidUser||_e.userInitial?"Dashboard":"Sign-in"),L.xp6(2),L.Q6J("ngIf",!_e.isInvalidUser&&_e.userInitial)}}function Wt(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"a",14),L.NdJ("click",function(gn){L.CHM(_e);const Ht=L.oxw();return L.KtG(Ht.handleClick(gn))}),L._UZ(4,"img",15),L.qZA()(),L.TgZ(5,"div",16),L._UZ(6,"div",17),L.qZA()(),L.YNc(7,wn,7,3,"div",18),L.TgZ(8,"div",19),L.YNc(9,$t,1,1,"app-language-switcher",20),L.YNc(10,Ot,4,3,"ng-container",21),L.ALo(11,"async"),L.qZA()()}if(2&Ze){const _e=L.oxw();L.xp6(3),L.uIk("href",_e.resultrps||_e.resultpvs||_e.resultrpt?"javascript:void(0)":_e.logoUrl,L.LSH),L.xp6(1),L.s9C("src",null==_e.pageData||null==_e.pageData.image?null:_e.pageData.image.url,L.LSH),L.s9C("alt",null==_e.pageData?null:_e.pageData.image.title),L.xp6(3),L.Q6J("ngIf",!(_e.resultrps||_e.resultpvs)),L.xp6(2),L.Q6J("ngIf",(null==_e.toggleDetails?null:_e.toggleDetails.enableLanguageSwitcher)&&(null==_e.pageData||null==_e.pageData.languages?null:_e.pageData.languages.length)),L.xp6(1),L.Q6J("ngIf",_e.enableProfileIcon&&!L.lcZ(11,6,_e.commonService.loading$))}}function st(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"app-top-search-filter",54),L.NdJ("toBookingListingComp",function(gn){L.CHM(_e);const Ht=L.oxw();return L.KtG(Ht.fromTopSearchFilter(gn))}),L.qZA()}if(2&Ze){const _e=L.oxw();L.Q6J("labelText",_e.labelText)("buttonsText",_e.buttonsText)("dropDownType",_e.dropDownType)("innerWidth",_e.innerWidth)("resultrpt",_e.resultrpt)("isOSR",_e.isOSR)("OSRDetails",_e.testOSRDetails)("skillValue",_e.imageSkillValue)("partnerId",_e.partnerId)("centreId",_e.centreId)("productId",_e.productId)}}function U(Ze,on){if(1&Ze&&(L.TgZ(0,"div",60),L._UZ(1,"h2",61),L.qZA()),2&Ze){const _e=L.oxw(2);L.xp6(1),L.Q6J("innerHTML",_e.displayLabel,L.oJD)}}function Se(Ze,on){if(1&Ze&&L._UZ(0,"h2",62),2&Ze){const _e=L.oxw(2);L.Q6J("innerHTML",null==_e.pageData?null:_e.pageData.description,L.oJD)}}function Vt(Ze,on){1&Ze&&(L.TgZ(0,"h2",63),L._uU(1,"Select your One Skill Retake"),L.qZA())}function en(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"div",68),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(3);return L.KtG(gn.isTestCenter=!0)}),L.TgZ(1,"p"),L._uU(2),L.qZA(),L._UZ(3,"img",69),L.qZA()}if(2&Ze){const _e=L.oxw(3);L.xp6(2),L.Oqu("All"===_e.selectedTLcountDetails.displayText?"All test centres":_e.selectedTLcountDetails.displayText+" test centres")}}function jn(Ze,on){if(1&Ze&&(L.TgZ(0,"span",73),L._uU(1),L.qZA()),2&Ze){const _e=L.oxw(4);L.xp6(1),L.Oqu(_e.filterCount)}}function Mi(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"div",70),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(3);return L.KtG(gn.sortFilter=!0)}),L._UZ(1,"img",71),L.TgZ(2,"p"),L._uU(3,"Filter"),L.qZA(),L.YNc(4,jn,2,1,"span",72),L.qZA()}if(2&Ze){const _e=L.oxw(3);L.xp6(4),L.Q6J("ngIf",_e.filterCount)}}function dn(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"div",74)(1,"div",75),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(3);return L.KtG(gn.setMapView())}),L._UZ(2,"img",15),L.TgZ(3,"p"),L._uU(4),L.qZA()()()}if(2&Ze){const _e=L.oxw(3);L.xp6(2),L.Q6J("src",_e.isMapView?"assets/images/ListView-icon.svg":"assets/images/map-view.svg",L.LSH)("alt",_e.isMapView?"map-icon":"list-icon"),L.xp6(2),L.Oqu(_e.isMapView?null==_e.labelText?null:_e.labelText.listViewLabel:null==_e.labelText?null:_e.labelText.mapViewLabel)}}function Pn(Ze,on){if(1&Ze&&(L.TgZ(0,"div",64),L.YNc(1,en,4,1,"div",65),L.YNc(2,Mi,5,1,"div",66),L.YNc(3,dn,5,3,"div",67),L.qZA()),2&Ze){const _e=L.oxw(2);L.xp6(1),L.Q6J("ngIf",(null==_e.toggleDetails?null:_e.toggleDetails.enableTestCentreFilter)&&(null==_e.sessionData?null:_e.sessionData.length)&&!_e.noData&&!_e.resultrpt),L.xp6(1),L.Q6J("ngIf",(_e.innerWidth>1099&&!_e.isMapView||_e.innerWidth<1099)&&!_e.disableSortFilter),L.xp6(1),L.Q6J("ngIf",(null==_e.toggleDetails?null:_e.toggleDetails.enableMapView)&&!_e.resultrpt)}}function qn(Ze,on){if(1&Ze&&(L.TgZ(0,"div",55),L.YNc(1,U,2,1,"div",56),L.YNc(2,Se,1,1,"h2",57),L.YNc(3,Vt,2,0,"h2",58),L.YNc(4,Pn,4,3,"div",59),L.qZA()),2&Ze){const _e=L.oxw();L.xp6(1),L.Q6J("ngIf",!_e.isMapView),L.xp6(1),L.Q6J("ngIf",!_e.isOSR),L.xp6(1),L.Q6J("ngIf",_e.isOSR),L.xp6(1),L.Q6J("ngIf",!(_e.resultrps||_e.resultpvs))}}function ti(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"app-special-requirement",76),L.NdJ("openOrCloseUkviPopUp",function(){L.CHM(_e);const gn=L.oxw();return L.KtG(gn.openOrCloseUkviPopUp())}),L.qZA()}if(2&Ze){const _e=L.oxw();L.Q6J("bannerDetails",null!=_e.pageData&&null!=_e.pageData.banners&&_e.pageData.banners.length?null==_e.pageData?null:_e.pageData.banners[0]:"")("urlFrom","booking-page")("addMapClass",_e.addMapClass||_e.isMapView)}}function qi(Ze,on){1&Ze&&L._UZ(0,"div",79)}function to(Ze,on){1&Ze&&L._UZ(0,"app-data-not-found")}function Zi(Ze,on){if(1&Ze){const _e=L.EpF();L.ynx(0),L.TgZ(1,"a",86),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(3);return L.KtG(gn.goToMyTests())}),L._UZ(2,"img",87),L.TgZ(3,"span"),L._uU(4,"Back"),L.qZA()(),L.TgZ(5,"div",88)(6,"div",42),L._UZ(7,"img",43)(8,"img",89),L.qZA(),L.TgZ(9,"div",46)(10,"h2"),L._uU(11,"We have pre-selected your previous IELTS test centre and format for your convenience."),L.qZA(),L.TgZ(12,"p"),L._uU(13,"Please use the search bar to change the test centre, city or test format if needed."),L.qZA()(),L.TgZ(14,"button",47),L._UZ(15,"img",48),L.qZA()(),L.BQk()}}function Fi(Ze,on){if(1&Ze&&(L.TgZ(0,"span"),L._uU(1),L.qZA()),2&Ze){const _e=L.oxw(4);L.xp6(1),L.Oqu(_e.sortBy==_e.sortFilterEnum.EARLIEST_DATE?null==_e.labelText?null:_e.labelText.earliestDate:null==_e.labelText?null:_e.labelText.latestDate)}}function yo(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"div",90)(1,"div",91)(2,"label"),L._uU(3),L.qZA(),L.TgZ(4,"div",92)(5,"div",93)(6,"div",94)(7,"button",95),L.YNc(8,Fi,2,1,"span",21),L.qZA(),L.TgZ(9,"div",96)(10,"button",97),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(3);return L.KtG(gn.onSortSelect(gn.sortFilterEnum.EARLIEST_DATE))}),L._uU(11),L.qZA(),L.TgZ(12,"button",97),L.NdJ("click",function(){L.CHM(_e);const gn=L.oxw(3);return L.KtG(gn.onSortSelect(gn.sortFilterEnum.LATEST_DATE))}),L._uU(13),L.qZA()()()()()()()}if(2&Ze){const _e=L.oxw(3);L.xp6(3),L.hij(" ",null==_e.labelText?null:_e.labelText.sortLabel,":"),L.xp6(5),L.Q6J("ngIf",_e.sortBy),L.xp6(3),L.Oqu(null==_e.labelText?null:_e.labelText.earliestDate),L.xp6(2),L.Oqu(null==_e.labelText?null:_e.labelText.latestDate)}}function Ji(Ze,on){if(1&Ze&&(L.ynx(0),L._uU(1),L.BQk()),2&Ze){const _e=L.oxw().$implicit;L.xp6(1),L.hij("",_e.testLocation.name," ")}}function xi(Ze,on){1&Ze&&(L.TgZ(0,"div",131),L._UZ(1,"img",132),L.TgZ(2,"p"),L._uU(3,"Limited seats"),L.qZA()())}function Mo(Ze,on){1&Ze&&(L.TgZ(0,"div",131),L._UZ(1,"img",133),L.TgZ(2,"p"),L._uU(3,"Seats available"),L.qZA()())}function no(Ze,on){1&Ze&&L._UZ(0,"img",138)}function Wo(Ze,on){1&Ze&&L._UZ(0,"img",139)}function Bt(Ze,on){1&Ze&&L._UZ(0,"img",140)}function Ue(Ze,on){1&Ze&&L._UZ(0,"img",141)}function We(Ze,on){if(1&Ze&&(L.TgZ(0,"div",123),L.YNc(1,no,1,0,"img",134),L.YNc(2,Wo,1,0,"img",135),L.YNc(3,Bt,1,0,"img",136),L.YNc(4,Ue,1,0,"img",137),L.TgZ(5,"p"),L._uU(6),L.qZA()()),2&Ze){const _e=L.oxw(4);L.xp6(1),L.Q6J("ngIf",null==_e.imageSkillValue?null:_e.imageSkillValue.includes("Listening")),L.xp6(1),L.Q6J("ngIf",null==_e.imageSkillValue?null:_e.imageSkillValue.includes("Reading")),L.xp6(1),L.Q6J("ngIf",null==_e.imageSkillValue?null:_e.imageSkillValue.includes("Writing")),L.xp6(1),L.Q6J("ngIf","Speaking"===_e.imageSkillValue),L.xp6(2),L.hij(" ","Listening"===_e.imageSkillValue?"Listening":"Reading"===_e.imageSkillValue?"Reading":"Writing"===_e.imageSkillValue?"Writing":"Speaking"===_e.imageSkillValue?"Speaking":""," ")}}function Ge(Ze,on){1&Ze&&(L.TgZ(0,"div",123),L._UZ(1,"img",142),L.TgZ(2,"p"),L._uU(3,"One Skill Retake available"),L.qZA()())}function Et(Ze,on){1&Ze&&(L.TgZ(0,"div",123),L._UZ(1,"img",143),L.TgZ(2,"p"),L._uU(3,"Accessible IELTS test centre"),L.qZA()())}function Q(Ze,on){1&Ze&&(L.TgZ(0,"div",144),L._UZ(1,"img",132),L.TgZ(2,"p"),L._uU(3,"Limited seats"),L.qZA()())}function tt(Ze,on){1&Ze&&(L.TgZ(0,"div",145),L._UZ(1,"img",133),L.TgZ(2,"p"),L._uU(3,"Seats available"),L.qZA()())}function $e(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"div",98)(1,"a",99),L.NdJ("click",function(){const Ht=L.CHM(_e).$implicit,Jn=L.oxw(3);return L.KtG(Jn.onReserve(Ht))}),L.TgZ(2,"div",100)(3,"div",101)(4,"div",102)(5,"div",103)(6,"h2",104),L._uU(7),L.qZA(),L._UZ(8,"span",105),L.TgZ(9,"div",106)(10,"h3"),L._uU(11),L.qZA(),L.TgZ(12,"h3"),L._uU(13),L.qZA()()(),L.TgZ(14,"div",107)(15,"h4"),L._uU(16),L.qZA(),L.TgZ(17,"h4",108),L._uU(18),L.TgZ(19,"span"),L._uU(20),L.qZA()()()()(),L.TgZ(21,"div",109)(22,"div",110)(23,"div",111)(24,"h4",112),L._uU(25),L.qZA(),L.TgZ(26,"a",113),L.NdJ("click",function(gn){return gn.stopPropagation()}),L._UZ(27,"img",114),L.TgZ(28,"span"),L.YNc(29,Ji,2,1,"ng-container",21),L.qZA(),L._UZ(30,"img",115),L.qZA()(),L.TgZ(31,"div",116)(32,"h4",117),L._uU(33),L.TgZ(34,"span"),L._uU(35),L.qZA()(),L.YNc(36,xi,4,0,"div",118),L.YNc(37,Mo,4,0,"div",118),L.qZA()(),L._UZ(38,"div",119),L.TgZ(39,"div",120)(40,"div",121),L.YNc(41,We,7,5,"div",122),L.TgZ(42,"div",123),L._UZ(43,"img",124),L.TgZ(44,"p"),L._uU(45),L.qZA()(),L.TgZ(46,"div",123),L._UZ(47,"img",125),L.TgZ(48,"p"),L._uU(49),L.qZA()(),L.TgZ(50,"div",123),L._UZ(51,"img",126),L.TgZ(52,"p"),L._uU(53),L.qZA()(),L.YNc(54,Ge,4,0,"div",122),L.YNc(55,Et,4,0,"div",122),L.qZA(),L._UZ(56,"div",119),L.TgZ(57,"div",127),L.YNc(58,Q,4,0,"div",128),L.YNc(59,tt,4,0,"div",129),L.TgZ(60,"button",130),L._uU(61,"Select and continue"),L.qZA()()()()()()()}if(2&Ze){const _e=on.$implicit,Lt=L.oxw(3);L.xp6(7),L.Oqu(Lt.formatDate(_e.testStartLocalDatetime,"ddd")),L.xp6(4),L.Oqu(Lt.formatDate(_e.testStartLocalDatetime,"d")),L.xp6(2),L.Oqu(Lt.formatDate(_e.testStartLocalDatetime,"mmm")),L.xp6(3),L.lnq("",Lt.formatDate(_e.testStartLocalDatetime,"d")," ",Lt.formatDate(_e.testStartLocalDatetime,"mmmm"),", ",Lt.formatDate(_e.testStartLocalDatetime,"dddd"),""),L.xp6(1),L.Q6J("ngClass",Lt.is12am(_e.testStartLocalDatetime)&&"PB"===_e.testFormat?"d-none":""),L.xp6(1),L.hij(" ",Lt.formatDate(_e.testStartLocalDatetime,"h:MM")," "),L.xp6(2),L.Oqu(Lt.formatDate(_e.testStartLocalDatetime,"TT")),L.xp6(5),L.Oqu(Lt.getTestTypeValue(_e.testCategory,_e.testModule)),L.xp6(1),L.Q6J("href","https://www.google.com/maps?q="+(null==_e||null==_e.testLocation?null:_e.testLocation.latitude)+","+(null==_e||null==_e.testLocation?null:_e.testLocation.longitude),L.LSH),L.xp6(3),L.Q6J("ngIf",_e.testLocation.name),L.xp6(3),L.Q6J("ngClass",Lt.is12am(_e.testStartLocalDatetime)&&"PB"===_e.testFormat?"d-none":""),L.xp6(1),L.hij(" ",Lt.formatDate(_e.testStartLocalDatetime,"h:MM")," "),L.xp6(2),L.Oqu(Lt.formatDate(_e.testStartLocalDatetime,"TT")),L.xp6(1),L.Q6J("ngIf",_e.seatAvailability.remaining/_e.seatAvailability.maxAvailable<=.25),L.xp6(1),L.Q6J("ngIf",_e.seatAvailability.remaining/_e.seatAvailability.maxAvailable>.25),L.xp6(4),L.Q6J("ngIf",Lt.isOSR),L.xp6(4),L.Oqu("LIFE_SKILLS"===_e.testCategory?"Results expected in 7 days":"CD"===_e.testFormat?"Results expected in 1-5 days":"Results expected in 13 days"),L.xp6(2),L.Q6J("src","PB"===_e.testFormat?"assets/images/onPaper.svg":"assets/images/onComputer.svg",L.LSH),L.xp6(2),L.Oqu("CD"===_e.testFormat?"IELTS on computer":"IOL"===_e.testFormat?"IELTS Online":"IELTS on paper"),L.xp6(4),L.hij("",(null==_e.testFee?null:_e.testFee.currencyCodeIso3)+" "+_e.testFee.totalAmount," "),L.xp6(1),L.Q6J("ngIf","CD"===_e.testFormat&&!Lt.isOSR),L.xp6(1),L.Q6J("ngIf",Lt.enableUkviAccessibility&&(null==_e||null==_e.testLocation?null:_e.testLocation.specialRequirementSupported)),L.xp6(3),L.Q6J("ngIf",_e.seatAvailability.remaining/_e.seatAvailability.maxAvailable<=.25),L.xp6(1),L.Q6J("ngIf",_e.seatAvailability.remaining/_e.seatAvailability.maxAvailable>.25)}}function lt(Ze,on){if(1&Ze&&(L.TgZ(0,"div",80),L.YNc(1,Zi,16,0,"ng-container",21),L.TgZ(2,"div",81)(3,"div",82),L._UZ(4,"h2",61),L.YNc(5,yo,14,4,"div",83),L.qZA()(),L.TgZ(6,"div",84),L.YNc(7,$e,62,26,"div",85),L.qZA()()),2&Ze){const _e=L.oxw(2);L.xp6(1),L.Q6J("ngIf",_e.isOSR),L.xp6(3),L.Q6J("innerHTML",_e.displayLabel,L.oJD),L.xp6(1),L.Q6J("ngIf",!(_e.resultrps||_e.resultpvs||_e.disableSortFilter)),L.xp6(2),L.Q6J("ngForOf",_e.sessionData)}}function nn(Ze,on){if(1&Ze&&(L.TgZ(0,"div",77),L.YNc(1,qi,1,0,"div",7),L.YNc(2,to,1,0,"app-data-not-found",21),L.YNc(3,lt,8,4,"div",78),L.qZA()),2&Ze){const _e=L.oxw();L.Q6J("ngClass",_e.editFilters?"no-header":""),L.xp6(1),L.Q6J("ngIf",_e.editFilters&&_e.innerWidth>1100),L.xp6(1),L.Q6J("ngIf",!(null!=_e.sessionData&&_e.sessionData.length)&&_e.noData),L.xp6(1),L.Q6J("ngIf",null==_e.sessionData?null:_e.sessionData.length)}}function bn(Ze,on){1&Ze&&L._UZ(0,"div",79)}function Bn(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"app-new-map-view",146),L.NdJ("onReserve",function(gn){L.CHM(_e);const Ht=L.oxw();return L.KtG(Ht.onReserve(gn))}),L.qZA()}if(2&Ze){const _e=L.oxw();L.Q6J("testLocations",_e.testLocations)("ttDetails",_e.ttDetails)("labelText",_e.labelText)("editFilters",_e.editFilters)("innerWidth",_e.innerWidth)}}function kt(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"app-sort-filter",147),L.NdJ("toBookingListingComp",function(gn){L.CHM(_e);const Ht=L.oxw();return L.KtG(Ht.fromSortFilterComp(gn))}),L.qZA()}if(2&Ze){const _e=L.oxw();L.Q6J("sessionTimeSlots",_e.sessionTimeSlots)("labelText",_e.labelText)("buttonsText",_e.buttonsText)("isTestCenter",_e.isTestCenter)("testLocations",_e.testLocations)("selectedTLcountDetails",_e.selectedTLcountDetails)("isMapView",_e.isMapView)("resultrpt",_e.resultrpt)("enableTestCentreFilter",!(null==_e.toggleDetails||!_e.toggleDetails.enableTestCentreFilter))("enableUkviAccessibility",!(null==_e.toggleDetails||!_e.toggleDetails.enableUkviAccessibility))}}function cn(Ze,on){if(1&Ze){const _e=L.EpF();L.TgZ(0,"app-ukvi-popup",148),L.NdJ("closeUkviPopup",function(){L.CHM(_e);const gn=L.oxw();return L.KtG(gn.openOrCloseUkviPopUp())}),L.qZA()}2&Ze&&L.Q6J("urlFrom","booking-page")}let ft=(()=>{class Ze{constructor(_e,Lt,gn,Ht,Jn,Je,yn,ct,At,Jt,ei,Zn,Ci,hi){this.sessionSearch=_e,this.manageBookingService=Lt,this.loadingService=gn,this.route=Ht,this.commonService=Jn,this.sharedState=Je,this.newSessionService=yn,this.sessionService=ct,this.privateSessionService=At,this.renderer=Jt,this.elRef=ei,this.router=Zn,this.document=Ci,this.datePipe=hi,this.sortFilterEnum=ke.zj,this.lrwSessions=[],this.testModules=[],this.sortBy=ke.zj.EARLIEST_DATE,this.sessionData=[],this.pageNo=1,this.loadingMoreItems=!1,this.noData=!1,this.isMapView=!1,this.centerLocation=[0,0],this.adjustMapSize$=new T.x,this.hideUI=!1,this.isError=!1,this.orderBy=[s.KM.A],this.labelText={},this.buttonsText={},this.searchBarDisplaytext={},this.sortFilter=!1,this.filterCount=0,this.ngUnsubscribe=new T.x,this.editFilters=!1,this.ngDestroy=!1,this.resetSearchTopFilter=!1,this.resultrpt=!1,this.resultrps=!1,this.resultpvs=!1,this.isPrivate=!1,this.disableSortFilter=!1,this.sessionTimeSlots={isAM:!1,isPM:!1},this.dropDownType="",this.logoUrl=this.commonService.getUtmAndClickId("/"),this.isTestCenter=!1,this.selectedTLcountDetails={count:0,displayText:"All"},this.innerWidth=0,this.resizeSubject=new T.x,this.isUkviPopup=!1,this.addMapClass=!1,this.enableProfileIcon=!1,this.enableUkviAccessibility=!1,this.isOSR=!1,this.isRedirectToNewJourney=!1,this.isReferralPartner=!1,this.isEnableReCaptcha=!1}handleResizeEvent(_e){this.resizeSubject.next(_e)}goToMyTests(){window.open(`${Ie?.site?.bookingURL}/my-tests`,"_self")}getLocalDateTimeFromUTC(_e,Lt){return this.datePipe?.transform(_e,"yyyy-MM-ddTHH:mm:ssXXX",Lt)}getDateAfter60Days(_e){const Lt=new Date(_e);return isNaN(Lt.getTime())?(console.error("Invalid date:",_e),""):(Lt.setDate(Lt.getDate()+60),Lt.toISOString().split("T")[0])}ngOnInit(){this.commonService.getUserInfo();const _e=this.commonService.getCookie("osrTestData");if(_e){const gn=decodeURIComponent(_e);this.testOSRDetails=JSON.parse(gn),this.isOSR=!0===this.testOSRDetails.isOSR;const Ht=this.testOSRDetails.component;this.imageSkillValue=Ht,this.skillValue="Listening"===Ht||"Reading"===Ht||"Writing"===Ht?[s.Nd.L,s.Nd.R,s.Nd.W]:s.Nd.S,this.startOSRDate=this.getLocalDateTimeFromUTC("Listening"===Ht||"Reading"===Ht||"Writing"===Ht?this.testOSRDetails?.lrwStartDateTimeUtc:this.testOSRDetails?.speakingStartDateTimeUtc,this.testOSRDetails?.testLocationTimeZone),this.endOSRDate=this.getDateAfter60Days(this.startOSRDate?.slice(0,10))}this.innerWidth=window.innerWidth,this.reSizeEvent();const Lt=this.document.body;Lt&&this.renderer.setAttribute(Lt,"id","main-display-block"),this.loadingService.title$.next(""),this.sharedState.getState().pipe((0,V.P)()).subscribe(gn=>{this.isRedirectToNewJourney=!!gn.enableNewAccountUI,this.isReferralPartner=!!gn.isReferralPartner,this.isEnableReCaptcha=!!gn.enableCaptcha,this.referralPartnerId=gn?.referralPartnerId||"",this.newPaymentJourney=!!gn.enableNewPaymentJourney,this.enableProfileIcon=!!gn.enableProfileIcon,this.enableUkviAccessibility=!!gn.enableUkviAccessibility}),this.commonService.updateCurrentStep(),this.checkReferralLink(),this.addOrRemoveClass(),localStorage.removeItem(ke.dR.FILTER_RESPONSE),localStorage.setItem(ke.dR.RPT_FILTER_DETAILS_AVAILABLE,"false"),this.commonService.ttDetails.pipe((0,ie.b)(gn=>this.ttDetails=gn),(0,Te.R)(this.ngUnsubscribe)).subscribe(),this.checkIsPrivateLink(),this.addScrollEventListener()}onClickAccount(){this.commonService.signIntoAccount()}get userInitial(){return this.commonService.getUserInitial()}get isInvalidUser(){return this.commonService.isInvalidUser()}reSizeEvent(){this.innerWidth=window.innerWidth,this.$resize=this.resizeSubject.pipe((0,le.b)(100)).subscribe(()=>{this.onResize()})}onResize(){this.innerWidth=window.innerWidth}checkReferralLink(){if([this.resultrpt,this.resultrps,this.resultpvs]=["rpt","rps","pvs"].map(_e=>this.checkValueInUrl(this.router.url,_e)),this.resultrps||this.resultpvs||this.resultrpt){if(localStorage.setItem(ke.dR.RP_LINK,JSON.stringify(!0)),localStorage.setItem(ke.dR.SOURCE_URL,this.router.url),this.route.params.subscribe(_e=>{this.partnerId=_e.partner_id,this.centreId=_e.centre_id,this.productId=_e.product_id,this.sessionId=_e.session_id}),this.resultrpt&&!this.partnerId)return void this.router.navigate(["/server-error"]);if(this.resultrps&&(!this.partnerId||!this.productId||!this.sessionId))return void this.router.navigate(["/server-error"]);if(this.resultpvs&&(!this.productId||!this.sessionId))return void this.router.navigate(["/server-error"]);this.isPrivate=!!this.resultpvs,this.isOSR=!1}else localStorage.setItem(ke.dR.RP_LINK,JSON.stringify(!1))}addScrollEventListener(){this.renderer.listen("window","scroll",_e=>{this.isMapView||this.onWindowScroll(_e)})}onWindowScroll(_e){const gn=document.getElementById("maplistcontainer")?.getBoundingClientRect(),Ht=document.getElementById("list-header")?.classList;gn?.y<5?Ht?.contains("map")||(Ht.add("map"),this.addMapClass=!0):Ht?.contains("map")&&(Ht?.remove("map"),this.addMapClass=!1),window.innerHeight+window.scrollY>document.body.offsetHeight-200&&!this.loadingMoreItems&&this.sessionData.length<this.totalCount&&(this.pageNo++,this.resultrpt?this.getPrivateLinkDetails().subscribe():this.getSessionDetails().subscribe())}addOrRemoveClass(){const _e=this.elRef.nativeElement.querySelector("#test");_e&&_e.classList.contains("map")&&this.renderer.removeClass(_e,"map")}checkIsPrivateLink(){this.resultrps||this.resultpvs?(this.apiCalls(!0),this.getPrivateLinkDetailsV1()?.subscribe()):(this.getResetValue(),this.resultrpt?this.getRPTDetails():this.isOSR?this.getOSRDetails():this.commonService.isObjNotEmpty(this.ttDetails?.searchFilterDetails)||this.ttDetails&&(this.ttDetails?.testType!==ke.v7.LS_A1||this.ttDetails?.testType!==ke.v7.LS_B1)&&this.ttDetails?.testFormat&&this.ttDetails?.testLocation&&this.ttDetails?.testDate||this.ttDetails&&(this.ttDetails?.testType===ke.v7.LS_A1||this.ttDetails?.testType===ke.v7.LS_B1)&&this.ttDetails?.testLocation&&this.ttDetails?.testDate?this.apiCalls():this.commonService.clearLocalStorageValue(ke.dR.TT_DETAILS))}getRPTDetails(){this.apiCalls(!0),this.sessionData=[],this.getPrivateLinkDetails().subscribe()}getOSRDetails(){this.apiCalls(!0),this.sessionData=[],this.getSessionDetails().subscribe()}getResetValue(){this.newSessionService.resetSearchTopFilter.pipe((0,ie.b)(_e=>{this.resetSearchTopFilter=_e,_e&&(this.editFilters=!0)}),(0,Te.R)(this.ngUnsubscribe)).subscribe()}ngOnDestroy(){this.$resize?.unsubscribe(),this.newSessionService.sortFilterDetails.pipe((0,V.P)()).subscribe(Lt=>{this.commonService.isObjNotEmpty(Lt)&&this.newSessionService.sortFilterDetails.next({}),this.ngDestroy=!0});const _e=this.document.body;_e&&this.renderer.removeAttribute(_e,"id"),this.loadingService.title$.next(""),this.newSessionService.resetSearchTopFilter.next(!1),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}apiCalls(_e){this.checkEnableSortFilter(_e),this.getContentfulData()}checkEnableSortFilter(_e){this.sharedState.getState().pipe((0,me.b)(Lt=>(this.toggleDetails=Lt,this.newSessionService.sortFilterDetails)),(0,ae.z)(Lt=>(this.sortFilterDetails=Lt,this.editFilters?(this.filterCount=0,this.sortBy=ke.zj.EARLIEST_DATE,""):this.commonService.isObjNotEmpty(Lt)?(this.timesOfDay=Lt?.clearFilter?[s.Do.Morning,s.Do.Afternoon]:Lt?.sessionTime===ke.zj.AM?[s.Do.Morning]:Lt?.sessionTime===ke.zj.PM?[s.Do.Afternoon]:[s.Do.Morning,s.Do.Afternoon],this.filterCount=Lt?.clearFilter?this.filterCount=0:Lt?.filterCount||0,this.sortFilter=!1,this.sortBy=Lt?.sortBy||this.sortBy,this.pageNo=1,this.sessionData=[],_e?this.getPrivateLinkDetails():this.getSessionDetails(!0)):this.ngDestroy||_e?"":this.getSessionDetails())),(0,Te.R)(this.ngUnsubscribe)).subscribe()}getContentfulData(){this.commonService.getContentfulDetailsApi("/book-ielts"),this.manageBookingService.particularPageData.subscribe(_e=>{this.commonService.isObjNotEmpty(_e)&&(this.pageData=_e,this.pageData?.labels?.forEach(Lt=>{const gn=ke.pL[Lt?.options];gn&&(Lt.name===ke.zj.EARLIEST_DATE&&Lt.options===ke.Rz.SORT_LIST_LABEL?this.labelText.earliestDate=Lt.displayText:Lt.name===ke.zj.LATEST_DATE&&Lt.options===ke.Rz.SORT_LIST_LABEL?this.labelText.latestDate=Lt.displayText:this.labelText[gn]=Lt.displayText),Lt?.options===ke.Rz.DISPLAY_LABEL&&this.totalCount&&(this.displayLabel=Lt?.displayText?.replace("{{totalCount}}",this.totalCount))}),this.getButtonDetails(this.pageData?.buttons),this.getDisplayTextSearchBar())})}getButtonDetails(_e){_e?.length&&_e.forEach(Lt=>{Lt?.options===ke.EK.CONFIRM_BUTTON&&(this.buttonsText.applyFilters=Lt.displayText),Lt?.options===ke.EK.CLEAR_BUTTON&&(this.buttonsText.clearFilters=Lt.displayText),Lt?.options===ke.EK.SEARCH_BUTTON&&(this.buttonsText.search=Lt.displayText),Lt?.options===ke.EK.CANCEL_BUTTON&&(this.buttonsText.cancel=Lt.displayText)})}getDisplayTextSearchBar(){const _e=this.commonService.isObjNotEmpty(this.ttDetails?.searchFilterDetails);this.resultrpt&&!this.commonService.getLocalStorageValue(ke.dR.RPT_FILTER_DETAILS_AVAILABLE)?(localStorage.setItem(ke.dR.RPT_REFRESHED,"true"),this.searchBarDisplaytext={testType:"",testFormat:"",testLocation:"",testDate:""}):this.isOSR?(localStorage.setItem(ke.dR.RPT_REFRESHED,"false"),this.searchBarDisplaytext={testType:this.commonService.extractGeneralOrAcademic(this.testOSRDetails?.productName),testFormat:ke.Rs.ON_COMPUTER,testLocation:`${this.testOSRDetails?.testLocationAddresses?.[0]?.city}, ${this.testOSRDetails?.testLocationAddresses?.[0]?.countryCode}`,testDate:this.newSessionService.formatDateRange(this.startOSRDate?.slice(0,10),this.endOSRDate||void 0)}):(localStorage.setItem(ke.dR.RPT_REFRESHED,"false"),this.searchBarDisplaytext={testType:_e?this.ttDetails?.searchFilterDetails?.testType?.displayText:this.ttDetails?.testType,testFormat:_e?this.ttDetails?.searchFilterDetails?.testFormat?.displayText:this.ttDetails?.testFormat!==ke.Rs.ALL&&this.ttDetails?.testFormat?this.ttDetails?.testFormat:this.labelText?.testFormatLabel,testLocation:_e?this.ttDetails?.searchFilterDetails?.testLocation?.displayText:`${this.ttDetails?.testLocation?.cityName}, ${this.ttDetails?.testLocation?.countryName}`,testDate:_e?this.ttDetails?.searchFilterDetails?.testDate?.displayText:this.newSessionService.formatDateRange(this.ttDetails?.testDate?.fromDate,this.ttDetails?.testDate?.toDate||void 0)})}appendResult(_e){this.lrwSessions=[...this.lrwSessions,..._e.filter(Ht=>-1===Ht.languageSkills.indexOf("S")).map(Ht=>({...Ht,testStartLocalDatetime:Ht.testStartLocalDatetime&&Ht.testStartLocalDatetime.length>6?Ht.testStartLocalDatetime.substring(0,Ht.testStartLocalDatetime.length-6):""}))];const Lt={},gn=[];(0,be.D)(this.lrwSessions).pipe((0,re.h)(Ht=>{const Jn=void 0===Lt[Ht.testLocation.id];return Jn||Lt[Ht.testLocation.id]++,Jn})).subscribe({next:Ht=>{Lt[Ht.testLocation.id]=1,gn.push(Ht)},complete:()=>{this.aggregatedSessions=gn.map(Ht=>(Ht.count=Lt[Ht.testLocation.id],Ht))}})}getSessionDetails(_e){this.loadingMoreItems=!0,this.lrwSessions=[],this.aggregatedSessions=[],_e&&(this.pageNo=1,this.sessionData=[]),this.sortFilterDetails?.isFromApplySort||(this.sessionTimeSlots.isAM=!1,this.sessionTimeSlots.isPM=!1);const Lt=this.formPayload();return this.sessionSearch.sessionSearch(Lt).pipe((0,V.P)(),(0,J.U)(gn=>{this.totalCount=gn.totalCount,this.displayLabel=this.labelText.displayLabel?.replace("{{totalCount}}",gn.totalCount),gn?.items?.length?(this.sessionData=[...this.sessionData,...gn.items.map(Ht=>({...Ht,testStartLocalDatetime:Ht.testStartLocalDatetime&&Ht.testStartLocalDatetime.length>6?Ht.testStartLocalDatetime.substring(0,Ht.testStartLocalDatetime.length-6):""}))],this.loadingMoreItems=!1,this.centerLocation=[gn.items[0].testLocation.latitude,gn.items[0].testLocation.longitude],this.appendResult(this.sessionData),this.noData=!1):this.noData=!0,this.sortFilterDetails?.isFromApplySort||this.getSessionTimeSlots(this.sessionData),this.disableSortFilter=!(this.sessionTimeSlots?.isAM&&this.sessionTimeSlots?.isPM)&&this.sessionData?.length<=1,this.getTestLocations(gn?.testLocations)}),(0,fe.K)(()=>(this.loadingMoreItems=!1,"")))}getTestLocations(_e){this.testLocations=_e?.length?_e:[]}getSessionTimeSlots(_e){_e.forEach(Lt=>{new Date(Lt?.testStartLocalDatetime)?.getHours()>=12?this.sessionTimeSlots.isPM=!0:this.sessionTimeSlots.isAM=!0})}formPayload(){const _e=!!this.commonService.isObjNotEmpty(this.ttDetails?.searchFilterDetails),Lt=this.isOSR&&!_e?this.commonService.getTestType(this.commonService.extractGeneralOrAcademic(this.testOSRDetails?.productName)):_e?this.newSessionService.formatTestTypes(this.ttDetails?.searchFilterDetails?.testType?.selectedTestType):this.commonService.getTestType(this.ttDetails?.testType),gn=this.newSessionService.getTestLocationIds();return{dayOfPaperTest:0,languageSkills:this.isOSR?this.skillValue:[s.Nd.L,s.Nd.R,s.Nd.W],order:this.sortBy===ke.zj.LATEST_DATE?s.KM.D:s.KM.A,page:this.pageNo,pageSize:10,sortBy:s.lo.TestStartDate,timesOfDay:this.timesOfDay?this.timesOfDay:[s.Do.Morning,s.Do.Afternoon],specialRequirementSupported:this.sortFilterDetails?.isSpecialRequirement,fromTestStartDateLocal:this.ttDetails?.searchFilterDetails?.testDate?.fromDate||!_e&&this.ttDetails?.testDate?.fromDate||(this.isOSR&&!_e?this.startOSRDate?.slice(0,10):""),toTestStartDateLocal:this.ttDetails?.searchFilterDetails?.testDate?.toDate||!_e&&this.ttDetails?.testDate?.toDate||(this.isOSR&&!_e?this.endOSRDate:""),countryCode:this.ttDetails?.searchFilterDetails?.testLocation?.selectedCClist?.countryCode||!_e&&this.ttDetails?.testLocation?.countryCode||(this.isOSR&&!_e?this.testOSRDetails?.testLocationAddresses?.[0]?.countryCode:""),city:this.ttDetails?.searchFilterDetails?.testLocation?.selectedCity||!_e&&this.ttDetails?.testLocation?.cityName||(this.isOSR&&!_e?this.testOSRDetails?.testLocationAddresses?.[0]?.city:""),testDeliveryFormats:_e?this.newSessionService.formatTestFormats(this.ttDetails?.searchFilterDetails?.testFormat?.selectedFormatType):this.isOSR&&!_e?["CD"]:this.commonService.getTestFormat(),testCategories:this.newSessionService.getTestCategories(_e,Lt),testModules:this.newSessionService.getTestModules(_e,Lt),testLocationIds:gn?.length?gn:void 0,...this.isOSR?{isSsr:!0}:{}}}formatDate(_e,Lt){return _e&&Lt?(0,oe.ZP)(new Date(_e),Lt):""}formatDistance(_e){return(0,c.Bb)(_e)}is12am(_e){return(0,c.yw)(_e)}setMapView(){this.isMapView=!this.isMapView,this.sortBy=ke.zj.EARLIEST_DATE,this.clearSortFilter()}buildQueryParams(_e,Lt){const gn=Lt,Ht=[s.Nd.L,s.Nd.R,s.Nd.W].includes(this.skillValue);return{productId:gn?.externalBookableProductId,[Ht?"lrwStartDateTime":"speakingStartDateTime"]:gn?.testStartLocalDatetime,testLocationId:gn?.testLocation.externalReferenceId,testLocalTimeZone:gn?.testLocalTimeZone,lrwUrl:_e,tm:gn?.testModule,tf:gn?.testFormat,tc:gn?.testCategory,tv:gn?.testLocation.name,ui:this.isRedirectToNewJourney?"new":"legacy",rc:this.isEnableReCaptcha?"test":"pass",rpt:this.referralPartnerId,newPayment:this.newPaymentJourney?"enabled":"disabled",currentStep:this.commonService.currentStep,isOSR:this.isOSR,skillValue:this.imageSkillValue}}onReserve(_e){var Lt=this;return(0,a.Z)(function*(){if(Lt.commonService.storeTTdetails({selectedLrw:_e}),Lt.commonService.trackGa4(A.dS.eventName.eventsGa4,Lt.pageData?.pageName,A.dS.category.selectAndContinue),void 0!==_e.bookingUrl){Lt.hideUI=!0,Lt.loadingService.title$.next("Please wait while we redirect you to the booking system to confirm your details and complete payment.");const gn=JSON.parse(sessionStorage.getItem(ke.cf.UTM_VALUE)||"{}"),Ht=new URL(_e.bookingUrl),Jn=new URLSearchParams(Ht.search);Object.keys(gn).forEach(yn=>{gn[yn]&&Jn.append(yn,gn[yn])});const Je=Lt.commonService.isObjNotEmpty(gn)&&document.referrer||void 0;Je&&Jn.append("referrerUrl",Je),Ht.search=Jn.toString(),window.location.href=Ht.toString()}else if(Lt.isOSR){localStorage.getItem("sourceUrl"),Lt.loadingService.isLoading.next(!0);const Jn=Ie.site.bookingURL,Je=Lt.buildQueryParams(Lt.resultUrl,_e),yn=(0,It.buildUrl)(Jn,{path:"booking/confirmation",queryParams:Je});window.location.href=yn}else Lt.sharedState.updateState({selectedLrw:_e,testType:(0,ke.Bl)(Lt.ttDetails?.testType),testFormat:Lt.testDeliveryFormat,locLabelShort:Lt.ttDetails?.testLocation?.cityName,fromDate:Lt.ttDetails?.testDate?.fromDate,toDate:Lt.ttDetails?.testDate?.toDate,isFromNewPage:!0,isReferralPartner:!!(Lt.resultpvs||Lt.resultrps||Lt.resultrpt),referralPartnerId:Lt.partnerId,queryParams:!1}),Lt.router.navigate(["/","book-ielts","speaking"],{relativeTo:Lt.route}),localStorage.removeItem(ke.dR.SPEAKING_DETAILS)})()}fromSortFilterComp(_e){_e.isTestCenter?(_e?.applyTLfilter&&this.getSessionDetails(!0).subscribe(),this.isTestCenter=!1):_e?.closeFilterPopup&&(this.sortFilter=!1)}handleClick(_e){(this.resultrps||this.resultpvs||this.resultrpt)&&_e.preventDefault()}navigateTo(){this.router.navigate(["/wizard/test-type"])}editFilter(){this.sharedState.getState()?.pipe((0,V.P)()).subscribe(_e=>{_e?.enableSearchFilter?(this.editFilters=!0,this.isMapView&&this.newSessionService.mapViewCompMethods$.next("closeSelectedTLpopup")):this.router.navigate(["/wizard"])})}getTestTypeValue(_e,Lt){return(0,ke.R)([_e,Lt].join(","))}onSortSelect(_e){_e!==this.sortBy&&(this.sortBy=_e,this.newSessionService.sortFilterDetails.pipe((0,V.P)()).subscribe(Lt=>{this.commonService.isObjNotEmpty(Lt)?(Lt.sortBy=this.sortBy,Lt.isFromApplySort=!1,this.newSessionService.sortFilterDetails.next(Lt)):this.newSessionService.sortFilterDetails.next({sortBy:this.sortBy})}))}back(){this.router.navigate(this.ttDetails?.isUkvi?["/wizard/test-date-ukvi/ioc"]:["/wizard/test-date/ioc"]),this.commonService.updateCurrentStep(!0)}fromTopSearchFilter(_e){if(this.selectedRPTFilterDetails=_e,this.commonService.isObjNotEmpty(_e?.searchFilterDetails)){this.clearSortFilter(),this.clearTLfilter(),this.selectedTLcountDetails={count:0,displayText:"All"};const Lt=_e?.searchFilterDetails;this.searchBarDisplaytext={testType:Lt?.testType?.displayText,testFormat:Lt?.testFormat?.displayText,testLocation:Lt?.testLocation?.displayText,testDate:Lt?.testDate?.displayText},this.pageNo=1,this.timesOfDay=[s.Do.Morning,s.Do.Afternoon],this.resultrpt?(localStorage.setItem(ke.dR.RPT_REFRESHED,"false"),this.sessionData=[],this.getPrivateLinkDetails().subscribe()):this.getSessionDetails(!0).subscribe()}this.editFilters=!1,this.dropDownType=""}clearSortFilter(){this.newSessionService.sortFilterDetails.pipe((0,V.P)()).subscribe(_e=>{this.commonService.isObjNotEmpty(_e)&&this.newSessionService.sortFilterDetails.next({clearFilter:!0})})}clearTLfilter(){this.selectedTLcountDetails={count:0,displayText:"All"},this.newSessionService.updateTestLocationDetails(""),this.newSessionService.updateTestLocationIds([])}checkValueInUrl(_e,Lt){return _e?.split("/")?.includes(Lt)}getPrivateLinkDetailsV1(){return this.sessionService.findPrivateSessions(void 0,void 0,void 0,void 0,void 0,this.isPrivate?this.isPrivate:void 0,void 0,void 0,void 0,this.productId,void 0,this.partnerId,this.sessionId,void 0,this.centreId,void 0)?.pipe((0,J.U)(_e=>(this.totalCount=_e?.totalCount,this.displayLabel=this.labelText?.displayText?.replace("{{totalCount}}",_e?.totalCount),_e?.items?.length?(this.sessionData=[...this.sessionData,..._e.items.map(Lt=>({...Lt,testStartLocalDatetime:Lt?.testStartLocalDatetime&&Lt?.testStartLocalDatetime?.length>6?Lt?.testStartLocalDatetime.substring(0,Lt?.testStartLocalDatetime?.length-6):""}))],this.loadingMoreItems=!1,this.centerLocation=[_e?.items[0]?.testLocation?.latitude,_e?.items[0]?.testLocation?.longitude],this.appendResult(this.sessionData)):this.router.navigate(["/server-error"]),_e)),(0,fe.K)(()=>(this.router.navigate(["/server-error"]),this.loadingMoreItems=!1,"")))}getPrivateLinkDetails(){const _e=this.getRptformPayload();return this.loadingMoreItems=!0,this.privateSessionService.privateSessionSearch(wt.Z(),_e).pipe((0,J.U)(Lt=>(this.loadingMoreItems=!1,this.totalCount=Lt.totalCount,this.displayLabel=this.labelText.displayLabel?.replace("{{totalCount}}",Lt.totalCount),Lt?.items?.length?(this.sessionData=[...this.sessionData,...Lt.items.map(gn=>({...gn,testStartLocalDatetime:gn.testStartLocalDatetime&&gn.testStartLocalDatetime.length>6?gn.testStartLocalDatetime.substring(0,gn.testStartLocalDatetime.length-6):""}))],this.centerLocation=[Lt.items[0].testLocation.latitude,Lt.items[0].testLocation.longitude],this.getSessionTimeSlots(this.sessionData),this.appendResult(this.sessionData),this.noData=!1):(this.router.navigate(["/wizard"]),this.noData=!0),this.disableSortFilter=this.sessionData?.length<=1,Lt)),(0,fe.K)(()=>(this.loadingMoreItems=!1,"")))}getRptformPayload(){const _e=this.commonService.getLocalStorageValue(ke.dR.FILTER_RESPONSE),Lt=!!this.commonService.isObjNotEmpty(this.selectedRPTFilterDetails?.searchFilterDetails),gn=Lt?this.newSessionService.formatTestTypes(this.selectedRPTFilterDetails?.searchFilterDetails?.testType?.selectedTestType):"",Ht=this.newSessionService.getTestLocationIds();return{city:this.selectedRPTFilterDetails?.searchFilterDetails?.testLocation?.selectedCity,countryCode:this.selectedRPTFilterDetails?.searchFilterDetails?.testLocation?.selectedCClist?.countryCode,dayOfPaperTest:0,languageSkills:[s.Nd.L,s.Nd.R,s.Nd.W],order:this.sortBy===ke.zj.LATEST_DATE?s.KM.D:s.KM.A,page:this.pageNo,pageSize:10,sortBy:s.lo.TestStartDate,referralPartnerId:this.partnerId,testCenterIds:this.centreId?[this.centreId]:[],timesOfDay:this.timesOfDay?this.timesOfDay:[s.Do.Morning,s.Do.Afternoon],fromTestStartDateLocal:this.selectedRPTFilterDetails?.searchFilterDetails?.testDate.fromDate,toTestStartDateLocal:this.selectedRPTFilterDetails?.searchFilterDetails?.testDate.toDate,testDeliveryFormats:_e?this.newSessionService.formatTestFormats(this.selectedRPTFilterDetails?.searchFilterDetails?.testFormat?.selectedFormatType):[],testCategories:this.newSessionService.getTestCategories(Lt,gn),testLocationIds:Ht?.length?Ht:void 0,testModules:this.newSessionService.getTestModules(Lt,gn)}}openSearchFilter(_e){window?.innerWidth>1099&&(this.dropDownType=_e,this.editFilter())}getTestFormatIcon(_e){let Lt;return Lt=[ke.Rs.IELTS_ON_COMPUTER,ke.Rs.IELTS_UKVI_ON_COMPUTER,ke.Rs.ON_COMPUTER].includes(_e)?"/assets/images/onComputer.svg":[ke.Rs.IELTS_ON_PAPER,ke.Rs.IELTS_UKVI_ON_PAPER,ke.Rs.ON_PAPER].includes(_e)?"/assets/images/onPaper.svg":"/assets/images/double-right.svg",Lt}getTestTypeIcon(_e){let Lt;return Lt=[ke.v7.IELTS_UKVI_AC_WITHOUT_BRACKET,ke.v7.IELTS_UKVI_AC,ke.v7.IELTS_UKVI_GT_WITHOUT_BRACKET,ke.v7.IELTS_UKVI_GT,ke.v7.IELTS_UKVI_LS_A1,ke.v7.IELTS_UKVI_LS_B1,ke.v7.LS_A1,ke.v7.LS_B1].includes(_e)?"/assets/images/ukvi-icon.svg":[ke.v7.IELTS_AC].includes(_e)?"/assets/images/academic-black.svg":[ke.v7.IELTS_GT].includes(_e)?"/assets/images/gt-black.svg":"/assets/images/double-right.svg",Lt}openOrCloseUkviPopUp(){this.isUkviPopup=!this.isUkviPopup}static#e=this.\u0275fac=function(Lt){return new(Lt||Ze)(L.Y36(s.uw),L.Y36(Oe.h),L.Y36(ut.b),L.Y36(Nt.gz),L.Y36(an.v),L.Y36(bt.G),L.Y36(Qe.z),L.Y36(jt.m),L.Y36(Zt),L.Y36(L.Qsj),L.Y36(L.SBq),L.Y36(Nt.F0),L.Y36(we.K0),L.Y36(we.uU))};static#t=this.\u0275cmp=L.Xpm({type:Ze,selectors:[["app-new-booking-listing"]],hostBindings:function(Lt,gn){1&Lt&&L.NdJ("resize",function(Jn){return gn.handleResizeEvent(Jn)},!1,L.Jf7)},standalone:!0,features:[L.jDz],decls:11,vars:10,consts:[[1,"booking-listing-container","osr"],["id","list-header",1,"list","d-flex","flex-column",3,"ngClass"],["class","top-header d-flex flex-column flex-lg-row align-items-center justify-content-between",4,"ngIf"],[3,"labelText","buttonsText","dropDownType","innerWidth","resultrpt","isOSR","OSRDetails","skillValue","partnerId","centreId","productId","toBookingListingComp",4,"ngIf"],["class","secondary-header d-flex align-items-lg-center justify-content-between",4,"ngIf"],["class","special-requirement",3,"bannerDetails","urlFrom","addMapClass","openOrCloseUkviPopUp",4,"ngIf"],["class","map-listing-panel-container d-flex list","id","maplistcontainer",3,"ngClass",4,"ngIf"],["class","edit-filter-overlay",4,"ngIf"],[3,"testLocations","ttDetails","labelText","editFilters","innerWidth","onReserve",4,"ngIf"],[3,"sessionTimeSlots","labelText","buttonsText","isTestCenter","testLocations","selectedTLcountDetails","isMapView","resultrpt","enableTestCentreFilter","enableUkviAccessibility","toBookingListingComp",4,"ngIf"],[3,"urlFrom","closeUkviPopup",4,"ngIf"],[1,"top-header","d-flex","flex-column","flex-lg-row","align-items-center","justify-content-between"],[1,"logo-and-profile-container","align-items-center","justify-content-between"],[1,"ielts-logo"],["target","_blank","title","IDP IELTS","rel","noopener",1,"new-logo",3,"click"],[3,"src","alt"],[1,"profile-container","d-flex","align-items-center","justify-content-between","d-lg-none"],[1,"profile-content-container"],["class","filters-and-profile-container d-flex flex-column flex-lg-row align-items-center justify-content-between",4,"ngIf"],[1,"languageSwitcherAndProfile"],[3,"pageData",4,"ngIf"],[4,"ngIf"],[1,"filters-and-profile-container","d-flex","flex-column","flex-lg-row","align-items-center","justify-content-between"],[1,"w-100","align-items-center",3,"click"],["src","assets/images/left-arrow-blue.svg","alt",""],["class","filters-container d-flex align-items-center justify-content-between",4,"ngIf"],["class","Ors-information-banner mobile flex-column flex-lg-row w-100",4,"ngIf"],[1,"filters-container","d-flex","align-items-center","justify-content-between"],[1,"filters-content-container","d-flex","flex-column","flex-lg-row","align-items-center","justify-content-between"],[1,"test-name-container","d-flex","d-lg-none","align-items-center","justify-content-between"],["src","assets/images/mob-edit.svg","alt","notification-logo",3,"click"],[1,"filters-img-text-container","d-flex","flex-lg-row"],["class","filters-content-wrapper",3,"click",4,"ngIf"],[1,"filters-content-wrapper",3,"click"],[1,"filters-content","d-flex","align-items-center"],["alt","right-logo",3,"src"],["src","assets/images/map.svg","alt","map"],["src","assets/images/calender.svg","alt","calender"],["datatracking-id","wizard-btn-reset-search",1,"edit-wrapper","d-none","d-lg-block",3,"click"],["src","assets/images/pencil-white.svg","alt","search-logo"],[1,"filters-content","d-lg-flex","align-items-center","d-none"],[1,"Ors-information-banner","mobile","flex-column","flex-lg-row","w-100"],[1,"info-icon","d-flex","align-content-center","justify-content-between"],["src","/assets/images/info-icon-mobile.svg","width","24","height","24","alt","info-icon"],[1,"d-lg-none","d-block","close-button"],["width","16","height","16","src","/assets/images/close-outline.svg","alt","close-icon"],[1,"info-content","d-flex","flex-column"],[1,"close-icon","d-none","d-lg-flex"],["src","/assets/images/close-outline.svg","width","16","height","16","alt","close-icon"],[3,"pageData"],[1,"userIcon",3,"ngClass","title","click"],["src","/assets/images/user-icon.svg","alt","userIcon","width","24","height","24",1,"userimage","w-100","h-100"],["class","user",4,"ngIf"],[1,"user"],[3,"labelText","buttonsText","dropDownType","innerWidth","resultrpt","isOSR","OSRDetails","skillValue","partnerId","centreId","productId","toBookingListingComp"],[1,"secondary-header","d-flex","align-items-lg-center","justify-content-between"],["class","display-content d-lg-none",4,"ngIf"],["datatracking-id","wizard-h2-select-written-session","class","d-none d-lg-block",3,"innerHTML",4,"ngIf"],["datatracking-id","wizard-h2-select-one-skill-retake","class","d-none d-lg-block",4,"ngIf"],["class","popup-control-container d-flex align-items-center justify-content-lg-center",4,"ngIf"],[1,"display-content","d-lg-none"],[3,"innerHTML"],["datatracking-id","wizard-h2-select-written-session",1,"d-none","d-lg-block",3,"innerHTML"],["datatracking-id","wizard-h2-select-one-skill-retake",1,"d-none","d-lg-block"],[1,"popup-control-container","d-flex","align-items-center","justify-content-lg-center"],["class","test-centers-control d-none d-lg-flex align-items-center justify-content-center",3,"click",4,"ngIf"],["class","filters-control d-flex align-items-center justify-content-center",3,"click",4,"ngIf"],["class","list-map-view-controller d-flex align-items-center justify-content-center",4,"ngIf"],[1,"test-centers-control","d-none","d-lg-flex","align-items-center","justify-content-center",3,"click"],["src","assets/images/chevron-down.svg","alt","down-arrow"],[1,"filters-control","d-flex","align-items-center","justify-content-center",3,"click"],["src","assets/images/filter-icon.svg","alt","filter-icon"],["class","filter-badge d-flex align-items-center justify-content-center",4,"ngIf"],[1,"filter-badge","d-flex","align-items-center","justify-content-center"],[1,"list-map-view-controller","d-flex","align-items-center","justify-content-center"],[1,"list-map-view","d-flex","align-items-center",3,"click"],[1,"special-requirement",3,"bannerDetails","urlFrom","addMapClass","openOrCloseUkviPopUp"],["id","maplistcontainer",1,"map-listing-panel-container","d-flex","list",3,"ngClass"],["class","listing-panel d-lg-flex flex-column",4,"ngIf"],[1,"edit-filter-overlay"],[1,"listing-panel","d-lg-flex","flex-column"],[1,"booking-pod-control-container","d-flex","flex-column"],[1,"drop-down-wrapper","d-none","d-lg-flex","flex-column","flex-lg-row","align-items-lg-center","justify-content-between"],["class","dropdown-container d-none d-lg-flex",4,"ngIf"],[1,"booking-pods-container","d-flex","flex-column"],["class","booking-pod-container d-flex flex-column",4,"ngFor","ngForOf"],[1,"back","d-none","d-lg-flex","flex-colum","align-items-center",3,"click"],["src","/assets/images/left-arrow-blue.svg","alt","chevron-left"],[1,"Ors-information-banner","d-none","d-lg-flex","flex-column","flex-lg-row","w-100"],["width","16","height","16","src","/assets/images/close-outline.svg","alt","close-icon",1,"d-lg-none","d-block"],[1,"dropdown-container","d-none","d-lg-flex"],[1,"dropdown","d-flex","align-items-center","justify-content-end"],[1,"row"],[1,"col"],["ngbDropdown",""],["type","button","id","sortBy","ngbDropdownToggle","",1,"d-flex","align-items-center"],["ngbDropdownMenu","","aria-labelledby","sortBy"],["ngbDropdownItem","",3,"click"],[1,"booking-pod-container","d-flex","flex-column"],[3,"click"],[1,"booking-pod-content-wrapper","d-flex","flex-column","flex-lg-row"],[1,"promo-grey","d-flex","align-items-center","justify-content-center"],[1,"booking-date-wrapper"],[1,"desk","d-none","d-lg-flex","flex-column","justify-content-center","align-items-center"],[1,"day"],[1,"date-spacer"],[1,"date-month","d-flex","flex-column","justify-content-center","align-items-center"],[1,"mob","d-flex","d-lg-none","justify-content-between"],[3,"ngClass"],[1,"booking-content-container","d-flex","flex-column"],[1,"test-name-and-time-container","d-flex","justify-content-between"],[1,"test-name-container","d-flex","flex-column"],[1,"test-name"],["target","_blank",1,"test-location","d-flex","align-items-center","justify-content-between",3,"href","click"],["src","/assets/images/location-gray.svg","alt","location"],["src","/assets/images/newtab-gray.svg","alt","newtab"],[1,"test-time-container","d-none","d-lg-flex","flex-column","align-items-end"],[1,"time",3,"ngClass"],["class","seats-container d-flex align-items-center",4,"ngIf"],[1,"spacer"],[1,"booking-container","d-flex","flex-column","flex-lg-row","justify-content-between","align-items-lg-center"],[1,"booking-test-details","d-flex","flex-column","flex-md-row"],["class","text-icon-container d-flex align-items-center",4,"ngIf"],[1,"text-icon-container","d-flex","align-items-center"],["src","/assets/images/Results.svg","alt","Results"],["alt","onComputer",3,"src"],["src","assets/images/doller.svg","alt","doller"],[1,"booking-button-container","d-flex","flex-md-row","flex-column","align-items-center","justify-content-md-between","justify-content-center"],["id","lrw-test-availability-limited","class","seats-container d-flex d-lg-none align-items-center justify-content-center justify-content-md-start",4,"ngIf"],["id","lrw-test-availability-high","class","seats-container d-flex d-lg-none align-items-center justify-content-center justify-content-md-start",4,"ngIf"],["datatracking-id","wizard-btn-select-written-session",1,"select-button"],[1,"seats-container","d-flex","align-items-center"],["src","assets/images/alarm.svg","alt","alarm"],["src","assets/images/Vector.svg","alt","vectorImage"],["src","/assets/images/listening.svg","alt","Listening",4,"ngIf"],["src","/assets/images/reading.svg","alt","Reading",4,"ngIf"],["src","/assets/images/writing.svg","alt","Writing",4,"ngIf"],["src","/assets/images/speaking.svg","alt","Speaking",4,"ngIf"],["src","/assets/images/listening.svg","alt","Listening"],["src","/assets/images/reading.svg","alt","Reading"],["src","/assets/images/writing.svg","alt","Writing"],["src","/assets/images/speaking.svg","alt","Speaking"],["src","assets/images/cube.svg","alt","cube"],["src","assets/images/special-icon.svg","alt","cube"],["id","lrw-test-availability-limited",1,"seats-container","d-flex","d-lg-none","align-items-center","justify-content-center","justify-content-md-start"],["id","lrw-test-availability-high",1,"seats-container","d-flex","d-lg-none","align-items-center","justify-content-center","justify-content-md-start"],[3,"testLocations","ttDetails","labelText","editFilters","innerWidth","onReserve"],[3,"sessionTimeSlots","labelText","buttonsText","isTestCenter","testLocations","selectedTLcountDetails","isMapView","resultrpt","enableTestCentreFilter","enableUkviAccessibility","toBookingListingComp"],[3,"urlFrom","closeUkviPopup"]],template:function(Lt,gn){1&Lt&&(L.TgZ(0,"div",0)(1,"header",1),L.YNc(2,Wt,12,8,"div",2),L.YNc(3,st,1,11,"app-top-search-filter",3),L.YNc(4,qn,5,4,"div",4),L.YNc(5,ti,1,3,"app-special-requirement",5),L.qZA(),L.YNc(6,nn,4,4,"div",6),L.YNc(7,bn,1,0,"div",7),L.YNc(8,Bn,1,5,"app-new-map-view",8),L.qZA(),L.YNc(9,kt,1,10,"app-sort-filter",9),L.YNc(10,cn,1,1,"app-ukvi-popup",10)),2&Lt&&(L.xp6(1),L.Q6J("ngClass",gn.isMapView?"map":""),L.xp6(1),L.Q6J("ngIf",!gn.editFilters),L.xp6(1),L.Q6J("ngIf",gn.editFilters),L.xp6(1),L.Q6J("ngIf",!gn.editFilters&&((null==gn.sessionData?null:gn.sessionData.length)||gn.isMapView)),L.xp6(1),L.Q6J("ngIf",(null==gn.pageData||null==gn.pageData.banners?null:gn.pageData.banners.length)&&!gn.editFilters&&!gn.isOSR),L.xp6(1),L.Q6J("ngIf",!gn.isMapView),L.xp6(1),L.Q6J("ngIf",gn.editFilters&&gn.isMapView&&gn.innerWidth>768),L.xp6(1),L.Q6J("ngIf",gn.isMapView),L.xp6(1),L.Q6J("ngIf",gn.sortFilter||gn.isTestCenter),L.xp6(1),L.Q6J("ngIf",gn.isUkviPopup))},dependencies:[we.ez,we.mk,we.sg,we.O5,we.Ov,Ce.C,he.IJ,he.jt,he.iD,he.Vi,he.TH,pe.H,ge.CR,pt.a,Be.F,Pe.e,rt.K],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker,a.link-grey,a.link-dark{text-decoration:none;font-weight:500}@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-dark,a.link-grey,a.link-darker{text-decoration:none;font-weight:500}html{font-size:18px;line-height:1.1111111111rem}h1{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText,.input{font-size:.8888888889rem;line-height:.9444444444rem}.input ::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback{font-size:.5555555556rem;line-height:.6666666667rem}legend{font-size:18px;font-weight:400}.Instructional-text{font-size:10px;font-weight:400;line-height:12px}.text-darker,a.link-darker{color:#212529}.text-dark,a.link-dark{color:#495057}.text-blue{color:#00aaad}.text-grey,a.link-grey{color:#f4dcdf}.text-gray{color:#656565}.text-purple{color:#bd60a5}.text-dark-red{color:#b5142c}a.btn-link{font-size:.6363636364rem}legend{font-size:22px;font-weight:400}.sub-copy{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text{font-size:12px;font-weight:400;line-height:14px}body{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p{margin-bottom:1rem}h1,h2,h3,h4,h5,h6{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b{font-weight:700}h1{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2{font-size:1.59rem;font-weight:600}h3{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4{font-size:1.563rem}h5{font-size:1.1rem}h6{font-size:1rem;font-weight:600}.a-link{font-weight:600;font-size:18px}.text-bold,.weight-semi{font-weight:600}.weight-bold{font-weight:700}small,.text_small,.text-small{font-size:.8rem}.text-medium{font-weight:500}.leadText{font-size:1rem;line-height:1.1818181818rem}.clickwrap{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}*,*:after,*:before{margin:0;padding:0;box-sizing:inherit;font-size:unset;line-height:unset;font-weight:unset}body{box-sizing:border-box}button{background:none;border:0;cursor:pointer;box-sizing:border-box;text-align:center;font-family:unset}img{display:block}a{color:inherit;text-decoration:inherit;cursor:pointer}a:focus-visible,button:focus-visible{outline:thin dotted}h1,h2,h3,h4,h5,h6,p,ul,li{margin:0;padding:0}:host{flex-grow:1}.custom-scroll::-webkit-scrollbar{width:4px;border-radius:4px}.custom-scroll::-webkit-scrollbar-track{margin-top:20px;margin-bottom:20px}.custom-scroll::-webkit-scrollbar-thumb{background-color:#878787;border-radius:4px}ul{list-style:none}::ng-deep body.map{overflow:hidden}.booking-listing-container{position:relative}.booking-listing-container .edit-filter-overlay{background:rgba(51,53,65,.7);width:100%;height:100%;position:absolute;z-index:1}.booking-listing-container .spacer{border:.0555555556rem solid rgba(135,135,135,.25)}.booking-listing-container header .top-header .logo-and-profile-container{width:100%;padding:.6666666667rem 1.1111111111rem;height:2.6666666667rem;display:flex}.booking-listing-container header .top-header .logo-and-profile-container .ielts-logo{max-width:5.2222222222rem;max-height:.8888888889rem;line-height:normal}.booking-listing-container header .top-header .logo-and-profile-container .ielts-logo img{width:100%;height:100%;display:block}.booking-listing-container header .top-header .logo-and-profile-container .profile-container{gap:.8888888889rem}.booking-listing-container header .top-header .logo-and-profile-container .profile-container .Language-switcher{gap:.3333333333rem}.booking-listing-container header .top-header .logo-and-profile-container .profile-container .Language-switcher p{margin:0;font-size:.7777777778rem;line-height:.8888888889rem;color:#333541;font-weight:500}.booking-listing-container header .top-header .logo-and-profile-container .profile-container .Language-switcher img{width:.8888888889rem;height:.8888888889rem}.booking-listing-container header .top-header .logo-and-profile-container .profile-container .profile-content-container img{width:1.3333333333rem;height:1.3333333333rem}.booking-listing-container header .top-header .filters-and-profile-container{width:100%;gap:1.3333333333rem;background-color:#f5f5f5;padding:1.3333333333rem}.booking-listing-container header .top-header .filters-and-profile-container a{gap:.4444444444rem;font-size:.8888888889rem;line-height:1.3333333333rem;text-decoration:none;display:flex}.booking-listing-container header .top-header .filters-and-profile-container a span{line-height:0}.booking-listing-container header .top-header .filters-and-profile-container a span img{width:.3611111111rem;height:.5rem}.booking-listing-container header .top-header .filters-and-profile-container .filters-container{width:100%}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container{gap:.6666666667rem;padding:1.1111111111rem;width:100%;background-color:#fff;border-radius:.4444444444rem;border:.0555555556rem solid rgba(135,135,135,.25);box-shadow:0 1px 2px #1018280d}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .test-name-container{width:100%}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .test-name-container h2{margin:0;color:#a61242;font-weight:600;font-size:1rem;line-height:1.1111111111rem}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container{width:100%;gap:.4444444444rem;flex-direction:column}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper{cursor:pointer}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content{gap:.4444444444rem}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content img{width:1.1111111111rem;height:1.1111111111rem}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content p{margin:0;font-size:.7777777778rem;line-height:1.3333333333rem;color:#000;font-family:Open Sans,sans-serif}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content span{color:#6b6b6b;width:.1111111111rem;height:.1111111111rem}.booking-listing-container header .top-header .filters-and-profile-container .Ors-information-banner{display:flex;background-color:#e5e5ff;border:.0555555556rem solid #000070;border-radius:.4444444444rem;gap:.6666666667rem;padding:.8888888889rem}.booking-listing-container header .top-header .filters-and-profile-container .Ors-information-banner .info-content{gap:.1111111111rem}.booking-listing-container header .top-header .filters-and-profile-container .Ors-information-banner .info-content h2{font-weight:700;color:#000070;font-size:.8888888889rem;line-height:1.1111111111rem}.booking-listing-container header .top-header .filters-and-profile-container .Ors-information-banner .info-content p{font-family:Open Sans,sans-serif;color:#000070;font-size:.7777777778rem;line-height:1.3333333333rem}.booking-listing-container header .top-header .filters-and-profile-container .Ors-information-banner .info-icon{width:100%;height:1.3333333333rem}.booking-listing-container header .top-header .filters-and-profile-container .Ors-information-banner .info-icon img{width:1.3333333333rem;height:100%}.booking-listing-container header .top-header .filters-and-profile-container .Ors-information-banner .close-icon{width:.8888888889rem;height:.8888888889rem}.booking-listing-container header .top-header .filters-and-profile-container .Ors-information-banner .close-icon .close-button{width:.8888888889rem;height:.8888888889rem}.booking-listing-container header .top-header .filters-and-profile-container .Ors-information-banner .close-icon .close-button img{width:100%;height:100%}.booking-listing-container header .top-header .languageSwitcherAndProfile{display:flex;align-self:center;justify-content:center;position:absolute;right:1.1111111111rem;top:.6666666667rem;gap:.8888888889rem}.booking-listing-container header .top-header .languageSwitcherAndProfile .userIcon{display:flex;align-items:center;justify-content:center;background:transparent;border:none;width:1.3333333333rem;height:1.3333333333rem}.booking-listing-container header .top-header .languageSwitcherAndProfile .userIcon .user{font-weight:600;font-size:.7777777778rem;line-height:.8888888889rem;display:none}.booking-listing-container header .top-header .languageSwitcherAndProfile .userIcon.loggedIn{background:#333541;border-radius:50%;color:#fff}.booking-listing-container header .top-header .languageSwitcherAndProfile .userIcon.loggedIn .userimage{display:none}.booking-listing-container header .top-header .languageSwitcherAndProfile .userIcon.loggedIn .user{display:flex}.booking-listing-container header .secondary-header{padding:0 1.3333333333rem;flex-direction:column;gap:1.1111111111rem;background-color:#f5f5f5;order:3}.booking-listing-container header .secondary-header h2 ::ng-deep p{margin:0}.booking-listing-container header .secondary-header .display-content h2{margin:0;font-weight:500;font-size:.8888888889rem;line-height:1.1111111111rem}.booking-listing-container header .secondary-header .display-content h2 span{color:#e31837}.booking-listing-container header .secondary-header .popup-control-container{gap:.3333333333rem;width:100%}.booking-listing-container header .secondary-header .popup-control-container .filters-control{gap:.4444444444rem;padding:.3888888889rem 0;border-radius:.2222222222rem;border:.0555555556rem solid rgba(135,135,135,.25);flex-grow:1;width:calc(50% - .1666666667rem);background:#fff}.booking-listing-container header .secondary-header .popup-control-container .filters-control img{width:.8888888889rem;height:.8888888889rem}.booking-listing-container header .secondary-header .popup-control-container .filters-control p{margin:0;color:#000;font-size:.7777777778rem;line-height:1.3333333333rem}@media (min-width: 1100px){.booking-listing-container header .secondary-header .popup-control-container .filters-control p{font-size:.7272727273rem;line-height:1.2727272727rem}}.booking-listing-container header .secondary-header .popup-control-container .filters-control .filter-badge{width:1rem;height:1rem;border-radius:50%;background-color:#2c2c33;color:#fff;font-weight:600;font-size:.7777777778rem;line-height:.7777777778rem}.booking-listing-container header .secondary-header .popup-control-container .list-map-view-controller{padding:.3888888889rem 0;border-radius:.2222222222rem;border:.0555555556rem solid rgba(135,135,135,.25);flex-grow:1;width:calc(50% - .1666666667rem);background:#fff}.booking-listing-container header .secondary-header .popup-control-container .list-map-view-controller img{width:.8888888889rem;height:.8888888889rem}.booking-listing-container header .secondary-header .popup-control-container .list-map-view-controller .list-map-view{gap:.4444444444rem}.booking-listing-container header .secondary-header .popup-control-container .list-map-view-controller .list-map-view p{margin:0;color:#000;font-size:.7777777778rem;line-height:1.3333333333rem}@media (min-width: 1100px){.booking-listing-container header .secondary-header .popup-control-container .list-map-view-controller .list-map-view p{font-size:.7272727273rem;line-height:1.2727272727rem}}.booking-listing-container header .sr-pod{order:2;padding:0 1.3333333333rem 1.3333333333rem;background-color:#f5f5f5}.booking-listing-container header.list .special-requirement{background-color:#f5f5f5;padding:0 1.3333333333rem 1.3333333333rem}.booking-listing-container header.map{position:sticky;top:0;background-color:#fff;z-index:2}.booking-listing-container header.map .top-header .logo-and-profile-container{border-bottom:.0555555556rem solid rgba(135,135,135,.25);display:none}.booking-listing-container header.map .top-header .language-dropdown{display:none}.booking-listing-container header.map .top-header .filters-and-profile-container{padding:.8888888889rem 1.1111111111rem;gap:.2222222222rem;background-color:transparent;border-bottom:.0555555556rem solid rgba(135,135,135,.25)}.booking-listing-container header.map .top-header .filters-and-profile-container a{display:none}.booking-listing-container header.map .top-header .filters-and-profile-container .filters-container .filters-content-container{gap:.2222222222rem;align-items:center;padding:0;border:none;box-shadow:none}.booking-listing-container header.map .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container{flex-direction:row}.booking-listing-container header.map .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content img{display:none}.booking-listing-container header.map .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content p{color:#6b6b6b;position:relative}.booking-listing-container header.map .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content:not(:last-child) p:after{position:absolute;content:"";width:.1111111111rem;height:.1111111111rem;border-radius:50%;background-color:#6b6b6b;line-height:normal;top:50%;transform:translateY(-50%);right:-.2777777778rem}.booking-listing-container header.map .top-header .Ors-information-banner{display:none}.booking-listing-container header.map .secondary-header{order:2;background:transparent;padding:.8888888889rem 1.1111111111rem;box-shadow:0 .2222222222rem .3333333333rem -.0555555556rem #1018281a}.booking-listing-container header.map .sr-pod{order:2;padding:0;background-color:#fff}.booking-listing-container header.map .special-requirement{background-color:#fff;padding:0;order:3}.booking-listing-container header .languageSwitcherAndProfile .language-icon{display:none}.booking-listing-container .map-listing-panel-container{min-height:calc(100dvh - 17.8888888889rem)}.booking-listing-container .map-listing-panel-container .listing-panel{background-color:#f5f5f5;padding:1.3333333333rem;gap:1.3333333333rem}.booking-listing-container .map-listing-panel-container .listing-panel .back{gap:.4444444444rem}.booking-listing-container .map-listing-panel-container .listing-panel .back span{font-size:.8888888889rem;line-height:1.3333333333rem;font-weight:500;color:#006dca}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container,.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper{gap:1.1111111111rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper h2{margin:0;font-weight:500;color:#333541;font-size:.8888888889rem;line-height:1.1111111111rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper h2 ::ng-deep span{color:#e31837}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper h2 span{color:#e31837}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container{gap:.3333333333rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown{flex-grow:1;width:50%}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col button{width:100%;background-color:#fff;box-shadow:0 1px 2px #1018280d;padding:.5555555556rem .8888888889rem;font-size:.7777777778rem;line-height:1.3333333333rem;text-align:left;border-radius:.2222222222rem;position:relative;color:#000}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col button:after{content:" ";border:none;background-color:#333541;-webkit-mask-image:url(/assets/images/chevron-down.svg);mask-image:url(/assets/images/chevron-down.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;position:absolute;right:.8888888889rem;height:1.1111111111rem;width:1.1111111111rem;margin:0;top:50%;transform:translateY(-50%)}@media (min-width: 1100px){.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col button{padding:.6363636364rem .8181818182rem .6363636364rem .7272727273rem;font-size:.7272727273rem;line-height:1.2727272727rem;border-radius:.1818181818rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col button:after{height:.9090909091rem;width:.9090909091rem;right:.8181818182rem}}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu{width:100%;padding:0;inset:.6666666667rem auto auto 0!important;max-height:13.3333333333rem;overflow:auto;background:#fff}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu button{padding:.6666666667rem .8888888889rem;color:#6b6b6b;cursor:pointer}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu button:after{background:none}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu button:hover,.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu button:active{background-color:#e6e9ec;color:#333541}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu::-webkit-scrollbar{width:.2222222222rem;border-radius:.2222222222rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu::-webkit-scrollbar-thumb{background-color:#878787;border-radius:.2222222222rem}@media (min-width: 1100px){.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu{inset:.5454545455rem auto auto 0!important;max-height:11.8181818182rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu button{padding:.5454545455rem .7272727273rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu::-webkit-scrollbar{width:.1818181818rem;border-radius:.1818181818rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu::-webkit-scrollbar-thumb{border-radius:.1818181818rem}}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu.show{border:.0833333333rem solid #333541}@media (min-width: 1100px){.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown-menu.show{border-width:.0681818182rem}}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown label{font-weight:600;color:#2c2c33;display:none}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row{margin:0;width:100%}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col{padding:0}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown button{padding:.5555555556rem .8888888889rem;font-size:.7777777778rem;line-height:1.3333333333rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown button:after{position:initial;transform:none}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container{gap:.4444444444rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container h2{margin:0;font-weight:500;color:#333541;font-size:.7777777778rem;line-height:.8888888889rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container .checkbox-container{font-size:.6363636364rem;line-height:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container .checkbox-container .form-check{padding:0;margin:0;min-height:auto}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container .checkbox-container .form-check.form-switch{padding:0;margin:0}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container .checkbox-container .form-check .form-check-input{cursor:pointer;background-color:#d6d6d6;background-image:url("data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'-4 -4 8 8\'%3e%3ccircle r=\'3\' fill=\'%23fff\'/%3e%3c/svg%3e");margin:0;width:2.1666666667rem;height:1.3333333333rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container .checkbox-container .form-check .form-check-input:checked{border:none;background-color:#e31837}@media (min-width: 1100px){.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container .checkbox-container .form-check{padding:0;margin:0;min-height:auto}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container .checkbox-container .form-check.form-switch{padding:0;margin:0}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container .checkbox-container .form-check .form-check-input{width:1.7727272727rem;height:1.0909090909rem}}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container .checkbox-container .form-check .form-check-input{width:1.4444444444rem;height:.8888888889rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container{gap:1.3333333333rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container{box-shadow:0 1px 2px #1018280d}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a{color:inherit;text-decoration:inherit;cursor:pointer}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper{border:.0555555556rem solid rgba(135,135,135,.25);color:#333541;background:#fff;border-radius:.3333333333rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .promo-grey{background-color:#333541;border-radius:.2222222222rem;padding:.8888888889rem 1.3333333333rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .promo-grey .booking-date-wrapper{color:#fff;width:100%}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .promo-grey .booking-date-wrapper .desk h2,.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .promo-grey .booking-date-wrapper .desk h3{color:#fff;margin:0;font-weight:700}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .promo-grey .booking-date-wrapper .desk .date-spacer{background-color:#fff;display:block}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .promo-grey .booking-date-wrapper .mob{gap:.2777777778rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .promo-grey .booking-date-wrapper .mob h4{margin:0;font-size:1rem;line-height:1.1111111111rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container{padding:.8888888889rem 1.3333333333rem;gap:1.1111111111rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-name-container{gap:.4444444444rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-name-container h4{margin:0;font-weight:600;color:#000;font-size:1rem;line-height:1.1111111111rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-name-container a{margin:0;color:#6b6b6b;font-weight:500;font-size:.7777777778rem;line-height:.8888888889rem;gap:.4444444444rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-name-container a span{width:80%}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-name-container a:hover{color:#333541;text-decoration:underline}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-name-container a:hover img{filter:brightness(0) saturate(100%) invert(18%) sepia(16%) saturate(606%) hue-rotate(194deg) brightness(97%) contrast(90%)}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-time-container img{object-fit:contain}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-time-container h4{margin:0;font-weight:600;color:#333541}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-time-container .seats-container p{margin:0;font-weight:400;font-family:Open Sans,sans-serif}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container{gap:1.1111111111rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details{gap:.6666666667rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details .text-icon-container{gap:.4444444444rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details .text-icon-container img{object-fit:contain;width:1.1111111111rem;height:1.1111111111rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details .text-icon-container p{margin:0;color:#333541;font-family:Open Sans,sans-serif;font-size:.7777777778rem;line-height:1.3333333333rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-button-container{gap:.8888888889rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-button-container .seats-container{gap:.4444444444rem;flex-grow:1;width:100%}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-button-container .seats-container p{margin:0;font-weight:400;font-family:Open Sans,sans-serif;font-size:.7777777778rem;line-height:1.3333333333rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-button-container button{background-color:#e31837;padding:.6666666667rem .8333333333rem;width:100%;color:#fff;font-weight:600;font-size:.8888888889rem;line-height:1.3333333333rem;border-radius:.2222222222rem;border-radius:2.0909090909rem;text-align:center}@media (min-width: 1100px){.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-button-container button{padding:.5454545455rem 1.0909090909rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:.1818181818rem}}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a:hover .booking-pod-content-wrapper{background-color:#e6e9ec;border:.0833333333rem solid #333541}.booking-listing-container .map-listing-panel-container .map-panel{position:relative}.booking-listing-container .map-listing-panel-container .map-panel img{object-fit:cover}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper{position:fixed;bottom:0;width:100%}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .promo-grey{background-color:#333541;border-radius:.2222222222rem .2222222222rem 0 0;height:.4444444444rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .promo-grey h4{margin:0;color:#fff;font-weight:600}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container{background-color:#fff;padding:.8888888889rem;gap:.8888888889rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container{gap:.8888888889rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container p{margin:0;font-weight:500;font-size:.6666666667rem;line-height:.6666666667rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .best-container p{color:#2e6d0f;background-color:#edfce5;width:-moz-fit-content;width:fit-content;padding:.3333333333rem .6666666667rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .best-container img{width:1.3333333333rem;height:1.3333333333rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container{gap:.8888888889rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container h4{margin:0;color:#000;font-weight:600;font-size:1rem;line-height:1.1111111111rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .seats-container p{font-family:Open Sans,sans-serif;color:#333541}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .mobile-promo-container{gap:.6666666667rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .mobile-promo-container .mobile-promo-grey{background-color:#333541;padding:.5rem .3055555556rem;border:.0833333333rem solid #333541;gap:.2222222222rem;border-radius:.2222222222rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .mobile-promo-container .mobile-promo-grey h5{margin:0;color:#fff;font-weight:600;font-size:.7777777778rem;line-height:.8888888889rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .mobile-promo-container .mobile-promo-grey h6{margin:0;color:#fff;font-weight:500;font-family:Open Sans,sans-serif;font-size:.6666666667rem;line-height:.6666666667rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .mobile-promo-container .test-name-seats-container{flex-grow:1;width:100%}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .mobile-promo-container .test-name-seats-container h5{margin:0;font-weight:600;font-size:.7777777778rem;line-height:.8888888889rem;color:#a61242}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .mobile-promo-container .test-name-seats-container div{gap:.4444444444rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .mobile-promo-container .test-name-seats-container div img{width:1.1111111111rem;height:1.1111111111rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .mobile-promo-container .test-name-seats-container div p{margin:0;font-size:.7777777778rem;line-height:1.1111111111rem;font-family:Open Sans,sans-serif;font-weight:400;color:#333541}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-test-details{gap:.3333333333rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-test-details .text-icon-container{width:calc(50% - .1666666667rem);background-color:#e6e9ec;border-radius:.2222222222rem;padding:.5555555556rem;gap:.2222222222rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-test-details .text-icon-container img{width:1.1111111111rem;height:1.1111111111rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-test-details .text-icon-container p{margin-bottom:0;color:#333541;font-family:Open Sans,sans-serif;font-size:.6666666667rem;line-height:.8888888889rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-test-details .text-icon-container.small{padding:.3333333333rem .6666666667rem;border-radius:.3333333333rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-test-details .text-icon-container.small img{display:none}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-button-container{gap:.8888888889rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-button-container button.primary{background-color:#e31837;padding:.6666666667rem .8333333333rem;width:100%;color:#fff;font-weight:600;font-size:.8888888889rem;line-height:1.3333333333rem;border-radius:.2222222222rem}@media (min-width: 1100px){.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-button-container button.primary{padding:.5454545455rem 1.0909090909rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:.1818181818rem}}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-button-container button.secondary{background-color:transparent;color:#333541;font-weight:600;font-size:.7777777778rem;line-height:.8888888889rem;flex-grow:1;width:100%;padding:0;text-decoration:underline}.booking-listing-container .map-listing-panel-container .map-panel .search-location-wrapper{position:fixed;bottom:0;width:100%;background-color:#fff;border-radius:.8888888889rem .8888888889rem 0 0;padding:1.3333333333rem;gap:.8888888889rem;box-shadow:0 -.2222222222rem .8333333333rem #0000001a}.booking-listing-container .map-listing-panel-container .map-panel .search-location-wrapper p{margin:0;font-size:.8888888889rem;line-height:1.5555555556rem;font-family:Open Sans,sans-serif;color:#333541}.booking-listing-container .map-listing-panel-container .map-panel .search-location-wrapper button{background-color:#e31837;padding:.6666666667rem .8333333333rem;width:100%;color:#fff;font-weight:600;font-size:.8888888889rem;line-height:1.3333333333rem;border-radius:.2222222222rem}@media (min-width: 1100px){.booking-listing-container .map-listing-panel-container .map-panel .search-location-wrapper button{padding:.5454545455rem 1.0909090909rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:.1818181818rem}}.booking-listing-container .map-listing-panel-container.list .listing-panel{flex-grow:1;width:100%}.booking-listing-container .map-listing-panel-container.list .map-panel,.booking-listing-container .map-listing-panel-container.map .listing-panel{display:none}.booking-listing-container .map-listing-panel-container.map .map-panel{display:block}.booking-listing-container .testcenter-overlay{opacity:.7;background-color:#333541;position:fixed;top:0;left:0;width:100%;height:100%;display:none}.booking-listing-container .test-center-wrapper{background:#fff;z-index:1;position:absolute;border-radius:.2222222222rem}.booking-listing-container .test-center-wrapper .test-center-heading h2{margin:0;color:#000;font-weight:600;flex-grow:1;font-size:1.1111111111rem;line-height:1.3333333333rem;gap:.3333333333rem}.booking-listing-container .test-center-wrapper .test-center-heading span{cursor:pointer}.booking-listing-container .test-center-wrapper .test-content-container h3{margin:0;font-weight:600;color:#000}.booking-listing-container .test-center-wrapper .test-content-container ul{padding:0;margin:0}.booking-listing-container .test-center-wrapper .test-content-container ul{padding:0;margin:0;list-style-type:none;gap:1.1111111111rem}.booking-listing-container .test-center-wrapper .test-content-container ul li{width:100%;gap:.8888888889rem}.booking-listing-container .test-center-wrapper .test-content-container ul li input[type=checkbox]{border-radius:.2222222222rem;z-index:0;-webkit-appearance:none;cursor:pointer}.booking-listing-container .test-center-wrapper .test-content-container ul li input[type=checkbox]:before{position:relative;content:"";z-index:1;border:.0555555556rem solid rgba(135,135,135,.25);background-color:#fff;border-radius:.2222222222rem;display:block;width:1.3333333333rem;height:1.3333333333rem}.booking-listing-container .test-center-wrapper .test-content-container ul li input[type=checkbox]:checked:before{background:url(/assets/images/checkbox-checked.svg);background-repeat:no-repeat;background-position:center;background-size:cover;background-color:#e31837;border-color:#e31837}.booking-listing-container .test-center-wrapper .test-content-container ul li label{color:#333541;font-family:Open Sans,sans-serif;font-size:.7777777778rem;line-height:1.1111111111rem}.booking-listing-container .test-center-wrapper .testcenter-footer{padding:1.3333333333rem;gap:1.3333333333rem;background:#fff;width:100%;position:fixed;bottom:0}.booking-listing-container .test-center-wrapper .testcenter-footer a{color:#333541;font-weight:500;text-decoration:underline;font-size:.8888888889rem;line-height:1.3333333333rem;width:100%;flex-grow:1}.booking-listing-container .test-center-wrapper .testcenter-footer button{background-color:#e31837;padding:.6666666667rem .8333333333rem;width:100%;color:#fff;font-weight:600;font-size:.8888888889rem;line-height:1.3333333333rem;border-radius:.2222222222rem;cursor:pointer;max-width:6.5555555556rem;padding:.4444444444rem .8888888889rem}@media (min-width: 1100px){.booking-listing-container .test-center-wrapper .testcenter-footer button{padding:.5454545455rem 1.0909090909rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:.1818181818rem}}.booking-listing-container.osr header .special-requirement{display:none}.booking-listing-container.osr header .filters-and-profile-container a{color:#006dca}@media (min-width: 1100px){.booking-listing-container header{position:inherit;top:inherit;z-index:2}.booking-listing-container header .top-header{padding:.7272727273rem 2.1818181818rem;border-bottom:.0454545455rem solid rgba(135,135,135,.25)}.booking-listing-container header .top-header .logo-and-profile-container{flex-grow:1;border:none;width:auto;padding:0;height:auto}.booking-listing-container header .top-header .logo-and-profile-container .ielts-logo{min-width:7.2727272727rem;min-height:1.2509090909rem;max-height:auto}.booking-listing-container header .top-header .filters-and-profile-container{flex-grow:1;border:none;width:auto;padding:0;background-color:transparent;gap:0}.booking-listing-container header .top-header .filters-and-profile-container a{display:none}.booking-listing-container header .top-header .filters-and-profile-container .filters-container{gap:.7272727273rem;border-start-start-radius:.3636363636rem;border-start-end-radius:.3636363636rem;border-end-end-radius:.3636363636rem;border-end-start-radius:.3636363636rem;border:.0454545455rem solid rgba(135,135,135,.25);box-shadow:0 .0909090909rem .1818181818rem -.0909090909rem #00000040;background-color:#fff;width:auto}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container{background-color:transparent;border:none;box-shadow:none;border-radius:0;padding:0}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container{gap:0}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper{padding:.6818181818rem .7272727273rem;padding-right:0}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper:not(:first-child){padding-left:0}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper:not(:last-child) .filters-content{border-inline-end:.0454545455rem solid rgba(135,135,135,.25)}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper:not(:last-child):first-child .filters-content{padding-inline-start:0}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content{padding:0 .7272727273rem;gap:.3636363636rem}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content img{min-width:.9090909091rem;max-width:.9090909091rem;height:.9090909091rem}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content p{margin:0;font-size:.5454545455rem;line-height:1.0909090909rem}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .edit-wrapper{padding:.7727272727rem .8181818182rem;background-color:#e31837;border-radius:.3636363636rem;cursor:pointer;line-height:0}.booking-listing-container header .top-header .filters-and-profile-container .filters-container .edit-wrapper img{width:.9090909091rem;height:.9090909091rem}.booking-listing-container header .top-header .filters-and-profile-container .Ors-information-banner{display:none}.booking-listing-container header .top-header .filters-and-profile-container .profile-container{gap:.7272727273rem;flex-grow:1;width:auto;min-width:5.5rem}.booking-listing-container header .top-header .filters-and-profile-container .profile-container .Language-switcher{gap:.3636363636rem;cursor:pointer}.booking-listing-container header .top-header .filters-and-profile-container .profile-container .Language-switcher p{margin:0;font-size:.6363636364rem;line-height:.7272727273rem}.booking-listing-container header .top-header .filters-and-profile-container .profile-container .Language-switcher img:first-child{min-width:1.0909090909rem;min-height:1.0909090909rem}.booking-listing-container header .top-header .filters-and-profile-container .profile-container .Language-switcher img:last-child{width:.7272727273rem;height:.7272727273rem;object-fit:cover}.booking-listing-container header .top-header .filters-and-profile-container .profile-container .profile-content-container img{min-width:1.4545454545rem;min-height:1.4545454545rem}.booking-listing-container header .top-header .languageSwitcherAndProfile{gap:.7272727273rem;position:initial;top:inherit;left:inherit}.booking-listing-container header .top-header .languageSwitcherAndProfile .userIcon{width:1.4545454545rem;height:1.4545454545rem}.booking-listing-container header .top-header .languageSwitcherAndProfile .userIcon .user{font-size:.7272727273rem;line-height:.9090909091rem}.booking-listing-container header .secondary-header{padding:.7272727273rem 2.1818181818rem;border-bottom:.0454545455rem solid rgba(135,135,135,.25);flex-direction:row;background-color:transparent;order:2}.booking-listing-container header .secondary-header h2{margin:0;font-weight:600;font-size:.9090909091rem;line-height:1.0909090909rem;color:#000}.booking-listing-container header .secondary-header .popup-control-container{gap:1.0909090909rem;width:auto}.booking-listing-container header .secondary-header .popup-control-container .test-centers-control{gap:.3636363636rem;padding:.4545454545rem .7272727273rem;border-radius:.1818181818rem;border:.0454545455rem solid rgba(135,135,135,.25);cursor:pointer;height:2.1818181818rem}.booking-listing-container header .secondary-header .popup-control-container .test-centers-control img{width:.5454545455rem;height:.5454545455rem}.booking-listing-container header .secondary-header .popup-control-container .test-centers-control p{margin:0;color:#000;font-size:.7777777778rem;line-height:1.3333333333rem}}@media (min-width: 1100px) and (min-width: 1100px){.booking-listing-container header .secondary-header .popup-control-container .test-centers-control p{font-size:.7272727273rem;line-height:1.2727272727rem}}@media (min-width: 1100px){.booking-listing-container header .secondary-header .popup-control-container .filters-control{gap:.3636363636rem;padding:.4545454545rem .7272727273rem;border-radius:.1818181818rem;border:.0454545455rem solid rgba(135,135,135,.25);cursor:pointer;width:auto;flex-grow:unset;height:2.1818181818rem}.booking-listing-container header .secondary-header .popup-control-container .filters-control .filter-badge{width:.8181818182rem;height:.8181818182rem;font-size:.6363636364rem;line-height:.6363636364rem}.booking-listing-container header .secondary-header .popup-control-container .list-map-view-controller{width:auto;flex-grow:unset;padding:0;border:none}.booking-listing-container header .secondary-header .popup-control-container .list-map-view-controller img{width:1.0909090909rem;height:1.0909090909rem}.booking-listing-container header .secondary-header .popup-control-container .list-map-view-controller .list-map-view{gap:.3636363636rem;cursor:pointer;padding:.4090909091rem .6818181818rem;border-radius:.1818181818rem;border:.0454545455rem solid rgba(135,135,135,.25)}.booking-listing-container header .sr-pod{order:3;padding:0;background-color:transparent}.booking-listing-container header.list .special-requirement{padding:0;background-color:#fff;order:3}.booking-listing-container header.map .top-header .logo-and-profile-container{border:none;display:flex}.booking-listing-container header.map .top-header .language-dropdown{display:flex}.booking-listing-container header.map .top-header .filters-and-profile-container{padding:0;gap:0;border:none}.booking-listing-container header.map .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper{padding:.6818181818rem .7272727273rem;padding-right:0}.booking-listing-container header.map .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper:not(:first-child){padding-left:0}.booking-listing-container header.map .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content img{display:block}.booking-listing-container header.map .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content p{color:#000}.booking-listing-container header.map .top-header .filters-and-profile-container .filters-container .filters-content-container .filters-img-text-container .filters-content-wrapper .filters-content:not(:last-child) p:after{content:none}.booking-listing-container header.map .top-header .languageSwitcherAndProfile{display:flex}.booking-listing-container header.map .secondary-header{padding:.7272727273rem 2.1818181818rem}.booking-listing-container .map-listing-panel-container{min-height:calc(100dvh - 6.6818181818rem)}.booking-listing-container .map-listing-panel-container .listing-panel{padding:1.8181818182rem 2.1818181818rem;gap:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .back{gap:.3636363636rem}.booking-listing-container .map-listing-panel-container .listing-panel .back span{font-size:.7272727273rem;line-height:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .Ors-information-banner{background-color:#e5e5ff;gap:.7272727273rem;padding:.7272727273rem;border:.0454545455rem solid #000070;border-radius:.3636363636rem}.booking-listing-container .map-listing-panel-container .listing-panel .Ors-information-banner .info-content{flex:2;gap:.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .Ors-information-banner .info-content h2{font-size:.7272727273rem;line-height:.9090909091rem;font-weight:700;color:#000070}.booking-listing-container .map-listing-panel-container .listing-panel .Ors-information-banner .info-content p{font-family:Open Sans,sans-serif;color:#000070;font-size:.6363636364rem;line-height:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .Ors-information-banner .info-icon{width:1.0909090909rem;height:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .Ors-information-banner .info-icon img{width:100%;height:100%}.booking-listing-container .map-listing-panel-container .listing-panel .Ors-information-banner .close-icon{width:.7272727273rem;height:.7272727273rem}.booking-listing-container .map-listing-panel-container .listing-panel .Ors-information-banner .close-icon img{width:100%;height:100%}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container{gap:.3636363636rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper{gap:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper h2{font-size:.8181818182rem;line-height:.9090909091rem;width:70%}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container{gap:1.0909090909rem;width:30%}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown{gap:1.0909090909rem;width:initial}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown label{font-size:.7272727273rem;line-height:.9090909091rem;display:inline-block}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row{margin:initial;width:auto}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col{padding:initial}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown{border:.0681818182rem solid #fff}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown button{padding:.4545454545rem .7272727273rem;gap:.3636363636rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown button:after{width:.5454545455rem;height:.5454545455rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown.show{border:.0681818182rem solid #333541}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown .dropdown-menu{inset:.5454545455rem auto auto -30!important;min-width:7.3636363636rem;z-index:1}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown .row .col .dropdown .dropdown-menu .dropdown-item{min-width:auto}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown:nth-child(1) .row .col .dropdown button{min-width:7.2727272727rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown:nth-child(2) .row .col .dropdown button{min-width:3.2272727273rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .drop-down-wrapper .dropdown-container>.dropdown:nth-child(2) .row .col .dropdown-menu{min-width:4.5454545455rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container{gap:.3636363636rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container .checkbox-container .form-check .form-check-input{width:1.7727272727rem;height:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pod-control-container .skill-retake-container h2{font-size:.8181818182rem;line-height:.9090909091rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container{gap:.7272727273rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper{border-radius:.2727272727rem;border-width:.0454545455rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .promo-grey{border-radius:.1818181818rem;padding:.7272727273rem .3636363636rem;min-width:3.6363636364rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .promo-grey .booking-date-wrapper .desk h2{font-size:1.2727272727rem;line-height:1.4545454545rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .promo-grey .booking-date-wrapper .desk h3{font-size:1.0909090909rem;line-height:1.2727272727rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .promo-grey .booking-date-wrapper .desk .date-spacer{width:.9090909091rem;height:.0454545455rem;margin:.2272727273rem 0rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container{gap:.7272727273rem;padding:.7272727273rem 1.0909090909rem;width:100%}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-name-container{gap:.2727272727rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-name-container h4{font-size:.9090909091rem;line-height:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-name-container a{font-size:.7272727273rem;line-height:.9090909091rem;gap:.3636363636rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-name-container a span{width:100%}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-time-container h4{font-size:.9090909091rem;line-height:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-time-container .seats-container{gap:.3636363636rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-time-container .seats-container img{width:.9090909091rem;height:.9090909091rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .test-name-and-time-container .test-time-container .seats-container p{font-size:.6363636364rem;line-height:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container{gap:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details{gap:2.5454545455rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details .text-icon-container{gap:.3636363636rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details .text-icon-container img{width:.9090909091rem;height:.9090909091rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details .text-icon-container p{font-size:.6363636364rem;line-height:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-button-container button{padding:.3636363636rem .6818181818rem;min-width:6.3636363636rem;border-radius:2.0909090909rem;text-align:center}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .select-button{min-width:7.8181818182rem!important}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a:hover .booking-pod-content-wrapper{border-width:.0454545455rem}.booking-listing-container .map-listing-panel-container .map-panel{width:48%;flex-grow:1}.booking-listing-container .map-listing-panel-container .map-panel ::ng-deep canvas.mapboxgl-canvas{width:100%!important;height:100%!important}.booking-listing-container .map-listing-panel-container .map-panel img{width:100%;height:100%}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper{position:absolute;bottom:4.1363636364rem;left:0;right:0;margin:0 auto;max-width:19.5454545455rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .promo-grey{gap:.3636363636rem;padding:.7272727273rem 1.0909090909rem;border-radius:.1818181818rem;height:auto}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .promo-grey img{width:1.0909090909rem;height:1.0909090909rem;object-fit:cover;cursor:pointer}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .promo-grey h4{font-size:.8181818182rem;line-height:.9090909091rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container{padding:.7272727273rem 1.0909090909rem;gap:.7272727273rem;border-radius:0 0 .2727272727rem .2727272727rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container{gap:.3636363636rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container p{font-size:.5454545455rem;line-height:.5454545455rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .best-container p{padding:.2727272727rem .5454545455rem;border-radius:.1818181818rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container{gap:.1818181818rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container h4{font-size:.9090909091rem;line-height:1.0909090909rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .seats-container{gap:.3636363636rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .seats-container img{width:.9090909091rem;height:.9090909091rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .test-name-container .testname-seats-container .seats-container p{font-size:.6363636364rem;line-height:1.0909090909rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-test-details{gap:.5454545455rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-test-details .text-icon-container{gap:.3636363636rem;width:100%;background:transparent;padding:0}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-test-details .text-icon-container img{width:.9090909091rem;height:.9090909091rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-test-details .text-icon-container p{font-size:.6363636364rem;line-height:1.0909090909rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-test-details .text-icon-container.small{padding:0}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-test-details .text-icon-container.small img{display:block;border-radius:none}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-button-container{gap:.7272727273rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-button-container button.primary{padding:.5454545455rem .6818181818rem}.booking-listing-container .map-listing-panel-container .map-panel .map-booking-pod-wrapper .map-booking-container .booking-button-container button.secondary{padding:.5454545455rem .6818181818rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:.1818181818rem;border:.0454545455rem solid #333541;text-decoration:none}.booking-listing-container .map-listing-panel-container.map .listing-panel{height:70vh;overflow-y:scroll}.booking-listing-container .map-listing-panel-container.map .listing-panel::-webkit-scrollbar{width:.2222222222rem;border-radius:.2222222222rem}.booking-listing-container .map-listing-panel-container.map .listing-panel::-webkit-scrollbar-thumb{background-color:#878787;border-radius:.2222222222rem}.booking-listing-container .map-listing-panel-container.map .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details{flex-wrap:wrap;gap:1.0909090909rem}.booking-listing-container .map-listing-panel-container.map .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details .text-icon-container{width:calc(50% - .5454545455rem)}.booking-listing-container .map-listing-panel-container.no-header{min-height:calc(100dvh - 5.9090909091rem)}.booking-listing-container .testcenter-overlay{display:block}.booking-listing-container .test-center-wrapper{margin:0 auto;max-width:43.6363636364rem;max-height:38.5454545455rem;position:absolute;top:50%;left:0;right:0;transform:translateY(-50%);gap:.9090909091rem;border-radius:.1818181818rem}.booking-listing-container .test-center-wrapper .test-center-heading{padding:.9090909091rem 2.1818181818rem 0rem;gap:.7272727273rem}.booking-listing-container .test-center-wrapper .test-center-heading h2{font-size:1.0909090909rem;line-height:1.2727272727rem}.booking-listing-container .test-center-wrapper .test-center-heading h2 span{width:1.4545454545rem;height:1.4545454545rem}.booking-listing-container .test-center-wrapper .test-center-heading h2 span img{width:100%;height:100%}.booking-listing-container .test-center-wrapper .test-content-container{padding:0rem 2.1818181818rem;gap:1.4545454545rem}.booking-listing-container .test-center-wrapper .test-content-container h3{font-size:.9090909091rem;line-height:1.0909090909rem}.booking-listing-container .test-center-wrapper .test-content-container ul{gap:1.0909090909rem 2.1818181818rem}.booking-listing-container .test-center-wrapper .test-content-container ul li{width:47%;gap:.7272727273rem}.booking-listing-container .test-center-wrapper .test-content-container ul li input[type=checkbox]{width:1.0909090909rem;height:1.0909090909rem;border-radius:.1818181818rem}.booking-listing-container .test-center-wrapper .test-content-container ul li input[type=checkbox]:before{width:1.0909090909rem;height:1.0909090909rem;border-radius:.1818181818rem;border-width:.0454545455rem}.booking-listing-container .test-center-wrapper .test-content-container ul li label{font-size:.7272727273rem;line-height:.8181818182rem}.booking-listing-container .test-center-wrapper .testcenter-footer{gap:.7272727273rem;padding:0rem 2.1818181818rem .9090909091rem;position:relative}.booking-listing-container .test-center-wrapper .testcenter-footer a{flex-grow:1;font-size:.6363636364rem;line-height:.7272727273rem;width:100%}.booking-listing-container .test-center-wrapper .testcenter-footer button{padding:.5454545455rem .6818181818rem;max-width:8.1818181818rem}}@media (min-width: 768px) and (max-width: 1199.98px){.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details{flex-wrap:wrap;row-gap:1.0909090909rem;column-gap:1.0909090909rem}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details .text-icon-container{width:calc(50% - .5454545455rem)}.booking-listing-container .map-listing-panel-container .listing-panel .booking-pods-container .booking-pod-container a .booking-pod-content-wrapper .booking-content-container .booking-button-container button{min-width:13.3636363636rem;max-width:13.3636363636rem}.booking-listing-container .map-listing-panel-container.map .listing-panel .booking-pods-container a .booking-pod-content-wrapper .booking-content-container .booking-container .booking-test-details{flex-wrap:wrap}}@media (min-width: 1200px) and (max-width: 1600px){.booking-test-details{flex-wrap:wrap;row-gap:.7272727273rem!important}}\n'],encapsulation:2})}return Ze})()},948:(Dt,Le,D)=>{"use strict";D.d(Le,{K:()=>rt});var a=D(5879),s=D(6814),oe=D(272),c=D(8645),T=D(9397),V=D(9773),ie=D(1374),Te=D(7398),le=D(6306),me=D(6866),ae=D(8502),be=D(859),re=D(4379),J=D(1756),fe=D(9582),ke=D(2197);const Ce=["map"],we=function(wt,It){return[wt,It]};function he(wt,It){if(1&wt){const Ie=a.EpF();a.TgZ(0,"mgl-marker",7)(1,"img",8),a.NdJ("click",function(){const ut=a.CHM(Ie).$implicit,Nt=a.oxw();return a.KtG(Nt.onLocationClick(ut))}),a.qZA()()}if(2&wt){const Ie=It.$implicit,L=a.oxw();a.Q6J("lngLat",a.WLB(2,we,null==Ie?null:Ie.longitude,null==Ie?null:Ie.latitude)),a.xp6(1),a.Q6J("src","assets/images/"+(Ie===L.selectedLocation?"map-location-gray":"map-location")+".svg",a.LSH)}}function A(wt,It){if(1&wt){const Ie=a.EpF();a.TgZ(0,"button",9)(1,"div",10)(2,"div",11)(3,"div",12),a.NdJ("click",function(){a.CHM(Ie);const Oe=a.oxw();return a.KtG(Oe.redirectToGoogleMaps())}),a._UZ(4,"img",13),a.TgZ(5,"p",14),a._uU(6),a.qZA()()(),a.TgZ(7,"div",15),a._UZ(8,"img",16),a.qZA()()()}if(2&wt){const Ie=a.oxw();a.xp6(6),a.Oqu(null==Ie.selectedLocation?null:Ie.selectedLocation.name)}}function pe(wt,It){if(1&wt){const Ie=a.EpF();a.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",35)(4,"button",36),a._uU(5),a.qZA(),a.TgZ(6,"div",37)(7,"div",38)(8,"button",39),a.NdJ("click",function(){a.CHM(Ie);const Oe=a.oxw(2);return a.KtG(Oe.selectSortType("Earliest date"))}),a._uU(9),a.qZA(),a.TgZ(10,"button",39),a.NdJ("click",function(){a.CHM(Ie);const Oe=a.oxw(2);return a.KtG(Oe.selectSortType("Latest date"))}),a._uU(11),a.qZA()()()()()()()}if(2&wt){const Ie=a.oxw(2);a.xp6(5),a.hij(" ","Earliest date"===Ie.sortBy?null==Ie.labelText?null:Ie.labelText.earliestDate:null==Ie.labelText?null:Ie.labelText.latestDate," "),a.xp6(4),a.Oqu(null==Ie.labelText?null:Ie.labelText.earliestDate),a.xp6(2),a.Oqu(null==Ie.labelText?null:Ie.labelText.latestDate)}}function ge(wt,It){if(1&wt&&(a.TgZ(0,"p",50)(1,"span"),a._UZ(2,"img",56),a.qZA(),a._uU(3),a.qZA()),2&wt){const Ie=a.oxw().$implicit,L=a.oxw(2);a.xp6(3),a.hij(" ",L.formatDate(Ie.testStartLocalDatetime,"h:MM")+" "+L.formatDate(Ie.testStartLocalDatetime,"TT")," ")}}function pt(wt,It){1&wt&&(a.TgZ(0,"p",50)(1,"span"),a._UZ(2,"img",57),a.qZA(),a._uU(3," One Skill Retake available "),a.qZA())}function Pe(wt,It){if(1&wt){const Ie=a.EpF();a.TgZ(0,"div",40)(1,"div",41)(2,"p",42)(3,"span"),a._UZ(4,"img",43),a.qZA(),a._uU(5),a.qZA()(),a.TgZ(6,"div",44)(7,"div",45)(8,"h6"),a._uU(9),a.qZA(),a.TgZ(10,"div",46)(11,"p"),a._uU(12),a.qZA(),a.TgZ(13,"p"),a._uU(14),a.qZA()()(),a.TgZ(15,"div",47)(16,"h6"),a._uU(17),a.qZA(),a.TgZ(18,"div",48),a.YNc(19,ge,4,1,"p",49),a.TgZ(20,"p",50)(21,"span"),a._UZ(22,"img",43),a.qZA(),a._uU(23),a.qZA(),a.YNc(24,pt,4,0,"p",49),a.TgZ(25,"p",50)(26,"span"),a._UZ(27,"img",51),a.qZA(),a._uU(28),a.qZA()()()(),a._UZ(29,"div",52),a.TgZ(30,"div",53)(31,"p",50)(32,"span"),a._UZ(33,"img",54),a.qZA(),a._uU(34),a.qZA(),a.TgZ(35,"button",55),a.NdJ("click",function(){const ut=a.CHM(Ie).$implicit,Nt=a.oxw(2);return a.KtG(Nt.reserveNow(ut))}),a._uU(36,"Select and continue"),a.qZA()()()}if(2&wt){const Ie=It.$implicit,L=a.oxw(2);a.xp6(1),a.Q6J("ngClass",(null==Ie||null==Ie.seatAvailability?null:Ie.seatAvailability.remaining)/(null==Ie||null==Ie.seatAvailability?null:Ie.seatAvailability.maxAvailable)<=.25?"limited":"avilable"),a.xp6(3),a.Q6J("src",(null==Ie||null==Ie.seatAvailability?null:Ie.seatAvailability.remaining)/(null==Ie||null==Ie.seatAvailability?null:Ie.seatAvailability.maxAvailable)<=.25?"assets/images/alarm.svg":"assets/images/checkmark-circle.svg",a.LSH)("alt",(null==Ie||null==Ie.seatAvailability?null:Ie.seatAvailability.remaining)/(null==Ie||null==Ie.seatAvailability?null:Ie.seatAvailability.maxAvailable)<=.25?"alarm":"checkmark-circle"),a.xp6(1),a.hij(" ",(null==Ie||null==Ie.seatAvailability?null:Ie.seatAvailability.remaining)/(null==Ie||null==Ie.seatAvailability?null:Ie.seatAvailability.maxAvailable)<=.25?"Limited seats":"Seats available",""),a.xp6(4),a.Oqu(L.formatDate(null==Ie?null:Ie.testStartLocalDatetime,"ddd")),a.xp6(3),a.Oqu(L.formatDate(Ie.testStartLocalDatetime,"d")),a.xp6(2),a.Oqu(L.formatDate(Ie.testStartLocalDatetime,"mmm")),a.xp6(3),a.Oqu(L.getTestTypeValue(null==Ie?null:Ie.testCategory,null==Ie?null:Ie.testModule)),a.xp6(2),a.Q6J("ngIf",!(L.is12am(Ie.testStartLocalDatetime)&&"PB"===Ie.testFormat)),a.xp6(3),a.Q6J("src","PB"===Ie.testFormat?"assets/images/onPaper.svg":"assets/images/onComputer.svg",a.LSH)("alt","PB"===Ie.testFormat?"OnPaper":"OnComputer"),a.xp6(1),a.hij(" ","CD"===Ie.testFormat?"IELTS on computer":"IOL"===Ie.testFormat?"IELTS Online":"IELTS on paper"," "),a.xp6(1),a.Q6J("ngIf","CD"===Ie.testFormat),a.xp6(4),a.hij(" ","LIFE_SKILLS"===Ie.testCategory?"Results expected in 7 days":"CD"===Ie.testFormat?"Results expected in 1-5 days":"Results expected in 13 days"," "),a.xp6(6),a.hij(" ",(null==Ie.testFee?null:Ie.testFee.currencyCodeIso3)+" "+Ie.testFee.totalAmount,"")}}function Be(wt,It){if(1&wt){const Ie=a.EpF();a.TgZ(0,"div",17)(1,"div",18)(2,"div",19),a.NdJ("click",function(){a.CHM(Ie);const Oe=a.oxw();return a.KtG(Oe.redirectToGoogleMaps())}),a._UZ(3,"img",20),a.TgZ(4,"h5"),a._uU(5),a.qZA(),a._UZ(6,"img",21),a.qZA(),a.TgZ(7,"div",22),a._UZ(8,"h6",23),a.qZA(),a.TgZ(9,"div",24)(10,"div",25),a.YNc(11,pe,12,3,"div",26),a.TgZ(12,"div",27),a.YNc(13,Pe,37,15,"div",28),a.qZA()()()(),a.TgZ(14,"div",29),a.NdJ("click",function(){a.CHM(Ie);const Oe=a.oxw();return a.KtG(Oe.closePopup())}),a.TgZ(15,"button",30),a._UZ(16,"img",31),a.qZA()()()}if(2&wt){const Ie=a.oxw();a.xp6(5),a.Oqu(null==Ie.selectedLocation?null:Ie.selectedLocation.name),a.xp6(3),a.Q6J("innerHTML",Ie.displayTestSessions,a.oJD),a.xp6(3),a.Q6J("ngIf",(null==Ie.sessionData?null:Ie.sessionData.length)>1),a.xp6(2),a.Q6J("ngForOf",Ie.sessionData)}}let rt=(()=>{class wt{constructor(Ie,L,Oe,ut,Nt){this.sessionSearch=Ie,this.commonService=L,this.newSessionService=Oe,this.renderer=ut,this.document=Nt,this.zoomLevel=[14],this.sortBy=re.zj.EARLIEST_DATE,this.centerLocation=[144.9742798,-37.7101163],this.ngUnsubscribe=new c.x,this.isListViewDefault=!0,this.editFilters=!1,this.onUpdateMapArea=new a.vpe,this.onReserve=new a.vpe}ngOnInit(){this.renderer.addClass(this.document.body,"noScroll"),this.setCenterLocation(),this.accessMethodfromOtherComp()}ngOnChanges(Ie){Ie.testLocations&&Ie.testLocations?.currentValue&&(this.setCenterLocation(),this.map&&this.testLocations?.length&&this.flyTo(this.testLocations[0]?.longitude,this.testLocations[0]?.latitude))}ngOnDestroy(){this.newSessionService.mapViewCompMethods$.next(""),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.renderer.removeClass(this.document.body,"noScroll")}flyTo(Ie,L){const ut=window.innerWidth<1099?[0,-window.innerHeight/6]:[0,0];this.map.mapInstance.flyTo({center:[Ie,L],essential:!0,offset:ut})}setCenterLocation(){this.testLocations?.length&&(this.centerLocation=[this.testLocations[0]?.longitude,this.testLocations[0]?.latitude])}accessMethodfromOtherComp(){this.newSessionService.mapViewCompMethods$.pipe((0,T.b)(Ie=>{this.selectedLocation&&"closeSelectedTLpopup"===Ie&&this.closePopup()}),(0,V.R)(this.ngUnsubscribe)).subscribe()}onLocationClick(Ie){this.selectedLocation=Ie,this.updateSortBy(),this.flyTo(Ie.longitude,Ie.latitude),this.getSessionDetails().subscribe(),this.disableDragging(),this.disableZoom()}updateSortBy(){this.innerWidth<=768?this.getSortFilterdetails():this.sortBy=re.zj.EARLIEST_DATE}getSortFilterdetails(){this.newSessionService.sortFilterDetails.pipe((0,ie.P)()).subscribe(Ie=>{this.commonService.isObjNotEmpty(Ie)&&(this.sortBy=Ie?.sortBy||re.zj.EARLIEST_DATE)})}formatDate(Ie,L){return Ie&&L?(0,me.ZP)(new Date(Ie),L):""}formatDistance(Ie){return(0,ae.Bb)(Ie)}is12am(Ie){return(0,ae.yw)(Ie)}getSessionDetails(){const Ie=this.formPayload();return this.sessionSearch.sessionSearch(Ie).pipe((0,ie.P)(),(0,Te.U)(L=>{this.sessionData=L?.items?.length?[...L.items.map(Oe=>({...Oe,testStartLocalDatetime:Oe.testStartLocalDatetime&&Oe.testStartLocalDatetime.length>6?Oe.testStartLocalDatetime.substring(0,Oe.testStartLocalDatetime.length-6):""}))]:[],this.labelText?.displayLabel&&(this.displayTestSessions=this.labelText?.displayLabel?.replace("{{totalCount}}",L?.totalCount))}),(0,le.K)(()=>""))}formPayload(){const Ie=!!this.commonService.isObjNotEmpty(this.ttDetails?.searchFilterDetails),L=Ie?this.newSessionService.formatTestTypes(this.ttDetails?.searchFilterDetails?.testType?.selectedTestType):this.commonService.getTestType(this.ttDetails?.testType);return{dayOfPaperTest:0,languageSkills:[be.Nd.L,be.Nd.R,be.Nd.W],order:this.sortBy===re.zj.LATEST_DATE?be.KM.D:be.KM.A,sortBy:be.lo.TestStartDate,timesOfDay:[be.Do.Morning,be.Do.Afternoon],fromTestStartDateLocal:this.ttDetails?.searchFilterDetails?.testDate?.fromDate||(Ie?"":this.ttDetails?.testDate?.fromDate)||"",toTestStartDateLocal:this.ttDetails?.searchFilterDetails?.testDate?.toDate||(Ie?"":this.ttDetails?.testDate?.toDate)||"",countryCode:this.ttDetails?.searchFilterDetails?.testLocation?.selectedCClist?.countryCode||(Ie?"":this.ttDetails?.testLocation?.countryCode)||"",city:this.ttDetails?.searchFilterDetails?.testLocation?.selectedCity||(Ie?"":this.ttDetails?.testLocation?.cityName)||"",testDeliveryFormats:Ie?this.newSessionService.formatTestFormats(this.ttDetails?.searchFilterDetails?.testFormat?.selectedFormatType):this.commonService.getTestFormat(),testCategories:this.newSessionService.getTestCategories(Ie,L),testModules:this.newSessionService.getTestModules(Ie,L),testLocationIds:[this.selectedLocation.id]}}closePopup(){this.selectedLocation=void 0,this.updateSortBy(),this.enableDragging(),this.enableZoom()}getTestTypeValue(Ie,L){return(0,re.R)([Ie,L].join(","))}selectSortType(Ie){Ie!==this.sortBy&&(this.sortBy=Ie),this.getSessionDetails().subscribe()}redirectToGoogleMaps(){window.open(`https://www.google.com/maps?q=${this.selectedLocation.latitude},${this.selectedLocation.longitude}`,"_blank")}reserveNow(Ie){this.onReserve.emit(Ie)}enableDragging(){this.map.mapInstance.dragPan.enable()}disableDragging(){this.map.mapInstance.dragPan.disable()}enableZoom(){this.map.mapInstance.scrollZoom.enable(),this.map.mapInstance.doubleClickZoom.enable(),this.map.mapInstance.boxZoom.enable(),this.map.mapInstance.touchZoomRotate.enable()}disableZoom(){this.map.mapInstance.scrollZoom.disable(),this.map.mapInstance.doubleClickZoom.disable(),this.map.mapInstance.boxZoom.disable(),this.map.mapInstance.touchZoomRotate.disable()}static#e=this.\u0275fac=function(L){return new(L||wt)(a.Y36(be.uw),a.Y36(fe.v),a.Y36(ke.z),a.Y36(a.Qsj),a.Y36(s.K0))};static#t=this.\u0275cmp=a.Xpm({type:wt,selectors:[["app-new-map-view"]],viewQuery:function(L,Oe){if(1&L&&a.Gf(Ce,5,oe.Gd),2&L){let ut;a.iGM(ut=a.CRH())&&(Oe.map=ut.first)}},inputs:{testLocations:"testLocations",isListViewDefault:"isListViewDefault",aggregatedSessions:"aggregatedSessions",ttDetails:"ttDetails",labelText:"labelText",editFilters:"editFilters",innerWidth:"innerWidth"},outputs:{onUpdateMapArea:"onUpdateMapArea",onReserve:"onReserve"},standalone:!0,features:[a.TTD,a.jDz],decls:7,vars:10,consts:[[1,"mapview",3,"ngClass"],[1,"mapview__background",3,"ngClass"],[1,"w-100","h-100",3,"zoom","center","boxZoom"],["map",""],[3,"lngLat",4,"ngFor","ngForOf"],["class","mapview__location d-flex flex-column justify-content-center",4,"ngIf"],["class","sessions d-flex flex-column flex-lg-row","id","test-location-popup",4,"ngIf"],[3,"lngLat"],["alt","testLocation",1,"marker",3,"src","click"],[1,"mapview__location","d-flex","flex-column","justify-content-center"],[1,"location","d-lg-none","d-flex","align-items-center"],[1,"location__institute","d-flex","flex-column"],[1,"d-flex",3,"click"],["src","assets/images/business.svg","alt","institute"],[1,"text-start"],[1,"location__arrow"],["src","assets/images/chevron-forward.svg","alt","right-arrow"],["id","test-location-popup",1,"sessions","d-flex","flex-column","flex-lg-row"],[1,"sessions__details"],[1,"institute","d-none","d-lg-flex","align-items-center",3,"click"],["src","assets/images/institute-white.svg","alt","institute",1,"institute-img"],["src","assets/images/chevron-right-white.svg","alt","chevron",1,"chevron-right"],[1,"header"],[3,"innerHTML"],[1,"testdetails"],[1,"testdetails__wrapper","d-flex","flex-column"],["class","testdetails__dropdown d-none d-lg-flex",4,"ngIf"],[1,"testdetails__list","d-flex","flex-lg-column"],["class","testdetails__content d-flex flex-column",4,"ngFor","ngForOf"],[1,"sessions__close","d-flex","justify-content-end",3,"click"],[1,"close"],["src","assets/images/close-gray.svg","alt","close"],[1,"testdetails__dropdown","d-none","d-lg-flex"],[1,"row"],[1,"col"],["ngbDropdown","",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownMenu",""],["aria-labelledby","dropdownBasic1",1,"drop-scroll"],["ngbDropdownItem","",3,"click"],[1,"testdetails__content","d-flex","flex-column"],["id","session?.seatAvailability?.remaining/session?.seatAvailability?.maxAvailable<=0.25 ? 'lrw-test-availability-limited' : 'lrw-test-availability-high'",1,"label","d-flex","align-items-center","justify-content-center",3,"ngClass"],[1,"d-flex"],[3,"src","alt"],[1,"test","d-flex"],[1,"test__left","d-flex","flex-column","align-items-center","justify-content-center"],[1,"day-month","d-flex","flex-column","align-items-center","justify-content-center"],[1,"test__right","d-flex","flex-column"],[1,"detailslist","d-flex","flex-column"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","align-items-center"],["src","assets/images/Results-gray.svg","alt","result"],[1,"spacer"],[1,"testdetails__cta","d-flex"],["src","assets/images/dollar-gray.svg","alt","doller"],[3,"click"],["src","assets/images/clock-gray.svg","alt","clock"],["src","assets/images/cube-gray.svg","alt","cube"]],template:function(L,Oe){1&L&&(a.TgZ(0,"section",0)(1,"div",1)(2,"mgl-map",2,3),a.YNc(4,he,2,5,"mgl-marker",4),a.qZA(),a.YNc(5,A,9,1,"button",5),a.qZA(),a.YNc(6,Be,17,4,"div",6),a.qZA()),2&L&&(a.Q6J("ngClass",Oe.editFilters&&Oe.innerWidth>768?"top-filter":""),a.xp6(1),a.Q6J("ngClass",Oe.selectedLocation?"reduce":""),a.xp6(1),a.Akn("mapbox://styles/mapbox/streets-v9"),a.Q6J("zoom",Oe.zoomLevel)("center",Oe.centerLocation)("boxZoom",!0),a.xp6(2),a.Q6J("ngForOf",Oe.testLocations),a.xp6(1),a.Q6J("ngIf",Oe.selectedLocation),a.xp6(1),a.Q6J("ngIf",Oe.selectedLocation))},dependencies:[s.ez,s.mk,s.sg,s.O5,oe.Wm,oe.Gd,oe.CI,J.IJ,J.jt,J.iD,J.Vi,J.TH],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker,a.link-grey,a.link-dark{text-decoration:none;font-weight:500}@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-dark,a.link-grey,a.link-darker{text-decoration:none;font-weight:500}html{font-size:18px;line-height:1.1111111111rem}h1{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText,.input{font-size:.8888888889rem;line-height:.9444444444rem}.input ::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback{font-size:.5555555556rem;line-height:.6666666667rem}legend{font-size:18px;font-weight:400}.Instructional-text{font-size:10px;font-weight:400;line-height:12px}.text-darker,a.link-darker{color:#212529}.text-dark,a.link-dark{color:#495057}.text-blue{color:#00aaad}.text-grey,a.link-grey{color:#f4dcdf}.text-gray{color:#656565}.text-purple{color:#bd60a5}.text-dark-red{color:#b5142c}a.btn-link{font-size:.6363636364rem}legend{font-size:22px;font-weight:400}.sub-copy{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text{font-size:12px;font-weight:400;line-height:14px}body{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p{margin-bottom:1rem}h1,h2,h3,h4,h5,h6{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b{font-weight:700}h1{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2{font-size:1.59rem;font-weight:600}h3{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4{font-size:1.563rem}h5{font-size:1.1rem}h6{font-size:1rem;font-weight:600}.a-link{font-weight:600;font-size:18px}.text-bold,.weight-semi{font-weight:600}.weight-bold{font-weight:700}small,.text_small,.text-small{font-size:.8rem}.text-medium{font-weight:500}.leadText{font-size:1rem;line-height:1.1818181818rem}.clickwrap{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}*,*:after,*:before{margin:0;padding:0;box-sizing:inherit;font-size:unset;line-height:unset;font-weight:unset}body{box-sizing:border-box}button{background:none;border:0;cursor:pointer;box-sizing:border-box;text-align:center;font-family:unset}img{display:block}ul{list-style:none}a{color:inherit;text-decoration:inherit;cursor:pointer}a:focus-visible,button:focus-visible{outline:thin dotted}h1,h2,h3,h4,h5,h6,p,ul,li{margin:0;padding:0}.booking-listing-container.osr .mapview{height:calc(100dvh - 9.8333333333rem)}.mapview{position:relative;width:100%;height:calc(100dvh - 12.0555555556rem)}.mapview .mapboxgl-control-container{display:none}.mapview__background{width:100%;height:100%;position:relative}.mapview__background img{width:100%;height:100%;object-fit:cover;z-index:0}.mapview__background .marker{width:2.6666666667rem;height:2.6666666667rem}.mapview__background.reduce{height:calc(100% - 16.6666666667rem)}.mapview__location{position:absolute;right:0;margin:0 auto;top:42.3%;left:2.1666666667rem;z-index:1;background:transparent;gap:.6666666667rem}.mapview__location .building{width:2.6666666667rem;height:2.6666666667rem}.mapview__location .location{background:#fff;padding:.6666666667rem;gap:.8888888889rem;width:16.2222222222rem;border-radius:.4444444444rem;border:.0833333333rem solid #333541;border-left:.4444444444rem solid #333541}.mapview__location .location__institute{gap:.4444444444rem;width:12.8333333333rem}.mapview__location .location__institute div{gap:.2222222222rem}.mapview__location .location__institute p{font-size:.7777777778rem;line-height:.8888888889rem;color:#333541;font-weight:600;gap:.2222222222rem}.mapview__location .location__institute img{width:.8888888889rem;height:.8888888889rem}.mapview__location .location__institute:nth-child(1) p{padding-left:.2222222222rem}.mapview__location .location__arrow{width:.6666666667rem;height:.6666666667rem}.mapview__location .location__arrow img{width:100%;height:100%}.mapview .sessions{gap:.5555555556rem;position:absolute;bottom:0}.mapview .sessions__close{order:1;padding:0 .8888888889rem}.mapview .sessions__close .close{background:#fff;border-radius:50%;padding:.1666666667rem;box-shadow:0 .3333333333rem .4166666667rem -.25rem #1018281a,0 .8333333333rem 1.0416666667rem -.2083333333rem #1018281a}.mapview .sessions__close .close img{width:1rem;height:1rem}.mapview .sessions__details{order:2;background:#fff;box-shadow:0 .0555555556rem .1666666667rem #1018281a;border-radius:.4444444444rem .4444444444rem 0 0;background-color:#333541}.mapview .sessions__details .institute{background-color:#333541}.mapview .sessions__details .institute h5{color:#fff}.mapview .sessions__details .header h6{font-weight:600;color:#333541;background:#fff;padding:.6666666667rem 1.1111111111rem;font-size:.7777777778rem;line-height:.8888888889rem;border-bottom:.0555555556rem solid rgba(135,135,135,.25);border-radius:.4444444444rem .4444444444rem 0 0}.mapview .sessions__details .header h6 span{color:#a61242}.mapview .sessions__details .testdetails{background-color:#e8e8e8}.mapview .sessions__details .testdetails__wrapper{padding:.6666666667rem 1.1111111111rem;width:100dvw}.mapview .sessions__details .testdetails__list{gap:.4444444444rem;width:100%;overflow-x:scroll;padding-bottom:.6666666667rem}.mapview .sessions__details .testdetails__list::-webkit-scrollbar{height:.3333333333rem}.mapview .sessions__details .testdetails__list::-webkit-scrollbar-track{background:white}.mapview .sessions__details .testdetails__list::-webkit-scrollbar-thumb{background-color:#333541}.mapview .sessions__details .testdetails__content{position:relative;background:#fff;border-radius:.4444444444rem;padding:2rem .7272727273rem .5454545455rem;gap:.6666666667rem;min-width:18.2222222222rem;box-shadow:0 .0555555556rem .1111111111rem -.0555555556rem #1018281a,0 .0555555556rem .1666666667rem #1018281a}.mapview .sessions__details .testdetails__content .label{top:0;right:0;position:absolute;padding:.4444444444rem;border-radius:0 .4444444444rem;gap:.2222222222rem}.mapview .sessions__details .testdetails__content .label p{font-size:.6666666667rem;line-height:.8888888889rem;font-family:Open Sans,sans-serif;font-weight:600}.mapview .sessions__details .testdetails__content .label p span{width:.8888888889rem;height:.8888888889rem}.mapview .sessions__details .testdetails__content .label p span img{width:100%;height:100%}.mapview .sessions__details .testdetails__content .label.limited{background-color:#fff3e5}.mapview .sessions__details .testdetails__content .label.limited p{color:#9f5200}.mapview .sessions__details .testdetails__content .label.avilable{background-color:#edfce5}.mapview .sessions__details .testdetails__content .label.avilable p{color:#2e6d0f}.mapview .sessions__details .testdetails__content .spacer{border:1px solid rgba(135,135,135,.25)}.mapview .sessions__details .testdetails__dropdown .row{margin:0}.mapview .sessions__details .testdetails__dropdown .row .col{padding:0}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown{width:100%}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown button{width:100%;background-color:#fff;box-shadow:0 1px 2px #1018280d;border-radius:.1818181818rem;position:relative;color:#000;display:flex;font-family:Open Sans,sans-serif;border:none}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown button:after{content:" ";border:none;background-color:#333541;-webkit-mask-image:url(/assets/images/chevron-down.svg);mask-image:url(/assets/images/chevron-down.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown .dropdown-menu{width:100%;padding:0;background:#fff}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown .dropdown-menu .drop-scroll{overflow-y:auto}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown .dropdown-menu button{color:#6b6b6b;cursor:pointer}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown .dropdown-menu button:after{background:none}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown .dropdown-menu button:hover,.mapview .sessions__details .testdetails__dropdown .row .col .dropdown .dropdown-menu button:active{background-color:#e6e9ec;color:#333541}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown .dropdown-menu.show{border:.0454545455rem solid #333541;border-radius:.1818181818rem}.mapview .sessions__details .testdetails__cta{gap:.5454545455rem}.mapview .sessions__details .testdetails__cta p{font-family:Open Sans,sans-serif;color:#333541;font-size:.7777777778rem;line-height:1.3333333333rem;flex-grow:1;gap:.4444444444rem}.mapview .sessions__details .testdetails__cta p span{width:1.1111111111rem;height:1.1111111111rem}.mapview .sessions__details .testdetails__cta p span img{width:100%;height:100%}.mapview .sessions__details .testdetails__cta button{background:#E31837;color:#fff;font-weight:600;padding:.3333333333rem .6666666667rem;font-size:.8888888889rem;line-height:1.3333333333rem;border-radius:2.5555555556rem;text-align:center}.mapview .sessions__details .test{width:100%;gap:.6666666667rem}.mapview .sessions__details .test__left{background:#333541;color:#fff;padding:.3055555556rem;border-radius:.2222222222rem;border:.0833333333rem solid #333541;gap:.2222222222rem}.mapview .sessions__details .test__left h6{color:#fff;font-size:.7777777778rem;line-height:.8888888889rem}.mapview .sessions__details .test__left .day-month p{font-size:.6666666667rem}.mapview .sessions__details .test__left .day-month p:nth-child(1){line-height:.6666666667rem}.mapview .sessions__details .test__left .day-month p:nth-child(2){line-height:.8888888889rem;font-family:Open Sans,sans-serif}.mapview .sessions__details .test__right h6{color:#a61242;font-weight:600;font-size:.7777777778rem;line-height:.8888888889rem}.mapview .sessions__details .test__right .detailslist p{gap:.4444444444rem;font-size:.7777777778rem;line-height:1.3333333333rem;font-family:Open Sans,sans-serif;color:#333541}.mapview .sessions__details .test__right .detailslist p span{width:1.1111111111rem;height:1.1111111111rem}.mapview .sessions__details .test__right .detailslist p span img{width:100%;height:100%}@media (min-width: 768px){.booking-listing-container.osr .mapview{height:calc(100dvh - 8.5rem)}.mapview{height:calc(100dvh - 10.7222222222rem)}}@media (min-width: 1100px){.booking-listing-container.osr .mapview{height:calc(100dvh - 7.7272727273rem)}.mapview{height:calc(100dvh - 10.2727272727rem)}.mapview__background{height:100%}.mapview__background .marker{width:2.9090909091rem;height:2.9090909091rem}.mapview__background.reduce{height:100%}.mapview__location{width:2.9090909091rem;height:2.9090909091rem}.mapview .sessions{max-width:21.8181818182rem;position:absolute;top:50%;z-index:1;left:1.8181818182rem;height:calc(100% - 3.6363636364rem);transform:translateY(-50%);gap:.7272727273rem;border-radius:.2727272727rem;min-width:21.8181818182rem}.mapview .sessions__close{order:2;padding:0;height:-moz-fit-content;height:fit-content}.mapview .sessions__close .close{width:1.4545454545rem;height:1.4545454545rem;padding:.1818181818rem;box-shadow:0 1.1363636364rem 2.2727272727rem -.5454545455rem #1018281a}.mapview .sessions__close .close img{width:100%}.mapview .sessions__details{border-radius:.7272727273rem;flex-grow:1;box-shadow:0 1.1363636364rem 2.2727272727rem -.5454545455rem #1018281a}.mapview .sessions__details .institute{padding:.7272727273rem .8181818182rem .7272727273rem 1.0909090909rem;gap:.7272727273rem;border-radius:.7272727273rem .7272727273rem 0 0;cursor:pointer}.mapview .sessions__details .institute h5{font-size:.8181818182rem;line-height:.9090909091rem;flex:2;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:3}.mapview .sessions__details .institute .institute-img{width:1.0909090909rem;height:1.0909090909rem}.mapview .sessions__details .institute .chevron-right{width:.7272727273rem;height:.7272727273rem}.mapview .sessions__details .header{background-color:#333541}.mapview .sessions__details .header h6{font-size:.7272727273rem;line-height:.9090909091rem;border-radius:.3636363636rem .3636363636rem 0 0;padding:.7272727273rem 1.0909090909rem;border-bottom:.0555555556rem solid rgba(135,135,135,.25)}.mapview .sessions__details .testdetails{height:calc(100% - 4.7272727273rem);padding-right:.7272727273rem}.mapview .sessions__details .testdetails__wrapper{padding:1.0909090909rem .3636363636rem 1.0909090909rem 1.0909090909rem;overflow-y:scroll;height:100%;gap:.9090909091rem;width:auto;border-radius:0 0 .7272727273rem .7272727273rem}.mapview .sessions__details .testdetails__wrapper::-webkit-scrollbar{width:.1818181818rem;border-radius:.1818181818rem}.mapview .sessions__details .testdetails__wrapper::-webkit-scrollbar-track{margin-top:1.4545454545rem;margin-bottom:1.0909090909rem}.mapview .sessions__details .testdetails__wrapper::-webkit-scrollbar-thumb{background-color:#2c2c3340;border-radius:.1818181818rem}.mapview .sessions__details .testdetails__list{gap:.9090909091rem;padding-bottom:0;overflow-x:initial}.mapview .sessions__details .testdetails__content{padding:1.4545454545rem .7272727273rem .7272727273rem;border-radius:.3636363636rem;gap:.5454545455rem;min-width:auto;box-shadow:0 .0454545455rem .0909090909rem -.0454545455rem #1018281a,0 .0454545455rem .1363636364rem #1018281a}.mapview .sessions__details .testdetails__content .label{padding:.3636363636rem;border-radius:0 .3636363636rem}.mapview .sessions__details .testdetails__content .label p{font-size:.5454545455rem;line-height:.7272727273rem;gap:.1818181818rem}.mapview .sessions__details .testdetails__content .label p span{width:.7272727273rem;height:.7272727273rem}.mapview .sessions__details .testdetails__dropdown .row{width:100%}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown button{padding:.4545454545rem .7272727273rem;gap:.3636363636rem;align-items:baseline;justify-content:space-between;font-size:.7272727273rem;line-height:1.2727272727rem}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown button:after{width:.5454545455rem;height:.5454545455rem}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown-menu{inset:.5454545455rem auto auto 0!important}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown-menu .drop-scroll{max-height:4.6363636364rem}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown-menu .drop-scroll::-webkit-scrollbar{width:.1818181818rem;border-radius:.1818181818rem}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown-menu .drop-scroll::-webkit-scrollbar-thumb{background-color:#2c2c3340;border-radius:.1818181818rem}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown-menu button{padding:.5454545455rem .7272727273rem;font-size:.7272727273rem;line-height:1.2727272727rem}.mapview .sessions__details .testdetails__dropdown .row .col .dropdown-menu.show{border-width:.0681818182rem}.mapview .sessions__details .testdetails__cta{gap:.5454545455rem}.mapview .sessions__details .testdetails__cta p{font-size:.6363636364rem;line-height:1.0909090909rem;flex-grow:1;gap:.3636363636rem}.mapview .sessions__details .testdetails__cta p span{width:.9090909091rem;height:.9090909091rem}.mapview .sessions__details .testdetails__cta button{padding:.2727272727rem .5454545455rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:2.0909090909rem;text-align:center}.mapview .sessions__details .test{gap:.5454545455rem}.mapview .sessions__details .test__left{padding:.25rem;border-radius:.1818181818rem;border:.0681818182rem solid #333541;gap:.1818181818rem}.mapview .sessions__details .test__left h6{font-size:.6363636364rem;line-height:.7272727273rem}.mapview .sessions__details .test__left .day-month p{font-size:.5454545455rem}.mapview .sessions__details .test__left .day-month p:nth-child(1){line-height:.5454545455rem}.mapview .sessions__details .test__left .day-month p:nth-child(2){line-height:.7272727273rem}.mapview .sessions__details .test__right h6{font-size:.6363636364rem;line-height:.7272727273rem}.mapview .sessions__details .test__right .detailslist p{gap:.3636363636rem;font-size:.6363636364rem;line-height:1.0909090909rem}.mapview .sessions__details .test__right .detailslist p span{width:.9090909091rem;height:.9090909091rem}.mapview.top-filter{height:calc(100dvh - 5.9090909091rem)}.mapview.top-filter .mapboxgl-canvas{width:100%!important;height:100%!important;object-fit:cover}}\n'],encapsulation:2})}return wt})()},3411:(Dt,Le,D)=>{"use strict";D.d(Le,{j:()=>We});var a=D(5861),s=D(6866),oe=D(859),c=D(1342),V=D(2438),ie=D(1374),Te=D(6328),le=D(7398),me=D(9397),ae=D(6306),be=D(2096),re=D(4716),J=D(4379),fe=D(8502),ke=D(6814),Ce=D(1231),we=D(9767),he=D(1756),A=D(5879),pe=D(9582),ge=D(91),pt=D(2236),Pe=D(6491),Be=D(1459),rt=D(2930);const wt=["nav"];function It(Ge,Et){1&Ge&&(A.TgZ(0,"div",11),A._uU(1," Select test date "),A.qZA())}function Ie(Ge,Et){1&Ge&&(A.TgZ(0,"div",11),A._uU(1," Test date "),A.qZA())}function L(Ge,Et){1&Ge&&(A.TgZ(0,"div",11),A._uU(1," Complete payment "),A.qZA())}function Oe(Ge,Et){1&Ge&&(A.TgZ(0,"div",11),A._uU(1," Payment "),A.qZA())}function ut(Ge,Et){1&Ge&&(A.TgZ(0,"div",10),A._UZ(1,"div",8),A.TgZ(2,"div",11),A._uU(3," Profile & ID "),A.qZA()())}function Nt(Ge,Et){1&Ge&&(A.TgZ(0,"div",11),A._uU(1," Finalise booking "),A.qZA())}function an(Ge,Et){1&Ge&&(A.TgZ(0,"div",11),A._uU(1," Booking complete "),A.qZA())}function bt(Ge,Et){if(1&Ge&&A._UZ(0,"app-language-switcher",62),2&Ge){const Q=A.oxw();A.Q6J("pageData",Q.pageData)}}function Qe(Ge,Et){if(1&Ge&&(A.TgZ(0,"span",66),A._uU(1),A.qZA()),2&Ge){const Q=A.oxw(2);A.xp6(1),A.Oqu(Q.userInitial.charAt(0))}}function jt(Ge,Et){if(1&Ge){const Q=A.EpF();A.ynx(0),A.TgZ(1,"button",63),A.NdJ("click",function(){A.CHM(Q);const $e=A.oxw();return A.KtG($e.onClickAccount())}),A._UZ(2,"img",64),A.YNc(3,Qe,2,1,"span",65),A.qZA(),A.BQk()}if(2&Ge){const Q=A.oxw();A.xp6(1),A.Q6J("ngClass",!Q.isInvalidUser&&Q.userInitial?"loggedIn":"")("title",Q.isInvalidUser||Q.userInitial?"Dashboard":"Sign-in"),A.xp6(2),A.Q6J("ngIf",!Q.isInvalidUser&&Q.userInitial)}}function gt(Ge,Et){1&Ge&&(A.TgZ(0,"h2",67),A._uU(1,"Select test date"),A.qZA())}function yt(Ge,Et){1&Ge&&(A.TgZ(0,"h2",67),A._uU(1,"Test date"),A.qZA())}function at(Ge,Et){1&Ge&&(A.TgZ(0,"span",73),A._uU(1,"Best available"),A.qZA())}function Xe(Ge,Et){1&Ge&&(A.TgZ(0,"div",74),A._uU(1," Best available"),A.qZA())}function Zt(Ge,Et){if(1&Ge){const Q=A.EpF();A.TgZ(0,"div",68)(1,"div",39)(2,"h3",40),A._uU(3),A.qZA(),A.TgZ(4,"h4",69),A._uU(5),A.qZA()(),A.TgZ(6,"div",41)(7,"div",42)(8,"div",43)(9,"p",70)(10,"span"),A._uU(11),A.qZA(),A.YNc(12,at,2,0,"span",71),A.qZA(),A.TgZ(13,"p",45),A._uU(14),A.qZA()(),A.YNc(15,Xe,2,0,"div",72),A.TgZ(16,"div",46)(17,"a",47),A.NdJ("click",function(){A.CHM(Q);const $e=A.oxw();return A.KtG($e.toggleClass("desktop"))}),A._uU(18),A.qZA(),A.TgZ(19,"a",48),A.NdJ("click",function(){A.CHM(Q);const $e=A.oxw();return A.KtG($e.toggleClass("mobile"))}),A._uU(20),A.qZA()()()()()}if(2&Ge){const Q=A.oxw();A.Q6J("ngClass",null!=Q.nextBestDateTime&&Q.nextBestDateTime.date?"show":"hide"),A.xp6(3),A.Oqu(null==Q.labelText?null:Q.labelText.confirmSpeakingLabel),A.xp6(2),A.Oqu(null==Q.labelText?null:Q.labelText.selectLabel),A.xp6(6),A.Oqu(Q.formatTime(null!=Q.speakingSlots&&Q.speakingSlots.speakingTime?null==Q.speakingSlots?null:Q.speakingSlots.speakingTime:Q.selectedDate?null==Q.selectedDateTime?null:Q.selectedDateTime.time:null==Q.nextBestDateTime?null:Q.nextBestDateTime.time)),A.xp6(1),A.Q6J("ngIf",(null==Q.speakingSlots?null:Q.speakingSlots.nextavailable)||(null==Q.nextBestDateTime?null:Q.nextBestDateTime.date)===(null==Q.selectedDateTime?null:Q.selectedDateTime.date)&&(null==Q.nextBestDateTime?null:Q.nextBestDateTime.time)===(null==Q.selectedDateTime?null:Q.selectedDateTime.time)||(null==Q.nextBestDateTime?null:Q.nextBestDateTime.date)&&!Q.selectedDate&&!(null!=Q.speakingSlots&&Q.speakingSlots.selected)),A.xp6(2),A.lnq("",Q.formatDate(null!=Q.speakingSlots&&Q.speakingSlots.speakingDate?null==Q.speakingSlots?null:Q.speakingSlots.fullTime:Q.selectedDate?null==Q.selectedDateTime?null:Q.selectedDateTime.fullTime:null==Q.nextBestDateTime?null:Q.nextBestDateTime.fullTime,"dddd"),", ",Q.formatDate(null!=Q.speakingSlots&&Q.speakingSlots.speakingDate?null==Q.speakingSlots?null:Q.speakingSlots.fullTime:Q.selectedDate?null==Q.selectedDateTime?null:Q.selectedDateTime.fullTime:null==Q.nextBestDateTime?null:Q.nextBestDateTime.fullTime,"dd")," ",Q.formatDate(null!=Q.speakingSlots&&Q.speakingSlots.speakingDate?null==Q.speakingSlots?null:Q.speakingSlots.fullTime:Q.selectedDate?null==Q.selectedDateTime?null:Q.selectedDateTime.fullTime:null==Q.nextBestDateTime?null:Q.nextBestDateTime.fullTime,"mmmm")," "),A.xp6(1),A.Q6J("ngIf",(null==Q.speakingSlots?null:Q.speakingSlots.nextavailable)||(null==Q.nextBestDateTime?null:Q.nextBestDateTime.date)===(null==Q.selectedDateTime?null:Q.selectedDateTime.date)&&(null==Q.nextBestDateTime?null:Q.nextBestDateTime.time)===(null==Q.selectedDateTime?null:Q.selectedDateTime.time)||(null==Q.nextBestDateTime?null:Q.nextBestDateTime.date)&&!Q.selectedDate&&!(null!=Q.speakingSlots&&Q.speakingSlots.selected)),A.xp6(3),A.Oqu(null==Q.labelText?null:Q.labelText.changeButtonLabel),A.xp6(2),A.Oqu(null==Q.labelText?null:Q.labelText.changeButtonLabel)}}const ve=function(Ge){return{active:Ge}};function Ve(Ge,Et){if(1&Ge){const Q=A.EpF();A.TgZ(0,"li",87),A.NdJ("click",function(){const lt=A.CHM(Q).$implicit,nn=A.oxw(4);return A.KtG(lt&&null!=lt&&null!=lt.times[0].time&&lt.times[0].time.length?nn.filterSessionDates(null==lt?null:lt.date,null==nn.labelText?null:nn.labelText.speakingRangeLabel[0],!1):null)}),A.TgZ(1,"p",88),A._uU(2),A.qZA(),A.TgZ(3,"div",89)(4,"p",45),A._uU(5),A.qZA(),A.TgZ(6,"p",90),A._uU(7),A.qZA()()()}if(2&Ge){const Q=Et.$implicit,tt=A.oxw(4);A.ekj("disabled",!Q||!(null!=Q&&null!=Q.times[0]&&null!=Q.times[0].time&&Q.times[0].time.length)),A.Q6J("ngClass",A.VKq(6,ve,tt.isActiveTab("tab1",null==Q?null:Q.date))),A.xp6(2),A.Oqu(tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"ddd")),A.xp6(3),A.Oqu(tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"d")),A.xp6(2),A.Oqu(tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"mmm"))}}function St(Ge,Et){if(1&Ge){const Q=A.EpF();A.TgZ(0,"ul",84)(1,"li",85),A.NdJ("click",function(){A.CHM(Q);const $e=A.oxw(3);return A.KtG($e.filterSessionDates("","Before written test",!0))}),A.TgZ(2,"p"),A._uU(3,"All Dates"),A.qZA()(),A.YNc(4,Ve,8,8,"li",86),A.qZA()}if(2&Ge){const Q=A.oxw(3);A.xp6(1),A.ekj("active","Before written test"!==Q.nextBestDateTime.tab&&Q.filteredDate&&"Before written test"!==Q.filteredTab&&Q.allDatesVal||"Before written test"===Q.nextBestDateTime.tab&&!Q.filteredDate&&"Before written test"===Q.filteredTab&&Q.allDatesVal||"Before written test"!==Q.nextBestDateTime.tab&&!Q.filteredDate||Q.filteredDate&&"After written test"===Q.filteredTab||Q.filteredDate&&"Same day"===Q.filteredTab&&!Q.allDatesVal),A.xp6(3),A.Q6J("ngForOf",Q.beforeTestArrayVal)}}function wn(Ge,Et){if(1&Ge&&(A.TgZ(0,"h4",45),A._uU(1),A.qZA()),2&Ge){const Q=A.oxw().$implicit,tt=A.oxw(3);A.xp6(1),A.HOy(" ",tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"dddd")," ",tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"dd")," ",tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"mmmm")," ",tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"yyyy"),"")}}function $t(Ge,Et){1&Ge&&(A.TgZ(0,"span",100),A._uU(1,"Best available"),A.qZA())}function Cn(Ge,Et){1&Ge&&(A.TgZ(0,"p",101),A._uU(1,"Best available"),A.qZA())}function Ot(Ge,Et){if(1&Ge){const Q=A.EpF();A.TgZ(0,"div",96)(1,"div",97),A.NdJ("click",function(){const $e=A.CHM(Q),lt=$e.index,nn=$e.$implicit,bn=A.oxw(2),Bn=bn.index,kt=bn.$implicit,cn=A.oxw(3);return A.KtG(cn.toggleClass2(lt,Bn,nn,null==kt?null:kt.date,"Before written test",kt.times[0].fullTime))}),A.TgZ(2,"span"),A._uU(3),A.qZA(),A.YNc(4,$t,2,0,"span",98),A.qZA(),A.YNc(5,Cn,2,0,"p",99),A.qZA()}if(2&Ge){const Q=Et.$implicit,tt=A.oxw(2).$implicit,$e=A.oxw(3);A.xp6(1),A.Q6J("ngClass","Before written test"===(null==$e.selectedDateTime?null:$e.selectedDateTime.tab)&&(null==$e.selectedDateTime?null:$e.selectedDateTime.date)===(null==tt?null:tt.date)&&(null==$e.selectedDateTime?null:$e.selectedDateTime.time)===Q&&(null==$e.nextBestDateTimeTab?null:$e.nextBestDateTimeTab.date)!==(null==$e.selectedDateTime?null:$e.selectedDateTime.date)||"Before written test"===(null==$e.nextBestDateTime?null:$e.nextBestDateTime.tab)&&(null==$e.nextBestDateTime?null:$e.nextBestDateTime.date)===(null==tt?null:tt.date)&&(null==$e.nextBestDateTime?null:$e.nextBestDateTime.time)===Q&&!$e.selectedDate?"active":""),A.xp6(2),A.Oqu($e.formatTime(Q)),A.xp6(1),A.Q6J("ngIf",!(null!=$e.sameDayArray[0]&&null!=$e.sameDayArray[0].times[0].time&&$e.sameDayArray[0].times[0].time.length||$e.afterTestArray.length||(null==$e.nextBestDateTime?null:$e.nextBestDateTime.date)!==(null==tt?null:tt.date)||(null==$e.nextBestDateTime?null:$e.nextBestDateTime.time)!==Q)),A.xp6(1),A.Q6J("ngIf",!(null!=$e.sameDayArray[0]&&null!=$e.sameDayArray[0].times[0].time&&$e.sameDayArray[0].times[0].time.length||$e.afterTestArray.length||(null==$e.nextBestDateTime?null:$e.nextBestDateTime.date)!==(null==tt?null:tt.date)||(null==$e.nextBestDateTime?null:$e.nextBestDateTime.time)!==Q))}}function Wt(Ge,Et){if(1&Ge&&(A.TgZ(0,"div",94),A.YNc(1,Ot,6,4,"div",95),A.qZA()),2&Ge){const Q=A.oxw().$implicit;A.xp6(1),A.Q6J("ngForOf",Q.times[0].time)}}function st(Ge,Et){if(1&Ge&&(A.TgZ(0,"div",91),A.YNc(1,wn,2,4,"h4",92),A.YNc(2,Wt,2,1,"div",93),A.qZA()),2&Ge){const Q=Et.$implicit;A.xp6(1),A.Q6J("ngIf",Q.times&&Q.times[0].time.length>0),A.xp6(1),A.Q6J("ngIf",Q.times&&Q.times[0].time.length>0)}}function U(Ge,Et){1&Ge&&(A.TgZ(0,"div",102),A._UZ(1,"img",103),A.TgZ(2,"div",104)(3,"h4"),A._uU(4,"Oops, it looks like no Speaking slot is available."),A.qZA(),A.TgZ(5,"p"),A._uU(6,"Please expand the Date Range or please try updating the search location or test"),A.qZA()()())}function Se(Ge,Et){if(1&Ge&&(A.TgZ(0,"div",78)(1,"div",79)(2,"div",80),A.YNc(3,St,5,3,"ul",81),A.qZA(),A.YNc(4,st,3,2,"div",82),A.qZA()(),A.YNc(5,U,7,0,"div",83)),2&Ge){const Q=A.oxw(2);A.xp6(3),A.Q6J("ngIf",Q.beforeTestArrayVal.length>1),A.xp6(1),A.Q6J("ngForOf",Q.beforeTestArray),A.xp6(1),A.Q6J("ngIf",!Q.beforeTestArray.length)}}function Vt(Ge,Et){if(1&Ge&&(A.TgZ(0,"li",75)(1,"a",76),A._uU(2),A.qZA(),A.YNc(3,Se,6,3,"ng-template",77),A.qZA()),2&Ge){const Q=A.oxw();A.Q6J("ngbNavItem",1),A.xp6(2),A.Oqu(Q.labelText.speakingRangeLabel[0])}}function en(Ge,Et){1&Ge&&(A.TgZ(0,"span",100),A._uU(1,"Best available"),A.qZA())}function jn(Ge,Et){1&Ge&&(A.TgZ(0,"p",101),A._uU(1,"Best available"),A.qZA())}function Mi(Ge,Et){if(1&Ge){const Q=A.EpF();A.TgZ(0,"div",96)(1,"div",107),A.NdJ("click",function(){const $e=A.CHM(Q),lt=$e.index,nn=$e.$implicit,bn=A.oxw(),Bn=bn.index,kt=bn.$implicit,cn=A.oxw(3);return A.KtG(cn.toggleClass2(lt,Bn,nn,kt.date,"Same day",kt.times[0].fullTime))}),A._uU(2),A.YNc(3,en,2,0,"span",98),A.qZA(),A.YNc(4,jn,2,0,"p",99),A.qZA()}if(2&Ge){const Q=Et.$implicit,tt=Et.index,$e=A.oxw(),lt=$e.$implicit,nn=$e.index,bn=A.oxw(3);A.xp6(1),A.MGl("id","time",tt,""),A.Q6J("ngClass",A.VKq(5,ve,bn.isActiveTab("tab2",null==lt?null:lt.date,tt,nn,Q))),A.xp6(1),A.hij(" ",bn.formatTime(Q)," "),A.xp6(1),A.Q6J("ngIf",bn.sameDayArray[0].times[0].time.length&&(null==bn.nextBestDateTime?null:bn.nextBestDateTime.time)===Q),A.xp6(1),A.Q6J("ngIf",bn.sameDayArray[0].times[0].time.length&&(null==bn.nextBestDateTime?null:bn.nextBestDateTime.time)===Q)}}function dn(Ge,Et){if(1&Ge&&(A.TgZ(0,"div",94),A.YNc(1,Mi,5,7,"div",95),A.qZA()),2&Ge){const Q=Et.$implicit;A.xp6(1),A.Q6J("ngForOf",Q.times[0].time)}}function Pn(Ge,Et){1&Ge&&(A.TgZ(0,"div",102),A._UZ(1,"img",103),A.TgZ(2,"div",104)(3,"h4"),A._uU(4,"Oops, it looks like no Speaking slot is available."),A.qZA(),A.TgZ(5,"p"),A._uU(6,"Please expand the Date Range or please try updating the search location or test"),A.qZA()()())}function qn(Ge,Et){if(1&Ge&&(A.TgZ(0,"div",78)(1,"div",79)(2,"div",91),A.YNc(3,dn,2,1,"div",106),A.qZA()()(),A.YNc(4,Pn,7,0,"div",83)),2&Ge){const Q=A.oxw(2);A.xp6(3),A.Q6J("ngForOf",Q.sameDayArray),A.xp6(1),A.Q6J("ngIf",!((null==Q.sameDayArray[0]||null==Q.sameDayArray[0].times[0]||null==Q.sameDayArray[0].times[0].time?null:Q.sameDayArray[0].times[0].time.length)>0))}}function ti(Ge,Et){if(1&Ge&&(A.TgZ(0,"li",75)(1,"a",105),A._uU(2),A.qZA(),A.YNc(3,qn,5,2,"ng-template",77),A.qZA()),2&Ge){const Q=A.oxw();A.Q6J("ngbNavItem",2),A.xp6(2),A.Oqu(Q.labelText.speakingRangeLabel[1])}}function qi(Ge,Et){if(1&Ge){const Q=A.EpF();A.TgZ(0,"li",87),A.NdJ("click",function(){const lt=A.CHM(Q).$implicit,nn=A.oxw(4);return A.KtG(lt&&null!=lt&&null!=lt.times[0].time&&lt.times[0].time.length?nn.filterSessionDates(null==lt?null:lt.date,null==nn.labelText?null:nn.labelText.speakingRangeLabel[2],!1):null)}),A.TgZ(1,"p",88),A._uU(2),A.qZA(),A.TgZ(3,"div",89)(4,"p",45),A._uU(5),A.qZA(),A.TgZ(6,"p",90),A._uU(7),A.qZA()()()}if(2&Ge){const Q=Et.$implicit,tt=A.oxw(4);A.ekj("disabled",!Q||!(null!=Q&&null!=Q.times[0].time&&Q.times[0].time.length)),A.Q6J("ngClass",A.VKq(6,ve,tt.isActiveTab("tab3",null==Q?null:Q.date))),A.xp6(2),A.Oqu(tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"ddd")),A.xp6(3),A.Oqu(tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"d")),A.xp6(2),A.Oqu(tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"mmm"))}}function to(Ge,Et){if(1&Ge){const Q=A.EpF();A.TgZ(0,"ul",84)(1,"li",85),A.NdJ("click",function(){A.CHM(Q);const $e=A.oxw(3);return A.KtG($e.filterSessionDates("","After written test",!0))}),A.TgZ(2,"p"),A._uU(3,"All Dates"),A.qZA()(),A.YNc(4,qi,8,8,"li",86),A.qZA()}if(2&Ge){const Q=A.oxw(3);A.xp6(1),A.ekj("active","After written test"!==(null==Q.nextBestDateTime?null:Q.nextBestDateTime.tab)&&Q.filteredDate&&"After written test"!==Q.filteredTab&&Q.allDatesVal||"After written test"===(null==Q.nextBestDateTime?null:Q.nextBestDateTime.tab)&&!Q.filteredDate&&Q.allDatesVal||"After written test"!==(null==Q.nextBestDateTime?null:Q.nextBestDateTime.tab)&&!Q.filteredDate||Q.filteredDate&&"Before written test"===Q.filteredTab||Q.filteredDate&&"Same day"===Q.filteredTab&&!Q.allDatesVal),A.xp6(3),A.Q6J("ngForOf",Q.afterTestArrayVal)}}function Zi(Ge,Et){if(1&Ge&&(A.TgZ(0,"h4",45),A._uU(1),A.qZA()),2&Ge){const Q=A.oxw().$implicit,tt=A.oxw(3);A.xp6(1),A.HOy(" ",tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"dddd")," ",tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"dd")," ",tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"mmmm")," ",tt.formatDate(null==Q.times[0]?null:Q.times[0].fullTime,"yyyy"),"")}}function Fi(Ge,Et){1&Ge&&(A.TgZ(0,"span",100),A._uU(1,"Best available"),A.qZA())}function yo(Ge,Et){1&Ge&&(A.TgZ(0,"p",101),A._uU(1,"Best available"),A.qZA())}function Ji(Ge,Et){if(1&Ge){const Q=A.EpF();A.TgZ(0,"div",96)(1,"div",107),A.NdJ("click",function(){const $e=A.CHM(Q),lt=$e.index,nn=$e.$implicit,bn=A.oxw(2),Bn=bn.index,kt=bn.$implicit,cn=A.oxw(3);return A.KtG(cn.toggleClass2(lt,Bn,nn,kt.date,"After written test",kt.times[0].fullTime))}),A.TgZ(2,"span"),A._uU(3),A.qZA(),A.YNc(4,Fi,2,0,"span",98),A.qZA(),A.YNc(5,yo,2,0,"p",99),A.qZA()}if(2&Ge){const Q=Et.$implicit,tt=Et.index,$e=A.oxw(2).$implicit,lt=A.oxw(3);A.xp6(1),A.MGl("id","time",tt,""),A.Q6J("ngClass","After written test"===(null==lt.selectedDateTime?null:lt.selectedDateTime.tab)&&(null==lt.selectedDateTime?null:lt.selectedDateTime.date)===(null==$e?null:$e.date)&&(null==lt.selectedDateTime?null:lt.selectedDateTime.time)===Q&&(null==lt.nextBestDateTimeTab?null:lt.nextBestDateTimeTab.date)!==(null==lt.selectedDateTime?null:lt.selectedDateTime.date)||"After written test"===(null==lt.nextBestDateTimeTab?null:lt.nextBestDateTimeTab.tab)&&(null==lt.nextBestDateTimeTab?null:lt.nextBestDateTimeTab.date)===(null==$e?null:$e.date)&&(null==lt.nextBestDateTimeTab?null:lt.nextBestDateTimeTab.time)===Q&&!lt.selectedDate?"active":""),A.xp6(2),A.Oqu(lt.formatTime(Q)),A.xp6(1),A.Q6J("ngIf",!(null!=lt.sameDayArray[0]&&null!=lt.sameDayArray[0].times[0].time&&lt.sameDayArray[0].times[0].time.length)&&lt.afterTestArray.length&&(null==lt.nextBestDateTime?null:lt.nextBestDateTime.date)===(null==$e?null:$e.date)&&(null==lt.nextBestDateTime?null:lt.nextBestDateTime.time)===Q),A.xp6(1),A.Q6J("ngIf",!(null!=lt.sameDayArray[0]&&null!=lt.sameDayArray[0].times[0]&&null!=lt.sameDayArray[0].times[0].time&&lt.sameDayArray[0].times[0].time.length)&&lt.afterTestArray.length&&(null==lt.nextBestDateTime?null:lt.nextBestDateTime.date)===(null==$e?null:$e.date)&&(null==lt.nextBestDateTime?null:lt.nextBestDateTime.time)===Q)}}function xi(Ge,Et){if(1&Ge&&(A.TgZ(0,"div",94),A.YNc(1,Ji,6,5,"div",95),A.qZA()),2&Ge){const Q=A.oxw().$implicit;A.xp6(1),A.Q6J("ngForOf",Q.times[0].time)}}function Mo(Ge,Et){if(1&Ge&&(A.TgZ(0,"div",91),A.YNc(1,Zi,2,4,"h4",92),A.YNc(2,xi,2,1,"div",93),A.qZA()),2&Ge){const Q=Et.$implicit;A.xp6(1),A.Q6J("ngIf",Q.times&&Q.times[0].time.length>0),A.xp6(1),A.Q6J("ngIf",Q.times&&Q.times[0].time.length>0)}}function no(Ge,Et){1&Ge&&(A.TgZ(0,"div",102),A._UZ(1,"img",103),A.TgZ(2,"div",104)(3,"h4"),A._uU(4,"Oops, it looks like no Speaking slot is available."),A.qZA(),A.TgZ(5,"p"),A._uU(6,"Please expand the Date Range or please try updating the search location or test"),A.qZA()()())}function Wo(Ge,Et){if(1&Ge&&(A.TgZ(0,"div",78)(1,"div",79)(2,"div",80),A.YNc(3,to,5,3,"ul",81),A.qZA(),A.YNc(4,Mo,3,2,"div",82),A.qZA()(),A.YNc(5,no,7,0,"div",83)),2&Ge){const Q=A.oxw(2);A.xp6(3),A.Q6J("ngIf",Q.afterTestArrayVal.length>1),A.xp6(1),A.Q6J("ngForOf",Q.afterTestArray),A.xp6(1),A.Q6J("ngIf",!Q.afterTestArray.length)}}function Bt(Ge,Et){if(1&Ge&&(A.TgZ(0,"li",75)(1,"a",105),A._uU(2),A.qZA(),A.YNc(3,Wo,6,3,"ng-template",77),A.qZA()),2&Ge){const Q=A.oxw();A.Q6J("ngbNavItem",3),A.xp6(2),A.Oqu(null==Q.labelText?null:Q.labelText.speakingRangeLabel[2])}}const Ue=D(4499);let We=(()=>{class Ge{constructor(Q,tt,$e,lt,nn,bn,Bn,kt,cn,ft,Ze,on){this.commonService=Q,this.manageBookingService=tt,this.router=$e,this.sessionSearch=lt,this.sharedState=nn,this.urlSerializer=bn,this.loadingService=Bn,this.route=kt,this.renderer=cn,this.location=ft,this.document=Ze,this.cookieService=on,this.labelText={testLocationLabel:"",testFormatLabel:"",writtenLabel:"",speakingLabel:"",speakingRangeLabel:[],confirmSpeakingLabel:"",selectLabel:"",continueButtonLabel:"",changeButtonLabel:"",cancelButtonLabel:""},this.testCategories=[],this.pageNo=1,this.timesofDay=[oe.Do.Morning,oe.Do.Afternoon],this.languageSkills=[oe.Nd.S],this.speaking_dates={},this.speakingSessions=[],this.SpeakingSLots=[],this.beforeTestArray=[],this.afterTestArray=[],this.sameDayArray=[],this.filteredAfterTestArray=[],this.filteredBeforeTestArray=[],this.beforeTestArrayVal=[],this.afterTestArrayVal=[],this.selectedDate=!1,this.speakingEdit=!1,this.isRedirectToNewJourney=!1,this.isEnableReCaptcha=!0,this.logoUrl=this.commonService.getUtmAndClickId("/"),this.active=2,this.innerWidth=0,this.allDatesVal=!0,this.isReferralPartner=!1,this.isQueryParams=!1,this.enablev2session=!1,this.enableProfileIcon=!1,this.enableNewHeader=!1,this.getTestModules=(_e,Lt)=>this.lrwSession?.testModule?.length>2?[this.lrwSession.testModule]:this.isReferralPartner?[_e]:this.isQueryParams?[Lt]:_e?[_e]:[this.lrwSession?.testModule],this.unload=(0,V.R)(window,"pageshow").subscribe(()=>{this.SpeakingSLots.length>0&&this.loadingService.isLoading.next(!1)})}ngOnInit(){this.commonService.getUserInfo(),this.commonService.updateCurrentStep(),this.scrollToTop(),this.initializeSharedState(),this.handleQueryParams(),this.setupBodyClass(),this.loadSpeakingDetails(),this.trackGaAndFetchData(),this.innerWidth=window.innerWidth,this.renderer.addClass(this.document.body,"noScroll")}onClickAccount(){this.commonService.signIntoAccount()}get userInitial(){return this.commonService.getUserInitial()}get isInvalidUser(){return this.commonService.isInvalidUser()}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}initializeSharedState(){this.sharedState.getState()?.pipe((0,ie.P)()).subscribe({next:Q=>{Q&&(this.isRedirectToNewJourney=!!Q.enableNewAccountUI,this.isEnableReCaptcha=!!Q.enableCaptcha,this.isReferralPartner=!!Q.isReferralPartner,this.referralPartnerId=Q?.referralPartnerId||"",this.isQueryParams=!!Q.queryParams,this.langSwitcher=!!Q.enableLanguageSwitcher,this.newPaymentJourney=!!Q.enableNewPaymentJourney,this.enableLinkedSpeaking=!!Q.enableLinkedSpeaking,this.enableNewHeader=!!Q.enableNewHeader,this.enableProfileIcon=!!Q.enableProfileIcon)}})}handleQueryParams(){this.route?.queryParams?.subscribe(Q=>{this.enablev2session="yes"==Q.enablev2session,this.queryParams=Q.externalBookableProductId||Q.speakingStartDate,void 0!==this.queryParams&&this.processQueryParams()})}processQueryParams(){if(this.sharedState?.clearLocalStorage(),this.commonService?.clearAllLocalStorage(),localStorage.removeItem("sourceUrl"),this.enableProfileIcon){const tt=this.sharedState.initialState;tt.enableProfileIcon=this.enableProfileIcon,this.sharedState.state$.next(tt)}const Q=this.document.referrer;Q&&""!==Q&&localStorage.setItem("sourceUrl",Q),this.sharedState.updateState({queryParams:!0,isReferralPartner:!1}),localStorage.removeItem("speakingDetails"),localStorage.setItem("rpLink",JSON.stringify(!1)),this.isQueryParams=!0}setupBodyClass(){this.renderer.addClass(this.document.body,"speaking")}loadSpeakingDetails(){this.ttData=this.commonService.getLocalStorageValue(J.dR.TT_DETAILS);const Q=localStorage.getItem("speakingDetails");Q&&(this.speakingDet=JSON.parse(Q),this.speakingSlots={speakingDate:this.speakingDet?.speakingDate,speakingTime:this.speakingDet?.speakingTime,nextavailable:!1,selectedTab:this.speakingDet?.selectedTab,selected:this.speakingDet?.selected,fullTime:this.speakingDet?.fullTime},this.selectedDateTime={date:this.speakingDet?.speakingDate||"",time:this.speakingDet?.speakingTime||"",tab:this.speakingDet?.selectedTab||"",fullTime:this.speakingDet?.fullTime},this.selectedDate=this.speakingDet?.selected)}trackGaAndFetchData(){this.isReferralPartner||this.isQueryParams?(this.getContentfulData(),this.callSearchApi()):this.ttData&&this.isValidTestData()?(this.getContentfulData(),this.callSearchApi(),this.commonService.trackGa4(Ce.dS.eventName.pagenav,Ce.dS.pageName.selectSpeaking)):this.commonService.clearLocalStorageValue(J.dR.TT_DETAILS)}isValidTestData(){return this.ttData?.testType&&this.ttData?.testFormat&&this.ttData?.testLocation&&this.ttData?.testDate&&this.ttData?.selectedLrw}getTestTypeValue(Q,tt){return(0,J.R)([Q,tt].join(","))}isActiveTab(Q,tt,$e,lt,nn){switch(Q){case"tab1":return this.nextBestDateTime?.date===tt&&"Before written test"!==this.filteredTab&&!this.filteredDate||this.filteredDate===tt&&"Before written test"===this.filteredTab&&!this.allDatesVal||this.filteredDate===tt&&"Before written test"===this.selectedDateTime?.tab;case"tab2":return $e===this.selectedDateTime?.i&&lt===this.selectedDateTime?.j&&"Same day"===this.selectedDateTime?.tab||"Same day"===this.nextBestDateTimeTab?.tab&&this.nextBestDateTimeTab?.time===nn&&this.nextBestDateTimeTab?.date===tt&&!this.selectedDateTime?.tab||this.selectedDateTime?.date===tt&&this.selectedDateTime?.time===nn;case"tab3":return this.nextBestDateTime?.date===tt&&"After written test"!==this.filteredTab&&!this.filteredDate||this.filteredDate===tt&&"After written test"===this.filteredTab&&!this.allDatesVal||this.filteredDate===tt&&"After written test"===this.selectedDateTime?.tab;default:return!1}}getContentfulData(){this.commonService.getContentfulDetailsApi(this.router.url),this.manageBookingService.particularPageData.subscribe(Q=>{this.commonService.isObjNotEmpty(Q)&&(this.pageData=Q,this.pageData?.labels?.forEach(tt=>{tt?.options===J.Rz.TEST_LOCATION_LABEL&&(this.labelText.testLocationLabel=tt?.displayText),tt?.options===J.Rz.TEST_FORMAT_LABEL&&(this.labelText.testFormatLabel=tt?.displayText),tt?.options===J.Rz.WRITTEN_LABEL&&(this.labelText.writtenLabel=tt?.displayText),tt?.options===J.Rz.SPEAKING_LABEL&&(this.labelText.speakingLabel=tt?.displayText),tt?.options===J.Rz.SPEAKING_RANGE_LABEL&&this.labelText.speakingRangeLabel.push(tt?.displayText),tt?.options===J.Rz.CONFIRM_SPEAKING_LABEL&&(this.labelText.confirmSpeakingLabel=tt?.displayText),tt?.options===J.Rz.SELECT_LABEL&&(this.labelText.selectLabel=tt?.displayText)}),this.pageData?.buttons?.forEach(tt=>{tt?.options===J.EK.CONTINUE_BUTTON&&(this.labelText.continueButtonLabel=tt?.displayText),tt?.options===J.EK.CHANGE_BUTTON&&(this.labelText.changeButtonLabel=tt?.displayText),tt?.options===J.EK.CANCEL_BUTTON&&(this.labelText.cancelButtonLabel=tt?.displayText)}))})}manipulateDate(Q,tt,$e){const lt=new Date(Q);return"+"===$e?lt.setDate(lt.getDate()+tt):"-"===$e&&lt.setDate(lt.getDate()-tt),lt.toISOString().slice(0,10)}callSearchApi(){let Q;this.loadingService.isLoading.next(!0),this.route.queryParamMap?.pipe((0,ie.P)(),(0,Te.b)(tt=>{const $e=this.sharedState.getState()?.pipe((0,ie.P)());return this.setQueryDates(tt),this.isQueryParamsValid(tt)?$e.pipe((0,le.U)(lt=>this.updateStateWithQueryParams(lt,tt))):$e}),(0,Te.b)(tt=>{this.state=tt,Q=tt,this.isReferralPartner=!!tt.isReferralPartner;const $e=tt?tt?.selectedLrw:this.ttData?.selectedLrw||null;this.resultUrl=tt?.isFromNewPage?window.location.origin+"/book-ielts/":tt.resultUrl,this.lrwSession=$e;const lt=this.getTestModuleValue(this.lrwSession?.testCategory,this.lrwSession?.testModule),nn=this.getTestModules(lt,tt.selectedLrw?.testModule),Bn=this.buildSessionSearchRequest(nn,this.isQueryParams||this.isReferralPartner);return this.sessionSearch.sessionSearch(Bn)}),(0,me.b)(tt=>{this.handleSearchResult(tt,Q)}),(0,ae.K)(tt=>(void 0===this.lrwSession&&this.router.navigate((0,fe.OH)(this.state)),(0,be.of)())),(0,re.x)(()=>{this.loadingService.isLoading.next(!1)})).subscribe()}setQueryDates(Q){Q.get("speakingStartDate")&&(this.qStartDate=Q.get("speakingStartDate"),this.qEndDate=Q.get("speakingEndDate"))}isQueryParamsValid(Q){return this.enablev2session?!!(Q.get("externalBookableProductId")&&Q.get("externalLocationId")&&Q.get("testLocationId")&&Q.get("testLocalTimeZone")&&Q.get("lrwStartDateTime")&&Q.get("testCategory")&&Q.get("testModule")&&Q.get("testDeliveryFormat")&&Q.get("testLocationName")&&Q.get("speakingStartDate")&&Q.get("speakingEndDate")):!!(Q.get("testLocationId")&&Q.get("externalLocationId")&&Q.get("lrwStartDateTime")&&Q.get("testLocalTimeZone")&&Q.get("externalBookableProductId")&&Q.get("testCategory")&&Q.get("testModule")&&Q.get("testDeliveryFormat")&&Q.get("testLocationName")&&Q.get("lat")&&Q.get("long"))}updateStateWithQueryParams(Q,tt){return this.setBasicStateProperties(Q,tt),this.setDateAndLocation(Q,tt),this.setSelectedLrw(Q,tt),this.setResultUrl(Q),this.sharedState.updateState(Q),Q}setBasicStateProperties(Q,tt){Q.testType=this.getTestTypeValue(tt.get("testCategory")||"",tt.get("testModule")||""),Q.testFormat=tt.get("testDeliveryFormat")||"",Q.locLabelShort=tt.get("testLocationName")||"",Q.locLabel=Q.locLabelShort}setDateAndLocation(Q,tt){tt.get("testLocalTimeZone");const lt=tt.get("lrwStartDateTime")||"",nn=new Date(lt);Q.fromDate=this.qStartDate||(0,s.ZP)(nn,"yyyy-mm-dd"),Q.toDate=this.qEndDate||Q.fromDate;const bn=parseFloat(tt.get("long")||"0"),Bn=parseFloat(tt.get("lat")||"0");Q.currentLoc=[bn,Bn]}setSelectedLrw(Q,tt){Q.selectedLrw={externalBookableProductId:tt.get("externalBookableProductId"),testLocalTimeZone:tt.get("testLocalTimeZone")||"",testLocation:this.createTestLocation(tt),testType:Q?.testType||this.getTestTypeValue(tt.get("testCategory")||"",tt.get("testModule")||""),testCategory:tt.get("testCategory")||"",testModule:this.getTestModuleValue(tt.get("testCategory")||"",tt.get("testModule")||""),testFormat:Q.testFormat,locLabelShort:Q.locLabelShort,testStartLocalDatetime:tt.get("lrwStartDateTime")||"",fromDate:Q.fromDate,toDate:Q.toDate,sessionId:this.enableLinkedSpeaking?tt.get("sessionId")||"":void 0}}createTestLocation(Q){return{id:Q.get("testLocationId")||"",externalReferenceId:Q.get("externalLocationId"),longitude:parseFloat(Q.get("long")||"0"),latitude:parseFloat(Q.get("lat")||"0"),name:Q.get("testLocationName")||""}}setResultUrl(Q){const tt=this.router.createUrlTree((0,fe.OH)(Q));Q.resultUrl=window.location.origin+this.urlSerializer?.serialize(tt)}buildSessionSearchRequest(Q,tt){return{dayOfPaperTest:0,testCategories:[this.lrwSession?.testCategory],fromTestStartDateLocal:this.getFromTestStartDateLocal(),toTestStartDateLocal:this.getToTestStartDateLocal(),linkedSessionId:this.enableLinkedSpeaking&&this.lrwSession?.sessionId?this.lrwSession.sessionId:void 0,languageSkills:this.languageSkills,order:oe.KM.A,page:this.pageNo,pageSize:0,sortBy:oe.lo.TestStartDate,testDeliveryFormats:[this.lrwSession?.testFormat],testModules:Q,timesOfDay:this.timesofDay,countryCode:tt?void 0:this.ttData?.searchFilterDetails?.testLocation?.selectedCClist?.countryCode||this.ttData?.testLocation?.countryCode||void 0,city:tt?void 0:this.ttData?.searchFilterDetails?.testLocation?.selectedCity||this.ttData?.testLocation?.cityName||void 0,testLocationIds:[this.lrwSession?.testLocation?.id]}}handleSearchResult(Q,tt){const $e=new Date(this.lrwSession?.testStartLocalDatetime),lt=new Date(this.lrwSession?.testStartLocalDatetime),nn=new Date(lt.setMinutes(lt.getMinutes()-20)),bn=new Date($e.setHours($e.getHours()+3)),Bn=this.manipulateDate(this.lrwSession?.testStartLocalDatetime.slice(0,10),7,"-"),kt=this.manipulateDate(this.lrwSession?.testStartLocalDatetime.slice(0,10),7,"+");if(Q.items&&tt.selectedLrw)if(this.enableLinkedSpeaking)this.performSpeakingSearch(Q,nn,bn,kt,Bn);else{const cn=Q.items[0].testLocation.speakingRange?.priorLrwDays||0,ft=Q.items[0].testLocation.speakingRange?.postLrwDays||0;if(this.isQueryParams&&(cn>0||ft>0)){const Ze=this.getTestModuleValue(this.lrwSession?.testCategory,this.lrwSession?.testModule),_e=(this.getTestModules(Ze,tt.selectedLrw?.testModule),this.sessionSearchwithpriorpost(cn,ft,Bn,kt));this.sessionSearch.sessionSearch(_e).subscribe(Lt=>{this.performSpeakingSearch(Q=Lt,nn,bn,kt,Bn)})}else this.performSpeakingSearch(Q,nn,bn,kt,Bn)}else this.router.navigate(["/results"])}sessionSearchwithpriorpost(Q,tt,$e,lt){return{dayOfPaperTest:0,testCategories:[this.lrwSession?.testCategory],fromTestStartDateLocal:$e,toTestStartDateLocal:lt,linkedSessionId:this.enableLinkedSpeaking&&this.lrwSession?.sessionId?this.lrwSession.sessionId:void 0,languageSkills:this.languageSkills,order:oe.KM.A,page:this.pageNo,pageSize:0,sortBy:oe.lo.TestStartDate,testDeliveryFormats:[this.lrwSession?.testFormat],testModules:this.getTestModules(this.lrwSession?.testCategory,this.lrwSession?.testModule),timesOfDay:this.timesofDay,testLocationIds:[this.lrwSession?.testLocation?.id]}}getFromTestStartDateLocal(){return this.lrwSession?.testLocation?.speakingRange?.priorLrwDays&&!this.enableLinkedSpeaking?this.manipulateDate(this.lrwSession?.testStartLocalDatetime?.slice(0,10),this.lrwSession.testLocation.speakingRange.priorLrwDays,"-"):!this.enablev2session&&this.isQueryParams?this.lrwSession?.fromDate:this.lrwSession?.testStartLocalDatetime?.slice(0,10)}getToTestStartDateLocal(){return this.lrwSession?.testLocation?.speakingRange?.postLrwDays&&!this.enableLinkedSpeaking?this.manipulateDate(this.lrwSession?.testStartLocalDatetime?.slice(0,10),this.lrwSession.testLocation.speakingRange.postLrwDays,"+"):!this.enablev2session&&this.isQueryParams?this.lrwSession?.toDate:this.lrwSession?.testStartLocalDatetime?.slice(0,10)}performSpeakingSearch(Q,tt,$e,lt,nn){this.SpeakingSLots=Q.items.filter(bn=>-1!==bn.languageSkills?.indexOf("S")&&bn.testLocation?.id===this.lrwSession?.testLocation?.id).map(bn=>({...bn,testStartLocalDatetime:bn.testStartLocalDatetime&&bn.testStartLocalDatetime.length>6?bn.testStartLocalDatetime.substring(0,bn.testStartLocalDatetime.length-6):""})),this.SpeakingSLots.forEach(bn=>{const Bn=new Date(this.lrwSession?.testStartLocalDatetime),kt=new Date(bn.testStartLocalDatetime);kt.getDate()===Bn.getDate()&&kt.getMonth()===Bn.getMonth()&&kt.getFullYear()===Bn.getFullYear()?(kt<=tt||kt>=$e)&&this.speakingSessions.push(bn):this.speakingSessions.push(bn)}),this.speakingSessions=(0,fe.kx)([...this.speakingSessions]),this.extractedDate=this.speakingSessions.map(bn=>({testStartLocalDatetime:bn.testStartLocalDatetime})),this.extractedDate&&this.extractedDate?.forEach(bn=>{const Bn=bn.testStartLocalDatetime.slice(0,10),kt=bn.testStartLocalDatetime.slice(11,19);this.speaking_dates[Bn]||(this.speaking_dates[Bn]=[]),this.speaking_dates[Bn].push(kt);const cn=Object.keys(this.speaking_dates),ft=new Date(Math.min(...cn.map(_e=>new Date(_e).getTime()))),Ze=new Date(Math.max(...cn.map(_e=>new Date(_e).getTime())));this.getDatesBetween(ft,Ze)?.forEach(_e=>{this.speaking_dates[_e]||(this.speaking_dates[_e]=[])}),Object.keys(this.speaking_dates)?.sort().forEach(_e=>{const Lt=this.speaking_dates[_e],gn=bn.testStartLocalDatetime;_e===this.lrwSession?.testStartLocalDatetime.slice(0,10)?this.dateExists(_e,this.sameDayArray)||this.sameDayArray.push({date:_e,times:[{time:Lt,fullTime:gn}]}):_e>this.lrwSession?.testStartLocalDatetime.slice(0,10)&&_e<=lt?this.dateExists(_e,this.afterTestArray)||(this.afterTestArray.push({date:_e,times:[{time:Lt,fullTime:gn}]}),this.afterTestArrayVal.push({date:_e,times:[{time:Lt,fullTime:Lt&&Lt.length>0?bn.testStartLocalDatetime:`${_e}${bn.testStartLocalDatetime.substring(10)}`}]})):this.dateExists(_e,this.beforeTestArray)||_e<this.lrwSession?.testStartLocalDatetime.slice(0,10)&&_e>=nn&&(this.beforeTestArray.push({date:_e,times:[{time:Lt,fullTime:gn}]}),this.beforeTestArrayVal.push({date:_e,times:[{time:Lt,fullTime:Lt&&Lt.length>0?bn.testStartLocalDatetime:`${_e}${bn.testStartLocalDatetime.substring(10)}`}]}))})}),this.getNextBestAvailable()}handleClick(Q){this.isReferralPartner&&Q.preventDefault()}getTestModuleValue(Q,tt){return(0,fe.Ds)([Q,tt].join(","))}getDatesBetween(Q,tt){const $e=[],lt=new Date(Q);for(;lt<=tt;)$e.push(lt.toISOString().split("T")[0]),lt.setDate(lt.getDate()+1);return $e}filterSessionDates(Q,tt,$e){this.filteredDate=Q,this.filteredTab=tt,this.allDatesVal=$e,tt!==J.c9.AFTER_WRITTEN_TEST||$e?tt!==J.c9.BEFORE_WRITTEN_TEST||$e?(this.afterTestArray=this.afterTestArrayVal,this.beforeTestArray=this.beforeTestArrayVal):this.beforeTestArray=this.beforeTestArrayVal.filter(lt=>lt.date===Q):this.afterTestArray=this.afterTestArrayVal.filter(lt=>lt.date===Q)}getNextBestAvailable(){let Q=!1;if(this.nextBestDateTime=void 0,!Q&&this.sameDayArray[0]?.times[0].time?.length>0){const tt=this.lrwSession?.testStartLocalDatetime?.slice(11,16),$e=this.findNearestTime(tt);this.nextBestDateTime={date:this.sameDayArray[0].date.length?this.sameDayArray[0].date:null,time:$e,tab:J.c9.SAME_DAY,fullTime:this.sameDayArray[0].times[0].fullTime},this.nextBestDateTimeTab=this.nextBestDateTime,Q=!0,this.selectedDate=!!this.speakingDet?.selected}if(!Q&&this.afterTestArray.length>0){const tt=this.afterTestArray.find($e=>$e?.times?.length>0&&$e?.times[0]?.time?.length>0);tt&&(this.nextBestDateTime={date:tt.date,time:tt.times[0].time[0],tab:J.c9.AFTER_WRITTEN_TEST,fullTime:tt.times[0].fullTime},this.nextBestDateTimeTab=this.nextBestDateTime,Q=!0,this.selectedDate=!!this.speakingDet?.selected)}if(!Q&&this.beforeTestArray.length>0){const tt=this.beforeTestArray.slice().reverse(),$e=tt.find(lt=>lt?.times?.length>0&&lt?.times[0]?.time?.length>0);$e&&(tt.indexOf($e),this.nextBestDateTime={date:$e.date,time:$e.times.length>0?$e.times[0].time[0]:null,tab:J.c9.BEFORE_WRITTEN_TEST,fullTime:$e.times[0].fullTime},this.nextBestDateTimeTab=this.nextBestDateTime,Q=!0,this.selectedDate=!!this.speakingDet?.selected)}Q||(this.nextBestDateTime={date:null,time:null,tab:null,fullTime:null},document.getElementById("speakingedit")?.classList.add("hide"),document.getElementById("test")?.classList.add("show"),this.innerWidth<1024?document.getElementById("test1")?.classList.add("hide"):document.getElementById("test1")?.classList.add("show")),this.speakingSlots={speakingDate:this.selectedDate||!this.speakingDet?.nextavailable?this.selectedDateTime?.date:this.nextBestDateTime?.date,speakingTime:this.selectedDate||!this.speakingDet?.nextavailable?this.selectedDateTime?.time:this.nextBestDateTime?.time,nextavailable:this.speakingDet?.speakingDate===this.nextBestDateTime?.date&&this.speakingDet?.speakingTime===this.nextBestDateTime?.time&&!this.selectedDate,selectedTab:this.speakingDet?.selectedTab,selected:this.speakingDet?.selected,fullTime:this.selectedDate||!this.speakingDet?.nextavailable?this.selectedDateTime?.fullTime:this.nextBestDateTime?.fullTime},this.filterSessionDates(this.speakingDet?.speakingDate,this.speakingDet?.selectedTab,!1),localStorage.setItem("speakingDetails",JSON.stringify(this.speakingSlots))}findNearestTime(Q){const tt=this.convertToMinutes(Q);let $e=this.sameDayArray[0]&&this.sameDayArray[0]?.times[0]?.time[0]?this.sameDayArray[0]?.times[0]?.time[0]:"",lt=Math.abs(tt-this.convertToMinutes($e));for(const nn of this.sameDayArray[0]?.times[0]?.time){const bn=this.convertToMinutes(nn),Bn=Math.abs(tt-bn);Bn<lt&&($e=nn,lt=Bn)}return $e}convertToMinutes(Q){if(!Q)return 0;const[tt,$e,lt]=Q?.split(":").map(Number);return 60*tt+$e}onResize(){this.innerWidth=window.innerWidth}formatTime(Q){if(Q){const[tt,$e]=Q?.split(":"),lt=+tt%24;return(lt%12||12)+":"+$e+(lt<12?" AM ":" PM ")}return""}dateExists(Q,tt){return tt.some($e=>$e.date===Q)}toggleClass(Q){this.speakingEdit=!0,this.nav.select(this.nextBestDateTime&&this.sameDayArray[0]?.times[0]?.time?.length&&this.nextBestDateTime.tab===J.c9.SAME_DAY&&!this.selectedDateTime||this.selectedDateTime&&this.selectedDateTime.tab===J.c9.SAME_DAY?2:this.nextBestDateTime&&this.nextBestDateTime.tab===J.c9.AFTER_WRITTEN_TEST&&!this.selectedDateTime||this.selectedDateTime&&this.selectedDateTime.tab===J.c9.AFTER_WRITTEN_TEST?3:this.nextBestDateTime&&this.nextBestDateTime.tab===J.c9.BEFORE_WRITTEN_TEST&&!this.selectedDateTime||this.selectedDateTime&&this.selectedDateTime.tab===J.c9.BEFORE_WRITTEN_TEST?1:this.sameDayArray[0]?.times[0]?.time?.length?2:this.afterTestArray.length?3:this.beforeTestArray.length?1:2),document.getElementById("test")?.classList.add("show"),document.getElementById("speakingedit")?.classList.remove("show"),document.getElementById("speakingedit")?.classList.add("hide"),"mobile"===Q&&(document.getElementById("test1")?.classList.add("hide"),document.getElementById("test2")?.classList.add("hide"),document.getElementById("footer")?.classList.add("hide"),document.getElementById("select-time-pod")?.classList.add("add-height"),window.scroll({top:0,left:0,behavior:"smooth"}))}toggleClass2(Q,tt,$e,lt,nn,bn){this.selectedDateTime={date:lt,time:$e,tab:nn,i:Q,j:tt,fullTime:bn},this.nextBestDateTimeTab={date:null,time:null,tab:null,fullTime:null},this.filteredDate=lt,this.filteredTab=nn,this.allDatesVal=!1,this.speakingDateTime=this.selectedDateTime?.date+"T"+this.selectedDateTime.time,this.selectedDate=!0,this.speakingEdit=!1,this.speakingSlots={speakingDate:this.selectedDate?this.selectedDateTime?.date:this.nextBestDateTime?.date,speakingTime:this.selectedDate?this.selectedDateTime?.time:this.nextBestDateTime?.time,nextavailable:!1,selectedTab:nn,selected:this.selectedDate,fullTime:this.selectedDate?this.selectedDateTime?.fullTime:this.nextBestDateTime?.fullTime},localStorage.setItem("speakingDetails",JSON.stringify(this.speakingSlots)),this.filterSessionDates(lt,nn,!1),document.getElementById("test")?.classList.remove("show"),document.getElementById("speakingedit")?.classList.remove("hide"),document.getElementById("test1")?.classList.remove("hide"),document.getElementById("test2")?.classList.remove("hide"),document.getElementById("footer")?.classList.remove("hide"),document.getElementById("select-time-pod")?.classList.remove("add-height")}formatDate(Q,tt){return Q&&tt?(0,s.ZP)(new Date(Q),tt):""}reviewBooking(){var Q=this;return(0,a.Z)(function*(){const tt=localStorage.getItem("sourceUrl");Q.loadingService.isLoading.next(!0);const $e=Q.router.createUrlTree(["book-ielts","speaking"]);Q.commonService.trackGa4(Ce.dS.eventName.eventsGa4,Q.pageData?.pageName,Ce.dS.category.continueButton);const lt=JSON.parse(sessionStorage.getItem(J.cf.UTM_VALUE)||"{}"),nn=Q.cookieService.get(J.RY.CLICK_ID_VALUE)??"";let bn={s2s_fbc:"",s2s_fbp:"",s2s_ga:"",s2s_gac:""};if(nn){const ft=new URLSearchParams(nn);bn={s2s_fbc:ft.get("s2s_fbc")??"",s2s_fbp:ft.get("s2s_fbp")??"",s2s_ga:ft.get("s2s_ga")??"",s2s_gac:ft.get("s2s_gac")??""}}let Bn=Q.resultUrl;Q.isQueryParams&&(Bn=null!==tt?tt:void 0),Q.isReferralPartner&&(Bn=window.location.origin+tt),Q.speakingDateTime=Q.selectedDate?Q.selectedDateTime?.date+"T"+Q.selectedDateTime?.time:Q.nextBestDateTime?.date+"T"+Q.nextBestDateTime?.time;const cn=(0,c.buildUrl)(Ue.site.bookingURL,{path:"booking/confirmation",queryParams:{productId:Q.lrwSession?.externalBookableProductId,lrwStartDateTime:Q.lrwSession?.testStartLocalDatetime,speakingStartDateTime:Q.speakingDateTime,testLocationId:Q.lrwSession?.testLocation.externalReferenceId,testLocalTimeZone:Q.lrwSession?.testLocalTimeZone,returnUrl:window.location.origin+Q.urlSerializer.serialize($e),lrwUrl:Bn,tm:Q.lrwSession?.testModule,tf:Q.lrwSession?.testFormat,tc:Q.lrwSession?.testCategory,tv:Q.lrwSession?.testLocation.name,ui:Q.isRedirectToNewJourney?"new":"legacy",rc:Q.isEnableReCaptcha?"test":"pass",rpt:Q.referralPartnerId,newPayment:Q.newPaymentJourney?"enabled":"disabled",u_src:lt?.u_src,u_mdm:lt?.u_mdm,u_cmp:lt?.u_cmp,u_id:lt?.u_id,u_trm:lt?.u_trm,u_cnt:lt?.u_cnt,...bn?.s2s_fbc&&{s2s_fbc:bn.s2s_fbc},...bn?.s2s_fbp&&{s2s_fbp:bn.s2s_fbp},...bn?.s2s_ga&&{s2s_ga:bn.s2s_ga},...bn?.s2s_gac&&{s2s_gac:bn.s2s_gac},referrerUrl:Q.commonService.isObjNotEmpty(lt)&&document.referrer||void 0,currentStep:Q.commonService.currentStep}});Q.enableProfileIcon?(yield Q.commonService?.getToken())?window.location.href=cn:(Q.commonService.setSsoCookie("previousPageUrl",window.location.href),Q.commonService.setSsoCookie("referrerUrl",cn),window.location.href=Ue?.site?.oneAccountUrl):window.location.href=cn})()}ngOnDestroy(){this.renderer.removeClass(this.document.body,"speaking"),this.loadingService?.title$.next(""),this.unload?.unsubscribe(),this.renderer.removeClass(this.document.body,"noScroll")}backToSpeaking(){this.speakingEdit=!1,document.getElementById("test")?.classList.remove("show"),document.getElementById("test1")?.classList.remove("hide"),document.getElementById("test2")?.classList.remove("hide"),document.getElementById("speakingedit")?.classList.remove("hide"),document.getElementById("footer")?.classList.remove("hide"),document.getElementById("test")?.classList.add("hide"),document.getElementById("test1")?.classList.add("show"),document.getElementById("test2")?.classList.add("show"),document.getElementById("speakingedit")?.classList.add("show"),document.getElementById("footer")?.classList.add("show"),document.getElementById("select-time-pod")?.classList.remove("add-height")}changeLink(){const Q=localStorage.getItem("sourceUrl");Q&&this.isQueryParams?window.location.href=Q:this.router.navigate(Q&&this.isReferralPartner?[Q]:["/book-ielts"])}static#e=this.\u0275fac=function(tt){return new(tt||Ge)(A.Y36(pe.v),A.Y36(ge.h),A.Y36(pt.F0),A.Y36(oe.uw),A.Y36(Pe.G),A.Y36(pt.Hx),A.Y36(Be.b),A.Y36(pt.gz),A.Y36(A.Qsj),A.Y36(ke.Ye),A.Y36(ke.K0),A.Y36(rt.N_))};static#t=this.\u0275cmp=A.Xpm({type:Ge,selectors:[["app-new-select-speaking"]],viewQuery:function(tt,$e){if(1&tt&&A.Gf(wt,5),2&tt){let lt;A.iGM(lt=A.CRH())&&($e.nav=lt.first)}},hostBindings:function(tt,$e){1&tt&&A.NdJ("resize",function(nn){return $e.onResize(nn)},!1,A.Jf7)},standalone:!0,features:[A.jDz],decls:101,vars:41,consts:[[1,"header-container","d-flex","align-items-center","justify-content-between"],[1,"header-logo"],["target","_blank","title","IDP IELTS","rel","noopener",1,"new-logo",3,"click"],[3,"src","alt"],[1,"header-steps-wrapper","d-flex","d-none","d-lg-flex",3,"ngClass"],[1,"header-steps-gray-line"],[1,"header-steps-red-line"],[1,"header-steps","d-flex","flex-column","align-items-start","active"],[1,"header-steps-circle"],["class","header-steps-description",4,"ngIf"],[1,"header-steps","d-flex","flex-column","align-items-center"],[1,"header-steps-description"],["class","header-steps d-flex flex-column align-items-center",4,"ngIf"],[1,"header-steps","d-flex","flex-column","align-items-end"],[1,"language-profile-container","d-flex","align-items-center","justify-content-end"],[3,"pageData",4,"ngIf"],[4,"ngIf"],["id","test2",1,"mob-secondary-header","flex-column","d-lg-none"],["class","text-center",4,"ngIf"],[1,"mobile-progress-indicator-wrapper","d-flex","flex-column","ng-star-inserted"],[1,"mobile-progress-indicator-inner-wrapper","d-flex",3,"ngClass"],[1,"active"],["id","select-time-pod",1,"spaking-content-wrapper"],[1,"speaking-content-container"],[1,"test-details-container","d-flex","flex-column"],["id","test1",1,"test-details-wrapper","flex-column"],[1,"test-deatils-pod","d-flex","flex-column"],[1,"test-name"],[1,"test-description","d-flex","flex-column","flex-lg-row"],[1,"location","d-flex","flex-column","justify-content-center"],[1,"test-location-heading","d-none","d-lg-block"],[1,"test-location","d-flex"],[1,"d-lg-none"],["src","/assets/images/institute-icon.svg","alt","building-icon"],[1,"format","d-flex","flex-column","justify-content-center"],[1,"test-location-format","d-none","d-lg-block"],[1,"test-format","d-flex"],["src","/assets/images/onComputer.svg","alt","onComputer-icon"],[1,"session-time-pod","d-flex","flex-column"],[1,"session-time-headings","d-flex","flex-column"],[1,"session-time-heading"],[1,"session-time-container-wrapper","d-flex"],[1,"session-time-container","d-flex","align-items-center"],[1,"time-date"],[1,"time"],[1,"date"],[1,"session-time-update"],[1,"session-change","d-none","d-lg-block",3,"click"],[1,"session-edit","d-block","d-lg-none",3,"click"],["class","speaking session-time-pod flex-column","id","speakingedit",3,"ngClass",4,"ngIf"],["id","test",1,"speaking-test-date-selection-container","flex-column",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-lg-none",3,"click"],["src","/assets/images/left-arrow.svg","alt","left-arrow"],["ngbNav","",1,"nav-tabs","d-flex","justify-content-lg-center","justify-content-between",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavOutlet"],["id","footer",1,"footer-container","align-items-center"],[1,"back-session-container"],[1,"back-to-session","d-flex","align-items-center",3,"click"],[3,"disabled","click"],[3,"pageData"],[1,"userIcon",3,"ngClass","title","click"],["src","/assets/images/user-icon.svg","alt","userIcon","width","24","height","24",1,"userimage","w-100","h-100"],["class","user",4,"ngIf"],[1,"user"],[1,"text-center"],["id","speakingedit",1,"speaking","session-time-pod","flex-column",3,"ngClass"],[1,"session-time-subheading"],[1,"time","d-flex","align-items-center"],["class","next-best d-block d-lg-none",4,"ngIf"],["class","next-best d-none d-lg-block",4,"ngIf"],[1,"next-best","d-block","d-lg-none"],[1,"next-best","d-none","d-lg-block"],[3,"ngbNavItem"],["ngbNavLink","","aria-selected","false",1,"d-flex","flex-column","justify-content-between"],["ngbNavContent",""],[1,"select-date-tab-content-container","d-flex","flex-column"],[1,"select-time-pod-container","d-flex","flex-column"],[1,"select-time-calender-container"],["class","d-flex",4,"ngIf"],["class","select-date-time-pods d-flex flex-column",4,"ngFor","ngForOf"],["class","empty-session-container d-flex flex-column align-items-center justify-content-center text-center",4,"ngIf"],[1,"d-flex"],[1,"all-date","d-flex","flex-column","justify-content-center",3,"click"],["class","d-flex flex-column justify-content-center",3,"ngClass","disabled","click",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","justify-content-center",3,"ngClass","click"],[1,"day"],[1,"date-month"],[1,"month"],[1,"select-date-time-pods","d-flex","flex-column"],["class","date",4,"ngIf"],["class","select-time-pods d-flex flex-wrap",4,"ngIf"],[1,"select-time-pods","d-flex","flex-wrap"],["class","select-time-pod-wrapper d-flex flex-column",4,"ngFor","ngForOf"],[1,"select-time-pod-wrapper","d-flex","flex-column"],[1,"select-time-pod","d-flex","justify-content-between",3,"ngClass","click"],["class","seltect-time-next-best d-lg-none",4,"ngIf"],["class","d-none d-lg-block desk",4,"ngIf"],[1,"seltect-time-next-best","d-lg-none"],[1,"d-none","d-lg-block","desk"],[1,"empty-session-container","d-flex","flex-column","align-items-center","justify-content-center","text-center"],["src","/assets/images/Empty-session-logo.svg","alt","Empty-session-logo"],[1,"description","d-flex","flex-column","align-items-center","justify-content-center"],["ngbNavLink","",1,"d-flex","flex-column","justify-content-between"],["class","select-time-pods d-flex flex-wrap",4,"ngFor","ngForOf"],[1,"select-time-pod","d-flex","justify-content-between",3,"ngClass","id","click"]],template:function(tt,$e){if(1&tt&&(A.TgZ(0,"header")(1,"div",0)(2,"div",1)(3,"a",2),A.NdJ("click",function(nn){return $e.handleClick(nn)}),A._UZ(4,"img",3),A.qZA()(),A.TgZ(5,"div",4),A._UZ(6,"div",5)(7,"div",6),A.TgZ(8,"div",7),A._UZ(9,"div",8),A.YNc(10,It,2,0,"div",9),A.YNc(11,Ie,2,0,"div",9),A.qZA(),A.TgZ(12,"div",10),A._UZ(13,"div",8),A.TgZ(14,"div",11),A._uU(15," Account "),A.qZA()(),A.TgZ(16,"div",10),A._UZ(17,"div",8),A.TgZ(18,"div",11),A._uU(19," Review "),A.qZA()(),A.TgZ(20,"div",10),A._UZ(21,"div",8),A.YNc(22,L,2,0,"div",9),A.YNc(23,Oe,2,0,"div",9),A.qZA(),A.YNc(24,ut,4,0,"div",12),A.TgZ(25,"div",13),A._UZ(26,"div",8),A.YNc(27,Nt,2,0,"div",9),A.YNc(28,an,2,0,"div",9),A.qZA()(),A.TgZ(29,"div",14),A.YNc(30,bt,1,1,"app-language-switcher",15),A.YNc(31,jt,4,3,"ng-container",16),A.ALo(32,"async"),A.qZA()(),A.TgZ(33,"div",17),A.YNc(34,gt,2,0,"h2",18),A.YNc(35,yt,2,0,"h2",18),A.TgZ(36,"div",19)(37,"div",20),A._UZ(38,"div",21)(39,"div")(40,"div")(41,"div")(42,"div"),A.qZA()()()(),A.TgZ(43,"div",22)(44,"div",23)(45,"div",24)(46,"div",25)(47,"div",26)(48,"h2",27),A._uU(49),A.qZA(),A.TgZ(50,"div",28)(51,"div",29)(52,"p",30),A._uU(53),A.qZA(),A.TgZ(54,"p",31)(55,"span",32),A._UZ(56,"img",33),A.qZA(),A._uU(57),A.qZA()(),A.TgZ(58,"div",34)(59,"p",35),A._uU(60),A.qZA(),A.TgZ(61,"p",36)(62,"span",32),A._UZ(63,"img",37),A.qZA(),A._uU(64),A.qZA()()()(),A.TgZ(65,"div",38)(66,"div",39)(67,"h3",40),A._uU(68),A.qZA()(),A.TgZ(69,"div",41)(70,"div",42)(71,"div",43)(72,"p",44),A._uU(73),A.qZA(),A.TgZ(74,"p",45),A._uU(75),A.qZA()(),A.TgZ(76,"div",46)(77,"a",47),A.NdJ("click",function(){return $e.changeLink()}),A._uU(78),A.qZA(),A.TgZ(79,"a",48),A.NdJ("click",function(){return $e.changeLink()}),A._uU(80),A.qZA()()()()(),A.YNc(81,Zt,21,11,"div",49),A.qZA(),A.TgZ(82,"div",50)(83,"h3",51)(84,"span",52),A.NdJ("click",function(){return $e.backToSpeaking()}),A._UZ(85,"img",53),A.qZA(),A._uU(86,"Select a new Speaking test"),A._UZ(87,"span"),A.qZA(),A.TgZ(88,"ul",54,55),A.NdJ("activeIdChange",function(nn){return $e.active=nn}),A.YNc(90,Vt,4,2,"li",56),A.YNc(91,ti,4,2,"li",56),A.YNc(92,Bt,4,2,"li",56),A.qZA(),A._UZ(93,"div",57),A.qZA()()()(),A.TgZ(94,"footer")(95,"div",58)(96,"div",59)(97,"a",60),A.NdJ("click",function(){return $e.changeLink()}),A._uU(98),A.qZA()(),A.TgZ(99,"button",61),A.NdJ("click",function(){return $e.reviewBooking()}),A._uU(100),A.qZA()()()),2&tt){const lt=A.MAs(89);A.xp6(3),A.uIk("href",$e.isReferralPartner?"javascript:void(0)":$e.logoUrl,A.LSH),A.xp6(1),A.s9C("src",null==$e.pageData||null==$e.pageData.image?null:$e.pageData.image.url,A.LSH),A.s9C("alt",null==$e.pageData?null:$e.pageData.image.title),A.xp6(1),A.Q6J("ngClass",$e.enableNewHeader?"newHeader":""),A.xp6(5),A.Q6J("ngIf",!$e.enableNewHeader),A.xp6(1),A.Q6J("ngIf",$e.enableNewHeader),A.xp6(11),A.Q6J("ngIf",!$e.enableNewHeader),A.xp6(1),A.Q6J("ngIf",$e.enableNewHeader),A.xp6(1),A.Q6J("ngIf",$e.enableNewHeader),A.xp6(3),A.Q6J("ngIf",!$e.enableNewHeader),A.xp6(1),A.Q6J("ngIf",$e.enableNewHeader),A.xp6(2),A.Q6J("ngIf",$e.langSwitcher&&(null==$e.pageData||null==$e.pageData.languages?null:$e.pageData.languages.length)),A.xp6(1),A.Q6J("ngIf",$e.enableProfileIcon&&!A.lcZ(32,39,$e.commonService.loading$)),A.xp6(3),A.Q6J("ngIf",!$e.enableNewHeader),A.xp6(1),A.Q6J("ngIf",$e.enableNewHeader),A.xp6(2),A.Q6J("ngClass",$e.enableNewHeader?"newHeader":""),A.xp6(12),A.hij("",$e.getTestTypeValue(null==$e.lrwSession?null:$e.lrwSession.testCategory,null==$e.lrwSession?null:$e.lrwSession.testModule)||(null==$e.lrwSession?null:$e.lrwSession.testType)||(null==$e.ttData?null:$e.ttData.testType)," "),A.xp6(4),A.Oqu(null==$e.labelText?null:$e.labelText.testLocationLabel),A.xp6(4),A.Oqu(null==$e.lrwSession||null==$e.lrwSession.testLocation?null:$e.lrwSession.testLocation.name),A.xp6(3),A.Oqu(null==$e.labelText?null:$e.labelText.testFormatLabel),A.xp6(4),A.Oqu("CD"===(null==$e.lrwSession?null:$e.lrwSession.testFormat)?"On Computer":"IOL"===(null==$e.lrwSession?null:$e.lrwSession.testFormat)?"Online":"On Paper"),A.xp6(4),A.Oqu(null==$e.labelText?null:$e.labelText.writtenLabel),A.xp6(5),A.AsE("",$e.formatDate(null==$e.lrwSession?null:$e.lrwSession.testStartLocalDatetime,"h:MM")," ",$e.formatDate(null==$e.lrwSession?null:$e.lrwSession.testStartLocalDatetime,"TT"),""),A.xp6(2),A.lnq("",$e.formatDate(null==$e.lrwSession?null:$e.lrwSession.testStartLocalDatetime,"dddd"),", ",$e.formatDate(null==$e.lrwSession?null:$e.lrwSession.testStartLocalDatetime,"dd")," ",$e.formatDate(null==$e.lrwSession?null:$e.lrwSession.testStartLocalDatetime,"mmmm"),""),A.xp6(3),A.Oqu(null==$e.labelText?null:$e.labelText.changeButtonLabel),A.xp6(2),A.Oqu(null==$e.labelText?null:$e.labelText.changeButtonLabel),A.xp6(1),A.Q6J("ngIf",$e.SpeakingSLots.length>0),A.xp6(1),A.Q6J("ngClass",null!=$e.nextBestDateTime&&$e.nextBestDateTime.date?"hide":"show"),A.xp6(6),A.Q6J("activeId",$e.active),A.xp6(2),A.Q6J("ngIf",null==$e.beforeTestArray?null:$e.beforeTestArray.length),A.xp6(1),A.Q6J("ngIf",!(null!=$e.beforeTestArray&&$e.beforeTestArray.length)&&!(null!=$e.afterTestArray&&$e.afterTestArray.length)&&!(null!=$e.sameDayArray[0]&&null!=$e.sameDayArray[0].times[0].time&&$e.sameDayArray[0].times[0].time.length)||(null==$e.sameDayArray[0]||null==$e.sameDayArray[0].times[0]||null==$e.sameDayArray[0].times[0].time?null:$e.sameDayArray[0].times[0].time.length)),A.xp6(1),A.Q6J("ngIf",null==$e.afterTestArray?null:$e.afterTestArray.length),A.xp6(1),A.Q6J("ngbNavOutlet",lt),A.xp6(5),A.hij(" ",$e.labelText.cancelButtonLabel," "),A.xp6(1),A.Q6J("disabled",$e.speakingEdit||!(null!=$e.nextBestDateTime&&$e.nextBestDateTime.date)),A.xp6(1),A.hij(" ",$e.labelText.continueButtonLabel," ")}},dependencies:[ke.ez,ke.mk,ke.sg,ke.O5,ke.Ov,we.a,he.IJ,he.uN,he.Pz,he.nv,he.Is,he.Vx,he.tO,he.Dy,he.Oz],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}  app-new-session{flex-grow:1;width:100%}  body.speaking{overflow:hidden}  .app-new-select-speaking{display:block;height:100%}[_nghost-%COMP%]{flex-grow:1}body.rtl[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .back-session-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{transform:rotate(180deg);border-radius:2.0909090909rem;text-align:center}body[_ngcontent-%COMP%]   .spaking-content-wrapper[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]   .select-time-pod[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{direction:ltr}header[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;background:white;z-index:5}.header-container[_ngcontent-%COMP%]{padding:.6666666667rem 1.1111111111rem;gap:1.3333333333rem;border-bottom:.0555555556rem solid rgba(135,135,135,.25);height:2.7222222222rem}.header-container[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]{width:5.2222222222rem;height:.8888888889rem}.header-container[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;display:block}.header-container[_ngcontent-%COMP%]   .navigations-wrapper[_ngcontent-%COMP%]{flex-grow:1}.header-container[_ngcontent-%COMP%]   .navigations-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none;gap:.8888888889rem}.header-container[_ngcontent-%COMP%]   .navigations-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:1.3333333333rem;height:1.3333333333rem}.header-container[_ngcontent-%COMP%]   .navigations-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}.header-container[_ngcontent-%COMP%]   .navigations-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:100%;object-fit:contain}.header-container[_ngcontent-%COMP%]   .header-steps-wrapper[_ngcontent-%COMP%]{position:relative;max-width:34.9090909091rem;width:100%}.header-container[_ngcontent-%COMP%]   .header-steps-wrapper[_ngcontent-%COMP%]   .header-steps[_ngcontent-%COMP%]{gap:.1818181818rem;min-width:6.9818181818rem}.header-container[_ngcontent-%COMP%]   .header-steps-wrapper[_ngcontent-%COMP%]   .header-steps[_ngcontent-%COMP%]   .header-steps-circle[_ngcontent-%COMP%]{width:1.0909090909rem;height:1.0909090909rem;border-radius:50%;border:.0909090909rem solid #878787;position:relative;background-color:#fff}.header-container[_ngcontent-%COMP%]   .header-steps-wrapper[_ngcontent-%COMP%]   .header-steps[_ngcontent-%COMP%]   .header-steps-description[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:.9090909091rem;font-weight:600;color:#6b6b6b}.header-container[_ngcontent-%COMP%]   .header-steps-wrapper[_ngcontent-%COMP%]   .header-steps.active[_ngcontent-%COMP%]   .header-steps-circle[_ngcontent-%COMP%]{background:#E31837;border:.0909090909rem solid #E31837}.header-container[_ngcontent-%COMP%]   .header-steps-wrapper[_ngcontent-%COMP%]   .header-steps.active[_ngcontent-%COMP%]   .header-steps-description[_ngcontent-%COMP%]{color:#333541}.header-container[_ngcontent-%COMP%]   .header-steps-wrapper[_ngcontent-%COMP%]   .header-steps-gray-line[_ngcontent-%COMP%]{position:absolute;width:100%;top:.5454545455rem;height:.1818181818rem;opacity:.15;background-color:#878787;transform:translateY(-50%)}.header-container[_ngcontent-%COMP%]   .header-steps-wrapper[_ngcontent-%COMP%]   .header-steps-red-line[_ngcontent-%COMP%]{position:absolute;top:.5454545455rem;height:.1818181818rem;background-color:#e31837;transform:translateY(-50%)}.header-container[_ngcontent-%COMP%]   .header-steps-wrapper.newHeader[_ngcontent-%COMP%]   .header-steps[_ngcontent-%COMP%]{min-width:5.7727272727rem}.header-container[_ngcontent-%COMP%]   .header-steps-wrapper.newHeader[_ngcontent-%COMP%]   .header-steps[_ngcontent-%COMP%]:last-child{min-width:6rem}.header-container[_ngcontent-%COMP%]   .language-profile-container[_ngcontent-%COMP%]{min-width:7.2727272727rem;gap:.7272727273rem}.header-container[_ngcontent-%COMP%]   .language-profile-container[_ngcontent-%COMP%]   .userIcon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:transparent;border:none;width:1.3333333333rem;height:1.3333333333rem}.header-container[_ngcontent-%COMP%]   .language-profile-container[_ngcontent-%COMP%]   .userIcon[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{font-weight:600;font-size:.7777777778rem;line-height:.8888888889rem;display:none}.header-container[_ngcontent-%COMP%]   .language-profile-container[_ngcontent-%COMP%]   .userIcon.loggedIn[_ngcontent-%COMP%]{background:#333541;border-radius:50%;color:#fff}.header-container[_ngcontent-%COMP%]   .language-profile-container[_ngcontent-%COMP%]   .userIcon.loggedIn[_ngcontent-%COMP%]   .userimage[_ngcontent-%COMP%]{display:none}.header-container[_ngcontent-%COMP%]   .language-profile-container[_ngcontent-%COMP%]   .userIcon.loggedIn[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex}.header-container[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]{min-width:7.2727272727rem}.header-container[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-radius:50%;background-color:#333541;width:1.4545454545rem;height:1.4545454545rem;font-size:.7272727273rem;line-height:.9090909091rem;color:#fff;display:none}.mob-secondary-header[_ngcontent-%COMP%]{padding:.8888888889rem 1.3333333333rem;gap:.5555555556rem;display:flex}.mob-secondary-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#000;font-weight:600;font-size:1rem;line-height:1.1111111111rem}.mob-secondary-header[_ngcontent-%COMP%]   .mobile-progress-indicator-inner-wrapper[_ngcontent-%COMP%]{gap:.4444444444rem}.mob-secondary-header[_ngcontent-%COMP%]   .mobile-progress-indicator-inner-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:.3333333333rem;background-color:#878787;width:20%;border-radius:.0555555556rem}.mob-secondary-header[_ngcontent-%COMP%]   .mobile-progress-indicator-inner-wrapper[_ngcontent-%COMP%]   div.active[_ngcontent-%COMP%]{background-color:#a61242}.mob-secondary-header[_ngcontent-%COMP%]   .mobile-progress-indicator-inner-wrapper.newHeader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:16.66%}.mob-secondary-header.hide[_ngcontent-%COMP%]{display:none}.footer-container[_ngcontent-%COMP%]{background-color:#fff;padding:1.3333333333rem;border-radius:.8888888889rem .8888888889rem 0;box-shadow:0 -.2222222222rem .8333333333rem #0000001a;gap:1.3333333333rem;display:flex;position:fixed;bottom:0;width:100%;z-index:2}.footer-container[_ngcontent-%COMP%]   .back-session-container[_ngcontent-%COMP%]{width:100%}.footer-container[_ngcontent-%COMP%]   .back-session-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333541;font-size:.7777777778rem;line-height:.8888888889rem;font-weight:500;text-decoration:none;position:relative;flex-grow:1;gap:.4444444444rem;cursor:pointer;width:-moz-fit-content;width:fit-content;border-radius:2.0909090909rem;text-align:center}.footer-container[_ngcontent-%COMP%]   .back-session-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:" ";background-color:#333541;-webkit-mask-image:url(/assets/images/chevron-left.svg);mask-image:url(/assets/images/chevron-left.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;height:.5rem;width:.3611111111rem;border-radius:3.2222222222rem;text-align:center}.footer-container[_ngcontent-%COMP%]   .back-session-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.footer-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e31837;padding:.6666666667rem .8333333333rem;width:100%;color:#fff;font-weight:600;font-size:.8888888889rem;line-height:1.3333333333rem;border-radius:.2222222222rem;max-width:8.8333333333rem;border-radius:2.0909090909rem;text-align:center}@media (min-width: 1100px){.footer-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5454545455rem 1.0909090909rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:.1818181818rem}}.footer-container[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;border-radius:2.0909090909rem;text-align:center}.footer-container.disable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:.14;border-radius:2.0909090909rem;text-align:center}.footer-container.hide[_ngcontent-%COMP%]{display:none}.spaking-content-wrapper[_ngcontent-%COMP%]{background-color:#f5f5f5;overflow-y:scroll;position:relative;height:calc(100dvh - 11.3333333333rem)}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]{padding:1.3333333333rem 0;gap:1.7777777778rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]{padding:0 1.3333333333rem;gap:1.7777777778rem;display:flex}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]{background:#fff;border-radius:.2222222222rem;border:.0555555556rem solid rgba(135,135,135,.25);box-shadow:0 1px 2px #1018280d;padding:1.1111111111rem;gap:.6666666667rem}@media (min-width: 1100px){.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]{border-radius:.1818181818rem;border-width:.0454545455rem}}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   h2.test-name[_ngcontent-%COMP%]{color:#000;font-size:1rem;line-height:1.1111111111rem;font-weight:600;margin:0;padding:0}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]{align-items:baseline}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .format[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;color:#333541;font-size:.7777777778rem;line-height:1.3333333333rem;gap:.4444444444rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child, .spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .format[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#a61242;font-weight:600}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child, .spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .format[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-family:Open Sans,sans-serif}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .format[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{padding-top:.4444444444rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]{gap:.8888888889rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-headings[_ngcontent-%COMP%]{gap:.2222222222rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-headings[_ngcontent-%COMP%]   h3.session-time-heading[_ngcontent-%COMP%]{padding:0;margin:0;color:#000;font-size:1rem;line-height:1.1111111111rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-headings[_ngcontent-%COMP%]   h4.session-time-subheading[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#000;padding:0;margin:0;font-size:.7777777778rem;line-height:1.3333333333rem;font-weight:400}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]{background:#fff;border-radius:.2222222222rem;border:.0555555556rem solid rgba(135,135,135,.25);box-shadow:0 1px 2px #1018280d;border:none;border-left:.6666666667rem solid #E31837;border-start-start-radius:.2222222222rem;border-end-start-radius:.2222222222rem}@media (min-width: 1100px){.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]{border-radius:.1818181818rem;border-width:.0454545455rem}}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]{width:100%;padding:.8888888889rem 1.3333333333rem;gap:.8888888889rem;border:.0555555556rem solid rgba(135,135,135,.25);border-left:0;flex-wrap:wrap}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .time-date[_ngcontent-%COMP%]{flex-grow:1}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .time-date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .time-date[_ngcontent-%COMP%]   p.time[_ngcontent-%COMP%]{font-weight:600;color:#000;font-size:1rem;line-height:1.1111111111rem;gap:.8888888889rem}@media (max-width: 370px){.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .time-date[_ngcontent-%COMP%]   p.time[_ngcontent-%COMP%]{gap:.5555555556rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .time-date[_ngcontent-%COMP%]   p.time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:3.8888888889rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .time-date[_ngcontent-%COMP%]   p.time[_ngcontent-%COMP%]   span.next-best[_ngcontent-%COMP%]{min-width:5rem}}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .time-date[_ngcontent-%COMP%]   p.date[_ngcontent-%COMP%]{color:#6b6b6b;font-family:Open Sans,sans-serif;font-size:.7777777778rem;line-height:1.3333333333rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .next-best[_ngcontent-%COMP%]{background-color:#edfce5;border-radius:1.3333333333rem;padding:.3333333333rem .4444444444rem;font-size:.6666666667rem;line-height:.6666666667rem;font-weight:500;color:#429e15}@media (min-width: 1100px){.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .next-best[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.5454545455rem;border-radius:1.0909090909rem;padding:.2727272727rem .3636363636rem}}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .session-time-update[_ngcontent-%COMP%]   .session-change[_ngcontent-%COMP%]{color:#333541;border-radius:3.2222222222rem;text-align:center}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .session-time-update[_ngcontent-%COMP%]   .session-edit[_ngcontent-%COMP%]{font-size:.7777777778rem;line-height:.8888888889rem;font-weight:500;color:#333541;border-radius:2.2222222222rem;border:1px solid #333541;padding:.2272727273rem .6818181818rem;text-decoration:none;text-align:center}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .session-time-update[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .session-time-update[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000;background:#E6E9EC;border:.0555555556rem solid #333541}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod.speaking[_ngcontent-%COMP%]{padding:.4444444444rem 0 0;display:flex}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod.speaking.hide[_ngcontent-%COMP%]{display:none}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod.speaking.show[_ngcontent-%COMP%]{display:flex}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper.hide[_ngcontent-%COMP%]{display:none}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]{gap:0;display:none}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#000;font-size:1rem;line-height:1.1111111111rem;text-align:center;background-color:#fff;padding:.8888888889rem 1.3333333333rem;position:relative;border:.0555555556rem solid rgba(135,135,135,.25);gap:1.3333333333rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:1.1111111111rem;height:1.1111111111rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{flex-wrap:nowrap;padding:.8888888889rem 1.3333333333rem 0;background-color:#fff;border:.0555555556rem solid rgba(135,135,135,.25)}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{width:auto;text-align:center}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#6b6b6b;padding:0;font-weight:600;outline:none;border:none;position:relative;font-size:.7777777778rem;line-height:.8888888889;height:2.1666666667rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:transparent;color:#333541;border:none}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border:none}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus-visible{outline:none;border:none}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{content:"";width:100%;height:.2222222222rem;background-color:#e31837}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:focus-visible{outline:none;border:none}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#333541;font-weight:600;font-size:.8888888889rem;line-height:1.1111111111rem;padding:0 1.3333333333rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]{gap:.8888888889rem;padding:1.1111111111rem 1.3333333333rem 1.3333333333rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]{width:100%}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]   .select-time-pod[_ngcontent-%COMP%]{color:#000;background-color:#fff;border-radius:.4444444444rem;box-shadow:0 1px 2px #1018280d;padding:1.3333333333rem;cursor:pointer;border:.0555555556rem solid rgba(135,135,135,.25);position:relative;gap:.8888888889rem;font-weight:600}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]   .select-time-pod.active[_ngcontent-%COMP%]{background:#E6E9EC;border:.0833333333rem solid #333541}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]   .select-time-pod.active[_ngcontent-%COMP%]:after{content:" ";-webkit-mask-image:url(/assets/images/right-icon.svg);mask-image:url(/assets/images/right-icon.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;background-color:#242424;width:1.1111111111rem;height:1.1111111111rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]   .select-time-pod[_ngcontent-%COMP%]:hover{background:#E6E9EC;border:.0833333333rem solid #333541}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#429e15;padding:0 1.3333333333rem;font-weight:500}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]   .seltect-time-next-best[_ngcontent-%COMP%]{background-color:#edfce5;border-radius:1.3333333333rem;padding:.3333333333rem .4444444444rem;font-size:.6666666667rem;line-height:.6666666667rem;font-weight:500;color:#429e15}@media (min-width: 1100px){.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]   .seltect-time-next-best[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.5454545455rem;border-radius:1.0909090909rem;padding:.2727272727rem .3636363636rem}}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]{overflow-x:scroll;background-color:#fff;padding:.8888888889rem 1.3333333333rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none;gap:1.1111111111rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:.2222222222rem;background:#fff;border:.0555555556rem solid rgba(135,135,135,.25);width:3.5555555556rem;height:3.5555555556rem;text-align:center;gap:.2222222222rem;cursor:pointer;padding:.3888888889rem .8888888889rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8888888889rem;line-height:1.1111111111rem;font-weight:600;color:#333541}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .date-month[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.6666666667rem;line-height:.8888888889rem;font-weight:400;font-family:Open Sans,sans-serif}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .date-month[_ngcontent-%COMP%]   p.date[_ngcontent-%COMP%]{line-height:.6666666667rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .date-month[_ngcontent-%COMP%]   p.month[_ngcontent-%COMP%]{margin-top:-.1111111111rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#333541;border:.0454545455rem solid #333541;color:#fff}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:hover{background-color:#333541;border:.0454545455rem solid #333541;color:#fff}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.all-date[_ngcontent-%COMP%]{padding:.6666666667rem .6111111111rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e6e9ec;border:.0555555556rem solid #333541}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]:empty{display:none}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .empty-session-container[_ngcontent-%COMP%]{padding:1.1111111111rem 1.3333333333rem 1.3333333333rem;gap:1.3333333333rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .empty-session-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:7.2222222222rem;height:8.8888888889rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .empty-session-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{gap:.3333333333rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .empty-session-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.3333333333rem;line-height:1.6666666667rem;font-weight:700;color:#e31837}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .empty-session-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0;font-size:.8888888889rem;line-height:1.5555555556rem;font-family:Open Sans,sans-serif;color:#333541}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container.show[_ngcontent-%COMP%]{display:flex}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container.show[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:fixed;width:100%;background:#fff;z-index:2;top:2.6666666667rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container.show[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{position:fixed;width:100%;background:#fff;z-index:2;top:5.5555555556rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container.show[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]{position:fixed;width:100%;background:#fff;z-index:2;top:8.6666666667rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container.show[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]{padding-bottom:2.2222222222rem;padding-top:5rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container.show[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]:has(.select-time-calender-container:empty){padding-top:5rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container.show[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]:has(.select-time-calender-container){padding-top:11.2222222222rem}.spaking-content-wrapper.add-height[_ngcontent-%COMP%]{height:95dvh}@media (min-width: 1100px){.header-container[_ngcontent-%COMP%]{padding:.7272727273rem 2.1818181818rem;box-shadow:none;border-width:.0454545455rem;height:auto}.header-container[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]{width:auto;height:100%;min-width:7.2727272727rem}.header-container[_ngcontent-%COMP%]   .header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:7.2727272727rem;height:1.2727272727rem}.header-container[_ngcontent-%COMP%]   .header-steps-wrapper[_ngcontent-%COMP%]{margin-left:-.5rem}.header-container[_ngcontent-%COMP%]   .language-profile-container[_ngcontent-%COMP%]{gap:.7272727273rem;position:initial;top:inherit;left:inherit}.header-container[_ngcontent-%COMP%]   .language-profile-container[_ngcontent-%COMP%]   .userIcon[_ngcontent-%COMP%]{width:1.4545454545rem;height:1.4545454545rem}.header-container[_ngcontent-%COMP%]   .language-profile-container[_ngcontent-%COMP%]   .userIcon[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:.9090909091rem}.footer-container[_ngcontent-%COMP%]{padding:.9090909091rem 1.0909090909rem;box-shadow:none;border-top:.0454545455rem solid rgba(135,135,135,.25);border-radius:0}.footer-container[_ngcontent-%COMP%]   .back-session-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.6363636364rem;line-height:.7272727273rem;gap:.3636363636rem;border-radius:3.2222222222rem;text-align:center}.footer-container[_ngcontent-%COMP%]   .back-session-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{height:.4090909091rem;width:.2954545455rem;border-radius:3.2222222222rem;text-align:center}.footer-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5454545455rem .6818181818rem;max-width:8.1818181818rem;border-radius:2.0909090909rem;text-align:center}.spaking-content-wrapper[_ngcontent-%COMP%]{padding:1.8181818182rem 2.1818181818rem;height:calc(100dvh - 7.6363636364rem)}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]{width:34.9090909091rem;max-width:34.9090909091rem;margin:0 auto}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%], .spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]{padding:0;gap:2.1818181818rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]{padding:1.0909090909rem;gap:1.0909090909rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   h2.test-name[_ngcontent-%COMP%]{font-size:1.0909090909rem;line-height:1.2727272727rem;font-weight:700}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]{gap:2.1818181818rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:50%}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%], .spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .format[_ngcontent-%COMP%]{gap:.2727272727rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child, .spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .format[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:.8181818182rem;line-height:.9090909091rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child, .spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .format[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:.7272727273rem;line-height:1.2727272727rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .test-deatils-pod[_ngcontent-%COMP%]   .test-description[_ngcontent-%COMP%]   .format[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{padding:0}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]{gap:1.0909090909rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-headings[_ngcontent-%COMP%]{gap:.3636363636rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-headings[_ngcontent-%COMP%]   h3.session-time-heading[_ngcontent-%COMP%]{font-size:.9090909091rem;line-height:1.0909090909rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-headings[_ngcontent-%COMP%]   h4.session-time-subheading[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.2727272727rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]{border-width:.5454545455rem;border-start-start-radius:.1818181818rem;border-end-start-radius:.1818181818rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]{padding:1.0909090909rem;gap:.7272727273rem;border-width:.0454545455rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .time-date[_ngcontent-%COMP%]   p.time[_ngcontent-%COMP%]{font-size:.9090909091rem;line-height:1.0909090909rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .time-date[_ngcontent-%COMP%]   p.date[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.2727272727rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .session-time-update[_ngcontent-%COMP%]   .session-change[_ngcontent-%COMP%]{padding:.5454545455rem 1.0909090909rem;text-decoration:none;border:.0454545455rem solid #878787;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:2.0909090909rem;cursor:pointer;min-width:7.9545454545rem;text-align:center;height:2.1818181818rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]   .session-time-update[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-width:.0681818182rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod.speaking[_ngcontent-%COMP%]{padding:0}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .test-details-wrapper[_ngcontent-%COMP%]   .session-time-pod.speaking[_ngcontent-%COMP%]   .session-time-container-wrapper[_ngcontent-%COMP%]   .session-time-container[_ngcontent-%COMP%]{gap:2.1818181818rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]{gap:1.4545454545rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9090909091rem;line-height:1.0909090909rem;background:none;padding:0;border:none;text-align:left;border-width:.0454545455rem;gap:1.0909090909rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:none;width:1.0909090909rem;height:1.0909090909rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{background:none;padding:0;border:none;border-bottom:.0454545455rem solid rgba(135,135,135,.25)}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{width:100%}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:.6818181818rem;line-height:.8181818182rem;height:1.7727272727rem;margin:0}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{height:.1818181818rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]{gap:1.0909090909rem;padding:0}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]:has(.select-time-calender-container:empty){padding:0}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]{gap:1.0909090909rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:.9090909091rem;padding:0;padding-top:.3636363636rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]{gap:1.0909090909rem;padding:0}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]{gap:.2727272727rem;width:auto}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]   .select-time-pod[_ngcontent-%COMP%]{font-size:.9090909091rem;line-height:1.0909090909rem;max-width:10.9090909091rem;width:10.9090909091rem;position:relative;border-radius:.3636363636rem;padding:1.0909090909rem;border-width:.0454545455rem;gap:.7272727273rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]   .select-time-pod.active[_ngcontent-%COMP%]{border-width:.0681818182rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]   .select-time-pod.active[_ngcontent-%COMP%]:after{width:1.0909090909rem;height:1.0909090909rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]   .select-time-pod[_ngcontent-%COMP%]:hover{border-width:.0681818182rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.5454545455rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]{padding:0;background:transparent}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{min-width:auto;gap:1.6622727273rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:2.9090909091rem;height:2.9090909091rem;padding:.3181818182rem .7272727273rem;border-width:.0454545455rem;border-radius:.1818181818rem;gap:.1818181818rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .date-month[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.7272727273rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .date-month[_ngcontent-%COMP%]   p.date[_ngcontent-%COMP%]{line-height:.5454545455rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .date-month[_ngcontent-%COMP%]   p.month[_ngcontent-%COMP%]{margin-top:-.0909090909rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:.9090909091rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.all-date[_ngcontent-%COMP%]{padding:.5454545455rem .5rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{border-width:.0681818182rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .empty-session-container[_ngcontent-%COMP%]{gap:1.0909090909rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .empty-session-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5.9090909091rem;height:7.2727272727rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .empty-session-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{gap:.2727272727rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .empty-session-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2727272727rem;line-height:1.4545454545rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .empty-session-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8181818182rem;line-height:1.4545454545rem}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container.show[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:relative;background:transparent;top:0}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container.show[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{position:relative;background:transparent;z-index:2;top:0}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container.show[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]{position:relative;background:transparent;top:0}}@media (min-width: 768px) and (max-width: 1099.98px){.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:.8888888889rem 1.3333333333rem;border:none;justify-content:center}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{padding:.8888888889rem 1.3333333333rem 0;border:none;border-bottom:.0555555556rem solid rgba(135,135,135,.25)}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{width:100%}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-time-calender-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{min-width:auto}.spaking-content-wrapper[_ngcontent-%COMP%]   .speaking-content-container[_ngcontent-%COMP%]   .test-details-container[_ngcontent-%COMP%]   .speaking-test-date-selection-container[_ngcontent-%COMP%]   .select-date-tab-content-container[_ngcontent-%COMP%]   .select-time-pod-container[_ngcontent-%COMP%]   .select-date-time-pods[_ngcontent-%COMP%]   .select-time-pods[_ngcontent-%COMP%]   .select-time-pod-wrapper[_ngcontent-%COMP%]{width:48.5%}}']})}return Ge})()},364:(Dt,Le,D)=>{"use strict";D.d(Le,{C:()=>he});var a=D(6814),s=D(5879),oe=D(1756),c=D(1374),T=D(4379),V=D(95),ie=D(2197),Te=D(9582);function le(A,pe){if(1&A){const ge=s.EpF();s.TgZ(0,"div",17),s.NdJ("click",function(){s.CHM(ge);const Pe=s.oxw();return s.KtG(Pe.close())}),s.qZA()}}function me(A,pe){if(1&A&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&A){const ge=s.oxw();s.xp6(1),s.hij("(",ge.filterCount,")")}}function ae(A,pe){if(1&A){const ge=s.EpF();s.TgZ(0,"div",18)(1,"div",19)(2,"label",20)(3,"h2"),s._uU(4),s.qZA()(),s.TgZ(5,"div",21)(6,"div",22)(7,"div",23)(8,"button",24),s._uU(9),s.qZA(),s.TgZ(10,"div",25)(11,"button",26),s.NdJ("click",function(){s.CHM(ge);const Pe=s.oxw();return s.KtG(Pe.selectSortBy(Pe.sortFilterEnum.EARLIEST_DATE))}),s._uU(12),s.qZA(),s.TgZ(13,"button",26),s.NdJ("click",function(){s.CHM(ge);const Pe=s.oxw();return s.KtG(Pe.selectSortBy(Pe.sortFilterEnum.LATEST_DATE))}),s._uU(14),s.qZA()()()()()()()}if(2&A){const ge=s.oxw();s.xp6(4),s.Oqu(null==ge.labelText?null:ge.labelText.sortLabel),s.xp6(5),s.hij(" ",ge.sortBy==ge.sortFilterEnum.EARLIEST_DATE?null==ge.labelText?null:ge.labelText.earliestDate:null==ge.labelText?null:ge.labelText.latestDate," "),s.xp6(3),s.Oqu(null==ge.labelText?null:ge.labelText.earliestDate),s.xp6(2),s.Oqu(null==ge.labelText?null:ge.labelText.latestDate)}}function be(A,pe){1&A&&s._UZ(0,"div",27)}function re(A,pe){if(1&A){const ge=s.EpF();s.TgZ(0,"div",35)(1,"div",36)(2,"div",37)(3,"p"),s._uU(4,"Accessible test centres"),s.qZA(),s.TgZ(5,"p"),s._uU(6,"Display sessions that support accessibility requirements"),s.qZA()(),s.TgZ(7,"div",38)(8,"div",39)(9,"input",40),s.NdJ("ngModelChange",function(Pe){s.CHM(ge);const Be=s.oxw(2);return s.KtG(Be.isSpecialRequirement=Pe)})("change",function(){s.CHM(ge);const Pe=s.oxw(2);return s.KtG(Pe.specialRequirementSwitch(Pe.isSpecialRequirement))}),s.qZA()()()()()}if(2&A){const ge=s.oxw(2);s.xp6(9),s.Q6J("ngModel",ge.isSpecialRequirement)}}function J(A,pe){if(1&A){const ge=s.EpF();s.TgZ(0,"div",28)(1,"h2"),s._uU(2),s.qZA(),s.YNc(3,re,10,1,"div",29),s._UZ(4,"div",27),s.TgZ(5,"div",30)(6,"div",31)(7,"p"),s._uU(8),s.qZA()(),s.TgZ(9,"div",32)(10,"ul",33)(11,"li",34),s.NdJ("click",function(){s.CHM(ge);const Pe=s.oxw();return s.KtG(Pe.selectSessionTime(Pe.sortFilterEnum.ANY))}),s.TgZ(12,"button"),s._uU(13,"Any"),s.qZA()(),s.TgZ(14,"li",34),s.NdJ("click",function(){s.CHM(ge);const Pe=s.oxw();return s.KtG(Pe.selectSessionTime(Pe.sortFilterEnum.AM))}),s.TgZ(15,"button"),s._uU(16,"AM"),s.qZA()(),s.TgZ(17,"li",34),s.NdJ("click",function(){s.CHM(ge);const Pe=s.oxw();return s.KtG(Pe.selectSessionTime(Pe.sortFilterEnum.PM))}),s.TgZ(18,"button"),s._uU(19,"PM"),s.qZA()()()()()()}if(2&A){const ge=s.oxw();s.xp6(2),s.Oqu(null==ge.labelText?null:ge.labelText.filterBy),s.xp6(1),s.Q6J("ngIf",ge.enableUkviAccessibility),s.xp6(5),s.Oqu(null==ge.labelText?null:ge.labelText.timePreference),s.xp6(3),s.Q6J("ngClass",null!=ge.sessionTimeSlots&&ge.sessionTimeSlots.isAM&&null!=ge.sessionTimeSlots&&ge.sessionTimeSlots.isPM?ge.sesssionTime===ge.sortFilterEnum.ANY?"active":"":"disabled"),s.xp6(3),s.Q6J("ngClass",null!=ge.sessionTimeSlots&&ge.sessionTimeSlots.isAM?ge.sesssionTime===ge.sortFilterEnum.AM?"active":"":"disabled"),s.xp6(3),s.Q6J("ngClass",null!=ge.sessionTimeSlots&&ge.sessionTimeSlots.isPM?ge.sesssionTime===ge.sortFilterEnum.PM?"active":"":"disabled")}}function fe(A,pe){if(1&A&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&A){const ge=s.oxw(2);s.xp6(1),s.hij("",null==ge.selectedTLcountDetails?null:ge.selectedTLcountDetails.displayText," Selected")}}function ke(A,pe){if(1&A){const ge=s.EpF();s.TgZ(0,"li",33)(1,"input",46),s.NdJ("change",function(Pe){const rt=s.CHM(ge).$implicit,wt=s.oxw(2);return s.KtG(wt.selectTestLocation(Pe,rt))}),s.qZA(),s.TgZ(2,"label"),s._uU(3),s.qZA()()}if(2&A){const ge=pe.$implicit;s.xp6(1),s.Q6J("checked",null==ge?null:ge.isSelected),s.xp6(2),s.Oqu(null==ge?null:ge.displayText)}}function Ce(A,pe){if(1&A){const ge=s.EpF();s.TgZ(0,"div",47),s.NdJ("click",function(){s.CHM(ge);const Pe=s.oxw(2);return s.KtG(Pe.showMore())}),s._uU(1),s.qZA()}if(2&A){const ge=s.oxw(2);s.xp6(1),s.Oqu(ge.showLess?"Show less":"Show more")}}function we(A,pe){if(1&A&&(s.TgZ(0,"div",41)(1,"h2",42),s._uU(2,"Filter session via test centre"),s.YNc(3,fe,2,1,"span",5),s.qZA(),s.TgZ(4,"ul",43),s.YNc(5,ke,4,2,"li",44),s.ALo(6,"slice"),s.qZA(),s.YNc(7,Ce,2,1,"div",45),s.qZA()),2&A){const ge=s.oxw();s.xp6(3),s.Q6J("ngIf",null==ge.selectedTLcountDetails?null:ge.selectedTLcountDetails.count),s.xp6(2),s.Q6J("ngForOf",s.Dn7(6,3,ge.testLocationfilters,0,ge.itemsToLoad)),s.xp6(2),s.Q6J("ngIf",ge.testLocationfilters&&ge.testLocationfilters.length>ge.itemsToLoad||ge.showLess)}}let he=(()=>{class A{constructor(ge,pt,Pe,Be){this.newSessionService=ge,this.renderer=pt,this.commonService=Pe,this.document=Be,this.sortFilterEnum=T.zj,this.sortBy=T.zj.EARLIEST_DATE,this.sesssionTime=T.zj.ANY,this.filterCount=0,this.applyFilter=!1,this.testLocationfilters=[],this.itemsToLoad=8,this.isMobile=!1,this.showLess=!1,this.sessionCounter=0,this.resultrpt=!1,this.enableTestCentreFilter=!0,this.enableUkviAccessibility=!1,this.toBookingListingComp=new s.vpe}ngOnInit(){window?.innerWidth<1099&&(this.isMobile=!0),this.isSortAndFilter(),this.renderer.addClass(this.document.body,"noScroll")}ngOnDestroy(){this.renderer.removeClass(this.document.body,"noScroll")}isSortAndFilter(){(this.isTestCenter||this.isMobile)&&this.testLocations?.length&&this.getTLfilterDetails(),this.isTestCenter||(this.setSessionTime(),this.getSortFilterdetails())}getTLfilterDetails(){const ge=this.newSessionService.getTestLocationDetails();this.commonService.isObjNotEmpty(ge)?this.testLocationfilters=ge:(this.testLocationfilters=[{isSelected:!0,displayText:"All centres",name:"All"}],this.testLocations.forEach(pt=>{this.testLocationfilters.push({isSelected:!0,displayText:pt?.name,location:pt})})),this.updateTLfilterCount(),this.copyTestLocationFilters=JSON.stringify(this.testLocationfilters)}updateTLfilterCount(){const ge=this.getSelectedTLdetails();ge?.length?(ge?.length===this.testLocationfilters?.length-1?(this.selectedTLcountDetails.count=ge?.length,this.selectedTLcountDetails.displayText="All"):(this.selectedTLcountDetails.count=ge?.length,this.selectedTLcountDetails.displayText=ge?.length.toString()),this.newSessionService.updateTestLocationIds(ge)):(this.selectedTLcountDetails.count=0,this.selectedTLcountDetails.displayText="")}getSelectedTLdetails(){return this.testLocationfilters?.filter(ge=>"All"!==ge?.name&&ge?.isSelected)}setSessionTime(){this.sesssionTime=this.sessionTimeSlots?.isAM&&!this.sessionTimeSlots?.isPM?T.zj.AM:!this.sessionTimeSlots?.isAM&&this.sessionTimeSlots?.isPM?T.zj.PM:T.zj.ANY}getSortFilterdetails(){this.newSessionService.sortFilterDetails.pipe((0,c.P)()).subscribe(ge=>{this.commonService.isObjNotEmpty(ge)&&(this.sortBy=ge?.sortBy?ge?.sortBy:T.zj.EARLIEST_DATE,this.sesssionTime=ge?.sessionTime?ge?.sessionTime:this.sesssionTime||T.zj.ANY,this.isSpecialRequirement=ge?.isSpecialRequirement,this.filterCount=ge?.filterCount||0)})}selectSortBy(ge){this.sortBy=ge,this.applyFilter=!0}selectSessionTime(ge){let pt;this.sesssionTime=ge,ge!==T.zj.ANY?(this.sessionCounter++,pt=1===this.sessionCounter?1:0):(pt=this.sessionCounter>=1?-1:0,this.sessionCounter=0),this.updateFilterCount(pt),this.applyFilter=!0}specialRequirementSwitch(ge){this.updateFilterCount(ge?1:-1),this.isSpecialRequirement=ge,this.applyFilter=!0}updateFilterCount(ge){this.filterCount+=ge}clearFilters(){(this.isTestCenter||this.isMobile)&&this.testLocationfilters?.length&&!this.testLocationfilters[0].isSelected&&(this.selectAlltestLocationFilter(),this.updateTLfilterCount(),this.checkApplyFilter()),this.isTestCenter||(this.sessionTimeSlots?.isAM&&this.sessionTimeSlots?.isPM?this.sesssionTime=T.zj.ANY:this.sessionTimeSlots?.isAM&&!this.sessionTimeSlots?.isPM?this.sesssionTime=T.zj.AM:!this.sessionTimeSlots?.isAM&&this.sessionTimeSlots?.isPM&&(this.sesssionTime=T.zj.PM),this.filterCount=0,this.applyFilter=!0,this.sessionCounter=0)}selectAlltestLocationFilter(){this.testLocationfilters.forEach(ge=>ge.isSelected=!0)}applyFilters(){(this.isTestCenter||this.isMobile)&&(this.newSessionService.updateTestLocationDetails(this.testLocationfilters),this.toBookingListingComp.emit({closeFilterPopup:!0,isTestCenter:this.isTestCenter,applyTLfilter:!0}),this.newSessionService.mapViewCompMethods$.next("closeSelectedTLpopup")),this.isTestCenter||(this.newSessionService.sortFilterDetails.next({filterCount:this.filterCount,sortBy:this.sortBy,sessionTime:this.sesssionTime,isFromApplySort:!0,isSpecialRequirement:this.isSpecialRequirement}),this.toBookingListingComp.emit({closeFilterPopup:!0}))}selectTestLocation(ge,pt){pt.isSelected=ge?.target?.checked,"All"===pt?.name?this.testLocationfilters?.forEach(pt.isSelected?Pe=>Pe.isSelected=!0:Pe=>Pe.isSelected=!1):this.testLocationfilters[0]?.isSelected&&(this.testLocationfilters[0].isSelected=!1),this.updateTLfilterCount(),this.testLocationfilters?.length-1===this.selectedTLcountDetails?.count&&(this.testLocationfilters[0].isSelected=!0),this.checkApplyFilter()}showMore(){this.showLess?(this.showLess=!1,this.itemsToLoad=8):(this.itemsToLoad=this.testLocationfilters?.length,this.showLess=!0)}checkApplyFilter(){const ge=this.copyTestLocationFilters!==JSON.stringify(this.testLocationfilters);this.applyFilter=ge&&this.selectedTLcountDetails?.count}close(){if(this.isTestCenter||this.isMobile){try{this.testLocationfilters=JSON.parse(this.copyTestLocationFilters)}catch(ge){console.error("Error parsing copyTestLocationFilters:",ge),this.testLocationfilters=[]}this.newSessionService.updateTestLocationDetails(this.testLocationfilters),this.updateTLfilterCount()}this.toBookingListingComp.emit({closeFilterPopup:!0,isTestCenter:this.isTestCenter})}static#e=this.\u0275fac=function(pt){return new(pt||A)(s.Y36(ie.z),s.Y36(s.Qsj),s.Y36(Te.v),s.Y36(a.K0))};static#t=this.\u0275cmp=s.Xpm({type:A,selectors:[["app-sort-filter"]],inputs:{labelText:"labelText",buttonsText:"buttonsText",isTestCenter:"isTestCenter",testLocations:"testLocations",selectedTLcountDetails:"selectedTLcountDetails",isMapView:"isMapView",sessionTimeSlots:"sessionTimeSlots",resultrpt:"resultrpt",enableTestCentreFilter:"enableTestCentreFilter",enableUkviAccessibility:"enableUkviAccessibility"},outputs:{toBookingListingComp:"toBookingListingComp"},standalone:!0,features:[s.jDz],decls:21,vars:10,consts:[["class","short-and-filter-overlay",3,"click",4,"ngIf"],[1,"short-and-filter-container"],[1,"short-and-filter-wrapper"],[1,"short-and-filter-heading","d-flex","justify-content-center","align-items-center"],[1,"d-flex","justify-content-center"],[4,"ngIf"],["src","/assets/images/close-outline.svg","alt","close",3,"click"],[1,"short-and-filter-content-container","d-flex","flex-column"],[1,"short-and-filter-content-wrapper","d-flex","flex-column"],["class","drop-down-container d-flex flex-column",4,"ngIf"],["class","split-border test",4,"ngIf"],["class","filter-by-container d-flex flex-column",4,"ngIf"],["class","test-center-container d-flex flex-column",4,"ngIf"],[1,"short-and-filter-footer","d-flex","align-items-center"],[1,"clear-filter"],[3,"click"],[1,"text-center",3,"ngClass","click"],[1,"short-and-filter-overlay",3,"click"],[1,"drop-down-container","d-flex","flex-column"],[1,"dropdown","d-flex","flex-column"],["for","sortByDropdown"],[1,"row"],[1,"col"],["ngbDropdown",""],["type","button","id","sortByDropdown","ngbDropdownToggle","",1,"d-flex","justify-content-between","align-items-center","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","sortByDropdown"],["ngbDropdownItem","",3,"click"],[1,"split-border","test"],[1,"filter-by-container","d-flex","flex-column"],["class","special-requiremnt-container",4,"ngIf"],[1,"filter-by-description-container","align-items-center","justify-content-between"],[1,"filter-by-description","d-flex","flex-column"],[1,"tabs-container"],[1,"d-flex","align-items-center"],[3,"ngClass","click"],[1,"special-requiremnt-container"],[1,"special-requiremnt-description-container","d-flex","align-items-center","justify-content-between"],[1,"special-requiremnt-description","d-flex","flex-column"],[1,"checkbox-container"],[1,"form-check","form-switch"],["type","checkbox","role","switch","flexSwitchCheckDefault","",1,"form-check-input",3,"ngModel","ngModelChange","change"],[1,"test-center-container","d-flex","flex-column"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-wrap","test-center-showless","custom-scroll"],["class","d-flex align-items-center",4,"ngFor","ngForOf"],["class","test-center-show-more-sec",3,"click",4,"ngIf"],["type","checkbox","aria-label","options",3,"checked","change"],[1,"test-center-show-more-sec",3,"click"]],template:function(pt,Pe){1&pt&&(s.YNc(0,le,1,0,"div",0),s.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),s._uU(5),s.YNc(6,me,2,1,"span",5),s.qZA(),s.TgZ(7,"span")(8,"img",6),s.NdJ("click",function(){return Pe.close()}),s.qZA()()(),s.TgZ(9,"div",7)(10,"div",8),s.YNc(11,ae,15,4,"div",9),s.YNc(12,be,1,0,"div",10),s.YNc(13,J,20,6,"div",11),s.YNc(14,we,8,7,"div",12),s.qZA()()(),s.TgZ(15,"div",13)(16,"div",14)(17,"a",15),s.NdJ("click",function(){return Pe.clearFilters()}),s._uU(18),s.qZA()(),s.TgZ(19,"button",16),s.NdJ("click",function(){return Pe.applyFilters()}),s._uU(20),s.qZA()()()),2&pt&&(s.Q6J("ngIf",!Pe.isTestCenter||Pe.isTestCenter&&(null==Pe.testLocations?null:Pe.testLocations.length)),s.xp6(5),s.Oqu(Pe.isTestCenter?"Test centre":null==Pe.labelText?null:Pe.labelText.sortFilter),s.xp6(1),s.Q6J("ngIf",Pe.filterCount),s.xp6(5),s.Q6J("ngIf",!Pe.isTestCenter),s.xp6(1),s.Q6J("ngIf",!Pe.isTestCenter),s.xp6(1),s.Q6J("ngIf",!Pe.isTestCenter&&(!(Pe.isMobile&&Pe.isMapView)||Pe.isMobile&&!Pe.isMapView)),s.xp6(1),s.Q6J("ngIf",Pe.enableTestCentreFilter&&(Pe.isTestCenter||Pe.isMobile)&&!Pe.resultrpt),s.xp6(4),s.Oqu(null==Pe.buttonsText?null:Pe.buttonsText.clearFilters),s.xp6(1),s.Q6J("ngClass",Pe.applyFilter?"":"disabled"),s.xp6(1),s.Oqu(null==Pe.buttonsText?null:Pe.buttonsText.applyFilters))},dependencies:[a.ez,a.mk,a.sg,a.O5,a.OU,oe.IJ,oe.jt,oe.iD,oe.Vi,oe.TH,V.u5,V.Wl,V.JJ,V.On],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-dark[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}.short-and-filter-overlay[_ngcontent-%COMP%]{opacity:.7;background-color:#333541;position:fixed;top:0;left:0;width:100%;height:100%;display:none;z-index:3}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;border-radius:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#878787;border-radius:4px}.short-and-filter-container[_ngcontent-%COMP%]{background:#fff;border-radius:.2222222222rem;position:fixed;width:100%;height:100%;top:0;z-index:4}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-heading[_ngcontent-%COMP%]{max-height:3.1111111111rem;gap:.5555555556rem;padding:.8888888889rem 1.3333333333rem;position:relative}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#000;font-weight:600;flex-grow:1;font-size:1.1111111111rem;line-height:1.3333333333rem;gap:.3333333333rem;cursor:default}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#a61242}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]{border-top:.0555555556rem solid rgba(135,135,135,.25);height:calc(100dvh - 8.4444444444rem);overflow-y:auto}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:.2222222222rem;border-radius:.2222222222rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#878787;border-radius:.2222222222rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]{padding:1.3333333333rem;gap:1.3333333333rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]{order:1}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{gap:.6666666667rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;background-color:#fff;box-shadow:0 1px 2px #1018280d;padding:.5555555556rem .8888888889rem;font-size:.7777777778rem;line-height:1.3333333333rem;text-align:left;border-radius:.2222222222rem;position:relative;color:#000}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:" ";border:none;background-color:#333541;-webkit-mask-image:url(/assets/images/chevron-down.svg);mask-image:url(/assets/images/chevron-down.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;position:absolute;right:.8888888889rem;height:1.1111111111rem;width:1.1111111111rem;margin:0;top:50%;transform:translateY(-50%)}@media (min-width: 1100px){.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.6363636364rem .8181818182rem .6363636364rem .7272727273rem;font-size:.7272727273rem;line-height:1.2727272727rem;border-radius:.1818181818rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{height:.9090909091rem;width:.9090909091rem;right:.8181818182rem}}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;padding:0;inset:.6666666667rem auto auto 0!important;max-height:13.3333333333rem;overflow:auto;background:#fff}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.6666666667rem .8888888889rem;color:#6b6b6b;cursor:pointer}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{background:none}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#e6e9ec;color:#333541}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar{width:.2222222222rem;border-radius:.2222222222rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#878787;border-radius:.2222222222rem}@media (min-width: 1100px){.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{inset:.5454545455rem auto auto 0!important;max-height:11.8181818182rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5454545455rem .7272727273rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar{width:.1818181818rem;border-radius:.1818181818rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:.1818181818rem}}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{border:.0833333333rem solid #333541}@media (min-width: 1100px){.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{border-width:.0681818182rem}}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#000;font-weight:600;font-size:1rem;line-height:1.1111111111rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border:.0555555556rem solid rgba(135,135,135,.25);border-radius:.2222222222rem;padding:.6666666667rem .8888888889rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after{width:.6666666667rem;height:.6666666667rem;position:unset;transform:none}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown.show[_ngcontent-%COMP%]{border:.0555555556rem solid #333541}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]{gap:1.1111111111rem;padding-bottom:.4444444444rem;order:5}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000;margin:0;font-size:1rem;line-height:1.1111111111rem;font-weight:600}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .filter-by-description-container[_ngcontent-%COMP%]{display:block;padding:.6666666667rem 0 0}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .filter-by-description-container[_ngcontent-%COMP%]   .filter-by-description[_ngcontent-%COMP%]{padding-bottom:1.3333333333rem;gap:.4444444444rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .filter-by-description-container[_ngcontent-%COMP%]   .filter-by-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#333541;font-size:.7777777778rem;line-height:1.3333333333rem;font-family:Open Sans,sans-serif}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .filter-by-description-container[_ngcontent-%COMP%]   .filter-by-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:600;font-size:.8888888889rem;line-height:1.1111111111rem;font-family:proxima-nova,sans-serif}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:.0555555556rem solid rgba(135,135,135,.25);width:33%;text-align:center}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;color:#6b6b6b;font-size:.7777777778rem;line-height:.8888888889rem;padding:.2222222222rem .6666666667rem;min-width:6.3333333333rem;min-height:2.2222222222rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-start-start-radius:.2222222222rem;border-end-start-radius:.2222222222rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-start-end-radius:.2222222222rem;border-end-end-radius:.2222222222rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e31837}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{color:#fff}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#e31837}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;text-align:center}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;cursor:not-allowed;border-radius:2.0909090909rem;text-align:center}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]{padding:0 0 .6666666667rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .special-requiremnt-description-container[_ngcontent-%COMP%]{gap:1.3333333333rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .special-requiremnt-description-container[_ngcontent-%COMP%]   .special-requiremnt-description[_ngcontent-%COMP%]{gap:.4444444444rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .special-requiremnt-description-container[_ngcontent-%COMP%]   .special-requiremnt-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#333541;font-size:.7777777778rem;line-height:1.3333333333rem;font-family:Open Sans,sans-serif}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .special-requiremnt-description-container[_ngcontent-%COMP%]   .special-requiremnt-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:600;font-size:.8888888889rem;line-height:1.1111111111rem;font-family:proxima-nova,sans-serif}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:0;margin:0;min-height:auto}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .form-check.form-switch[_ngcontent-%COMP%]{padding:0;margin:0}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{cursor:pointer;background-color:#d6d6d6;background-image:url("data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'-4 -4 8 8\'%3e%3ccircle r=\'3\' fill=\'%23fff\'/%3e%3c/svg%3e");margin:0;width:2.1666666667rem;height:1.3333333333rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{border:none;background-color:#e31837}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]{gap:1.1111111111rem;padding-top:.4444444444rem;order:7}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333541;font-weight:600;font-size:.8888888889rem;line-height:1.1111111111rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#a61242;font-weight:600;font-size:.8888888889rem;line-height:1.3333333333rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none;gap:1.1111111111rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;gap:.8888888889rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border-radius:.2222222222rem;z-index:0;-webkit-appearance:none;cursor:pointer}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:before{position:relative;content:"";z-index:1;border:.0555555556rem solid rgba(135,135,135,.25);background-color:#fff;border-radius:.2222222222rem;display:block;width:1.3333333333rem;height:1.3333333333rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked:before{background:url(/assets/images/checkbox-checked.svg);background-repeat:no-repeat;background-position:center;background-size:cover;background-color:#e31837;border-color:#e31837}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333541;font-family:Open Sans,sans-serif;font-size:.7777777778rem;line-height:1.1111111111rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   .test-center-show-more-sec[_ngcontent-%COMP%]{display:none}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .split-border[_ngcontent-%COMP%]{border-bottom:.0555555556rem solid rgba(135,135,135,.25)}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .split-border[_ngcontent-%COMP%]:nth-child(2){order:2}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .split-border[_ngcontent-%COMP%]:nth-child(4){order:4}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .split-border[_ngcontent-%COMP%]:nth-child(6){order:6}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-footer[_ngcontent-%COMP%]{border-top:.0555555556rem solid rgba(135,135,135,.25);padding:1.3333333333rem;gap:1.3333333333rem;background:#fff;width:100%;position:fixed;bottom:0}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-footer[_ngcontent-%COMP%]   .clear-filter[_ngcontent-%COMP%]{width:100%;flex-grow:1}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-footer[_ngcontent-%COMP%]   .clear-filter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333541;font-weight:500;text-decoration:underline;font-size:.8888888889rem;line-height:1.3333333333rem;width:-moz-fit-content;width:fit-content;cursor:pointer}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e31837;padding:.6666666667rem .8333333333rem;width:100%;color:#fff;font-weight:600;font-size:.8888888889rem;line-height:1.3333333333rem;border-radius:.2222222222rem;cursor:pointer;max-width:6.5555555556rem;padding:.6666666667 .8888888889rem;border-radius:2.0909090909rem;text-align:center}@media (min-width: 1100px){.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5454545455rem 1.0909090909rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:.1818181818rem}}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-footer[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{opacity:50%;cursor:auto;pointer-events:none;border-radius:2.0909090909rem;text-align:center}@media (min-width: 1100px){.short-and-filter-overlay[_ngcontent-%COMP%]{display:block}.short-and-filter-container[_ngcontent-%COMP%]{margin:0 auto;max-width:43.6363636364rem;min-width:43.6363636364rem;max-height:90%;position:fixed;top:50%;transform:translate(-50%,-50%);border-radius:.1818181818rem;left:50%;width:auto;height:auto}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-heading[_ngcontent-%COMP%]{padding:.9090909091rem 2.1818181818rem;gap:.7272727273rem;border-width:.0454545455rem;max-height:none}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.0909090909rem;line-height:1.2727272727rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-heading[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:1.4545454545rem;height:1.4545454545rem;right:1.4545454545rem;cursor:pointer}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-heading[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]{padding-right:.3636363636rem;height:auto}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]{padding:1.0909090909rem 1.8181818182rem;gap:1.4545454545rem;max-height:60dvh;overflow:auto}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:.1818181818rem;border-radius:.1818181818rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#878787;border-radius:.1818181818rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{gap:.5454545455rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-width:.0454545455rem;border-radius:.1818181818rem;padding:.4545454545rem .7272727273rem;height:2.1818181818rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after{width:.5454545455rem;height:.5454545455rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .dropdown.show[_ngcontent-%COMP%]{border-width:.0454545455rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.2727272727rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .drop-down-container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.9090909091rem;line-height:1.0909090909rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]{gap:1.4545454545rem;padding:0}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.9090909091rem;line-height:1.0909090909rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .filter-by-description-container[_ngcontent-%COMP%]{display:flex;gap:1.4545454545rem;padding:0}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .filter-by-description-container[_ngcontent-%COMP%]   .filter-by-description[_ngcontent-%COMP%]{padding-bottom:0;gap:.3636363636rem;flex-grow:1}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .filter-by-description-container[_ngcontent-%COMP%]   .filter-by-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.2727272727rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .filter-by-description-container[_ngcontent-%COMP%]   .filter-by-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:.8181818182rem;line-height:.9090909091rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .filter-by-description-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:auto;border-width:.0454545455rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .filter-by-description-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.1818181818rem .5454545455rem;min-width:3.6363636364rem;min-height:1.8181818182rem;font-size:.6363636364rem;line-height:.7272727273rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .filter-by-description-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-start-start-radius:.1818181818rem;border-end-start-radius:.1818181818rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .filter-by-container[_ngcontent-%COMP%]   .filter-by-description-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-start-end-radius:.1818181818rem;border-end-end-radius:.1818181818rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]{padding:0}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .special-requiremnt-description-container[_ngcontent-%COMP%]{gap:2.1818181818rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .special-requiremnt-description-container[_ngcontent-%COMP%]   .special-requiremnt-description[_ngcontent-%COMP%]{gap:.3636363636rem;flex-grow:1}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .special-requiremnt-description-container[_ngcontent-%COMP%]   .special-requiremnt-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.2727272727rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .special-requiremnt-description-container[_ngcontent-%COMP%]   .special-requiremnt-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:.8181818182rem;line-height:.9090909091rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .special-requiremnt-description-container[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:0;margin:0;min-height:auto}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .special-requiremnt-description-container[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .form-check.form-switch[_ngcontent-%COMP%]{padding:0;margin:0}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .special-requiremnt-container[_ngcontent-%COMP%]   .special-requiremnt-description-container[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:1.7727272727rem;height:1.0909090909rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]{gap:1.0909090909rem;padding:0}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.8181818182rem;line-height:.9090909091rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.0909090909rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   .test-center-showless[_ngcontent-%COMP%]{overflow-y:auto}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{gap:1.0909090909rem 2.1818181818rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:calc(50% - 1.0909090909rem);gap:.7272727273rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1.0909090909rem;height:1.0909090909rem;border-radius:.1818181818rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:before{width:1.0909090909rem;height:1.0909090909rem;border-radius:.1818181818rem;border-width:.0454545455rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.2727272727rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   .test-center-show-more-sec[_ngcontent-%COMP%]{display:block;font-size:.6363636364rem;line-height:.7272727273rem;font-weight:500;color:#006dca;font-family:proxima-nova,sans-serif;cursor:pointer}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .split-border[_ngcontent-%COMP%]{border-width:.0454545455rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-footer[_ngcontent-%COMP%]{gap:.7272727273rem;padding:.9090909091rem 2.1818181818rem;position:relative;border-width:.0454545455rem;border-bottom-left-radius:.1818181818rem;border-bottom-right-radius:.1818181818rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-footer[_ngcontent-%COMP%]   .clear-filter[_ngcontent-%COMP%]{width:100%}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-footer[_ngcontent-%COMP%]   .clear-filter[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex-grow:1;font-size:.6363636364rem;line-height:.7272727273rem}.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5454545455rem .6818181818rem;max-width:8.1818181818rem;border-radius:2.0909090909rem;text-align:center}}@media (min-width: 768px) and (max-width: 1199.98px){.short-and-filter-container[_ngcontent-%COMP%]   .short-and-filter-content-container[_ngcontent-%COMP%]   .short-and-filter-content-wrapper[_ngcontent-%COMP%]   .test-center-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:47%}}']})}return A})()},8298:(Dt,Le,D)=>{"use strict";D.d(Le,{CR:()=>at});var a=D(6814),s=D(5879),oe=D(1756),c=D(4379),T=D(8502),ie=(D(2614),D(9397)),Te=D(7570),le=D(4664),me=D(672),ae=D(91),be=D(2197),re=D(9582),J=D(2452),fe=D(2236);const ke=["dp"],Ce=["ttDropDown"],we=["tfDropDown"],he=["testLocationDropDown"],A=["testDateDropDown"];function pe(Xe,Zt){if(1&Xe){const ve=s.EpF();s.TgZ(0,"li",36)(1,"input",37),s.NdJ("change",function(St){const $t=s.CHM(ve).$implicit,Cn=s.oxw();return s.KtG(Cn.selectTestTypeOrFormat(St,$t,!0))}),s.qZA(),s.TgZ(2,"label",38),s._uU(3),s.qZA()()}if(2&Xe){const ve=Zt.$implicit,Ve=Zt.index,St=s.oxw();s.xp6(1),s.MGl("id","ttDropdown-",Ve,""),s.Q6J("checked",null==ve?null:ve.isSelected),s.uIk("disabled",(null==St.filterDetails||null==St.filterDetails.testType||null==St.filterDetails.testType.types?null:St.filterDetails.testType.types.length)<=1||null),s.xp6(1),s.MGl("for","ttDropdown-",Ve,""),s.xp6(1),s.Oqu(null==ve?null:ve.displayText)}}function ge(Xe,Zt){if(1&Xe){const ve=s.EpF();s.TgZ(0,"li",36)(1,"input",37),s.NdJ("change",function(St){const $t=s.CHM(ve).$implicit,Cn=s.oxw(2);return s.KtG(Cn.selectTestTypeOrFormat(St,$t))}),s.qZA(),s.TgZ(2,"label",38),s._uU(3),s.qZA()()}if(2&Xe){const ve=Zt.$implicit,Ve=Zt.index,St=s.oxw(2);s.xp6(1),s.MGl("id","tfDropdown-",Ve,""),s.Q6J("checked",null==ve?null:ve.isSelected),s.uIk("disabled",(null==St.filterDetails||null==St.filterDetails.testFormat||null==St.filterDetails.testFormat.formats?null:St.filterDetails.testFormat.formats.length)<=1||null),s.xp6(1),s.MGl("for","tfDropdown-",Ve,""),s.xp6(1),s.Oqu(null==ve?null:ve.displayText)}}function pt(Xe,Zt){if(1&Xe&&(s.TgZ(0,"li")(1,"div",39,40)(3,"button",11)(4,"span"),s._uU(5),s.qZA(),s.TgZ(6,"label"),s._uU(7),s.qZA(),s._UZ(8,"img",12),s.qZA(),s.TgZ(9,"div",41)(10,"ul"),s.YNc(11,ge,4,5,"li",14),s.qZA()()()()),2&Xe){const ve=s.oxw();s.xp6(1),s.Q6J("ngClass",ve.isOSR?"osr-testblock":""),s.xp6(4),s.Oqu(null==ve.labelText?null:ve.labelText.tFLabel),s.xp6(2),s.Oqu((null==ve.filterDetails||null==ve.filterDetails.testFormat?null:ve.filterDetails.testFormat.displayText)||(null==ve.labelText?null:ve.labelText.selectTFlabel)),s.xp6(4),s.Q6J("ngForOf",null==ve.filterDetails||null==ve.filterDetails.testFormat?null:ve.filterDetails.testFormat.formats)}}function Pe(Xe,Zt){if(1&Xe){const ve=s.EpF();s.TgZ(0,"li",56),s.NdJ("click",function(){const wn=s.CHM(ve).$implicit,$t=s.oxw(2);return s.KtG($t.selectCountry(wn))}),s.TgZ(1,"label"),s._uU(2),s.qZA()()}if(2&Xe){const ve=Zt.$implicit;s.xp6(2),s.Oqu(null==ve?null:ve.countryName)}}function Be(Xe,Zt){if(1&Xe){const ve=s.EpF();s.TgZ(0,"li",65),s.NdJ("click",function(){const wn=s.CHM(ve).$implicit,$t=s.oxw(4);return s.KtG($t.selectCity(wn))}),s.TgZ(1,"label",66),s._uU(2),s._UZ(3,"input",67)(4,"p",68),s.qZA()()}if(2&Xe){const ve=Zt.$implicit,Ve=s.oxw(4);s.xp6(2),s.hij("",null==ve?null:ve.city," "),s.xp6(1),s.Q6J("checked",(null==ve?null:ve.city)===(null==Ve.filterDetails||null==Ve.filterDetails.testLocation?null:Ve.filterDetails.testLocation.selectedCity))}}function rt(Xe,Zt){if(1&Xe&&(s.TgZ(0,"ul",63),s.YNc(1,Be,5,2,"li",64),s.qZA()),2&Xe){const ve=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",null==ve.selectedCountry?null:ve.selectedCountry.cities)}}function wt(Xe,Zt){if(1&Xe&&(s.TgZ(0,"div",60)(1,"div",61),s._uU(2,"Select city"),s.qZA(),s.YNc(3,rt,2,1,"ul",62),s.qZA()),2&Xe){const ve=s.oxw(2);s.xp6(3),s.Q6J("ngIf",null==ve.selectedCountry||null==ve.selectedCountry.cities?null:ve.selectedCountry.cities.length)}}function It(Xe,Zt){if(1&Xe){const ve=s.EpF();s.TgZ(0,"li",56),s.NdJ("click",function(){s.CHM(ve);const St=s.oxw(2);return s.KtG(St.countryCityMobile("city"))}),s._UZ(1,"img",69),s.TgZ(2,"label"),s._uU(3),s.qZA(),s._UZ(4,"img",58),s.qZA()}if(2&Xe){const ve=s.oxw(2);s.xp6(3),s.Oqu((null==ve.filterDetails||null==ve.filterDetails.testLocation?null:ve.filterDetails.testLocation.selectedCity)||(null==ve.labelText?null:ve.labelText.cityLabel))}}function Ie(Xe,Zt){if(1&Xe){const ve=s.EpF();s.TgZ(0,"li",42)(1,"div",43,44),s.NdJ("openChange",function(St){s.CHM(ve);const wn=s.oxw();return s.KtG(wn.resultrpt?"":wn.selectOnLocation(St))}),s.TgZ(3,"button",45)(4,"span"),s._uU(5),s.qZA(),s.TgZ(6,"label"),s._uU(7),s.qZA(),s._UZ(8,"img",12),s.qZA(),s.TgZ(9,"div",46)(10,"div",47)(11,"div",48,49)(13,"span"),s._uU(14,"Country"),s.qZA(),s.TgZ(15,"button",50)(16,"label"),s._uU(17),s._UZ(18,"img",51),s.qZA()(),s.TgZ(19,"div",52)(20,"ul"),s.YNc(21,Pe,3,1,"li",53),s.qZA()()()(),s.YNc(22,wt,4,1,"div",54),s.qZA(),s.TgZ(23,"div",55)(24,"ul")(25,"li",56),s.NdJ("click",function(){s.CHM(ve);const St=s.oxw();return s.KtG(St.countryCityMobile("country"))}),s._UZ(26,"img",57),s.TgZ(27,"label"),s._uU(28),s.qZA(),s._UZ(29,"img",58),s.qZA(),s.YNc(30,It,5,1,"li",59),s.qZA()()()()}if(2&Xe){const ve=s.oxw();s.xp6(5),s.Oqu(null==ve.labelText?null:ve.labelText.testLocationLabel),s.xp6(2),s.Oqu((null==ve.filterDetails||null==ve.filterDetails.testLocation?null:ve.filterDetails.testLocation.displayText)||(null==ve.labelText?null:ve.labelText.selectLocationLabel)),s.xp6(10),s.hij("",(null==ve.selectedCountry?null:ve.selectedCountry.countryName)||(null==ve.labelText?null:ve.labelText.countryLabel)," "),s.xp6(4),s.Q6J("ngForOf",null==ve.filterDetails||null==ve.filterDetails.testLocation?null:ve.filterDetails.testLocation.countryList),s.xp6(1),s.Q6J("ngIf",null==ve.selectedCountry?null:ve.selectedCountry.countryName),s.xp6(6),s.Oqu((null==ve.selectedCountry?null:ve.selectedCountry.countryName)||(null==ve.labelText?null:ve.labelText.countryLabel)),s.xp6(2),s.Q6J("ngIf",null==ve.selectedCountry||null==ve.selectedCountry.cities?null:ve.selectedCountry.cities.length)}}function L(Xe,Zt){if(1&Xe){const ve=s.EpF();s.TgZ(0,"div",70),s.NdJ("mouseenter",function(){const wn=s.CHM(ve).$implicit,$t=s.oxw();return s.KtG($t.hoveredDate=wn)})("mouseleave",function(){s.CHM(ve);const St=s.oxw();return s.KtG(St.hoveredDate=null)}),s.TgZ(1,"div",71),s._uU(2),s.qZA()()}if(2&Xe){const ve=Zt.$implicit,Ve=Zt.focused,St=s.oxw();s.ekj("focused",Ve)("range",St.isRange(ve))("before-from",St.isBeforeFrom(ve))("first",St.isFirst(ve))("selecting-second",St.isSelectingSecond())("sunday",St.isSunday(ve))("last",St.isLast(ve))("faded",St.isHovered(ve)||St.isInside(ve)),s.xp6(2),s.Oqu(ve.day)}}function Oe(Xe,Zt){if(1&Xe){const ve=s.EpF();s.TgZ(0,"div",72)(1,"button",73),s.NdJ("click",function(){s.CHM(ve);const St=s.oxw();return s.KtG(St.getNextThreeMonth())}),s.TgZ(2,"span"),s._UZ(3,"img",74),s.qZA(),s._uU(4,"Display the next 3 months "),s.qZA()()}}function ut(Xe,Zt){if(1&Xe){const ve=s.EpF();s.TgZ(0,"li",80),s.NdJ("click",function(){const wn=s.CHM(ve).$implicit,$t=s.oxw(3);return s.KtG($t.selectCountry(wn,!0))}),s._uU(1),s.qZA()}if(2&Xe){const ve=Zt.$implicit,Ve=s.oxw(3);s.Q6J("ngClass",(null==Ve.selectedCountry?null:Ve.selectedCountry.countryName)===(null==ve?null:ve.countryName)||(null==Ve.filterDetails||null==Ve.filterDetails.testLocation||null==Ve.filterDetails.testLocation.selectedCClist?null:Ve.filterDetails.testLocation.selectedCClist.countryName)===(null==ve?null:ve.countryName)?"active":""),s.xp6(1),s.Oqu(null==ve?null:ve.countryName)}}function Nt(Xe,Zt){if(1&Xe&&(s.TgZ(0,"ul"),s.YNc(1,ut,2,2,"li",79),s.qZA()),2&Xe){const ve=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",null==ve.filterDetails||null==ve.filterDetails.testLocation?null:ve.filterDetails.testLocation.countryList)}}function an(Xe,Zt){if(1&Xe){const ve=s.EpF();s.TgZ(0,"li",80),s.NdJ("click",function(){const wn=s.CHM(ve).$implicit,$t=s.oxw(3);return s.KtG($t.selectCity(wn))}),s._uU(1),s.qZA()}if(2&Xe){const ve=Zt.$implicit,Ve=s.oxw(3);s.Q6J("ngClass",(null==ve?null:ve.city)===(null==Ve.filterDetails||null==Ve.filterDetails.testLocation?null:Ve.filterDetails.testLocation.selectedCity)?"active":""),s.xp6(1),s.Oqu(null==ve?null:ve.city)}}function bt(Xe,Zt){if(1&Xe&&(s.TgZ(0,"ul"),s.YNc(1,an,2,2,"li",79),s.qZA()),2&Xe){const ve=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",null==ve.selectedCountry?null:ve.selectedCountry.cities)}}function Qe(Xe,Zt){if(1&Xe){const ve=s.EpF();s.TgZ(0,"div",75)(1,"div",76),s.NdJ("click",function(){s.CHM(ve);const St=s.oxw();return s.KtG(St.countryCityMobile("",!0))}),s._UZ(2,"img",77),s.TgZ(3,"p"),s._uU(4),s.qZA()(),s.TgZ(5,"div",78),s.YNc(6,Nt,2,1,"ul",15),s.YNc(7,bt,2,1,"ul",15),s.qZA()()}if(2&Xe){const ve=s.oxw();s.xp6(4),s.Oqu("country"===ve.isCountryOrCity?null==ve.labelText?null:ve.labelText.countryLabel:null==ve.labelText?null:ve.labelText.cityLabel),s.xp6(2),s.Q6J("ngIf","country"===ve.isCountryOrCity),s.xp6(1),s.Q6J("ngIf","city"===ve.isCountryOrCity)}}let at=(()=>{class Xe{constructor(ve,Ve,St,wn,$t,Cn,Ot,Wt,st,U,Se,Vt,en){this.calendar=ve,this.manageBookingService=Ve,this.i18n=St,this.newSessionService=wn,this.commonService=$t,this.citiesService=Cn,this.sessionSearchService=Ot,this.renderer=Wt,this.el=st,this.document=U,this.sessionService=Se,this.router=Vt,this.datePipe=en,this.showcity=!1,this.selectLocation=!1,this.fromDate=null,this.toDate=null,this.showError=!1,this.firstLoad=!0,this.debug="test",this.hoveredDate=null,this.showPara=null,this.isCountryOrCity="",this.isDateDropdownOpen=!1,this.isSixMonthEnabled=!1,this.showNextThreeMonths=!1,this.numberOfTestTypes=6,this.dropdowns={},this.resultrpt=!1,this.partnerId="",this.centreId="",this.productId="",this.isOSR=!1,this.toBookingListingComp=new s.vpe,this.minDate=this.calendar.getNext(ve.getToday(),"d",0),this.maxDate=this.calendar.getNext(ve.getToday(),"m",4)}ngOnInit(){this.mobileViewDisplayMonth=this.resultrpt?7:4,this.renderer.addClass(this.document.body,"noScroll"),this.resultrpt&&this.getFilterDetails(),this.disableDates(),this.checkToResetValue(!0)}ngAfterViewInit(){this.dropdowns={ttDropDown:this.ttDropDown,tfDropDown:this.tfDropDown,testLocationDropDown:this.testLocationDropDown,testDateDropDown:this.testDateDropDown},this.checkAutoDropDownOpen()}ngOnDestroy(){this.renderer.removeClass(this.document.body,"noScroll")}disableDates(){this.disabledDates=ve=>![new oe.qj(0,0,0)].some(Ve=>ve.equals(Ve))}getFilterDetails(){const ve=this.commonService.getLocalStorageValue(c.dR.FILTER_RESPONSE);if(ve)this.filterResponse=ve,this.numberOfTestTypes=ve?.testType?.length,this.checkToResetValue(!0),this.dateRes=this.filterResponse?.sessionDates,this.getAvailabelDates(this.dateRes);else{const Ve=this.calendar.getToday(),St=`${Ve.year}-${Ve.month} -${Ve.day}`,wn=this.calendar.getNext(Ve,"d",180),$t=`${wn.year}-${wn.month} -${wn.day}`;this.sessionService?.filterPrivateSessions((0,me.Y)(),this.partnerId,St,this.productId||void 0,this.centreId||void 0,$t).subscribe({next:Cn=>{var Wt;this.commonService.isObjNotEmpty(Cn)&&(Cn.country=(Wt=Cn.country,Wt?.map(st=>({cities:st.city?.map(U=>({id:U.id,city:U.name})),countryCode:st.id,countryName:st.name}))),this.filterResponse=Cn,this.checkToResetValue(!0),this.dateRes=this.filterResponse?.sessionDates,this.getAvailabelDates(this.dateRes),localStorage.setItem(c.dR.FILTER_RESPONSE,JSON.stringify(this.filterResponse)))}})}}checkToResetValue(ve){this.newSessionService.resetSearchTopFilter.pipe((0,ie.b)(Ve=>{Ve?this.resultrpt?this.filterDetails={testType:this.getRPTTestType(this.filterResponse),testFormat:this.getRPTTestFormat(this.filterResponse),testLocation:this.getRPTTestLocation(this.filterResponse),testDate:this.getRPTTestDate(this.filterResponse)}:(this.filterDetails={testType:{types:[{type:c.v7.ALL_TT,isSelected:!1,displayText:c.v7.ALL_TT},{type:c.v7.IELTS_AC,isSelected:!1,displayText:c.v7.IELTS_AC},{type:c.v7.IELTS_GT,isSelected:!1,displayText:c.v7.IELTS_GT},{type:c.v7.IELTS_UKVI_AC,isSelected:!1,displayText:c.v7.IELTS_UKVI_AC_WITHOUT_BRACKET},{type:c.v7.IELTS_UKVI_GT,isSelected:!1,displayText:c.v7.IELTS_UKVI_GT_WITHOUT_BRACKET},{type:c.v7.LS_A1,isSelected:!1,displayText:c.v7.IELTS_UKVI_LS_A1},{type:c.v7.LS_B1,isSelected:!1,displayText:c.v7.IELTS_UKVI_LS_B1}]},testFormat:{formats:[{type:c.Rs.ALL_TF,isSelected:!1,displayText:c.Rs.ALL_TF},{type:c.Rs.ON_COMPUTER,isSelected:!1,displayText:c.Rs.ON_COMPUTER},{type:c.Rs.ON_PAPER,isSelected:!1,displayText:c.Rs.ON_PAPER}]},testLocation:{},testDate:{}},this.clearCountryCity(),this.disabledDates="",this.toDate=null,this.fromDate=null,this.selectedDate="",this.isSixMonthEnabled=!0,this.checkIsSixMonthEnabled(),setTimeout(()=>{this.ttDropDown.open()},0)):ve&&this.getFormatDetails(),ve=!1})).subscribe()}getFormatDetails(){if(this.ttDetails=this.commonService.getLocalStorageValue(c.dR.TT_DETAILS),this.commonService.isObjNotEmpty(this.ttDetails?.searchFilterDetails)&&!this.commonService.getLocalStorageValue(c.dR.RPT_REFRESHED)){this.filterDetails=this.ttDetails?.searchFilterDetails,this.isSixMonthEnabled=this.filterDetails?.isSixMonthEnabled,this.checkIsSixMonthEnabled(),this.filterDetails?.testLocation?.clearCClist||(this.selectedCountry=this.filterDetails?.testLocation?.selectedCClist,this.selectedCity=this.filterDetails?.testLocation?.selectedCity);const ve=this.filterDetails?.testDate;this.fromDate=ve?.fromDate?this.convertToNgbDateStruct(ve.fromDate):null,this.toDate=ve?.toDate?this.convertToNgbDateStruct(ve.toDate):null,this.selectedDate=this.newSessionService.formatDateRange(ve?.fromDate,ve?.toDate),this.dateRes=ve?.sessionDates}else this.resultrpt?(localStorage.setItem(c.dR.FILTER_RESPONSE,JSON.stringify(this.filterResponse)),this.filterDetails={testType:this.getRPTTestType(this.filterResponse),testFormat:this.getRPTTestFormat(this.filterResponse),testLocation:this.getRPTTestLocation(this.filterResponse),testDate:this.getRPTTestDate(this.filterResponse)}):this.filterDetails=this.isOSR?{testType:this.getTestType(!0),testFormat:this.getTestFormat(!0),testLocation:this.getOSRTestLocation(),testDate:this.getOSRTestDate()}:{testType:this.getTestType(),testFormat:this.getTestFormat(),testLocation:this.getTestLocation(),testDate:this.getTestDate()};this.copyFilterDetails=this.filterDetails?JSON.parse(JSON.stringify(this.filterDetails)):null}getRPTTestType(ve){let wn,Ve=[];return[{type:c.v7.ALL_TT,isSelected:!1,displayText:c.v7.ALL_TT},{type:c.v7.IELTS_AC,isSelected:!1,displayText:c.v7.IELTS_AC},{type:c.v7.IELTS_GT,isSelected:!1,displayText:c.v7.IELTS_GT},{type:c.v7.IELTS_UKVI_AC,isSelected:!1,displayText:c.v7.IELTS_UKVI_AC_WITHOUT_BRACKET},{type:c.v7.IELTS_UKVI_GT,isSelected:!1,displayText:c.v7.IELTS_UKVI_GT_WITHOUT_BRACKET},{type:c.v7.LS_A1,isSelected:!1,displayText:c.v7.IELTS_UKVI_LS_A1},{type:c.v7.LS_B1,isSelected:!1,displayText:c.v7.IELTS_UKVI_LS_B1}].forEach($t=>{ve?.testType?.forEach(Cn=>{$t?.type===Cn.name&&($t.isSelected=!1,Ve.push($t))})}),this.numberOfTestTypes=Ve?.length,Ve?.length>1?(Ve.unshift({type:c.v7.ALL_TT,isSelected:!1,displayText:c.v7.ALL_TT}),wn={selectedTestType:this.ttDetails?.testType?[{type:this.ttDetails?.testType,isSelected:!0}]:[],displayText:"",types:Ve}):(Ve?.forEach($t=>{$t.isSelected=!0}),wn={selectedTestType:Ve[0]?.type?[{type:Ve[0]?.type,isSelected:!0}]:[],displayText:Ve[0]?.type,types:Ve}),wn}getRPTTestFormat(ve){let $t,St=[];return[{type:c.Rs.ALL_TF,isSelected:!1,displayText:c.Rs.ALL_TF},{type:c.Rs.ON_COMPUTER,isSelected:!1,displayText:c.Rs.ON_COMPUTER},{type:c.Rs.ON_PAPER,isSelected:!1,displayText:c.Rs.ON_PAPER}].forEach(Cn=>{ve?.testFormat?.forEach(Ot=>{Cn?.type===Ot.name&&(Cn.isSelected=!1,St.push(Cn))})}),St?.length>1?(St.unshift({type:c.Rs.ALL_TF,isSelected:!1,displayText:c.Rs.ALL_TF}),$t={displayText:"",formats:St}):St.forEach(Cn=>{Cn.isSelected=!0,$t={selectedFormatType:[{type:St[0]?.type,isSelected:!0}],displayText:St[0]?.type,formats:St}}),$t}getRPTTestLocation(ve){return{countryList:ve?.country,selectedCClist:"",displayText:"",selectedCity:""}}getRPTTestDate(ve){this.dateRes=ve?.sessionDates,this.checkIsSixMonthEnabled()}getTestFormat(ve=!1){const Ve=[{type:c.Rs.ALL_TF,isSelected:!1,displayText:c.Rs.ALL_TF},{type:c.Rs.ON_COMPUTER,isSelected:!1,displayText:c.Rs.ON_COMPUTER},{type:c.Rs.ON_PAPER,isSelected:!1,displayText:c.Rs.ON_PAPER}];let St="",wn="";if(ve)St=c.Rs.ON_COMPUTER,wn=c.Rs.ON_COMPUTER,Ve.forEach($t=>{$t.type===St&&($t.isSelected=!0)});else{const $t=this.ttDetails?.testFormat;Ve.forEach(Cn=>{Cn?.type!==c.Rs.ALL_TF||$t&&![c.Rs.ALL,c.Rs.NOT_SURE,c.Rs.NOT_SURE_UKVI].includes($t)?Cn?.type===c.Rs.ON_COMPUTER&&[c.Rs.IELTS_ON_COMPUTER,c.Rs.IELTS_UKVI_ON_COMPUTER].includes($t)?(Cn.isSelected=!0,wn=c.Rs.ON_COMPUTER,St=c.Rs.ON_COMPUTER):Cn?.type===c.Rs.ON_PAPER&&[c.Rs.IELTS_ON_PAPER,c.Rs.IELTS_UKVI_ON_PAPER].includes($t)&&(Cn.isSelected=!0,wn=c.Rs.ON_PAPER,St=c.Rs.ON_PAPER):(Ve.forEach(Ot=>Ot.isSelected=!0),wn=c.Rs.ALL_TF,St=c.Rs.ALL_TF)}),wn||(wn=$t,St=$t)}return{selectedFormatType:[{type:St,isSelected:!0}],displayText:wn,formats:Ve}}getTestLocation(){return this.selectedCountry=this.ttDetails?.testLocation?.selectedCClist,this.selectedCity=this.ttDetails?.testLocation?.cityName,{countryList:this.ttDetails?.testLocation?.countryList,selectedCClist:this.ttDetails?.testLocation?.selectedCClist,displayText:`${this.ttDetails?.testLocation?.cityName}, ${this.ttDetails?.testLocation?.countryName}`,selectedCity:this.ttDetails?.testLocation?.cityName}}getTestDate(){const{fromDate:ve,toDate:Ve}=this.ttDetails?.testDate||{fromDate:"",toDate:""};return this.fromDate=ve?this.convertToNgbDateStruct(ve):null,this.toDate=Ve?this.convertToNgbDateStruct(Ve):null,this.selectedDate=this.newSessionService?.formatDateRange(ve,Ve),this.dateRes=this.ttDetails?.testDate?.sessionDates,this.isSixMonthEnabled=this.ttDetails?.testDate?.isSixMonthEnabled,this.checkIsSixMonthEnabled(),{fromDate:ve,toDate:Ve,displayText:this.newSessionService?.formatDateRange(ve,Ve||void 0)}}getTestType(ve=!1){const Ve=[{type:c.v7.ALL_TT,isSelected:!1,displayText:c.v7.ALL_TT},{type:c.v7.IELTS_AC,isSelected:!1,displayText:c.v7.IELTS_AC},{type:c.v7.IELTS_GT,isSelected:!1,displayText:c.v7.IELTS_GT},{type:c.v7.IELTS_UKVI_AC,isSelected:!1,displayText:c.v7.IELTS_UKVI_AC_WITHOUT_BRACKET},{type:c.v7.IELTS_UKVI_GT,isSelected:!1,displayText:c.v7.IELTS_UKVI_GT_WITHOUT_BRACKET},{type:c.v7.LS_A1,isSelected:!1,displayText:c.v7.IELTS_UKVI_LS_A1},{type:c.v7.LS_B1,isSelected:!1,displayText:c.v7.IELTS_UKVI_LS_B1}];let St="",wn="";return St=ve?this.commonService?.extractGeneralOrAcademic(this.OSRDetails?.productName):this.ttDetails?.testType,Ve.forEach($t=>{$t.type===St&&($t.isSelected=!0,wn=$t.displayText)}),{selectedTestType:[{type:St,isSelected:!0}],displayText:wn||St,types:Ve}}getOSRTestLocation(){return this.selectedCountry=this.OSRDetails?.testLocationAddresses?.[0]?.countryCode,this.selectedCity=this.OSRDetails?.testLocationAddresses?.[0]?.city,{countryList:this.ttDetails?.testLocation?.countryList,selectedCClist:this.ttDetails?.testLocation?.selectedCClist,displayText:`${this.selectedCity}, ${this.selectedCountry}`,selectedCity:this.selectedCity}}getLocalDateTimeFromUTC(ve,Ve){return this.datePipe?.transform(ve,"yyyy-MM-ddTHH:mm:ssXXX",Ve)}getDateAfter60Days(ve){const Ve=new Date(ve);return isNaN(Ve.getTime())?(console.error("Invalid date:",ve),""):(Ve.setDate(Ve.getDate()+60),Ve.toISOString().split("T")[0])}getOSRTestDate(){const ve=this.skillValue;this.startOSRDate=this.getLocalDateTimeFromUTC("Listening"===ve||"Reading"===ve||"Writing"===ve?this.OSRDetails?.lrwStartDateTimeUtc:this.OSRDetails?.speakingStartDateTimeUtc,this.OSRDetails?.testLocationTimeZone);const St=this.startOSRDate?.slice(0,10);this.endOSRDate=this.getDateAfter60Days(St),this.isSixMonthEnabled=!1,this.fromDate=St?this.convertToNgbDateStruct(St):null,this.toDate=this.endOSRDate?this.convertToNgbDateStruct(this.endOSRDate):null;const wn=this.newSessionService?.formatDateRange(St,this.endOSRDate);return this.dateRes=this.ttDetails?.testDate?.sessionDates||[],this.checkIsSixMonthEnabled(),{fromDate:St,toDate:this.endOSRDate,displayText:wn}}convertToNgbDateStruct(ve){const[Ve,St,wn]=ve.split("-").map(Number);return{year:Ve,month:St,day:wn}}checkAutoDropDownOpen(){this.dropdowns={ttDropDown:this.ttDropDown,tfDropDown:this.tfDropDown,testLocationDropDown:this.testLocationDropDown,testDateDropDown:this.testDateDropDown},this.dropDownType&&this.innerWidth>1099&&this.dropdowns[this.dropDownType]&&setTimeout(()=>{this.dropdowns[this.dropDownType].open()},0)}selectTestTypeOrFormat(ve,Ve,St){"object"==typeof Ve&&null!==Ve&&(Ve.isSelected=ve?.target?.checked);const wn=St?this.filterDetails?.testType?.types:this.filterDetails?.testFormat?.formats,$t=St?c.v7.ALL_TT:c.Rs.ALL_TF;if(Ve.type===$t)wn.forEach(Cn=>{Cn.isSelected=Ve.isSelected}),St?this.updateTestTypesDetails(Ve.isSelected):this.updateTestFormatsDetails(Ve.isSelected);else{const Cn=wn?.filter(Wt=>Wt.type!==$t&&Wt.isSelected),Ot=wn?.find(Wt=>Wt.type===$t);Ot&&(Ot.isSelected=Cn?.length===(St?this.numberOfTestTypes:2))}Ve.type!==$t&&(St?this.updateTestTypesDetails(!1):this.updateTestFormatsDetails(!1))}updateTestTypesDetails(ve){const Ve=this.getSelectedTTdetails(),St=this.getSelectedData(ve,Ve,"tests",c.v7.ALL_TT,!0);this.resultrpt?this.filterDetails.testType={...this.filterDetails?.testType,...St}:(this.filterDetails={testType:{...this.filterDetails?.testType,...St},testFormat:{formats:[{type:c.Rs.ALL_TF,isSelected:!1,displayText:c.Rs.ALL_TF},{type:c.Rs.ON_COMPUTER,isSelected:!1,displayText:c.Rs.ON_COMPUTER},{type:c.Rs.ON_PAPER,isSelected:!1,displayText:c.Rs.ON_PAPER}]},testLocation:{},testDate:{}},this.clearCountryCity(),this.disabledDates="",this.toDate=null,this.fromDate=null,this.selectedDate="",this.showNextThreeMonths=!1)}updateTestFormatsDetails(ve){const Ve=this.getSelectedTFdetails(),St=this.getSelectedData(ve,Ve,"formats",c.Rs.ALL_TF);this.filterDetails&&this.filterDetails.testFormat&&(this.filterDetails.testFormat={...this.filterDetails?.testFormat,...St})}getSelectedTTdetails(){return this.filterDetails?.testType?.types?.filter(ve=>ve.type!==c.v7.ALL_TT&&ve.isSelected)}getSelectedTFdetails(){return this.filterDetails?.testFormat?.formats?.filter(ve=>ve.type!==c.Rs.ALL_TF&&ve.isSelected)}getSelectedData(ve,Ve,St,wn,$t){const Cn=Ve?.length,Ot=$t?"selectedTestType":"selectedFormatType";return ve||$t&&Cn===this.numberOfTestTypes||2===Cn&&"selectedFormatType"===Ot?{[Ot]:Ve,displayText:wn}:Cn?1===Cn?{[Ot]:Ve,displayText:Ve[0]?.displayText}:{[Ot]:Ve,displayText:`${Cn} ${St} selected`}:{[Ot]:"",displayText:""}}selectOnLocation(ve){if(ve){const Ve=JSON.stringify(this.copyFilterDetails?.testFormat?.selectedFormatType)===JSON.stringify(this.filterDetails?.testFormat?.selectedFormatType),St=JSON.stringify(this.copyFilterDetails?.testType?.selectedTestType)===JSON.stringify(this.filterDetails?.testType?.selectedTestType),wn=JSON.stringify(this.copyFilterDetails?.testLocation)===JSON.stringify(this.filterDetails?.testLocation),$t=!this.copyFilterDetails||!St||!Ve;$t||this.filterDetails?.testLocation?.clearCClist||!$t&&Ve&&St&&!wn?this.getCountryCityDetailsApi():this.selectedCountry&&!this.selectedCity?(this.selectedCountry=this.filterDetails?.testLocation?.selectedCClist?this.filterDetails?.testLocation?.selectedCClist:this.ttDetails?.testLocation?.selectedCClist,this.selectedCity=this.filterDetails?.testLocation?.selectedCity||""):this.selectedCountry&&this.selectedCity&&!this.filterDetails?.testLocation?.countryList?.length?this.clearCountryCity():!this.selectedCountry&&!this.selectedCity&&this.commonService.isObjNotEmpty(this.filterDetails?.testLocation?.selectedCClist)&&this.filterDetails?.testLocation?.countryList?.length?this.setCountryCity():!this.commonService.isObjNotEmpty(this.filterDetails?.testLocation)&&this.ttDetails?.testLocation?this.filterDetails.testLocation.countryList=this.ttDetails?.testLocation?.countryList:this.isOSR&&this.getOSRCountryCityApi()}else this.selectedCountry&&!this.selectedCity&&this.setCountryCity()}setCountryCity(){this.selectedCountry=this.filterDetails?.testLocation?.selectedCClist||"",this.selectedCity=this.filterDetails?.testLocation?.selectedCity||""}clearCountryCity(){this.selectedCountry="",this.selectedCity=""}getOSRCountryCityApi(){const ve=this.commonService.getTestType(this.commonService.extractGeneralOrAcademic(this.OSRDetails?.productName));this.manageBookingService.getCountryCity(["CD"],this.newSessionService.getTestModules(!1,ve),this.newSessionService.getTestCategories(!1,ve))?.subscribe(Ve=>{this.filterDetails.testLocation.countryList=Ve?.countryCities,Ve?.countryCities?.length?(this.checkSelectedCountryAvailable(Ve,this.OSRDetails.testLocationAddresses[0].countryCode||""),this.checkSelectedCityAvailable()):this.clearCountryCity()})}getCountryCityDetailsApi(ve){const Ve=this.newSessionService.formatTestTypes(this.filterDetails?.testType?.selectedTestType?.length?this.filterDetails?.testType?.selectedTestType:[]),St=this.getSelectedTFdetails();this.manageBookingService.getCountryCity(this.formatTestFormats(St),[...new Set(Ve?.testModule)],[...new Set(Ve?.testCategory)])?.subscribe(wn=>{this.filterDetails.testLocation.countryList=wn?.countryCities,wn?.countryCities?.length?(this.checkSelectedCountryAvailable(wn,this.selectedCountry?.countryCode||this.filterDetails?.testLocation?.selectedCClist?.countryCode||""),this.checkSelectedCityAvailable()):this.clearCountryCity(),ve&&(this.selectedCountry||this.selectedCity||!this.filterDetails?.testLocation?delete this.filterDetails?.testLocation?.clearCClist:this.filterDetails.testLocation.clearCClist=!0,this.searchFilter())})}checkSelectedCountryAvailable(ve,Ve){const St=ve?.countryCities?.filter(wn=>Ve===wn?.countryCode);this.selectedCountry=St?.length?St[0]:""}checkSelectedCityAvailable(){const ve=this.selectedCountry?.cities?.length?this.selectedCountry?.cities?.filter(Ve=>Ve?.city===this.selectedCity):[];this.selectedCity=ve?.length?ve[0].city:""}formatTestFormats(ve){const Ve=[];return ve?.length&&ve.forEach(St=>{Ve.push(St?.type===c.Rs.ON_COMPUTER?"CD":"PB")}),Ve?.length?Ve:[]}selectCountry(ve,Ve){this.selectedCountry=ve,this.selectedCity="",this.isCountryOrCity=Ve?"city":""}selectCity(ve){this.selectedCity=ve,this.filterDetails||(this.filterDetails={}),this.filterDetails.testLocation={...this.filterDetails?.testLocation,displayText:`${ve.city}, ${this.selectedCountry?.countryName}`,selectedCity:ve?.city||"",selectedCClist:this.selectedCountry?.cities?.length?this.selectedCountry:[]},this.isCountryOrCity="",this.dateRes=""}countryCityMobile(ve,Ve){this.isCountryOrCity=ve,this.selectedCountry&&!this.selectedCity&&Ve&&(this.selectedCountry="")}selectDateDropdown(ve){if(ve){if(this.isDateDropdownOpen=this.innerWidth<=1099,this.resultrpt){const Ve=this.commonService?.getLocalStorageValue(c.dR.FILTER_RESPONSE);this.commonService.isObjNotEmpty(Ve)&&this.getAvailabelDates(Ve?.sessionDates)}else{const Ve=this.filterDetails?.testType?.selectedTestType?.length&&this.filterDetails?.testFormat?.selectedFormatType?.length&&this.commonService.isObjNotEmpty(this.filterDetails?.testLocation?.selectedCClist)&&this.filterDetails?.testLocation?.selectedCity;this.checkMobileViewTestDate(),this.checkForTestDates(Ve)}this.innerWidth>1099&&(this.navigateToSelectedMonth(),this.initNavBtnDisable())}else this.isDateDropdownOpen=!1}checkForTestDates(ve){if(ve){const Ve=JSON.stringify(this.copyFilterDetails?.testType?.selectedTestType)!==JSON.stringify(this.filterDetails?.testType?.selectedTestType)||JSON.stringify(this.copyFilterDetails?.testFormat?.selectedFormatType)!==JSON.stringify(this.filterDetails?.testFormat?.selectedFormatType)||JSON.stringify(this.copyFilterDetails?.testLocation)!==JSON.stringify(this.filterDetails?.testLocation);if(Ve)this.checkTempDateObjMatches();else{const St=this.tempObjForDates&&(JSON.stringify(this.tempObjForDates?.testType?.selectedTestType)!==JSON.stringify(this.filterDetails?.testType?.selectedTestType)||JSON.stringify(this.tempObjForDates?.testFormat?.selectedFormatType)!==JSON.stringify(this.filterDetails?.testFormat?.selectedFormatType)||JSON.stringify(this.tempObjForDates?.testLocation)!==JSON.stringify(this.filterDetails?.testLocation));!this.dateRes&&!Ve||St?this.getCalendarDatesApi():this.getAvailabelDates(this.dateRes)}}else this.disabledDates=""}checkTempDateObjMatches(){const ve=JSON.stringify(this.tempObjForDates?.testType?.selectedTestType)!==JSON.stringify(this.filterDetails?.testType?.selectedTestType)||JSON.stringify(this.tempObjForDates?.testFormat?.selectedFormatType)!==JSON.stringify(this.filterDetails?.testFormat?.selectedFormatType)||JSON.stringify(this.tempObjForDates?.testLocation)!==JSON.stringify(this.filterDetails?.testLocation);this.dateRes&&!ve?this.getAvailabelDates(this.dateRes):(this.fromDate=null,this.toDate=null,this.selectedDate="",this.isSixMonthEnabled=!1,this.getCalendarDatesApi(),this.tempObjForDates={...this.filterDetails})}getCalendarDatesApi(ve){this.citiesService.getCities(void 0,this.filterDetails?.testLocation?.selectedCClist?.countryCode,this.filterDetails?.testLocation?.selectedCity,Te.KM.A).pipe((0,le.w)(Ve=>{if(Ve?.items?.length){const St=this.newSessionService.formatTestTypes(this.filterDetails?.testType?.selectedTestType);return this.sessionSearchService.calendarDates([Te.lk.Listening,Te.lk.Reading,Te.lk.Writing],void 0,Ve?.items[0].countryCode||"",ve||void 0,[...new Set(St.testCategory)],this.formatTestFormats(this.filterDetails?.testFormat?.selectedFormatType),[...new Set(St?.testModule)],Ve?.items[0]?.id||"")}return""})).subscribe({next:Ve=>{this.dateRes=ve?this.dateRes.concat(Ve?.sessionDates):Ve?.sessionDates,this.getAvailabelDates(this.dateRes)},error:()=>{this.disableDates()}})}getAvailabelDates(ve){let Ve=[];ve?.length&&(Ve=ve);const St=Ve?.map(wn=>{const[$t,Cn,Ot]=wn?.split("-")?.map(Number);return new oe.qj($t,Cn,Ot)});this.disabledDates=wn=>!St?.some($t=>wn?.equals($t))}navigateToSelectedMonth(){if(this.datePicker){let ve;if(this.fromDate)ve=this.fromDate;else{const Ve=new Date;ve={year:Ve.getFullYear(),month:Ve.getMonth()+1,day:Ve.getDate()}}this.datePicker.navigateTo(ve)}}onDateSelection(ve){try{this.showError=!1,this.fromDate||this.toDate?this.fromDate&&!this.toDate?ve.after(this.fromDate)||ve.equals(this.fromDate)?this.toDate=ve:(this.toDate=this.fromDate,this.fromDate=ve):(this.toDate=null,this.fromDate=ve):this.fromDate=ve;const Ve=(0,T.UW)(this.fromDate),St=this.toDate?(0,T.UW)(this.toDate):void 0;this.selectedDate=this.newSessionService.formatDateRange(Ve,St),this.filterDetails.testDate={fromDate:Ve,toDate:St||Ve||"",displayText:this.newSessionService.formatDateRange(Ve,St)}}catch{this.debug=this.fromDate?.toString()||"failed"}}isHovered(ve){return this.fromDate&&!this.toDate&&this.hoveredDate&&ve.after(this.fromDate)&&ve.before(this.hoveredDate)}isInside(ve){return this.toDate&&ve.after(this.fromDate)&&ve.before(this.toDate)}isRange(ve){return this.isFirst(ve)||this.isLast(ve)||this.isInside(ve)||this.isHovered(ve)}isFirst(ve){return ve.equals(this.fromDate)}isBeforeFrom(ve){return ve.before(this.fromDate)}isSelectingSecond(){return null!==this.fromDate&&null===this.toDate}isLast(ve){return this.toDate&&ve.equals(this.toDate)}isSunday(ve){return 0===new Date((0,T.UW)(ve)+"T00:00:00").getDay()}checkAllowSearch(){return!(JSON.stringify(this.copyFilterDetails)===JSON.stringify(this.filterDetails))&&this.filterDetails?.testType?.selectedTestType?.length&&this.filterDetails?.testFormat?.selectedFormatType?.length&&this.commonService.isObjNotEmpty(this.filterDetails?.testLocation)&&this.filterDetails?.testLocation?.selectedCClist&&this.filterDetails?.testLocation?.selectedCity&&this.commonService.isObjNotEmpty(this.filterDetails?.testDate)}search(){JSON.stringify(this.copyFilterDetails?.testFormat?.selectedFormatType)!==JSON.stringify(this.filterDetails?.testFormat?.selectedFormatType)&&JSON.stringify(this.copyFilterDetails?.testLocation)===JSON.stringify(this.filterDetails?.testLocation)?this.getCountryCityDetailsApi(!0):(delete this.filterDetails?.testLocation?.clearCClist,this.searchFilter()),localStorage.setItem(c.dR.RPT_FILTER_DETAILS_AVAILABLE,"true")}searchFilter(){this.setTestDateDetails(),this.commonService.storeTTdetails({searchFilterDetails:this.filterDetails}),this.toBookingListingComp.emit({searchFilterDetails:this.filterDetails}),this.newSessionService.resetSearchTopFilter.next(!1)}setTestDateDetails(){this.filterDetails.isSixMonthEnabled=!this.getDetailsToShowSixMonth()&&this.isSixMonthEnabled,this.filterDetails?.testDate&&(this.filterDetails.testDate.sessionDates=this.dateRes)}getDetailsToShowSixMonth(){return JSON.stringify(this.copyFilterDetails?.testDate)===JSON.stringify(this.filterDetails?.testDate)&&(JSON.stringify(this.copyFilterDetails?.testType?.selectedTestType)!==JSON.stringify(this.filterDetails?.testType?.selectedTestType)||JSON.stringify(this.copyFilterDetails?.testFormat?.selectedFormatType)!==JSON.stringify(this.filterDetails?.testFormat?.selectedFormatType)||JSON.stringify(this.copyFilterDetails?.testLocation)!==JSON.stringify(this.filterDetails?.testLocation))}cancel(){this.toBookingListingComp.emit(),this.newSessionService.resetSearchTopFilter.next(!1)}checkIsSixMonthEnabled(){this.resultrpt?(this.hideNavBtn(!0),this.maxDate=this.calendar.getNext(this.calendar.getToday(),"d",180),this.showNextThreeMonths=!1,this.isSixMonthEnabled=!0):this.isOSR?(this.maxDate=this.calendar.getNext(this.calendar.getToday(),"d",60),this.showNextThreeMonths=!1):this.isSixMonthEnabled&&(this.maxDate=this.calendar.getNext(this.calendar.getToday(),"d",180),this.showNextThreeMonths=!1)}onNavigate(ve){const Ve=ve?.current&&(12===ve?.current?.month&&1===ve?.next?.month||ve?.current?.month<ve?.next?.month&&!(1===ve?.current?.month&&12===ve?.next?.month)),{year:St,month:wn}=this.getNextMonth(ve?.next.year,ve?.next?.month);Ve?this.checkIsThreeMonthAvailable(St,wn):this.showNextThreeMonths=this.maxDate?.month===wn&&this.maxDate?.year===St&&!this.isSixMonthEnabled,ve?.next.month===this.minDate?.month&&this.minDate?.year===ve?.next?.year?this.hideNavBtn(!0):this.maxDate?.month===wn&&this.maxDate?.year===St?this.hideNavBtn(!1,!0):this.hideNavBtn()}checkIsThreeMonthAvailable(ve,Ve){const St=this.calendar.getNext(this.minDate,"d",90),{year:wn,month:$t}=this.getNextMonth(St.year,St.month);this.showNextThreeMonths=$t===Ve&&wn===ve||this.maxDate.month===Ve&&this.maxDate?.year===ve}getNextThreeMonth(){this.maxDate=this.calendar.getNext(this.calendar.getToday(),"d",180),this.isSixMonthEnabled=!0,this.showNextThreeMonths=!1,this.mobileViewDisplayMonth=6,this.hideNavBtn();const ve=this.calendar.getNext(this.calendar.getToday(),"d",90);this.getCalendarDatesApi(`${ve?.year}-${ve?.month}-${ve?.day}`)}getNextMonth(ve,Ve){let St=ve,wn=Ve+1;return 12===Ve&&(wn=1,St=ve+1),{year:St,month:wn}}initNavBtnDisable(){const{year:ve,month:Ve}=this.getNextMonth(this.fromDate?.year,this.fromDate?.month);this.fromDate?.month===this.minDate?.month&&this.fromDate?.year===this.minDate?.year||this.resultrpt&&!this.fromDate?this.hideNavBtn(!0):this.maxDate?.month===Ve&&this.maxDate?.year===ve||this.maxDate?.month===this.fromDate?.month&&this.maxDate?.year===this.fromDate?.year?this.hideNavBtn(!1,!0):this.hideNavBtn()}hideNavBtn(ve,Ve){const St=this.el?.nativeElement?.querySelector(".ngb-dp-arrow-prev");St&&ve?this.renderer?.setStyle(St,"visibility","hidden"):St&&this.renderer?.removeStyle(St,"visibility");const wn=this.el?.nativeElement?.querySelector(".ngb-dp-arrow-next");wn&&Ve?this.renderer.setStyle(wn,"visibility","hidden"):wn&&this.renderer.removeStyle(wn,"visibility")}checkMobileViewTestDate(){if(this.innerWidth<=1099){const ve=this.calendar.getNext(this.minDate,"d",90);this.mobileViewDisplayMonth=ve?.month-this.minDate?.month==2?3:4,this.isSixMonthEnabled=!this.getDetailsToShowSixMonth()&&this.isSixMonthEnabled,3!==this.mobileViewDisplayMonth&&4!==this.mobileViewDisplayMonth||this.isSixMonthEnabled?(this.mobileViewDisplayMonth=4===this.mobileViewDisplayMonth?7:6,this.showNextThreeMonths=!1):this.showNextThreeMonths=!0}}static#e=this.\u0275fac=function(Ve){return new(Ve||Xe)(s.Y36(oe.vL),s.Y36(ae.h),s.Y36(oe.wf),s.Y36(be.z),s.Y36(re.v),s.Y36(Te.eK),s.Y36(Te.uw),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(a.K0),s.Y36(J.mj),s.Y36(fe.F0),s.Y36(a.uU))};static#t=this.\u0275cmp=s.Xpm({type:Xe,selectors:[["app-top-search-filter"]],viewQuery:function(Ve,St){if(1&Ve&&(s.Gf(ke,5),s.Gf(Ce,5),s.Gf(we,5),s.Gf(he,5),s.Gf(A,5)),2&Ve){let wn;s.iGM(wn=s.CRH())&&(St.datePicker=wn.first),s.iGM(wn=s.CRH())&&(St.ttDropDown=wn.first),s.iGM(wn=s.CRH())&&(St.tfDropDown=wn.first),s.iGM(wn=s.CRH())&&(St.testLocationDropDown=wn.first),s.iGM(wn=s.CRH())&&(St.testDateDropDown=wn.first)}},inputs:{labelText:"labelText",buttonsText:"buttonsText",dropDownType:"dropDownType",innerWidth:"innerWidth",resultrpt:"resultrpt",partnerId:"partnerId",centreId:"centreId",productId:"productId",isOSR:"isOSR",OSRDetails:"OSRDetails",skillValue:"skillValue"},outputs:{toBookingListingComp:"toBookingListingComp"},standalone:!0,features:[s._Bn([oe.jL]),s.jDz],decls:55,vars:23,consts:[[1,"edit-filter-header"],[1,"edit-filter-wrapper"],[1,"edit-test-details"],[1,"edit-test-details-head"],[1,"d-flex","justify-content-between"],[1,"edit-filter-spacer-container"],[1,"d-flex","justify-content-center","w-100"],["src","/assets/images/edit-filter/close-icon.svg","alt","close",3,"click"],[1,"edit-test-detail-container"],["ngbDropdown","","id","testTypeDropDown",1,"d-inline-block","dropdown-sec",3,"ngClass"],["ttDropDown","ngbDropdown"],["type","button","ngbDropdownToggle","",1,"drop-down-button"],["src","/assets/images/edit-filter/edit-dropdown-arrow.svg","alt","",1,"drop-down-arrow"],["ngbDropdownMenu","","aria-labelledby","testTypeDropDown"],["class","drop-down-checkbox-item",4,"ngFor","ngForOf"],[4,"ngIf"],["class","select-location",4,"ngIf"],[1,"select-date-on-computer"],["ngbDropdown","","id","dateDropdown",1,"d-inline-block","dropdown-sec",3,"openChange"],["testDateDropDown","ngbDropdown"],["ngbDropdownMenu","","aria-labelledby","dateDropdown"],[1,"select-date-container"],[1,"select-date-title-wrapper"],[1,"selected-range"],[1,"test-date-on-paper-container"],[1,"test-date-on-paper-wrapper"],[1,"test-date-on-paper-content"],[1,"test-calender-container","d-flex","flex-column"],["outsideDays","hidden",1,"d-flex",3,"displayMonths","dayTemplate","minDate","firstDayOfWeek","maxDate","markDisabled","dateSelect","navigate"],["dp",""],["t",""],["class","nextcalender d-flex align-items-center justify-content-center",4,"ngIf"],[1,"button-sec","d-flex"],[1,"search","d-flex",3,"ngClass","click"],[1,"cancel","d-flex",3,"click"],["class","select-location-fullwidth",4,"ngIf"],[1,"drop-down-checkbox-item"],["type","checkbox",1,"form-check-input",3,"id","checked","change"],[3,"for"],["ngbDropdown","","id","testFormatDropdown",1,"d-inline-block","dropdown-sec",3,"ngClass"],["tfDropDown","ngbDropdown"],["ngbDropdownMenu","","aria-labelledby","testFormatDropdown",1,"test-format"],[1,"select-location"],["ngbDropdown","","autoClose","outside",1,"d-inline-block","dropdown-sec",3,"openChange"],["testLocationDropDown","ngbDropdown"],["type","button","ngbDropdownToggle","","id","parentDropdownButton",1,"drop-down-button"],["ngbDropdownMenu","","aria-labelledby","parentDropdownButton",1,"desktop"],[1,"select-country"],["ngbDropdown","",1,"d-inline-block","dropdown-sec"],["childDropdown","ngbDropdown"],["type","button","ngbDropdownToggle","","id","childDropdownButton",1,"drop-down-button"],["src","/assets/images/edit-filter/edit-dropdown-arrow.svg","alt",""],["ngbDropdownMenu","","aria-labelledby","childDropdownButton"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],["class","select-city",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","countryListDropdown",1,"mobile"],["ngbDropdownItem","",3,"click"],["src","/assets/images/edit-filter/country-icon.svg","alt",""],["src","/assets/images/edit-filter/next-icon.svg","alt",""],["ngbDropdownItem","",3,"click",4,"ngIf"],[1,"select-city"],[1,"title"],["class","d-flex custom-scroll",4,"ngIf"],[1,"d-flex","custom-scroll"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["disabled","",1,"radio-button-container"],["type","radio","name","radio",3,"checked"],[1,"checkmark"],["src","/assets/images/edit-filter/city-icon.svg","alt",""],[1,"custom-date-range",3,"mouseenter","mouseleave"],[1,"overlay"],[1,"nextcalender","d-flex","align-items-center","justify-content-center"],[1,"d-flex","align-items-center",3,"click"],["src","/assets/images/search-gray.svg","alt",""],[1,"select-location-fullwidth"],[1,"tilte-sec","d-flex",3,"click"],["src","assets/images/edit-filter/back-icon.svg","alt",""],[1,"menu-wrapper"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(Ve,St){if(1&Ve&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),s._UZ(5,"div",5),s.TgZ(6,"span",6),s._uU(7),s.qZA(),s.TgZ(8,"img",7),s.NdJ("click",function(){return St.cancel()}),s.qZA()()(),s.TgZ(9,"ul",8)(10,"li")(11,"div",9,10)(13,"button",11)(14,"span"),s._uU(15),s.qZA(),s.TgZ(16,"label"),s._uU(17),s.qZA(),s._UZ(18,"img",12),s.qZA(),s.TgZ(19,"div",13)(20,"ul"),s.YNc(21,pe,4,5,"li",14),s.qZA()()()(),s.YNc(22,pt,12,4,"li",15),s.YNc(23,Ie,31,7,"li",16),s.TgZ(24,"li",17)(25,"div",18,19),s.NdJ("openChange",function($t){return St.selectDateDropdown($t)}),s.TgZ(27,"button",11)(28,"span"),s._uU(29),s.qZA(),s.TgZ(30,"label"),s._uU(31),s.qZA(),s._UZ(32,"img",12),s.qZA(),s.TgZ(33,"div",20)(34,"div",21)(35,"div",22)(36,"p"),s._uU(37),s.qZA(),s.TgZ(38,"div",23),s._uU(39),s.qZA()(),s.TgZ(40,"div",24)(41,"div",25)(42,"div",26)(43,"div",27)(44,"ngb-datepicker",28,29),s.NdJ("dateSelect",function($t){return St.onDateSelection($t)})("navigate",function($t){return St.onNavigate($t)}),s.qZA(),s.YNc(46,L,3,17,"ng-template",null,30,s.W1O),s.YNc(48,Oe,5,0,"div",31),s.qZA()()()()()()()()()(),s.TgZ(49,"div",32)(50,"div",33),s.NdJ("click",function(){return St.search()}),s._uU(51),s.qZA(),s.TgZ(52,"div",34),s.NdJ("click",function(){return St.cancel()}),s._uU(53),s.qZA()()()(),s.YNc(54,Qe,8,3,"div",35)),2&Ve){const wn=s.MAs(47);s.xp6(7),s.Oqu(null==St.labelText?null:St.labelText.bookaTestLabel),s.xp6(4),s.Q6J("ngClass",St.isOSR?"osr-testblock":""),s.xp6(4),s.Oqu(null==St.labelText?null:St.labelText.ttLabel),s.xp6(2),s.Oqu((null==St.filterDetails||null==St.filterDetails.testType?null:St.filterDetails.testType.displayText)||(null==St.labelText?null:St.labelText.selectTTlabel)),s.xp6(4),s.Q6J("ngForOf",null==St.filterDetails||null==St.filterDetails.testType?null:St.filterDetails.testType.types),s.xp6(1),s.Q6J("ngIf",!St.isDateDropdownOpen),s.xp6(1),s.Q6J("ngIf",!St.isDateDropdownOpen),s.xp6(6),s.Oqu(null==St.labelText?null:St.labelText.testDateLabel),s.xp6(2),s.Oqu((null==St.filterDetails||null==St.filterDetails.testDate?null:St.filterDetails.testDate.displayText)||(null==St.labelText?null:St.labelText.selectDateLabel)),s.xp6(6),s.Oqu(null==St.labelText?null:St.labelText.selectDateLabel),s.xp6(2),s.AsE("",null==St.labelText?null:St.labelText.selectedLabel," ",St.selectedDate,""),s.xp6(5),s.Q6J("displayMonths",St.innerWidth>1024?2:St.mobileViewDisplayMonth)("dayTemplate",wn)("minDate",St.minDate)("firstDayOfWeek",7)("maxDate",St.maxDate)("markDisabled",St.disabledDates),s.xp6(4),s.Q6J("ngIf",St.showNextThreeMonths&&!St.isSixMonthEnabled),s.xp6(2),s.Q6J("ngClass",St.checkAllowSearch()?"":"disabled"),s.xp6(1),s.hij(" ",null==St.buttonsText?null:St.buttonsText.search,""),s.xp6(2),s.Oqu(null==St.buttonsText?null:St.buttonsText.cancel),s.xp6(1),s.Q6J("ngIf",St.isCountryOrCity)}},dependencies:[oe.XC,oe.jt,oe.iD,oe.Vi,oe.TH,a.ez,a.mk,a.sg,a.O5,oe.VL,oe.M],styles:['@import"https://use.typekit.net/eol6bti.css";*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:after, *[_ngcontent-%COMP%]:before{margin:0;padding:0;box-sizing:inherit;font-size:unset;line-height:unset;font-weight:unset}body[_ngcontent-%COMP%]{box-sizing:border-box}button[_ngcontent-%COMP%]{background:none;border:0;cursor:pointer;box-sizing:border-box;text-align:center;font-family:unset}img[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit;cursor:pointer}a[_ngcontent-%COMP%]:focus-visible, button[_ngcontent-%COMP%]:focus-visible{outline:thin dotted}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{margin:0;padding:0}@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-dark[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;border-radius:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#878787;border-radius:4px}.edit-filter-header[_ngcontent-%COMP%]{padding:.6666666667rem 1.1111111111rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]{background:#F5F5F5;width:100vw;height:100vh;top:0;left:0;position:fixed;display:block}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .edit-test-details-head[_ngcontent-%COMP%]{position:fixed;z-index:1;width:100%;background:#fff;padding:.8888888889rem 1.3333333333rem;display:block;gap:.5555555556rem;border-bottom:.0555555556rem solid rgba(135,135,135,.25)}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .edit-test-details-head[_ngcontent-%COMP%]   .edit-filter-spacer-container[_ngcontent-%COMP%]{width:1.3333333333rem;height:1.3333333333rem;min-width:1.3333333333rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .edit-test-details-head[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-size:1.1111111111rem;line-height:1.3333333333rem;font-weight:600;font-family:proxima-nova,sans-serif}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul.edit-test-detail-container[_ngcontent-%COMP%]{padding:4.5rem 1.3333333333rem 1.3333333333rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul.edit-test-detail-container[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin-bottom:1.3333333333rem;position:relative}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul.edit-test-detail-container[_ngcontent-%COMP%] > li.select-date-on-computer[_ngcontent-%COMP%]{position:static}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul.edit-test-detail-container[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .osr-testblock[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:block}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]{position:static;cursor:pointer;width:100%;background:#fff;padding:1.3333333333rem;border:.0555555556rem solid rgba(135,135,135,.25);border-radius:.4444444444rem;box-shadow:0 .5555555556rem .8333333333rem -.1666666667rem #1018281a;line-height:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#a61242;font-family:proxima-nova,sans-serif;font-weight:600;font-size:.7777777778rem;line-height:.8888888889rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]{color:#6b6b6b;font-family:Open Sans,sans-serif;font-weight:400;font-size:.7777777778rem;line-height:1.3333333333rem;width:100%;text-align:left}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;position:static}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:" ";border:none;background-image:url(/assets/images/edit-filter/edit-dropdown-arrow.svg);background-repeat:no-repeat;width:1.1111111111rem;height:1.1111111111rem;display:inline-block;position:absolute;top:1.9444444444rem;right:1.5555555556rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]   .drop-down-arrow[_ngcontent-%COMP%]{display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]:after{display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[disabled][_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:not-allowed}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;padding:0 1.3333333333rem 1.3333333333rem;background:#fff;border:.0833333333rem solid #333541;top:.2777777778rem!important;left:-1.3888888889rem!important}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-down-checkbox-item[_ngcontent-%COMP%]{display:flex;gap:.8888888889rem;padding:.6666666667rem 0;border-bottom:.0555555556rem solid #EEEEEE;align-items:center}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-down-checkbox-item[_ngcontent-%COMP%]:last-child{border-bottom:0;padding-bottom:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-down-checkbox-item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:1.3333333333rem;height:1.3333333333rem;border-radius:.2222222222rem;border:.0555555556rem solid rgba(135,135,135,.25);cursor:pointer}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-down-checkbox-item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background:url(/assets/images/edit-filter/checked-icon.svg) no-repeat;background-color:#e31837;background-position:center;background-size:.6666666667rem .5555555556rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-down-checkbox-item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{box-shadow:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-down-checkbox-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333541;font-weight:400;font-family:Open Sans,sans-serif;font-size:.7777777778rem;line-height:1.3333333333rem;width:100%;cursor:pointer}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;gap:.8888888889rem;padding:.6666666667rem 0;border-bottom:.0555555556rem solid #EEEEEE}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:last-child{border-bottom:0;padding-bottom:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333541;font-weight:400;font-family:Open Sans,sans-serif;font-size:.7777777778rem;line-height:1.3333333333rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{border-top:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:.4444444444rem;border-bottom-right-radius:.4444444444rem;position:relative!important;border:0;top:-1.1111111111rem!important;left:-2.7222222222rem!important}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec.show[_ngcontent-%COMP%]{border:.0833333333rem solid #333541;border-top-left-radius:.4444444444rem;border-top-right-radius:.4444444444rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec.show[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec.show[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";background-image:url(/assets/images/edit-filter/edit-dropdown-arrow.svg);background-repeat:no-repeat;width:1.1111111111rem;height:1.1111111111rem;display:inline-block;right:0;top:-.1111111111rem;position:absolute;transform:rotate(180deg)}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec.show[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{left:-24.3333333333rem!important}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]{display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.mobile[_ngcontent-%COMP%]{display:block;left:0!important;top:1.3333333333rem!important;position:unset!important;margin-top:1.3333333333rem;padding:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.mobile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;gap:.6666666667rem;flex-direction:column}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.mobile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{gap:.4444444444rem;justify-content:space-between;align-items:center;padding-bottom:.6666666667rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.mobile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active{background-color:#fff}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.mobile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .select-date-title-wrapper[_ngcontent-%COMP%]{display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message-banner[_ngcontent-%COMP%]{background:#E5E5FF;gap:.6666666667rem;padding:1.2222222222rem 1.1111111111rem;border-radius:.2222222222rem;margin-top:1.3333333333rem;flex-direction:column}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex-grow:1;margin:0;font-size:.7777777778rem;line-height:1.3333333333rem;font-weight:400;font-family:Open Sans,sans-serif}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .message-banner[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:.6666666667rem;right:.6666666667rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-date-on-computer[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{transform:none!important}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-date-on-computer[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{left:0!important;padding:0;top:0!important}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]{max-height:calc(100dvh - 19.8888888889rem);overflow-y:scroll;margin-top:1.3333333333rem;padding:3.1111111111rem 0 1.7777777778rem;gap:1.7777777778rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker{border:none;border-radius:0;width:100%;display:flex;flex-direction:column}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header{background:none;padding:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header[ng-reflect-prev-disabled=true] .ngb-dp-arrow:nth-child(1){cursor:not-allowed}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header[ng-reflect-prev-disabled=true] .ngb-dp-arrow:nth-child(1):hover{background-color:#fff;border:.0555555556rem solid rgba(135,135,135,.25)}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-arrow{width:2rem;height:2rem;flex:unset;border-radius:.2222222222rem;background-color:#fff;border:.0555555556rem solid rgba(135,135,135,.25);display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-arrow button{margin:0;padding:0;width:100%;height:100%;color:#333541;display:flex;align-items:center;justify-content:center;border-radius:.2222222222rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-arrow button span{margin:0;position:relative;border:none;background-color:#333541;-webkit-mask-image:url(/assets/images/chevron-right.svg);mask-image:url(/assets/images/chevron-right.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;height:.7222222222rem;width:.4166666667rem;transform:rotate(180deg)}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-arrow:hover, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-arrow.active{background-color:#e6e9ec;border:.0555555556rem solid #333541}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-arrow.right button span, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-arrow.ngb-dp-arrow-next button span{transform:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-navigation-select{flex-grow:2;gap:0;justify-content:center;display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-navigation-select select{padding:0;background-color:transparent;border:none;background-image:none;width:-moz-fit-content;width:fit-content;flex:unset;color:#000;font-weight:600;height:auto;pointer-events:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content{flex-direction:column;gap:1.7777777778rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month{flex-grow:1;width:100%;gap:.8888888889rem;display:flex;flex-direction:column;overflow:hidden;min-height:18.2777777778rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month .ngb-dp-month-name{background:transparent;text-align:left;font-size:1rem;line-height:1.1111111111rem;height:auto;color:#000;font-weight:600;padding-left:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month{display:flex;flex-direction:column;gap:1.3333333333rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-weekdays{background:none;border:none;gap:1.3333333333rem;position:absolute;top:0;z-index:4;width:100%;min-height:1.3333333333rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-weekdays .ngb-dp-weekday{color:#000;font-weight:600;font-style:normal;height:1.1111111111rem;font-size:.8888888889rem;line-height:1.1111111111rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week{gap:1.1111111111rem;padding:0;background:#fff}@media (min-width: 390px){.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week{gap:1.2222222222rem}}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-weekday{flex-grow:1;width:100%;text-align:left}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day{flex-grow:1;display:flex;align-items:center;justify-content:center;font-size:.8888888889rem;line-height:1.5555555556rem;width:1.1944444444rem;height:1.5555555556rem;outline:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range .overlay{font-family:Open Sans,sans-serif;color:#000;border-radius:.2222222222rem;text-align:center;display:flex;align-items:center;justify-content:center;position:relative;z-index:2;width:2rem;height:2rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range .overlay:hover{background-color:#333541;color:#fff}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range{position:relative}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.first .overlay, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.last .overlay{background-color:#333541;color:#fff}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range:hover{position:relative}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.faded:before, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.last:not(.first):before, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.selecting-second:not(.first):not(.before-from):hover:before{content:"";position:absolute;top:0;left:-5vw;background-color:#e6e9ec;width:15vw;height:100%;z-index:0}@media (min-width: 400px){.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.faded:before, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.last:not(.first):before, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.selecting-second:not(.first):not(.before-from):hover:before{left:-10vw;width:19vw}}@media (min-width: 650px){.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.faded:before, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.last:not(.first):before, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.selecting-second:not(.first):not(.before-from):hover:before{left:-9.8vw;width:14.5vw}}@media (min-width: 992px){.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.faded:before, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.last:not(.first):before, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.selecting-second:not(.first):not(.before-from):hover:before{left:-14.5vw;width:18vw}}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day.disabled .custom-date-range .overlay{color:#333541;text-decoration:line-through;opacity:.3}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week:last-child{padding-bottom:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month:not(:first-child) .ngb-dp-weekdays{display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]{background-color:#fff;z-index:1}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fff;border-radius:1.1111111111rem;border:.0555555556rem solid rgba(135,135,135,.25);color:#333541;font-weight:600;font-size:.7777777778rem;line-height:.7777777778rem;padding:.6111111111rem .8333333333rem;box-shadow:0 .0555555556rem .1111111111rem -.0555555556rem #1018281a,0 .0555555556rem .1666666667rem #1018281a;gap:.2727272727rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:auto}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#e6e9ec;border:.0833333333rem solid #333541}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .button-sec[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;background:#fff;padding:1.3333333333rem;border:.0555555556rem solid rgba(135,135,135,.25);border-top-left-radius:.4444444444rem;border-top-right-radius:.4444444444rem;gap:1.3333333333rem;align-items:center;justify-content:space-between;z-index:9999}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .button-sec[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{background:#E31837;color:#fff;border-radius:2.5555555556rem;padding:.6666666667rem 2.1666666667rem;font-size:.8888888889rem;font-weight:600;line-height:1.3333333333rem;min-width:7.1111111111rem;max-height:2.6666666667rem;align-items:center;justify-content:center;order:2;text-align:center}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .button-sec[_ngcontent-%COMP%]   .search.disabled[_ngcontent-%COMP%]{opacity:50%;cursor:auto;pointer-events:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .button-sec[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{color:#333541;font-weight:500;font-size:.8888888889rem;line-height:1.3333333333rem;border-radius:2.5555555556rem;text-align:center}.select-location-fullwidth[_ngcontent-%COMP%]{position:fixed;top:0;background:#fff;width:100Vw;height:100vh;z-index:99999;display:block}.select-location-fullwidth[_ngcontent-%COMP%]   .tilte-sec[_ngcontent-%COMP%]{gap:.8888888889rem;padding:1rem 1.3333333333rem;border-bottom:.0555555556rem solid rgba(135,135,135,.25);align-items:center}.select-location-fullwidth[_ngcontent-%COMP%]   .tilte-sec[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:.8888888889rem;line-height:1.1111111111rem;font-weight:500;font-family:proxima-nova,sans-serif}.select-location-fullwidth[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]{padding:1.3333333333rem;max-height:calc(100dvh - 3.1666666667rem);overflow-y:scroll}.select-location-fullwidth[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#000;font-size:.7777777778rem;line-height:1.3333333333rem;font-weight:400;font-family:Open Sans,sans-serif;padding:.6666666667rem;border-bottom:.0555555556rem solid rgba(135,135,135,.25);margin-bottom:1.7777777778rem}.select-location-fullwidth[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#e31837;position:relative}.select-location-fullwidth[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{content:"";background:url(/assets/images/edit-filter/active-tick.svg) no-repeat;width:1.1111111111rem;height:1.1111111111rem;display:inline-block;position:absolute;right:.6666666667rem;top:.7777777778rem}.select-location-fullwidth[_ngcontent-%COMP%]   .menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:0}@media (min-width: 1100px){.edit-filter-header[_ngcontent-%COMP%]{padding:1.0909090909rem 2.1818181818rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]{gap:2.9090909091rem;border:.0454545455rem solid rgba(135,135,135,.25);border-radius:.3636363636rem;box-shadow:0 .1818181818rem .2727272727rem -.0454545455rem #1018281a;width:auto;height:auto;position:relative;background:#ffffff;display:flex;justify-content:space-between}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .edit-test-details-head[_ngcontent-%COMP%]{display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul.edit-test-detail-container[_ngcontent-%COMP%]{padding:0;display:flex}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul.edit-test-detail-container[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding:0;border:none;box-shadow:none;margin-bottom:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]{padding:.7727272727rem 0 .7727272727rem 1.0909090909rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]{background:#fff;padding:0;border:0;box-shadow:none;max-width:9.6363636364rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.7272727273rem;line-height:.9090909091rem;min-width:9.6363636364rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]{width:auto;padding:.7727272727rem 0 .7727272727rem 1.0909090909rem;font-size:.6363636364rem;line-height:1.0909090909rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;max-width:66%;overflow:hidden;text-overflow:ellipsis;vertical-align:middle}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{width:.9090909091rem;height:.9090909091rem;right:-1.2727272727rem;top:.0909090909rem;display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]   .drop-down-arrow[_ngcontent-%COMP%]{display:inline-block;margin-left:.3636363636rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]:after{display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:11.9090909091rem;border:.0681818182rem solid #333541;padding:0;position:absolute!important;top:.5454545455rem!important;left:-.0454545455rem!important}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-down-checkbox-item[_ngcontent-%COMP%]{display:flex;gap:.7272727273rem;padding:.5454545455rem .7272727273rem;border-bottom:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-down-checkbox-item[_ngcontent-%COMP%]:last-child{padding-bottom:.5454545455rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-down-checkbox-item[_ngcontent-%COMP%]:first-child{padding:1.0909090909rem .7272727273rem .5454545455rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-down-checkbox-item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:1.0909090909rem;height:1.0909090909rem;border-radius:.1818181818rem;border:.0454545455rem solid rgba(135,135,135,.25)}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-down-checkbox-item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-size:.5454545455rem .4545454545rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-down-checkbox-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.2727272727rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.test-format[_ngcontent-%COMP%]{min-width:9.6363636364rem;left:0!important}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;gap:.7272727273rem;padding:.5454545455rem .7272727273rem;border-bottom:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:last-child{padding-bottom:.5454545455rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:first-child{padding:1.0909090909rem .7272727273rem .5454545455rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.2727272727rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{border-top:.0681818182rem solid #333541;border-radius:.1818181818rem;position:absolute!important;top:.5454545455rem!important;left:-.0454545455rem!important;border:.0681818182rem solid #333541;box-shadow:0 .4545454545rem .6818181818rem -.1363636364rem #1018281a}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec.show[_ngcontent-%COMP%]{border:.0681818182rem solid #333541;border-radius:.3636363636rem;box-shadow:0 .9090909091rem 1.1363636364rem -.2272727273rem #1018281a}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec.show[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec.show[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-sec.show[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{right:2.0454545455rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%], .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]{position:static}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;margin-top:.5454545455rem;transform:none!important;top:4.1818181818rem!important;left:0!important}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]{display:block;min-height:15.6818181818rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]   .select-country[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]{min-width:100%;padding:1.4545454545rem 1.4545454545rem .7272727273rem;position:relative}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]   .select-country[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:.9090909091rem;font-weight:600;font-family:proxima-nova,sans-serif;margin-bottom:.3636363636rem;color:#000}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]   .select-country[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]{width:100%;padding:.4545454545rem .7272727273rem;border:.0454545455rem solid rgba(135,135,135,.25);border-radius:.1818181818rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]   .select-country[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:1.2727272727rem;font-weight:400;font-family:Open Sans,sans-serif;color:#000;max-width:100%;display:flex;justify-content:space-between}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]   .select-country[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{right:.1363636364rem;top:.5rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]   .select-country[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .drop-down-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]   .select-country[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{transform:none!important;width:94.9%;max-height:9.4545454545rem;overflow-y:scroll;top:5.2727272727rem!important;left:1.4545454545rem!important}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]   .select-country[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#6b6b6b}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]   .select-country[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active{background-color:#fff}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]   .select-country[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#e6e9ec}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]   .select-country[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#e6e9ec}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.desktop[_ngcontent-%COMP%]   .select-country[_ngcontent-%COMP%]   .dropdown-sec.show[_ngcontent-%COMP%]{border:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show.mobile[_ngcontent-%COMP%]{display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .select-city[_ngcontent-%COMP%]{padding:2.0454545455rem .5454545455rem 1.4545454545rem 1.4545454545rem;background:#F5F5F5}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .select-city[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:.9090909091rem;font-weight:600;font-family:proxima-nova,sans-serif;margin-bottom:.7272727273rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .select-city[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-wrap:wrap;gap:1.0909090909rem;max-height:6.4545454545rem;overflow-y:scroll}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .select-city[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;gap:.5454545455rem;min-width:12.7272727273rem;max-height:2.5454545455rem;background:#fff;padding:.7272727273rem;border:.0454545455rem solid rgba(135,135,135,.25);border-radius:.1818181818rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-location[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .select-city[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .radio-button-container[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;font-family:proxima-nova,sans-serif}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-date-on-computer[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:29.4545454545rem;right:0!important;transform:none!important}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-date-on-computer[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .select-date-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.0909090909rem;padding:1.0909090909rem 1.0909090909rem 1.6363636364rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-date-on-computer[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .select-date-container[_ngcontent-%COMP%]   .select-date-title-wrapper[_ngcontent-%COMP%]{display:block}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-date-on-computer[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .select-date-container[_ngcontent-%COMP%]   .select-date-title-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2727272727rem;line-height:1.4545454545rem;font-weight:700;font-family:proxima-nova,sans-serif;color:#000;margin-bottom:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-date-on-computer[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .select-date-container[_ngcontent-%COMP%]   .select-date-title-wrapper[_ngcontent-%COMP%]   .selected-range[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:.7272727273rem;font-weight:400;line-height:1.2727272727rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-date-on-computer[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .select-date-container[_ngcontent-%COMP%]   .message-banner[_ngcontent-%COMP%]{margin-top:0;flex-direction:row;padding:.3636363636rem .5454545455rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-date-on-computer[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .select-date-container[_ngcontent-%COMP%]   .message-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.6363636364rem;line-height:1.0909090909rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-date-on-computer[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .select-date-container[_ngcontent-%COMP%]   .message-banner[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:static}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select-date-on-computer[_ngcontent-%COMP%]   .dropdown-sec[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{left:auto!important;padding:0;top:4.3636363636rem!important}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]{position:relative;max-height:inherit;overflow-y:auto;margin-top:0;padding:0;gap:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker{gap:1.0909090909rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header{position:absolute;top:0;left:0;width:100%}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header ngb-datepicker-navigation{gap:.9090909091rem;justify-content:space-between}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-arrow{display:flex;border-radius:.1818181818rem;width:1.6363636364rem;height:1.6363636364rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-arrow button{border-radius:.1818181818rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-arrow button span{width:.3636363636rem;height:.5909090909rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-navigation-select{display:none;gap:.3636363636rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-navigation-select select{font-size:1.0909090909rem;line-height:1.2727272727rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header .ngb-dp-navigation-select select:first-child{text-align:end}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content{padding:0;max-height:inherit;overflow-y:auto;margin-top:0;display:flex;flex-direction:row;gap:2.1818181818rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month{min-height:15.9090909091rem;z-index:1;gap:1.0909090909rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month .ngb-dp-month-name{text-align:center;font-size:1.0909090909rem;line-height:1.2727272727rem;padding:.1818181818rem 0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month{gap:.9090909091rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-weekdays{gap:1.0909090909rem;padding:0;position:relative;top:inherit;background:transparent}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-weekdays .ngb-dp-weekday{height:.9090909091rem;font-size:.7272727273rem;line-height:.9090909091rem;text-align:center}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-weekdays.ngb-dp-week{padding:0}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week{gap:1.0909090909rem;font-size:.7272727273rem;line-height:1.2727272727rem;border-radius:.1818181818rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day{height:1.0909090909rem;font-size:.7272727273rem;line-height:1.2727272727rem;border-radius:.1818181818rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range .overlay{font-size:.7272727273rem;line-height:1.2727272727rem;width:1.6363636364rem;height:1.6363636364rem;border-radius:.1818181818rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.faded:before, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range.last:not(.first):before, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.selecting-second:not(.first):not(.before-from):hover:before{left:-6vw;background-color:#e6e9ec;width:8.5vw}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range:hover{color:#fff;width:1.6363636364rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.range:not(.sunday):before, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range:hover:not(.sunday):before{left:-6.5vw;background-color:#e6e9ec;width:11vw}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-content .ngb-dp-month ngb-datepicker-month .ngb-dp-week .ngb-dp-day .custom-date-range.faded>.overlay{width:1.6363636364rem;height:1.6363636364rem;color:#676563;background-color:#e6e9ec}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:50%;height:100%;display:none}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{gap:.2727272727rem;border-width:.0454545455rem;border-radius:.9090909091rem;box-shadow:0 .0454545455rem .0909090909rem -.0454545455rem #1018281a,0 .0454545455rem .1363636364rem #1018281a;font-size:.6363636364rem;line-height:.6363636364rem;padding:.5rem .6818181818rem}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{border:.0681818182rem solid #333541}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .edit-test-details[_ngcontent-%COMP%]   .test-calender-container[_ngcontent-%COMP%]   .nextcalender.display-show[_ngcontent-%COMP%]{display:flex}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .button-sec[_ngcontent-%COMP%]{position:static;background:none;width:auto;gap:1.0909090909rem;border:0;align-items:unset;padding:.7272727273rem 1.0909090909rem .7272727273rem 0;z-index:auto}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .button-sec[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{border-radius:2.0909090909rem;padding:.5454545455rem 2.0454545455rem;min-width:6.3636363636rem;font-size:.7272727273rem;line-height:1.0909090909rem;max-height:2.1818181818rem;order:1;cursor:pointer;text-align:center}.edit-filter-header[_ngcontent-%COMP%]   .edit-filter-wrapper[_ngcontent-%COMP%]   .button-sec[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background:white;border-radius:2.0909090909rem;padding:.5454545455rem 2.0454545455rem;font-weight:600;font-size:.7272727273rem;line-height:1.0909090909rem;border:.0454545455rem solid #333541;min-width:6.3636363636rem;max-height:2.1818181818rem;align-items:center;justify-content:center;order:2;cursor:pointer;text-align:center}.radio-button-container[_ngcontent-%COMP%]{color:#000000bf;display:block;position:relative;padding-left:1.6363636364rem;line-height:1.1363636364rem;cursor:pointer;font-size:.5454545455rem;-webkit-user-select:none;user-select:none}.radio-button-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.radio-button-container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:1.0909090909rem;width:1.0909090909rem;background-color:#fff;border-radius:50%;border:.0681818182rem solid rgba(135,135,135,.25);transition:all .3s}.radio-button-container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{border-color:#e31837}.radio-button-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{border-color:#e31837}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.radio-button-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block!important}.radio-button-container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{transform:translate(-50%,-50%);top:50%;left:50%;width:.5454545455rem;height:.5454545455rem;border-radius:50%;background:#E31837}.select-location-fullwidth[_ngcontent-%COMP%]{display:none}}']})}return Xe})()},3064:(Dt,Le,D)=>{"use strict";D.r(Le),D.d(Le,{NewSessionRoutingModule:()=>Te});var a=D(2236),s=D(8373),oe=D(6599),c=D(3411),T=D(2933),V=D(5879);const ie=[{path:"",component:T.q,children:[{path:"",component:s.Q},{path:"data-not-found",component:oe.H},{path:"speaking",component:c.j}]}];let Te=(()=>{class le{static#e=this.\u0275fac=function(be){return new(be||le)};static#t=this.\u0275mod=V.oAB({type:le});static#n=this.\u0275inj=V.cJS({imports:[a.Bz.forChild(ie),a.Bz]})}return le})()},2933:(Dt,Le,D)=>{"use strict";D.d(Le,{q:()=>oe});var a=D(2236),s=D(5879);let oe=(()=>{class c{constructor(V){this.router=V}ngOnInit(){}static#e=this.\u0275fac=function(ie){return new(ie||c)(s.Y36(a.F0))};static#t=this.\u0275cmp=s.Xpm({type:c,selectors:[["app-new-session"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(ie,Te){1&ie&&s._UZ(0,"router-outlet")},dependencies:[a.Bz,a.lC]})}return c})()},2197:(Dt,Le,D)=>{"use strict";D.d(Le,{z:()=>T});var a=D(6866),s=D(5619),oe=D(4379),c=D(5879);let T=(()=>{class V{constructor(){this.sortFilterDetails=new s.X({}),this.resetSearchTopFilter=new s.X(!1),this.mapViewCompMethods$=new s.X(""),this.selectedTLIds=[]}formatTestTypes(Te){const le={testModule:[],testCategory:[]};return Te?.length&&Te.forEach(me=>{let ae="";me?.type===oe.v7.IELTS_AC||me?.type===oe.v7.IELTS_GT?(ae=me?.type===oe.v7.IELTS_AC?oe.e3.ACADEMIC:oe.e3.GENERAL_TRAINING,le.testCategory.push(oe.MI.IELTS)):me?.type===oe.v7.IELTS_UKVI_AC||me?.type===oe.v7.IELTS_UKVI_GT?(ae=me?.type===oe.v7.IELTS_UKVI_AC?oe.e3.ACADEMIC:oe.e3.GENERAL_TRAINING,le.testCategory.push(oe.MI.IELTS_UKVI)):(me?.type===oe.v7.LS_A1||me?.type===oe.v7.LS_B1)&&(ae=me?.type===oe.v7.LS_A1?oe.e3.A1:oe.e3.B1,le.testCategory.push(oe.MI.LIFE_SKILLS)),ae&&le.testModule.push(ae)}),le}formatDateRange(Te,le){let me="",ae=new Date(Te+"T00:00:00");if(Te&&void 0===le){let be=ae.toLocaleString("default",{month:"2-digit"});me=(0,a.ZP)(ae,"dd")+"/"+be+"/"+(0,a.ZP)(ae,"yyyy")}if(Te&&le&&(0,a.ZP)(Te,"m")===(0,a.ZP)(le,"m")&&(0,a.ZP)(Te,"yyyy")===(0,a.ZP)(le,"yyyy")){let be=new Date(le+"T00:00:00"),re=be.toLocaleString("default",{month:"2-digit"});me=(0,a.ZP)(ae,"dd")+"/"+re+"/"+(0,a.ZP)(ae,"yyyy")+" - "+(0,a.ZP)(be,"dd")+"/"+re+"/"+(0,a.ZP)(be,"yyyy")}else if(Te&&le&&((0,a.ZP)(Te,"m")!=(0,a.ZP)(le,"m")||(0,a.ZP)(Te,"yyyy")!=(0,a.ZP)(le,"yyyy"))){let be=ae.toLocaleString("default",{month:"2-digit"}),re=new Date(le+"T00:00:00"),J=re.toLocaleString("default",{month:"2-digit"});me=(0,a.ZP)(ae,"dd")+"/"+be+"/"+(0,a.ZP)(ae,"yyyy")+" - "+(0,a.ZP)(re,"dd")+"/"+J+"/"+(0,a.ZP)(re,"yyyy")}return me}formatTestFormats(Te){return Te?.length?Te.reduce((me,ae)=>{if(ae?.type===oe.Rs.ALL_TF)return[...me,"CD","PB"];const be=ae?.type===oe.Rs.ON_COMPUTER?"CD":"PB";return[...me,be]},[]):[]}getTestCategories(Te,le){return Te?[...new Set(le.testCategory)]:le?.testCategory?[le?.testCategory]:[]}getTestModules(Te,le){return Te?[...new Set(le.testModule)]:le?.testModule?[le?.testModule]:[]}updateTestLocationDetails(Te){this.testLocationDetails=Te}getTestLocationDetails(){return this.testLocationDetails}updateTestLocationIds(Te){this.selectedTLIds=Te.map(le=>le?.location?.id)}getTestLocationIds(){return this.selectedTLIds}static#e=this.\u0275fac=function(le){return new(le||V)};static#t=this.\u0275prov=c.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},5843:(Dt,Le,D)=>{"use strict";D.d(Le,{J:()=>oe});var a=D(6825);const s=[(0,a.IO)(":enter, :leave",[(0,a.oB)({width:"100%"})],{optional:!0}),(0,a.IO)(":enter",[(0,a.oB)({position:"relative",opacity:"0",zIndex:1})],{optional:!0}),(0,a.IO)(":leave",[(0,a.oB)({position:"absolute",height:"100%",opacity:1})],{optional:!0}),(0,a.ru)([(0,a.IO)(":leave",[(0,a.jt)("400ms ease-out",(0,a.oB)({opacity:"0"}))],{optional:!0}),(0,a.IO)(":enter",[(0,a.jt)("600ms ease-out",(0,a.oB)({opacity:"1"}))],{optional:!0})])],oe=(0,a.X$)("routeAnimations",[(0,a.eR)("landingPage<=>testType",s),(0,a.eR)("testType<=>testTypeAcademic",s),(0,a.eR)("testType<=>testTypeGeneralTraining",s),(0,a.eR)("testType<=>testTypeUkvi",s),(0,a.eR)("testTypeAcademic<=>specialRequirements",s),(0,a.eR)("testTypeGeneralTraining<=>specialRequirements",s),(0,a.eR)("testTypeUkvi<=>specialRequirements",s),(0,a.eR)("specialRequirements<=>testLocation",s),(0,a.eR)("testLocation<=>testDate",s)])},4815:(Dt,Le,D)=>{"use strict";D.r(Le),D.d(Le,{MockSettingsModule:()=>fe});var a=D(6814),s=D(6208),oe=D(95),c=D(8738),T=D(2236),V=D(5879),ie=D(6491),Te=D(4221);const{site:le}=D(4499);let me=(()=>{class ke{constructor(we,he){this.sharedService=we,this.store=he,this.display="flex",this.flexGrow="1",this.subs=[],this.mapboxControl=new oe.p4(!1),this.buildInfo=le.buildInfo}ngOnInit(){this.subs.push(this.sharedService.getState().subscribe(we=>{this.state=we}))}ngOnDestroy(){this.subs.forEach(we=>we.unsubscribe())}setState(we,he){const A={};A[we]=he,this.sharedService.updateState(A)}static#e=this.\u0275fac=function(he){return new(he||ke)(V.Y36(ie.G),V.Y36(Te.yh))};static#t=this.\u0275cmp=V.Xpm({type:ke,selectors:[["app-settings"]],hostVars:4,hostBindings:function(he,A){2&he&&V.Udp("display",A.display)("flex-grow",A.flexGrow)},decls:148,vars:113,consts:[[1,"container-sm"],[1,"mt-3","mb-3"],[1,"mb-3","hide"],[1,"form-label"],[1,"input-group","mb-3"],["type","button",1,"btn","btn-outline",3,"click"],[1,"mb-3"],["href","/"],["id","build-info"]],template:function(he,A){if(1&he&&(V.TgZ(0,"div",0)(1,"h1",1),V._uU(2,"Mock settings"),V.qZA(),V.TgZ(3,"div",2)(4,"label",3),V._uU(5,"Mock Mapbox?"),V.qZA(),V.TgZ(6,"div",4)(7,"button",5),V.NdJ("click",function(){return A.setState("mockMapbox",!0)}),V.ALo(8,"async"),V._uU(9,"Mock"),V.qZA(),V.TgZ(10,"button",5),V.NdJ("click",function(){return A.setState("mockMapbox",!1)}),V.ALo(11,"async"),V._uU(12,"Real"),V.qZA()()(),V.TgZ(13,"div",2)(14,"label",3),V._uU(15,"Mock find session API?"),V.qZA(),V.TgZ(16,"div",4)(17,"button",5),V.NdJ("click",function(){return A.setState("mockSearchApi",!0)}),V.ALo(18,"async"),V._uU(19,"Mock"),V.qZA(),V.TgZ(20,"button",5),V.NdJ("click",function(){return A.setState("mockSearchApi",!1)}),V.ALo(21,"async"),V._uU(22,"Real"),V.qZA()()(),V.TgZ(23,"div",2)(24,"label",3),V._uU(25,"Redirect to new booking journey?"),V.qZA(),V.TgZ(26,"div",4)(27,"button",5),V.NdJ("click",function(){return A.setState("enableNewAccountUI",!0)}),V.ALo(28,"async"),V._uU(29,"Yes"),V.qZA(),V.TgZ(30,"button",5),V.NdJ("click",function(){return A.setState("enableNewAccountUI",!1)}),V.ALo(31,"async"),V._uU(32,"No"),V.qZA()()(),V.TgZ(33,"div",6)(34,"label",3),V._uU(35,"Enable Captcha?"),V.qZA(),V.TgZ(36,"div",4)(37,"button",5),V.NdJ("click",function(){return A.setState("enableCaptcha",!0)}),V.ALo(38,"async"),V._uU(39,"Yes"),V.qZA(),V.TgZ(40,"button",5),V.NdJ("click",function(){return A.setState("enableCaptcha",!1)}),V.ALo(41,"async"),V._uU(42,"No"),V.qZA()()(),V.TgZ(43,"div",2)(44,"label",3),V._uU(45,"Enable OneTrust Cookie Policy?"),V.qZA(),V.TgZ(46,"div",4)(47,"button",5),V.NdJ("click",function(){return A.setState("enableOneTrustPolicy",!0)}),V.ALo(48,"async"),V._uU(49,"Yes"),V.qZA(),V.TgZ(50,"button",5),V.NdJ("click",function(){return A.setState("enableOneTrustPolicy",!1)}),V.ALo(51,"async"),V._uU(52,"No"),V.qZA()()(),V.TgZ(53,"div",2)(54,"label",3),V._uU(55,"Enable Search Filter?"),V.qZA(),V.TgZ(56,"div",4)(57,"button",5),V.NdJ("click",function(){return A.setState("enableSearchFilter",!0)}),V.ALo(58,"async"),V._uU(59,"Yes"),V.qZA(),V.TgZ(60,"button",5),V.NdJ("click",function(){return A.setState("enableSearchFilter",!1)}),V.ALo(61,"async"),V._uU(62,"No"),V.qZA()()(),V.TgZ(63,"div",2)(64,"label",3),V._uU(65,"Enable Language Switcher?"),V.qZA(),V.TgZ(66,"div",4)(67,"button",5),V.NdJ("click",function(){return A.setState("enableLanguageSwitcher",!0)}),V.ALo(68,"async"),V._uU(69,"Yes"),V.qZA(),V.TgZ(70,"button",5),V.NdJ("click",function(){return A.setState("enableLanguageSwitcher",!1)}),V.ALo(71,"async"),V._uU(72,"No"),V.qZA()()(),V.TgZ(73,"div",2)(74,"label",3),V._uU(75,"Enable New Payment Journey?"),V.qZA(),V.TgZ(76,"div",4)(77,"button",5),V.NdJ("click",function(){return A.setState("enableNewPaymentJourney",!0)}),V.ALo(78,"async"),V._uU(79,"Yes"),V.qZA(),V.TgZ(80,"button",5),V.NdJ("click",function(){return A.setState("enableNewPaymentJourney",!1)}),V.ALo(81,"async"),V._uU(82,"No"),V.qZA()()(),V.TgZ(83,"div",2)(84,"label",3),V._uU(85,"Enable Linked Speaking Session Display"),V.qZA(),V.TgZ(86,"div",4)(87,"button",5),V.NdJ("click",function(){return A.setState("enableLinkedSpeaking",!0)}),V.ALo(88,"async"),V._uU(89,"Yes"),V.qZA(),V.TgZ(90,"button",5),V.NdJ("click",function(){return A.setState("enableLinkedSpeaking",!1)}),V.ALo(91,"async"),V._uU(92,"No"),V.qZA()()(),V.TgZ(93,"div",6)(94,"label",3),V._uU(95,"Enable Map view?"),V.qZA(),V.TgZ(96,"div",4)(97,"button",5),V.NdJ("click",function(){return A.setState("enableMapView",!0)}),V.ALo(98,"async"),V._uU(99,"Yes"),V.qZA(),V.TgZ(100,"button",5),V.NdJ("click",function(){return A.setState("enableMapView",!1)}),V.ALo(101,"async"),V._uU(102,"No"),V.qZA()()(),V.TgZ(103,"div",6)(104,"label",3),V._uU(105,"Enable Test Centre Filter?"),V.qZA(),V.TgZ(106,"div",4)(107,"button",5),V.NdJ("click",function(){return A.setState("enableTestCentreFilter",!0)}),V.ALo(108,"async"),V._uU(109,"Yes"),V.qZA(),V.TgZ(110,"button",5),V.NdJ("click",function(){return A.setState("enableTestCentreFilter",!1)}),V.ALo(111,"async"),V._uU(112,"No"),V.qZA()()(),V.TgZ(113,"div",6)(114,"label",3),V._uU(115,"Enable I-Marketing details?"),V.qZA(),V.TgZ(116,"div",4)(117,"button",5),V.NdJ("click",function(){return A.setState("enableImarketingDetails",!0)}),V.ALo(118,"async"),V._uU(119,"Yes"),V.qZA(),V.TgZ(120,"button",5),V.NdJ("click",function(){return A.setState("enableImarketingDetails",!1)}),V.ALo(121,"async"),V._uU(122,"No"),V.qZA()()(),V.TgZ(123,"div",6)(124,"label",3),V._uU(125,"Enable New Header?"),V.qZA(),V.TgZ(126,"div",4)(127,"button",5),V.NdJ("click",function(){return A.setState("enableNewHeader",!0)}),V.ALo(128,"async"),V._uU(129,"Yes"),V.qZA(),V.TgZ(130,"button",5),V.NdJ("click",function(){return A.setState("enableNewHeader",!1)}),V.ALo(131,"async"),V._uU(132,"No"),V.qZA()(),V.TgZ(133,"div",6)(134,"label",3),V._uU(135,"Enable Profile Icon?"),V.qZA(),V.TgZ(136,"div",4)(137,"button",5),V.NdJ("click",function(){return A.setState("enableProfileIcon",!0)}),V.ALo(138,"async"),V._uU(139,"Yes"),V.qZA(),V.TgZ(140,"button",5),V.NdJ("click",function(){return A.setState("enableProfileIcon",!1)}),V.ALo(141,"async"),V._uU(142,"No"),V.qZA()()(),V.TgZ(143,"div",6)(144,"a",7),V._uU(145,"Home"),V.qZA()(),V.TgZ(146,"div",8),V._uU(147),V.qZA()()()),2&he){let pe,ge,pt,Pe,Be,rt,wt,It,Ie,L,Oe,ut,Nt,an,bt,Qe,jt,gt,yt,at,Xe,Zt,ve,Ve,St,wn,$t,Cn;V.xp6(7),V.ekj("active",null==(pe=V.lcZ(8,57,A.sharedService.getState()))?null:pe.mockMapbox),V.xp6(3),V.ekj("active",!(null!=(ge=V.lcZ(11,59,A.sharedService.getState()))&&ge.mockMapbox)),V.xp6(7),V.ekj("active",null==(pt=V.lcZ(18,61,A.sharedService.getState()))?null:pt.mockSearchApi),V.xp6(3),V.ekj("active",!(null!=(Pe=V.lcZ(21,63,A.sharedService.getState()))&&Pe.mockSearchApi)),V.xp6(7),V.ekj("active",null==(Be=V.lcZ(28,65,A.sharedService.getState()))?null:Be.enableNewAccountUI),V.xp6(3),V.ekj("active",!(null!=(rt=V.lcZ(31,67,A.sharedService.getState()))&&rt.enableNewAccountUI)),V.xp6(7),V.ekj("active",null==(wt=V.lcZ(38,69,A.sharedService.getState()))?null:wt.enableCaptcha),V.xp6(3),V.ekj("active",!(null!=(It=V.lcZ(41,71,A.sharedService.getState()))&&It.enableCaptcha)),V.xp6(7),V.ekj("active",null==(Ie=V.lcZ(48,73,A.sharedService.getState()))?null:Ie.enableOneTrustPolicy),V.xp6(3),V.ekj("active",!(null!=(L=V.lcZ(51,75,A.sharedService.getState()))&&L.enableOneTrustPolicy)),V.xp6(7),V.ekj("active",null==(Oe=V.lcZ(58,77,A.sharedService.getState()))?null:Oe.enableSearchFilter),V.xp6(3),V.ekj("active",!(null!=(ut=V.lcZ(61,79,A.sharedService.getState()))&&ut.enableSearchFilter)),V.xp6(7),V.ekj("active",null==(Nt=V.lcZ(68,81,A.sharedService.getState()))?null:Nt.enableLanguageSwitcher),V.xp6(3),V.ekj("active",!(null!=(an=V.lcZ(71,83,A.sharedService.getState()))&&an.enableLanguageSwitcher)),V.xp6(7),V.ekj("active",null==(bt=V.lcZ(78,85,A.sharedService.getState()))?null:bt.enableNewPaymentJourney),V.xp6(3),V.ekj("active",!(null!=(Qe=V.lcZ(81,87,A.sharedService.getState()))&&Qe.enableNewPaymentJourney)),V.xp6(7),V.ekj("active",null==(jt=V.lcZ(88,89,A.sharedService.getState()))?null:jt.enableLinkedSpeaking),V.xp6(3),V.ekj("active",!(null!=(gt=V.lcZ(91,91,A.sharedService.getState()))&&gt.enableLinkedSpeaking)),V.xp6(7),V.ekj("active",null==(yt=V.lcZ(98,93,A.sharedService.getState()))?null:yt.enableMapView),V.xp6(3),V.ekj("active",!(null!=(at=V.lcZ(101,95,A.sharedService.getState()))&&at.enableMapView)),V.xp6(7),V.ekj("active",null==(Xe=V.lcZ(108,97,A.sharedService.getState()))?null:Xe.enableTestCentreFilter),V.xp6(3),V.ekj("active",!(null!=(Zt=V.lcZ(111,99,A.sharedService.getState()))&&Zt.enableTestCentreFilter)),V.xp6(7),V.ekj("active",null==(ve=V.lcZ(118,101,A.sharedService.getState()))?null:ve.enableImarketingDetails),V.xp6(3),V.ekj("active",!(null!=(Ve=V.lcZ(121,103,A.sharedService.getState()))&&Ve.enableImarketingDetails)),V.xp6(7),V.ekj("active",null==(St=V.lcZ(128,105,A.sharedService.getState()))?null:St.enableNewHeader),V.xp6(3),V.ekj("active",!(null!=(wn=V.lcZ(131,107,A.sharedService.getState()))&&wn.enableNewHeader)),V.xp6(7),V.ekj("active",null==($t=V.lcZ(138,109,A.sharedService.getState()))?null:$t.enableProfileIcon),V.xp6(3),V.ekj("active",!(null!=(Cn=V.lcZ(141,111,A.sharedService.getState()))&&Cn.enableProfileIcon)),V.xp6(7),V.hij(" BxSearch App ",A.buildInfo," ")}},dependencies:[a.Ov],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}[_nghost-%COMP%]   .btn[_ngcontent-%COMP%]:not(.active){border:1px solid #676563}[_nghost-%COMP%]   .btn.active[_ngcontent-%COMP%]{color:#fff;background-color:#00aaad;font-weight:700}[_nghost-%COMP%]   #build-info[_ngcontent-%COMP%]{position:absolute;top:50px;right:50px}[_nghost-%COMP%]   .hide[_ngcontent-%COMP%]{display:none}']})}return ke})();var ae=D(7909);const{featureFlags:be}=D(4499);(0,ae.set)(be);const re=[{path:"",component:me,canActivate:[c.fz],data:{featureToggle:"mockSettingsEnabled",redirectTo:"/wizard"}}];let J=(()=>{class ke{static#e=this.\u0275fac=function(he){return new(he||ke)};static#t=this.\u0275mod=V.oAB({type:ke});static#n=this.\u0275inj=V.cJS({imports:[T.Bz.forChild(re),T.Bz]})}return ke})(),fe=(()=>{class ke{static#e=this.\u0275fac=function(he){return new(he||ke)};static#t=this.\u0275mod=V.oAB({type:ke});static#n=this.\u0275inj=V.cJS({imports:[a.ez,s.m,c.kg,J,oe.UX]})}return ke})()},2213:(Dt,Le,D)=>{"use strict";D.d(Le,{_:()=>s,q:()=>oe});var a=D(6866);const s=(c,T)=>{let V="",ie=new Date(c+"T00:00:00");if(c&&void 0===T){let Te=ie.toLocaleString("default",{month:"long"});V=(0,a.ZP)(ie,"d")+" "+Te+" "+(0,a.ZP)(ie,"yyyy")}if(c&&T&&(0,a.ZP)(c,"m")===(0,a.ZP)(T,"m")&&(0,a.ZP)(c,"yyyy")===(0,a.ZP)(T,"yyyy")){let Te=new Date(T+"T00:00:00"),le=Te.toLocaleString("default",{month:"long"});V=(0,a.ZP)(ie,"d")+" "+le+" - "+(0,a.ZP)(Te,"d")+" "+le+" "+(0,a.ZP)(Te,"yyyy")}else if(c&&T&&((0,a.ZP)(c,"m")!=(0,a.ZP)(T,"m")||(0,a.ZP)(c,"yyyy")!=(0,a.ZP)(T,"yyyy"))){let Te=ie.toLocaleString("default",{month:"long"}),le=new Date(T+"T00:00:00"),me=le.toLocaleString("default",{month:"long"});V=(0,a.ZP)(ie,"d")+" "+Te+" "+(0,a.ZP)(ie,"yyyy")+" - "+(0,a.ZP)(le,"d")+" "+me+" "+(0,a.ZP)(le,"yyyy")}return V},oe=(c,T)=>{let V="",ie=new Date(c+"T00:00:00");if(c&&void 0===T&&(ie.toLocaleString("default",{month:"long"}),V=(0,a.ZP)(ie,"dd")+"/"+(0,a.ZP)(ie,"mm")+"/"+(0,a.ZP)(ie,"yyyy")),c&&T&&(0,a.ZP)(c,"m")===(0,a.ZP)(T,"m")&&(0,a.ZP)(c,"yyyy")===(0,a.ZP)(T,"yyyy")){let Te=new Date(T+"T00:00:00");Te.toLocaleString("default",{month:"long"}),V=(0,a.ZP)(ie,"dd")+"/"+(0,a.ZP)(ie,"mm")+"/"+(0,a.ZP)(ie,"yyyy")+" - "+(0,a.ZP)(Te,"dd")+"/"+(0,a.ZP)(Te,"mm")+"/"+(0,a.ZP)(Te,"yyyy")}else if(c&&T&&((0,a.ZP)(c,"m")!=(0,a.ZP)(T,"m")||(0,a.ZP)(c,"yyyy")!=(0,a.ZP)(T,"yyyy"))){ie.toLocaleString("default",{month:"long"});let le=new Date(T+"T00:00:00");le.toLocaleString("default",{month:"long"}),V=(0,a.ZP)(ie,"dd")+"/"+(0,a.ZP)(ie,"mm")+"/"+(0,a.ZP)(ie,"yyyy")+" - "+(0,a.ZP)(le,"dd")+"/"+(0,a.ZP)(le,"mm")+"/"+(0,a.ZP)(le,"yyyy")}return V}},8502:(Dt,Le,D)=>{"use strict";D.d(Le,{Bb:()=>ie,Ds:()=>be,OH:()=>Te,R:()=>c,US:()=>le,UW:()=>V,kx:()=>ae,wO:()=>s,x1:()=>oe,yw:()=>me}),D(4499);const s=re=>[(re||",").split(",")[1]],oe=re=>[(re||"").split(",")[0]],c=re=>({"IELTS,GT":"IELTS General Training","IELTS,AC":"IELTS Academic","IELTS_UKVI,GT":"IELTS for UKVI (General Training)","IELTS_UKVI,AC":"IELTS for UKVI (Academic)","LIFE_SKILLS,A1":"Life Skills A1","LIFE_SKILLS,B1":"Life Skills B1"}[re]||""),V=re=>`${re.year.toString().padStart(4,"0")}-${re.month.toString().padStart(2,"0")}-${re.day.toString().padStart(2,"0")}`,ie=re=>re<1?Math.max(10*re,1).toFixed(0)+"00 M":re.toFixed(1)+" KM",Te=re=>{const fe=["/","book-ielts"];return re?.testType&&fe.push("type-"+(ke=re.testType,{"IELTS,GT":"IELTS General Training","IELTS,AC":"IELTS Academic","IELTS_UKVI,GT":"UKVI General Training","IELTS_UKVI,AC":"UKVI Academic","LIFE_SKILLS,A1":"Life Skills A1","LIFE_SKILLS,B1":"Life Skills B1"}[ke]||"").toLowerCase().toString().replace(/\s+/g,"-")),re.testFormat&&"All"!==re.testFormat&&fe.push("format-"+("PB"===re.testFormat?"paper-based":"computer-delivered")),re.locLabel&&""!==re.locLabel&&fe.push("location-"+re.locLabel.toLowerCase().toString().replace(new RegExp("[^0-9a-z]+","g"),"-")),fe;var ke},le=(re,J,fe)=>{let ke="",Ce="";re.testFormat&&"All"!==re.testFormat&&(ke="PB"===re.testFormat?"Paper Based ":"Computer Delivered "),Ce=c(re.testType||"")+" ",J.setTitle(`${ke}${Ce}test Dates near ${re.locLabel} | IDP IELTS`),fe.updateTag({name:"description",content:`Check available ${ke.toLowerCase()}${Ce}test dates near ${re.locLabel} and book your IELTS test with IDP today.`})},me=re=>{const J=new Date(re);return!!J&&0===J.getHours()&&0===J.getMinutes()},ae=re=>{const J=[],fe={};return re.forEach(ke=>{void 0!==ke.testPriority&&(-1===J.indexOf(ke.testPriority)?(J.push(ke.testPriority),fe[ke.testPriority]=[ke]):fe[ke.testPriority].push(ke))}),fe[Math.min(...J)]||[]},be=re=>({"IELTS,GT":"GENERAL_TRAINING","IELTS,AC":"ACADEMIC","IELTS,GENERAL_TRAINING":"GENERAL_TRAINING","IELTS,ACADEMIC":"ACADEMIC","IELTS_UKVI,GT":"GENERAL_TRAINING","IELTS_UKVI,AC":"ACADEMIC","IELTS_UKVI,GENERAL_TRAINING":"GENERAL_TRAINING","IELTS_UKVI,ACADEMIC":"ACADEMIC","LIFE_SKILLS,A1":"A1","LIFE_SKILLS,B1":"B1"}[re]||"")},9730:(Dt,Le,D)=>{"use strict";D.d(Le,{G:()=>me});var a=D(1231),s=D(1374),oe=D(4379),c=D(2413),V=D(5879),ie=D(2930),Te=D(6491);const le=D(4499);let me=(()=>{class ae{constructor(re,J){this.cookieService=re,this.sharedState=J,this.userInfo={},this.appSettings=D(4499)}getGtmEvents(re,J,fe,ke,Ce,we){let he=this.cookieService.get(oe.RY.CLIENT_TRACKING);"string"==typeof he&&(he=JSON.parse(he));let A=!1;this.sharedState.getState().pipe((0,s.P)()).subscribe(ge=>{A=!!ge.enableImarketingDetails});const pe={event:re,"event category":fe||a.dS.common.na,websitename:a.dS.websiteName.bxSearch,language:a.dS.common.english,userstatus:a.dS.common.anonymous,pagename:J||a.dS.pageName.welcomeToIeltsOnline,page_referrer:ke?location.origin+ke:a.dS.common.na,version:a.dS.common.v2,step:Ce||1,OnetrustActiveGroups:we||""};return A&&(pe.userstatus=he?.userstatus||null,he?.userId&&(pe.user_id=he?.userId||null),pe.old_user_id=he?.old_user_id||null),pe}setOrGetClientTracking(re){let J=this.cookieService.get(oe.RY.CLIENT_TRACKING);if(J?(J=JSON.parse(J),J?.userstatus===a.dS.common.loggedIn&&J?.old_user_id===a.dS.common.na&&(J.old_user_id=this.getGaValue(),this.cookieService.put(oe.RY.CLIENT_TRACKING,JSON.stringify(J),{domain:le.site.envSubDomain,path:"/",secure:!0,sameSite:"none"}))):(J={userstatus:a.dS.common.anonymous,old_user_id:this.getGaValue()},this.cookieService.put(oe.RY.CLIENT_TRACKING,JSON.stringify(J),{domain:le.site.envSubDomain,path:"/",secure:!0,sameSite:"none"})),re&&re.email){const fe=(0,c.sha256)(re.email);J.userId&&J.userId!==fe&&(J.old_user_id=J?.userId),J.userId=fe,J.userstatus=a.dS?.common?.loggedIn,this.cookieService.put(oe.RY.CLIENT_TRACKING,JSON.stringify(J),{domain:le.site.envSubDomain,path:"/",secure:!0,sameSite:"none"})}else J?.userstatus===a.dS?.common?.loggedIn&&J?.userstatus!==a.dS?.common?.anonymous&&(J.userstatus=a.dS?.common?.loggedOut,this.cookieService.put(oe.RY.CLIENT_TRACKING,JSON.stringify(J),{domain:le.site.envSubDomain,path:"/",secure:!0,sameSite:"none"}));return J}getGaValue(){let re="";const J=this.cookieService.get(oe.RY.GA);return J&&(re=this.extractGaValue(J)),re}extractGaValue(re){if(!re)return null;const J=re.split(".");return re.startsWith("GA1.1.")&&J.length>=4?J[2]+"."+J[3]:null}static#e=this.\u0275fac=function(J){return new(J||ae)(V.LFG(ie.N_),V.LFG(Te.G))};static#t=this.\u0275prov=V.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},1459:(Dt,Le,D)=>{"use strict";D.d(Le,{b:()=>T});var a=D(5619),s=D(7398),oe=D(9397),c=D(5879);let T=(()=>{class V{resetLoadingCounter(){this._counter=0,this.counter.next(this._counter)}increaseLoadingCounter(){this.counter.next(this._counter+1)}decreaseLoadingCounter(){this.counter.next(this._counter-1)}constructor(){this.isLoading=new a.X(!1),this.title$=new a.X(""),this.subtitle$=new a.X(""),this.counter=new a.X(0),this._counter=0,this.counter.pipe((0,s.U)(Te=>Math.max(0,Te)),(0,oe.b)(Te=>this._counter=Te)).subscribe(Te=>{this.isLoading.next(Te>0)})}static#e=this.\u0275fac=function(le){return new(le||V)};static#t=this.\u0275prov=c.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},8425:(Dt,Le,D)=>{"use strict";D.d(Le,{U:()=>fe});var a=D(1374),s=D(2572),oe=D(4664),c=D(9397),T=D(2096),V=D(6306),ie=D(5592),Te=D(4379),le=D(5879),me=D(9730),ae=D(2930),be=D(9582),re=D(6491);const J=D(4499);let fe=(()=>{class ke{constructor(we,he,A,pe){this.gtmHelper=we,this.cookie=he,this.commonService=A,this.sharedState=pe,this.isGaScriptadded=!1,this.isOnetrustscriptadded=!1}getCookieValue(we){const he=document.cookie.split("; "),A=`${we}=`;for(const pe of he)if(pe.startsWith(A))return pe.substring(A?.length);return""}denygrantGatag(){const we=this.getCookieValue("OptanonConsent")||null;let he=we?we.split("&groups="):[];he?.length&&(he=decodeURIComponent(he[1]).split(","));const pe=Object.entries({"C0004:0":["ad_storage","ad_user_data","ad_personalization"],"C0003:0":["analytics_storage"],"C0002:0":["functionality_storage"],"C0001:0":["personalization_storage","security_storage"]}).reduce((Be,[rt,wt])=>{const It=!he.includes(rt);return wt.forEach(Ie=>Be[Ie]=It?"granted":"denied"),Be},{});window.dataLayer=window.dataLayer||[],window.dataLayer.push("consent","default",{...pe,wait_for_update:500}),this.isOnetrustscriptadded||this.addexternalScript("https://cdn-apac.onetrust.com/scripttemplates/otSDKStub.js","text/javascript","UTF-8",J.site.onetrustCookieId)}addexternalScript(we,he,A,pe){return new Promise((ge,pt)=>{const Pe=document.createElement("script");Pe.src=we,Pe.setAttribute("type",he),Pe.setAttribute("charset",A),Pe.setAttribute("data-domain-script",pe),Pe.onload=()=>{this.addGaScript(),ge()},Pe.onerror=Be=>{this.addGaScript(),pt(new Error("Something went wrong"))},document.head.appendChild(Pe),this.isOnetrustscriptadded=!0})}checkForQueryparamdata(){const we=window.location.search,he=new URLSearchParams(we),A=he.get("s2s_fbc"),pe=he.get("s2s_fbp"),ge=he.get("s2s_ga"),pt=he.get("s2s_gac");return!!(A||pe||ge||pt)}addGaScript(){if(!this.isGaScriptadded){const we=document.createElement("script");we.innerHTML="(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n    })(window,document,'script','dataLayer','GTM-P2QKHDD');",document.head.appendChild(we)}this.isGaScriptadded=!0,this.sharedState.getState().pipe((0,a.P)()).subscribe(we=>{if(we.enableImarketingDetails)if(this.checkForQueryparamdata())this.commonService.setOrGetClickIdInCookie().subscribe(),this.waitForGaUserId().subscribe({next:A=>{this.commonService.getUserInfo().then(pe=>{this.gtmHelper.setOrGetClientTracking(pe)})},error:A=>{console.error("Error waiting for GA User ID:",A)}});else{const A=this.waitForGaUserId(),pe=this.waitForCookies();(0,s.a)([A,pe]).pipe((0,oe.w)(([ge,pt])=>ge?pt?(this.commonService.getUserInfo().then(Pe=>{this.gtmHelper.setOrGetClientTracking(Pe)}),this.commonService.setOrGetClickIdInCookie().pipe((0,c.b)(Pe=>{Pe&&this.commonService.considerFbClickIds()})).subscribe(),(0,T.of)("Success")):(0,T.of)("Error: Missing Cookies"):(0,T.of)("Error: Missing GA User ID")),(0,V.K)(ge=>(console.error("Error:",ge),(0,T.of)("Error")))).subscribe({error:ge=>{console.error("Error fetching script ids:",ge)}})}})}waitForGaUserId(){return new ie.y(we=>{const he=setInterval(()=>{const A=this.cookie.get(Te.RY.GA);A&&(clearInterval(he),we.next(A),we.complete())},100)})}waitForCookies(){return new ie.y(we=>{const he=setInterval(()=>{const A=this.cookie.get(Te.RY.GA),pe=this.cookie.get(J.site.gaContainer);if(A&&pe){const ge={};null!=A&&(ge[Te.RY.GA]=A),null!=pe&&(ge[J.site.gaContainer]=pe),clearInterval(he),we.next(!0),we.complete()}},500)})}static#e=this.\u0275fac=function(he){return new(he||ke)(le.LFG(me.G),le.LFG(ae.N_),le.LFG(be.v),le.LFG(re.G))};static#t=this.\u0275prov=le.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})()},6491:(Dt,Le,D)=>{"use strict";D.d(Le,{G:()=>c});var a=D(6814),s=D(5879),oe=D(5619);let c=(()=>{class T{constructor(ie){this.platformId=ie,this.initialState={progressValue:0,currentStep:0,totalSteps:0,currentStepName:"",color:"blue",mockMapbox:!1,mockSearchApi:!1,enableNewAccountUI:!0,enableCaptcha:!1,enableOneTrustPolicy:!0,isFromNewPage:!1,isReferralPartner:!1,referralPartnerId:"",queryParams:!1,enableSearchFilter:!0,enableLanguageSwitcher:!0,enableNewPaymentJourney:!0,enableMapView:!0,enableTestCentreFilter:!0,enableLinkedSpeaking:!0,enableImarketingDetails:!0,enableNewHeader:!1,enableProfileIcon:!1,enableUkviAccessibility:!1,toggleVersion:"1.13"},this.timeFormat="YYYY-MM-DD HH:mm",this.state$=new oe.X(this.initialState),this.bookingObject="bookingObject";const Te=this.getFromLocalStorage();Te&&Object.keys(Te)?.length&&this.initialState?.toggleVersion===Te?.toggleVersion?this.state$.next({...Te}):(this.state$.next(this.initialState),localStorage.setItem(this.bookingObject,JSON.stringify(this.initialState)))}getFromLocalStorage(){const ie=localStorage.getItem(this.bookingObject);return ie?JSON.parse(ie):""}changeState(ie){this.state$.next(ie);const Te=JSON.stringify({...ie});(0,a.NF)(this.platformId)&&localStorage.setItem(this.bookingObject,Te)}updateState(ie){const Te={...this.state$.getValue(),...ie};this.state$.next(Te);const le=JSON.stringify(Te);(0,a.NF)(this.platformId)&&localStorage.setItem(this.bookingObject,le)}getState(){return this.state$.asObservable()}clearLocalStorage(){(0,a.NF)(this.platformId)&&localStorage.removeItem(this.bookingObject),this.state$.next(this.initialState),localStorage.setItem(this.bookingObject,JSON.stringify(this.initialState))}clearState(){this.state$.next(this.initialState)}static#e=this.\u0275fac=function(Te){return new(Te||T)(s.LFG(s.Lbi))};static#t=this.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},6208:(Dt,Le,D)=>{"use strict";D.d(Le,{m:()=>T});var a=D(6814),s=D(1756),oe=D(2236),c=D(5879);let T=(()=>{class V{static#e=this.\u0275fac=function(le){return new(le||V)};static#t=this.\u0275mod=c.oAB({type:V});static#n=this.\u0275inj=c.cJS({imports:[a.ez,s.IJ,oe.Bz]})}return V})()},672:(Dt,Le,D)=>{"use strict";D.d(Le,{Y:()=>s});var a=D(2372);const s=()=>(0,a.Z)()},7155:(Dt,Le,D)=>{"use strict";var a=D(6593),s=D(5879),oe=D(6814),c=D(95),T=D(6825);function ie(_){return new s.vHH(3e3,!1)}function Ve(_){switch(_.length){case 0:return new T.ZN;case 1:return _[0];default:return new T.ZE(_)}}function St(_,b,h=new Map,M=new Map){const R=[],se=[];let qe=-1,Ct=null;if(b.forEach(qt=>{const In=qt.get("offset"),bi=In==qe,Oi=bi&&Ct||new Map;qt.forEach((ro,go)=>{let Gi=go,wo=ro;if("offset"!==go)switch(Gi=_.normalizePropertyName(Gi,R),wo){case T.k1:wo=h.get(go);break;case T.l3:wo=M.get(go);break;default:wo=_.normalizeStyleValue(go,Gi,wo,R)}Oi.set(Gi,wo)}),bi||se.push(Oi),Ct=Oi,qe=In}),R.length)throw function Oe(_){return new s.vHH(3502,!1)}();return se}function wn(_,b,h,M){switch(b){case"start":_.onStart(()=>M(h&&$t(h,"start",_)));break;case"done":_.onDone(()=>M(h&&$t(h,"done",_)));break;case"destroy":_.onDestroy(()=>M(h&&$t(h,"destroy",_)))}}function $t(_,b,h){const se=Cn(_.element,_.triggerName,_.fromState,_.toState,b||_.phaseName,h.totalTime??_.totalTime,!!h.disabled),qe=_._data;return null!=qe&&(se._data=qe),se}function Cn(_,b,h,M,R="",se=0,qe){return{element:_,triggerName:b,fromState:h,toState:M,phaseName:R,totalTime:se,disabled:!!qe}}function Ot(_,b,h){let M=_.get(b);return M||_.set(b,M=h),M}function Wt(_){const b=_.indexOf(":");return[_.substring(1,b),_.slice(b+1)]}const st=(()=>typeof document>"u"?null:document.documentElement)();function U(_){const b=_.parentNode||_.host||null;return b===st?null:b}let Vt=null,en=!1;function Pn(_,b){for(;b;){if(b===_)return!0;b=U(b)}return!1}function qn(_,b,h){if(h)return Array.from(_.querySelectorAll(b));const M=_.querySelector(b);return M?[M]:[]}let qi=(()=>{class _{validateStyleProperty(h){return function jn(_){Vt||(Vt=function dn(){return typeof document<"u"?document.body:null}()||{},en=!!Vt.style&&"WebkitAppearance"in Vt.style);let b=!0;return Vt.style&&!function Se(_){return"ebkit"==_.substring(1,6)}(_)&&(b=_ in Vt.style,!b&&en&&(b="Webkit"+_.charAt(0).toUpperCase()+_.slice(1)in Vt.style)),b}(h)}matchesElement(h,M){return!1}containsElement(h,M){return Pn(h,M)}getParentElement(h){return U(h)}query(h,M,R){return qn(h,M,R)}computeStyle(h,M,R){return R||""}animate(h,M,R,se,qe,Ct=[],qt){return new T.ZN(R,se)}static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac})}return _})(),to=(()=>{class _{static#e=this.NOOP=new qi}return _})();const Zi=1e3,Ji="ng-enter",xi="ng-leave",Mo="ng-trigger",no=".ng-trigger",Wo="ng-animating",Bt=".ng-animating";function Ue(_){if("number"==typeof _)return _;const b=_.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:We(parseFloat(b[1]),b[2])}function We(_,b){return"s"===b?_*Zi:_}function Ge(_,b,h){return _.hasOwnProperty("duration")?_:function Et(_,b,h){let R,se=0,qe="";if("string"==typeof _){const Ct=_.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ct)return b.push(ie()),{duration:0,delay:0,easing:""};R=We(parseFloat(Ct[1]),Ct[2]);const qt=Ct[3];null!=qt&&(se=We(parseFloat(qt),Ct[4]));const In=Ct[5];In&&(qe=In)}else R=_;if(!h){let Ct=!1,qt=b.length;R<0&&(b.push(function Te(){return new s.vHH(3100,!1)}()),Ct=!0),se<0&&(b.push(function le(){return new s.vHH(3101,!1)}()),Ct=!0),Ct&&b.splice(qt,0,ie())}return{duration:R,delay:se,easing:qe}}(_,b,h)}function Q(_,b={}){return Object.keys(_).forEach(h=>{b[h]=_[h]}),b}function tt(_){const b=new Map;return Object.keys(_).forEach(h=>{b.set(h,_[h])}),b}function nn(_,b=new Map,h){if(h)for(let[M,R]of h)b.set(M,R);for(let[M,R]of _)b.set(M,R);return b}function bn(_,b,h){b.forEach((M,R)=>{const se=gn(R);h&&!h.has(R)&&h.set(R,_.style[se]),_.style[se]=M})}function Bn(_,b){b.forEach((h,M)=>{const R=gn(M);_.style[R]=""})}function kt(_){return Array.isArray(_)?1==_.length?_[0]:(0,T.vP)(_):_}const ft=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ze(_){let b=[];if("string"==typeof _){let h;for(;h=ft.exec(_);)b.push(h[1]);ft.lastIndex=0}return b}function on(_,b,h){const M=_.toString(),R=M.replace(ft,(se,qe)=>{let Ct=b[qe];return null==Ct&&(h.push(function ae(_){return new s.vHH(3003,!1)}()),Ct=""),Ct.toString()});return R==M?_:R}function _e(_){const b=[];let h=_.next();for(;!h.done;)b.push(h.value),h=_.next();return b}const Lt=/-+([a-z0-9])/g;function gn(_){return _.replace(Lt,(...b)=>b[1].toUpperCase())}function yn(_,b,h){switch(b.type){case 7:return _.visitTrigger(b,h);case 0:return _.visitState(b,h);case 1:return _.visitTransition(b,h);case 2:return _.visitSequence(b,h);case 3:return _.visitGroup(b,h);case 4:return _.visitAnimate(b,h);case 5:return _.visitKeyframes(b,h);case 6:return _.visitStyle(b,h);case 8:return _.visitReference(b,h);case 9:return _.visitAnimateChild(b,h);case 10:return _.visitAnimateRef(b,h);case 11:return _.visitQuery(b,h);case 12:return _.visitStagger(b,h);default:throw function be(_){return new s.vHH(3004,!1)}()}}function ct(_,b){return window.getComputedStyle(_)[b]}const vo="*";function Di(_,b){const h=[];return"string"==typeof _?_.split(/\s*,\s*/).forEach(M=>function Do(_,b,h){if(":"==_[0]){const qt=function ir(_,b){switch(_){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(h,M)=>parseFloat(M)>parseFloat(h);case":decrement":return(h,M)=>parseFloat(M)<parseFloat(h);default:return b.push(function wt(_){return new s.vHH(3016,!1)}()),"* => *"}}(_,h);if("function"==typeof qt)return void b.push(qt);_=qt}const M=_.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return h.push(function rt(_){return new s.vHH(3015,!1)}()),b;const R=M[1],se=M[2],qe=M[3];b.push(dr(R,qe));"<"==se[0]&&!(R==vo&&qe==vo)&&b.push(dr(qe,R))}(M,h,b)):h.push(_),h}const wr=new Set(["true","1"]),Ho=new Set(["false","0"]);function dr(_,b){const h=wr.has(_)||Ho.has(_),M=wr.has(b)||Ho.has(b);return(R,se)=>{let qe=_==vo||_==R,Ct=b==vo||b==se;return!qe&&h&&"boolean"==typeof R&&(qe=R?wr.has(_):Ho.has(_)),!Ct&&M&&"boolean"==typeof se&&(Ct=se?wr.has(b):Ho.has(b)),qe&&Ct}}const jo=new RegExp("s*:selfs*,?","g");function Dn(_,b,h,M){return new Jo(_).build(b,h,M)}class Jo{constructor(b){this._driver=b}build(b,h,M){const R=new gr(h);return this._resetContextStyleTimingState(R),yn(this,kt(b),R)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles=new Map,b.collectedStyles.set("",new Map),b.currentTime=0}visitTrigger(b,h){let M=h.queryCount=0,R=h.depCount=0;const se=[],qe=[];return"@"==b.name.charAt(0)&&h.errors.push(function J(){return new s.vHH(3006,!1)}()),b.definitions.forEach(Ct=>{if(this._resetContextStyleTimingState(h),0==Ct.type){const qt=Ct,In=qt.name;In.toString().split(/\s*,\s*/).forEach(bi=>{qt.name=bi,se.push(this.visitState(qt,h))}),qt.name=In}else if(1==Ct.type){const qt=this.visitTransition(Ct,h);M+=qt.queryCount,R+=qt.depCount,qe.push(qt)}else h.errors.push(function fe(){return new s.vHH(3007,!1)}())}),{type:7,name:b.name,states:se,transitions:qe,queryCount:M,depCount:R,options:null}}visitState(b,h){const M=this.visitStyle(b.styles,h),R=b.options&&b.options.params||null;if(M.containsDynamicStyles){const se=new Set,qe=R||{};M.styles.forEach(Ct=>{Ct instanceof Map&&Ct.forEach(qt=>{Ze(qt).forEach(In=>{qe.hasOwnProperty(In)||se.add(In)})})}),se.size&&(_e(se.values()),h.errors.push(function ke(_,b){return new s.vHH(3008,!1)}()))}return{type:0,name:b.name,style:M,options:R?{params:R}:null}}visitTransition(b,h){h.queryCount=0,h.depCount=0;const M=yn(this,kt(b.animation),h);return{type:1,matchers:Di(b.expr,h.errors),animation:M,queryCount:h.queryCount,depCount:h.depCount,options:et(b.options)}}visitSequence(b,h){return{type:2,steps:b.steps.map(M=>yn(this,M,h)),options:et(b.options)}}visitGroup(b,h){const M=h.currentTime;let R=0;const se=b.steps.map(qe=>{h.currentTime=M;const Ct=yn(this,qe,h);return R=Math.max(R,h.currentTime),Ct});return h.currentTime=R,{type:3,steps:se,options:et(b.options)}}visitAnimate(b,h){const M=function vs(_,b){if(_.hasOwnProperty("duration"))return _;if("number"==typeof _)return nt(Ge(_,b).duration,0,"");const h=_;if(h.split(/\s+/).some(se=>"{"==se.charAt(0)&&"{"==se.charAt(1))){const se=nt(0,0,"");return se.dynamic=!0,se.strValue=h,se}const R=Ge(h,b);return nt(R.duration,R.delay,R.easing)}(b.timings,h.errors);h.currentAnimateTimings=M;let R,se=b.styles?b.styles:(0,T.oB)({});if(5==se.type)R=this.visitKeyframes(se,h);else{let qe=b.styles,Ct=!1;if(!qe){Ct=!0;const In={};M.easing&&(In.easing=M.easing),qe=(0,T.oB)(In)}h.currentTime+=M.duration+M.delay;const qt=this.visitStyle(qe,h);qt.isEmptyStep=Ct,R=qt}return h.currentAnimateTimings=null,{type:4,timings:M,style:R,options:null}}visitStyle(b,h){const M=this._makeStyleAst(b,h);return this._validateStyleAst(M,h),M}_makeStyleAst(b,h){const M=[],R=Array.isArray(b.styles)?b.styles:[b.styles];for(let Ct of R)"string"==typeof Ct?Ct===T.l3?M.push(Ct):h.errors.push(new s.vHH(3002,!1)):M.push(tt(Ct));let se=!1,qe=null;return M.forEach(Ct=>{if(Ct instanceof Map&&(Ct.has("easing")&&(qe=Ct.get("easing"),Ct.delete("easing")),!se))for(let qt of Ct.values())if(qt.toString().indexOf("{{")>=0){se=!0;break}}),{type:6,styles:M,easing:qe,offset:b.offset,containsDynamicStyles:se,options:null}}_validateStyleAst(b,h){const M=h.currentAnimateTimings;let R=h.currentTime,se=h.currentTime;M&&se>0&&(se-=M.duration+M.delay),b.styles.forEach(qe=>{"string"!=typeof qe&&qe.forEach((Ct,qt)=>{const In=h.collectedStyles.get(h.currentQuerySelector),bi=In.get(qt);let Oi=!0;bi&&(se!=R&&se>=bi.startTime&&R<=bi.endTime&&(h.errors.push(function he(_,b,h,M,R){return new s.vHH(3010,!1)}()),Oi=!1),se=bi.startTime),Oi&&In.set(qt,{startTime:se,endTime:R}),h.options&&function cn(_,b,h){const M=b.params||{},R=Ze(_);R.length&&R.forEach(se=>{M.hasOwnProperty(se)||h.push(function me(_){return new s.vHH(3001,!1)}())})}(Ct,h.options,h.errors)})})}visitKeyframes(b,h){const M={type:5,styles:[],options:null};if(!h.currentAnimateTimings)return h.errors.push(function A(){return new s.vHH(3011,!1)}()),M;let se=0;const qe=[];let Ct=!1,qt=!1,In=0;const bi=b.steps.map(Qs=>{const js=this._makeStyleAst(Qs,h);let wa=null!=js.offset?js.offset:function ys(_){if("string"==typeof _)return null;let b=null;if(Array.isArray(_))_.forEach(h=>{if(h instanceof Map&&h.has("offset")){const M=h;b=parseFloat(M.get("offset")),M.delete("offset")}});else if(_ instanceof Map&&_.has("offset")){const h=_;b=parseFloat(h.get("offset")),h.delete("offset")}return b}(js.styles),Za=0;return null!=wa&&(se++,Za=js.offset=wa),qt=qt||Za<0||Za>1,Ct=Ct||Za<In,In=Za,qe.push(Za),js});qt&&h.errors.push(function pe(){return new s.vHH(3012,!1)}()),Ct&&h.errors.push(function ge(){return new s.vHH(3200,!1)}());const Oi=b.steps.length;let ro=0;se>0&&se<Oi?h.errors.push(function pt(){return new s.vHH(3202,!1)}()):0==se&&(ro=1/(Oi-1));const go=Oi-1,Gi=h.currentTime,wo=h.currentAnimateTimings,Qr=wo.duration;return bi.forEach((Qs,js)=>{const wa=ro>0?js==go?1:ro*js:qe[js],Za=wa*Qr;h.currentTime=Gi+wo.delay+Za,wo.duration=Za,this._validateStyleAst(Qs,h),Qs.offset=wa,M.styles.push(Qs)}),M}visitReference(b,h){return{type:8,animation:yn(this,kt(b.animation),h),options:et(b.options)}}visitAnimateChild(b,h){return h.depCount++,{type:9,options:et(b.options)}}visitAnimateRef(b,h){return{type:10,animation:this.visitReference(b.animation,h),options:et(b.options)}}visitQuery(b,h){const M=h.currentQuerySelector,R=b.options||{};h.queryCount++,h.currentQuery=b;const[se,qe]=function Eo(_){const b=!!_.split(/\s*,\s*/).find(h=>":self"==h);return b&&(_=_.replace(jo,"")),_=_.replace(/@\*/g,no).replace(/@\w+/g,h=>no+"-"+h.slice(1)).replace(/:animating/g,Bt),[_,b]}(b.selector);h.currentQuerySelector=M.length?M+" "+se:se,Ot(h.collectedStyles,h.currentQuerySelector,new Map);const Ct=yn(this,kt(b.animation),h);return h.currentQuery=null,h.currentQuerySelector=M,{type:11,selector:se,limit:R.limit||0,optional:!!R.optional,includeSelf:qe,animation:Ct,originalSelector:b.selector,options:et(b.options)}}visitStagger(b,h){h.currentQuery||h.errors.push(function Pe(){return new s.vHH(3013,!1)}());const M="full"===b.timings?{duration:0,delay:0,easing:"full"}:Ge(b.timings,h.errors,!0);return{type:12,animation:yn(this,kt(b.animation),h),timings:M,options:null}}}class gr{constructor(b){this.errors=b,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function et(_){return _?(_=Q(_)).params&&(_.params=function kr(_){return _?Q(_):null}(_.params)):_={},_}function nt(_,b,h){return{duration:_,delay:b,easing:h}}function rn(_,b,h,M,R,se,qe=null,Ct=!1){return{type:1,element:_,keyframes:b,preStyleProps:h,postStyleProps:M,duration:R,delay:se,totalTime:R+se,easing:qe,subTimeline:Ct}}class ln{constructor(){this._map=new Map}get(b){return this._map.get(b)||[]}append(b,h){let M=this._map.get(b);M||this._map.set(b,M=[]),M.push(...h)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const sn=new RegExp(":enter","g"),ni=new RegExp(":leave","g");function si(_,b,h,M,R,se=new Map,qe=new Map,Ct,qt,In=[]){return(new ki).buildKeyframes(_,b,h,M,R,se,qe,Ct,qt,In)}class ki{buildKeyframes(b,h,M,R,se,qe,Ct,qt,In,bi=[]){In=In||new ln;const Oi=new uo(b,h,In,R,se,bi,[]);Oi.options=qt;const ro=qt.delay?Ue(qt.delay):0;Oi.currentTimeline.delayNextStep(ro),Oi.currentTimeline.setStyles([qe],null,Oi.errors,qt),yn(this,M,Oi);const go=Oi.timelines.filter(Gi=>Gi.containsAnimation());if(go.length&&Ct.size){let Gi;for(let wo=go.length-1;wo>=0;wo--){const Qr=go[wo];if(Qr.element===h){Gi=Qr;break}}Gi&&!Gi.allowOnlyTimelineStyles()&&Gi.setStyles([Ct],null,Oi.errors,qt)}return go.length?go.map(Gi=>Gi.buildKeyframes()):[rn(h,[],[],[],0,ro,"",!1)]}visitTrigger(b,h){}visitState(b,h){}visitTransition(b,h){}visitAnimateChild(b,h){const M=h.subInstructions.get(h.element);if(M){const R=h.createSubContext(b.options),se=h.currentTimeline.currentTime,qe=this._visitSubInstructions(M,R,R.options);se!=qe&&h.transformIntoNewTimeline(qe)}h.previousNode=b}visitAnimateRef(b,h){const M=h.createSubContext(b.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([b.options,b.animation.options],h,M),this.visitReference(b.animation,M),h.transformIntoNewTimeline(M.currentTimeline.currentTime),h.previousNode=b}_applyAnimationRefDelays(b,h,M){for(const R of b){const se=R?.delay;if(se){const qe="number"==typeof se?se:Ue(on(se,R?.params??{},h.errors));M.delayNextStep(qe)}}}_visitSubInstructions(b,h,M){let se=h.currentTimeline.currentTime;const qe=null!=M.duration?Ue(M.duration):null,Ct=null!=M.delay?Ue(M.delay):null;return 0!==qe&&b.forEach(qt=>{const In=h.appendInstructionToTimeline(qt,qe,Ct);se=Math.max(se,In.duration+In.delay)}),se}visitReference(b,h){h.updateOptions(b.options,!0),yn(this,b.animation,h),h.previousNode=b}visitSequence(b,h){const M=h.subContextCount;let R=h;const se=b.options;if(se&&(se.params||se.delay)&&(R=h.createSubContext(se),R.transformIntoNewTimeline(),null!=se.delay)){6==R.previousNode.type&&(R.currentTimeline.snapshotCurrentStyles(),R.previousNode=Ri);const qe=Ue(se.delay);R.delayNextStep(qe)}b.steps.length&&(b.steps.forEach(qe=>yn(this,qe,R)),R.currentTimeline.applyStylesToKeyframe(),R.subContextCount>M&&R.transformIntoNewTimeline()),h.previousNode=b}visitGroup(b,h){const M=[];let R=h.currentTimeline.currentTime;const se=b.options&&b.options.delay?Ue(b.options.delay):0;b.steps.forEach(qe=>{const Ct=h.createSubContext(b.options);se&&Ct.delayNextStep(se),yn(this,qe,Ct),R=Math.max(R,Ct.currentTimeline.currentTime),M.push(Ct.currentTimeline)}),M.forEach(qe=>h.currentTimeline.mergeTimelineCollectedStyles(qe)),h.transformIntoNewTimeline(R),h.previousNode=b}_visitTiming(b,h){if(b.dynamic){const M=b.strValue;return Ge(h.params?on(M,h.params,h.errors):M,h.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,h){const M=h.currentAnimateTimings=this._visitTiming(b.timings,h),R=h.currentTimeline;M.delay&&(h.incrementTime(M.delay),R.snapshotCurrentStyles());const se=b.style;5==se.type?this.visitKeyframes(se,h):(h.incrementTime(M.duration),this.visitStyle(se,h),R.applyStylesToKeyframe()),h.currentAnimateTimings=null,h.previousNode=b}visitStyle(b,h){const M=h.currentTimeline,R=h.currentAnimateTimings;!R&&M.hasCurrentStyleProperties()&&M.forwardFrame();const se=R&&R.easing||b.easing;b.isEmptyStep?M.applyEmptyStep(se):M.setStyles(b.styles,se,h.errors,h.options),h.previousNode=b}visitKeyframes(b,h){const M=h.currentAnimateTimings,R=h.currentTimeline.duration,se=M.duration,Ct=h.createSubContext().currentTimeline;Ct.easing=M.easing,b.styles.forEach(qt=>{Ct.forwardTime((qt.offset||0)*se),Ct.setStyles(qt.styles,qt.easing,h.errors,h.options),Ct.applyStylesToKeyframe()}),h.currentTimeline.mergeTimelineCollectedStyles(Ct),h.transformIntoNewTimeline(R+se),h.previousNode=b}visitQuery(b,h){const M=h.currentTimeline.currentTime,R=b.options||{},se=R.delay?Ue(R.delay):0;se&&(6===h.previousNode.type||0==M&&h.currentTimeline.hasCurrentStyleProperties())&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=Ri);let qe=M;const Ct=h.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!R.optional,h.errors);h.currentQueryTotal=Ct.length;let qt=null;Ct.forEach((In,bi)=>{h.currentQueryIndex=bi;const Oi=h.createSubContext(b.options,In);se&&Oi.delayNextStep(se),In===h.element&&(qt=Oi.currentTimeline),yn(this,b.animation,Oi),Oi.currentTimeline.applyStylesToKeyframe(),qe=Math.max(qe,Oi.currentTimeline.currentTime)}),h.currentQueryIndex=0,h.currentQueryTotal=0,h.transformIntoNewTimeline(qe),qt&&(h.currentTimeline.mergeTimelineCollectedStyles(qt),h.currentTimeline.snapshotCurrentStyles()),h.previousNode=b}visitStagger(b,h){const M=h.parentContext,R=h.currentTimeline,se=b.timings,qe=Math.abs(se.duration),Ct=qe*(h.currentQueryTotal-1);let qt=qe*h.currentQueryIndex;switch(se.duration<0?"reverse":se.easing){case"reverse":qt=Ct-qt;break;case"full":qt=M.currentStaggerTime}const bi=h.currentTimeline;qt&&bi.delayNextStep(qt);const Oi=bi.currentTime;yn(this,b.animation,h),h.previousNode=b,M.currentStaggerTime=R.currentTime-Oi+(R.startTime-M.currentTimeline.startTime)}}const Ri={};class uo{constructor(b,h,M,R,se,qe,Ct,qt){this._driver=b,this.element=h,this.subInstructions=M,this._enterClassName=R,this._leaveClassName=se,this.errors=qe,this.timelines=Ct,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ri,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=qt||new zt(this._driver,h,0),Ct.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,h){if(!b)return;const M=b;let R=this.options;null!=M.duration&&(R.duration=Ue(M.duration)),null!=M.delay&&(R.delay=Ue(M.delay));const se=M.params;if(se){let qe=R.params;qe||(qe=this.options.params={}),Object.keys(se).forEach(Ct=>{(!h||!qe.hasOwnProperty(Ct))&&(qe[Ct]=on(se[Ct],qe,this.errors))})}}_copyOptions(){const b={};if(this.options){const h=this.options.params;if(h){const M=b.params={};Object.keys(h).forEach(R=>{M[R]=h[R]})}}return b}createSubContext(b=null,h,M){const R=h||this.element,se=new uo(this._driver,R,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(R,M||0));return se.previousNode=this.previousNode,se.currentAnimateTimings=this.currentAnimateTimings,se.options=this._copyOptions(),se.updateOptions(b),se.currentQueryIndex=this.currentQueryIndex,se.currentQueryTotal=this.currentQueryTotal,se.parentContext=this,this.subContextCount++,se}transformIntoNewTimeline(b){return this.previousNode=Ri,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,h,M){const R={duration:h??b.duration,delay:this.currentTimeline.currentTime+(M??0)+b.delay,easing:""},se=new Xn(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,R,b.stretchStartingKeyframe);return this.timelines.push(se),R}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,h,M,R,se,qe){let Ct=[];if(R&&Ct.push(this.element),b.length>0){b=(b=b.replace(sn,"."+this._enterClassName)).replace(ni,"."+this._leaveClassName);let In=this._driver.query(this.element,b,1!=M);0!==M&&(In=M<0?In.slice(In.length+M,In.length):In.slice(0,M)),Ct.push(...In)}return!se&&0==Ct.length&&qe.push(function Be(_){return new s.vHH(3014,!1)}()),Ct}}class zt{constructor(b,h,M,R){this._driver=b,this.element=h,this.startTime=M,this._elementTimelineStylesLookup=R,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(h),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(h,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const h=1===this._keyframes.size&&this._pendingStyles.size;this.duration||h?(this.forwardTime(this.currentTime+b),h&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,h){return this.applyStylesToKeyframe(),new zt(this._driver,b,h||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,h){this._localTimelineStyles.set(b,h),this._globalTimelineStyles.set(b,h),this._styleSummary.set(b,{time:this.currentTime,value:h})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&this._previousKeyframe.set("easing",b);for(let[h,M]of this._globalTimelineStyles)this._backFill.set(h,M||T.l3),this._currentKeyframe.set(h,T.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,h,M,R){h&&this._previousKeyframe.set("easing",h);const se=R&&R.params||{},qe=function Rn(_,b){const h=new Map;let M;return _.forEach(R=>{if("*"===R){M=M||b.keys();for(let se of M)h.set(se,T.l3)}else nn(R,h)}),h}(b,this._globalTimelineStyles);for(let[Ct,qt]of qe){const In=on(qt,se,M);this._pendingStyles.set(Ct,In),this._localTimelineStyles.has(Ct)||this._backFill.set(Ct,this._globalTimelineStyles.get(Ct)??T.l3),this._updateStyle(Ct,In)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((b,h)=>{this._currentKeyframe.set(h,b)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((b,h)=>{this._currentKeyframe.has(h)||this._currentKeyframe.set(h,b)}))}snapshotCurrentStyles(){for(let[b,h]of this._localTimelineStyles)this._pendingStyles.set(b,h),this._updateStyle(b,h)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let h in this._currentKeyframe)b.push(h);return b}mergeTimelineCollectedStyles(b){b._styleSummary.forEach((h,M)=>{const R=this._styleSummary.get(M);(!R||h.time>R.time)&&this._updateStyle(M,h.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,h=new Set,M=1===this._keyframes.size&&0===this.duration;let R=[];this._keyframes.forEach((Ct,qt)=>{const In=nn(Ct,new Map,this._backFill);In.forEach((bi,Oi)=>{bi===T.k1?b.add(Oi):bi===T.l3&&h.add(Oi)}),M||In.set("offset",qt/this.duration),R.push(In)});const se=b.size?_e(b.values()):[],qe=h.size?_e(h.values()):[];if(M){const Ct=R[0],qt=new Map(Ct);Ct.set("offset",0),qt.set("offset",1),R=[Ct,qt]}return rn(this.element,R,se,qe,this.duration,this.startTime,this.easing,!1)}}class Xn extends zt{constructor(b,h,M,R,se,qe,Ct=!1){super(b,h,qe.delay),this.keyframes=M,this.preStyleProps=R,this.postStyleProps=se,this._stretchStartingKeyframe=Ct,this.timings={duration:qe.duration,delay:qe.delay,easing:qe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:h,duration:M,easing:R}=this.timings;if(this._stretchStartingKeyframe&&h){const se=[],qe=M+h,Ct=h/qe,qt=nn(b[0]);qt.set("offset",0),se.push(qt);const In=nn(b[0]);In.set("offset",On(Ct)),se.push(In);const bi=b.length-1;for(let Oi=1;Oi<=bi;Oi++){let ro=nn(b[Oi]);const go=ro.get("offset");ro.set("offset",On((h+go*M)/qe)),se.push(ro)}M=qe,h=0,R="",b=se}return rn(this.element,b,this.preStyleProps,this.postStyleProps,M,h,R,!0)}}function On(_,b=3){const h=Math.pow(10,b-1);return Math.round(_*h)/h}class Li{}const fr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class mr extends Li{normalizePropertyName(b,h){return gn(b)}normalizeStyleValue(b,h,M,R){let se="";const qe=M.toString().trim();if(fr.has(h)&&0!==M&&"0"!==M)if("number"==typeof M)se="px";else{const Ct=M.match(/^[+-]?[\d\.]+([a-z]*)$/);Ct&&0==Ct[1].length&&R.push(function re(_,b){return new s.vHH(3005,!1)}())}return qe+se}}function ur(_,b,h,M,R,se,qe,Ct,qt,In,bi,Oi,ro){return{type:0,element:_,triggerName:b,isRemovalTransition:R,fromState:h,fromStyles:se,toState:M,toStyles:qe,timelines:Ct,queriedElements:qt,preStyleProps:In,postStyleProps:bi,totalTime:Oi,errors:ro}}const Ni={};class Xo{constructor(b,h,M){this._triggerName=b,this.ast=h,this._stateStyles=M}match(b,h,M,R){return function qr(_,b,h,M,R){return _.some(se=>se(b,h,M,R))}(this.ast.matchers,b,h,M,R)}buildStyles(b,h,M){let R=this._stateStyles.get("*");return void 0!==b&&(R=this._stateStyles.get(b?.toString())||R),R?R.buildStyles(h,M):new Map}build(b,h,M,R,se,qe,Ct,qt,In,bi){const Oi=[],ro=this.ast.options&&this.ast.options.params||Ni,Gi=this.buildStyles(M,Ct&&Ct.params||Ni,Oi),wo=qt&&qt.params||Ni,Qr=this.buildStyles(R,wo,Oi),Qs=new Set,js=new Map,wa=new Map,Za="void"===R,Tp={params:Rr(wo,ro),delay:this.ast.options?.delay},Wd=bi?[]:si(b,h,this.ast.animation,se,qe,Gi,Qr,Tp,In,Oi);let El=0;if(Wd.forEach(Kd=>{El=Math.max(Kd.duration+Kd.delay,El)}),Oi.length)return ur(h,this._triggerName,M,R,Za,Gi,Qr,[],[],js,wa,El,Oi);Wd.forEach(Kd=>{const Ec=Kd.element,Sp=Ot(js,Ec,new Set);Kd.preStyleProps.forEach(Ah=>Sp.add(Ah));const ea=Ot(wa,Ec,new Set);Kd.postStyleProps.forEach(Ah=>ea.add(Ah)),Ec!==h&&Qs.add(Ec)});const bl=_e(Qs.values());return ur(h,this._triggerName,M,R,Za,Gi,Qr,Wd,bl,js,wa,El)}}function Rr(_,b){const h=Q(b);for(const M in _)_.hasOwnProperty(M)&&null!=_[M]&&(h[M]=_[M]);return h}class Ka{constructor(b,h,M){this.styles=b,this.defaultParams=h,this.normalizer=M}buildStyles(b,h){const M=new Map,R=Q(this.defaultParams);return Object.keys(b).forEach(se=>{const qe=b[se];null!==qe&&(R[se]=qe)}),this.styles.styles.forEach(se=>{"string"!=typeof se&&se.forEach((qe,Ct)=>{qe&&(qe=on(qe,R,h));const qt=this.normalizer.normalizePropertyName(Ct,h);qe=this.normalizer.normalizeStyleValue(Ct,qt,qe,h),M.set(Ct,qe)})}),M}}class Lr{constructor(b,h,M){this.name=b,this.ast=h,this._normalizer=M,this.transitionFactories=[],this.states=new Map,h.states.forEach(R=>{this.states.set(R.name,new Ka(R.style,R.options&&R.options.params||{},M))}),wl(this.states,"true","1"),wl(this.states,"false","0"),h.transitions.forEach(R=>{this.transitionFactories.push(new Xo(b,R,this.states))}),this.fallbackTransition=function dl(_,b,h){return new Xo(_,{type:1,animation:{type:2,steps:[],options:null},matchers:[(qe,Ct)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,h,M,R){return this.transitionFactories.find(qe=>qe.match(b,h,M,R))||null}matchStyles(b,h,M){return this.fallbackTransition.buildStyles(b,h,M)}}function wl(_,b,h){_.has(b)?_.has(h)||_.set(h,_.get(b)):_.has(h)&&_.set(b,_.get(h))}const Mr=new ln;class Ii{constructor(b,h,M){this.bodyNode=b,this._driver=h,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(b,h){const M=[],se=Dn(this._driver,h,M,[]);if(M.length)throw function ut(_){return new s.vHH(3503,!1)}();this._animations.set(b,se)}_buildPlayer(b,h,M){const R=b.element,se=St(this._normalizer,b.keyframes,h,M);return this._driver.animate(R,se,b.duration,b.delay,b.easing,[],!0)}create(b,h,M={}){const R=[],se=this._animations.get(b);let qe;const Ct=new Map;if(se?(qe=si(this._driver,h,se,Ji,xi,new Map,new Map,M,Mr,R),qe.forEach(bi=>{const Oi=Ot(Ct,bi.element,new Map);bi.postStyleProps.forEach(ro=>Oi.set(ro,null))})):(R.push(function Nt(){return new s.vHH(3300,!1)}()),qe=[]),R.length)throw function an(_){return new s.vHH(3504,!1)}();Ct.forEach((bi,Oi)=>{bi.forEach((ro,go)=>{bi.set(go,this._driver.computeStyle(Oi,go,T.l3))})});const In=Ve(qe.map(bi=>{const Oi=Ct.get(bi.element);return this._buildPlayer(bi,new Map,Oi)}));return this._playersById.set(b,In),In.onDestroy(()=>this.destroy(b)),this.players.push(In),In}destroy(b){const h=this._getPlayer(b);h.destroy(),this._playersById.delete(b);const M=this.players.indexOf(h);M>=0&&this.players.splice(M,1)}_getPlayer(b){const h=this._playersById.get(b);if(!h)throw function bt(_){return new s.vHH(3301,!1)}();return h}listen(b,h,M,R){const se=Cn(h,"","","");return wn(this._getPlayer(b),M,se,R),()=>{}}command(b,h,M,R){if("register"==M)return void this.register(b,R[0]);if("create"==M)return void this.create(b,h,R[0]||{});const se=this._getPlayer(b);switch(M){case"play":se.play();break;case"pause":se.pause();break;case"reset":se.reset();break;case"restart":se.restart();break;case"finish":se.finish();break;case"init":se.init();break;case"setPosition":se.setPosition(parseFloat(R[0]));break;case"destroy":this.destroy(b)}}}const xo="ng-animate-queued",Ur="ng-animate-disabled",Vr=[],Ds={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ls={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},lo="__ng_removed";class Es{get params(){return this.options.params}constructor(b,h=""){this.namespaceId=h;const M=b&&b.hasOwnProperty("value");if(this.value=function Zl(_){return _??null}(M?b.value:b),M){const se=Q(b);delete se.value,this.options=se}else this.options={};this.options.params||(this.options.params={})}absorbOptions(b){const h=b.params;if(h){const M=this.options.params;Object.keys(h).forEach(R=>{null==M[R]&&(M[R]=h[R])})}}}const $s="void",ga=new Es($s);class Sr{constructor(b,h,M){this.id=b,this.hostElement=h,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+b,Oo(h,this._hostClassName)}listen(b,h,M,R){if(!this._triggers.has(h))throw function Qe(_,b){return new s.vHH(3302,!1)}();if(null==M||0==M.length)throw function jt(_){return new s.vHH(3303,!1)}();if(!function La(_){return"start"==_||"done"==_}(M))throw function gt(_,b){return new s.vHH(3400,!1)}();const se=Ot(this._elementListeners,b,[]),qe={name:h,phase:M,callback:R};se.push(qe);const Ct=Ot(this._engine.statesByElement,b,new Map);return Ct.has(h)||(Oo(b,Mo),Oo(b,Mo+"-"+h),Ct.set(h,ga)),()=>{this._engine.afterFlush(()=>{const qt=se.indexOf(qe);qt>=0&&se.splice(qt,1),this._triggers.has(h)||Ct.delete(h)})}}register(b,h){return!this._triggers.has(b)&&(this._triggers.set(b,h),!0)}_getTrigger(b){const h=this._triggers.get(b);if(!h)throw function yt(_){return new s.vHH(3401,!1)}();return h}trigger(b,h,M,R=!0){const se=this._getTrigger(h),qe=new na(this.id,h,b);let Ct=this._engine.statesByElement.get(b);Ct||(Oo(b,Mo),Oo(b,Mo+"-"+h),this._engine.statesByElement.set(b,Ct=new Map));let qt=Ct.get(h);const In=new Es(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&qt&&In.absorbOptions(qt.options),Ct.set(h,In),qt||(qt=ga),In.value!==$s&&qt.value===In.value){if(!function Na(_,b){const h=Object.keys(_),M=Object.keys(b);if(h.length!=M.length)return!1;for(let R=0;R<h.length;R++){const se=h[R];if(!b.hasOwnProperty(se)||_[se]!==b[se])return!1}return!0}(qt.params,In.params)){const wo=[],Qr=se.matchStyles(qt.value,qt.params,wo),Qs=se.matchStyles(In.value,In.params,wo);wo.length?this._engine.reportError(wo):this._engine.afterFlush(()=>{Bn(b,Qr),bn(b,Qs)})}return}const ro=Ot(this._engine.playersByElement,b,[]);ro.forEach(wo=>{wo.namespaceId==this.id&&wo.triggerName==h&&wo.queued&&wo.destroy()});let go=se.matchTransition(qt.value,In.value,b,In.params),Gi=!1;if(!go){if(!R)return;go=se.fallbackTransition,Gi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:h,transition:go,fromState:qt,toState:In,player:qe,isFallbackTransition:Gi}),Gi||(Oo(b,xo),qe.onStart(()=>{hl(b,xo)})),qe.onDone(()=>{let wo=this.players.indexOf(qe);wo>=0&&this.players.splice(wo,1);const Qr=this._engine.playersByElement.get(b);if(Qr){let Qs=Qr.indexOf(qe);Qs>=0&&Qr.splice(Qs,1)}}),this.players.push(qe),ro.push(qe),qe}deregister(b){this._triggers.delete(b),this._engine.statesByElement.forEach(h=>h.delete(b)),this._elementListeners.forEach((h,M)=>{this._elementListeners.set(M,h.filter(R=>R.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const h=this._engine.playersByElement.get(b);h&&(h.forEach(M=>M.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,h){const M=this._engine.driver.query(b,no,!0);M.forEach(R=>{if(R[lo])return;const se=this._engine.fetchNamespacesByElement(R);se.size?se.forEach(qe=>qe.triggerLeaveAnimation(R,h,!1,!0)):this.clearElementCache(R)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(R=>this.clearElementCache(R)))}triggerLeaveAnimation(b,h,M,R){const se=this._engine.statesByElement.get(b),qe=new Map;if(se){const Ct=[];if(se.forEach((qt,In)=>{if(qe.set(In,qt.value),this._triggers.has(In)){const bi=this.trigger(b,In,$s,R);bi&&Ct.push(bi)}}),Ct.length)return this._engine.markElementAsRemoved(this.id,b,!0,h,qe),M&&Ve(Ct).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const h=this._elementListeners.get(b),M=this._engine.statesByElement.get(b);if(h&&M){const R=new Set;h.forEach(se=>{const qe=se.name;if(R.has(qe))return;R.add(qe);const qt=this._triggers.get(qe).fallbackTransition,In=M.get(qe)||ga,bi=new Es($s),Oi=new na(this.id,qe,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:qe,transition:qt,fromState:In,toState:bi,player:Oi,isFallbackTransition:!0})})}}removeNode(b,h){const M=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,h),this.triggerLeaveAnimation(b,h,!0))return;let R=!1;if(M.totalAnimations){const se=M.players.length?M.playersByQueriedElement.get(b):[];if(se&&se.length)R=!0;else{let qe=b;for(;qe=qe.parentNode;)if(M.statesByElement.get(qe)){R=!0;break}}}if(this.prepareLeaveAnimationListeners(b),R)M.markElementAsRemoved(this.id,b,!1,h);else{const se=b[lo];(!se||se===Ds)&&(M.afterFlush(()=>this.clearElementCache(b)),M.destroyInnerAnimations(b),M._onRemovalComplete(b,h))}}insertNode(b,h){Oo(b,this._hostClassName)}drainQueuedTransitions(b){const h=[];return this._queue.forEach(M=>{const R=M.player;if(R.destroyed)return;const se=M.element,qe=this._elementListeners.get(se);qe&&qe.forEach(Ct=>{if(Ct.name==M.triggerName){const qt=Cn(se,M.triggerName,M.fromState.value,M.toState.value);qt._data=b,wn(M.player,Ct.phase,qt,Ct.callback)}}),R.markedForDestroy?this._engine.afterFlush(()=>{R.destroy()}):h.push(M)}),this._queue=[],h.sort((M,R)=>{const se=M.transition.ast.depCount,qe=R.transition.ast.depCount;return 0==se||0==qe?se-qe:this._engine.driver.containsElement(M.element,R.element)?1:-1})}destroy(b){this.players.forEach(h=>h.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}}class ul{_onRemovalComplete(b,h){this.onRemovalComplete(b,h)}constructor(b,h,M){this.bodyNode=b,this.driver=h,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(R,se)=>{}}get queuedPlayers(){const b=[];return this._namespaceList.forEach(h=>{h.players.forEach(M=>{M.queued&&b.push(M)})}),b}createNamespace(b,h){const M=new Sr(b,h,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,h)?this._balanceNamespaceList(M,h):(this.newHostElements.set(h,M),this.collectEnterElement(h)),this._namespaceLookup[b]=M}_balanceNamespaceList(b,h){const M=this._namespaceList,R=this.namespacesByHostElement;if(M.length-1>=0){let qe=!1,Ct=this.driver.getParentElement(h);for(;Ct;){const qt=R.get(Ct);if(qt){const In=M.indexOf(qt);M.splice(In+1,0,b),qe=!0;break}Ct=this.driver.getParentElement(Ct)}qe||M.unshift(b)}else M.push(b);return R.set(h,b),b}register(b,h){let M=this._namespaceLookup[b];return M||(M=this.createNamespace(b,h)),M}registerTrigger(b,h,M){let R=this._namespaceLookup[b];R&&R.register(h,M)&&this.totalAnimations++}destroy(b,h){b&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const M=this._fetchNamespace(b);this.namespacesByHostElement.delete(M.hostElement);const R=this._namespaceList.indexOf(M);R>=0&&this._namespaceList.splice(R,1),M.destroy(h),delete this._namespaceLookup[b]}))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const h=new Set,M=this.statesByElement.get(b);if(M)for(let R of M.values())if(R.namespaceId){const se=this._fetchNamespace(R.namespaceId);se&&h.add(se)}return h}trigger(b,h,M,R){if(Ml(h)){const se=this._fetchNamespace(b);if(se)return se.trigger(h,M,R),!0}return!1}insertNode(b,h,M,R){if(!Ml(h))return;const se=h[lo];if(se&&se.setForRemoval){se.setForRemoval=!1,se.setForMove=!0;const qe=this.collectedLeaveElements.indexOf(h);qe>=0&&this.collectedLeaveElements.splice(qe,1)}if(b){const qe=this._fetchNamespace(b);qe&&qe.insertNode(h,M)}R&&this.collectEnterElement(h)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,h){h?this.disabledNodes.has(b)||(this.disabledNodes.add(b),Oo(b,Ur)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),hl(b,Ur))}removeNode(b,h,M){if(Ml(h)){const R=b?this._fetchNamespace(b):null;R?R.removeNode(h,M):this.markElementAsRemoved(b,h,!1,M);const se=this.namespacesByHostElement.get(h);se&&se.id!==b&&se.removeNode(h,M)}else this._onRemovalComplete(h,M)}markElementAsRemoved(b,h,M,R,se){this.collectedLeaveElements.push(h),h[lo]={namespaceId:b,setForRemoval:R,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:se}}listen(b,h,M,R,se){return Ml(h)?this._fetchNamespace(b).listen(h,M,R,se):()=>{}}_buildInstruction(b,h,M,R,se){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,M,R,b.fromState.options,b.toState.options,h,se)}destroyInnerAnimations(b){let h=this.driver.query(b,no,!0);h.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(h=this.driver.query(b,Bt,!0),h.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(b){const h=this.playersByElement.get(b);h&&h.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(b){const h=this.playersByQueriedElement.get(b);h&&h.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return Ve(this.players).onDone(()=>b());b()})}processLeaveNode(b){const h=b[lo];if(h&&h.setForRemoval){if(b[lo]=Ds,h.namespaceId){this.destroyInnerAnimations(b);const M=this._fetchNamespace(h.namespaceId);M&&M.clearElementCache(b)}this._onRemovalComplete(b,h.setForRemoval)}b.classList?.contains(Ur)&&this.markElementAsDisabled(b,!1),this.driver.query(b,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(b=-1){let h=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,R)=>this._balanceNamespaceList(M,R)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)Oo(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{h=this._flushAnimations(M,b)}finally{for(let R=0;R<M.length;R++)M[R]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],h.length?Ve(h).onDone(()=>{M.forEach(R=>R())}):M.forEach(R=>R())}}reportError(b){throw function at(_){return new s.vHH(3402,!1)}()}_flushAnimations(b,h){const M=new ln,R=[],se=new Map,qe=[],Ct=new Map,qt=new Map,In=new Map,bi=new Set;this.disabledNodes.forEach(fo=>{bi.add(fo);const Ao=this.driver.query(fo,".ng-animate-queued",!0);for(let Lo=0;Lo<Ao.length;Lo++)bi.add(Ao[Lo])});const Oi=this.bodyNode,ro=Array.from(this.statesByElement.keys()),go=Vo(ro,this.collectedEnterElements),Gi=new Map;let wo=0;go.forEach((fo,Ao)=>{const Lo=Ji+wo++;Gi.set(Ao,Lo),fo.forEach(Cr=>Oo(Cr,Lo))});const Qr=[],Qs=new Set,js=new Set;for(let fo=0;fo<this.collectedLeaveElements.length;fo++){const Ao=this.collectedLeaveElements[fo],Lo=Ao[lo];Lo&&Lo.setForRemoval&&(Qr.push(Ao),Qs.add(Ao),Lo.hasAnimation?this.driver.query(Ao,".ng-star-inserted",!0).forEach(Cr=>Qs.add(Cr)):js.add(Ao))}const wa=new Map,Za=Vo(ro,Array.from(Qs));Za.forEach((fo,Ao)=>{const Lo=xi+wo++;wa.set(Ao,Lo),fo.forEach(Cr=>Oo(Cr,Lo))}),b.push(()=>{go.forEach((fo,Ao)=>{const Lo=Gi.get(Ao);fo.forEach(Cr=>hl(Cr,Lo))}),Za.forEach((fo,Ao)=>{const Lo=wa.get(Ao);fo.forEach(Cr=>hl(Cr,Lo))}),Qr.forEach(fo=>{this.processLeaveNode(fo)})});const Tp=[],Wd=[];for(let fo=this._namespaceList.length-1;fo>=0;fo--)this._namespaceList[fo].drainQueuedTransitions(h).forEach(Lo=>{const Cr=Lo.player,sl=Lo.element;if(Tp.push(Cr),this.collectedEnterElements.length){const Ra=sl[lo];if(Ra&&Ra.setForMove){if(Ra.previousTriggersValues&&Ra.previousTriggersValues.has(Lo.triggerName)){const Ma=Ra.previousTriggersValues.get(Lo.triggerName),Al=this.statesByElement.get(Lo.element);if(Al&&Al.has(Lo.triggerName)){const Xu=Al.get(Lo.triggerName);Xu.value=Ma,Al.set(Lo.triggerName,Xu)}}return void Cr.destroy()}}const id=!Oi||!this.driver.containsElement(Oi,sl),Il=wa.get(sl),Yd=Gi.get(sl),ta=this._buildInstruction(Lo,M,Yd,Il,id);if(ta.errors&&ta.errors.length)return void Wd.push(ta);if(id)return Cr.onStart(()=>Bn(sl,ta.fromStyles)),Cr.onDestroy(()=>bn(sl,ta.toStyles)),void R.push(Cr);if(Lo.isFallbackTransition)return Cr.onStart(()=>Bn(sl,ta.fromStyles)),Cr.onDestroy(()=>bn(sl,ta.toStyles)),void R.push(Cr);const Af=[];ta.timelines.forEach(Ra=>{Ra.stretchStartingKeyframe=!0,this.disabledNodes.has(Ra.element)||Af.push(Ra)}),ta.timelines=Af,M.append(sl,ta.timelines),qe.push({instruction:ta,player:Cr,element:sl}),ta.queriedElements.forEach(Ra=>Ot(Ct,Ra,[]).push(Cr)),ta.preStyleProps.forEach((Ra,Ma)=>{if(Ra.size){let Al=qt.get(Ma);Al||qt.set(Ma,Al=new Set),Ra.forEach((Xu,kh)=>Al.add(kh))}}),ta.postStyleProps.forEach((Ra,Ma)=>{let Al=In.get(Ma);Al||In.set(Ma,Al=new Set),Ra.forEach((Xu,kh)=>Al.add(kh))})});if(Wd.length){const fo=[];Wd.forEach(Ao=>{fo.push(function Zt(_,b){return new s.vHH(3505,!1)}())}),Tp.forEach(Ao=>Ao.destroy()),this.reportError(fo)}const El=new Map,bl=new Map;qe.forEach(fo=>{const Ao=fo.element;M.has(Ao)&&(bl.set(Ao,Ao),this._beforeAnimationBuild(fo.player.namespaceId,fo.instruction,El))}),R.forEach(fo=>{const Ao=fo.element;this._getPreviousPlayers(Ao,!1,fo.namespaceId,fo.triggerName,null).forEach(Cr=>{Ot(El,Ao,[]).push(Cr),Cr.destroy()})});const Kd=Qr.filter(fo=>Oa(fo,qt,In)),Ec=new Map;ia(Ec,this.driver,js,In,T.l3).forEach(fo=>{Oa(fo,qt,In)&&Kd.push(fo)});const ea=new Map;go.forEach((fo,Ao)=>{ia(ea,this.driver,new Set(fo),qt,T.k1)}),Kd.forEach(fo=>{const Ao=Ec.get(fo),Lo=ea.get(fo);Ec.set(fo,new Map([...Ao?.entries()??[],...Lo?.entries()??[]]))});const Ah=[],lg=[],hm={};qe.forEach(fo=>{const{element:Ao,player:Lo,instruction:Cr}=fo;if(M.has(Ao)){if(bi.has(Ao))return Lo.onDestroy(()=>bn(Ao,Cr.toStyles)),Lo.disabled=!0,Lo.overrideTotalTime(Cr.totalTime),void R.push(Lo);let sl=hm;if(bl.size>1){let Il=Ao;const Yd=[];for(;Il=Il.parentNode;){const ta=bl.get(Il);if(ta){sl=ta;break}Yd.push(Il)}Yd.forEach(ta=>bl.set(ta,sl))}const id=this._buildAnimation(Lo.namespaceId,Cr,El,se,ea,Ec);if(Lo.setRealPlayer(id),sl===hm)Ah.push(Lo);else{const Il=this.playersByElement.get(sl);Il&&Il.length&&(Lo.parentPlayer=Ve(Il)),R.push(Lo)}}else Bn(Ao,Cr.fromStyles),Lo.onDestroy(()=>bn(Ao,Cr.toStyles)),lg.push(Lo),bi.has(Ao)&&R.push(Lo)}),lg.forEach(fo=>{const Ao=se.get(fo.element);if(Ao&&Ao.length){const Lo=Ve(Ao);fo.setRealPlayer(Lo)}}),R.forEach(fo=>{fo.parentPlayer?fo.syncPlayerEvents(fo.parentPlayer):fo.destroy()});for(let fo=0;fo<Qr.length;fo++){const Ao=Qr[fo],Lo=Ao[lo];if(hl(Ao,xi),Lo&&Lo.hasAnimation)continue;let Cr=[];if(Ct.size){let id=Ct.get(Ao);id&&id.length&&Cr.push(...id);let Il=this.driver.query(Ao,Bt,!0);for(let Yd=0;Yd<Il.length;Yd++){let ta=Ct.get(Il[Yd]);ta&&ta.length&&Cr.push(...ta)}}const sl=Cr.filter(id=>!id.destroyed);sl.length?Rl(this,Ao,sl):this.processLeaveNode(Ao)}return Qr.length=0,Ah.forEach(fo=>{this.players.push(fo),fo.onDone(()=>{fo.destroy();const Ao=this.players.indexOf(fo);this.players.splice(Ao,1)}),fo.play()}),Ah}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,h,M,R,se){let qe=[];if(h){const Ct=this.playersByQueriedElement.get(b);Ct&&(qe=Ct)}else{const Ct=this.playersByElement.get(b);if(Ct){const qt=!se||se==$s;Ct.forEach(In=>{In.queued||!qt&&In.triggerName!=R||qe.push(In)})}}return(M||R)&&(qe=qe.filter(Ct=>!(M&&M!=Ct.namespaceId||R&&R!=Ct.triggerName))),qe}_beforeAnimationBuild(b,h,M){const se=h.element,qe=h.isRemovalTransition?void 0:b,Ct=h.isRemovalTransition?void 0:h.triggerName;for(const qt of h.timelines){const In=qt.element,bi=In!==se,Oi=Ot(M,In,[]);this._getPreviousPlayers(In,bi,qe,Ct,h.toState).forEach(go=>{const Gi=go.getRealPlayer();Gi.beforeDestroy&&Gi.beforeDestroy(),go.destroy(),Oi.push(go)})}Bn(se,h.fromStyles)}_buildAnimation(b,h,M,R,se,qe){const Ct=h.triggerName,qt=h.element,In=[],bi=new Set,Oi=new Set,ro=h.timelines.map(Gi=>{const wo=Gi.element;bi.add(wo);const Qr=wo[lo];if(Qr&&Qr.removedBeforeQueried)return new T.ZN(Gi.duration,Gi.delay);const Qs=wo!==qt,js=function Is(_){const b=[];return Ks(_,b),b}((M.get(wo)||Vr).map(El=>El.getRealPlayer())).filter(El=>!!El.element&&El.element===wo),wa=se.get(wo),Za=qe.get(wo),Tp=St(this._normalizer,Gi.keyframes,wa,Za),Wd=this._buildPlayer(Gi,Tp,js);if(Gi.subTimeline&&R&&Oi.add(wo),Qs){const El=new na(b,Ct,wo);El.setRealPlayer(Wd),In.push(El)}return Wd});In.forEach(Gi=>{Ot(this.playersByQueriedElement,Gi.element,[]).push(Gi),Gi.onDone(()=>function Ns(_,b,h){let M=_.get(b);if(M){if(M.length){const R=M.indexOf(h);M.splice(R,1)}0==M.length&&_.delete(b)}return M}(this.playersByQueriedElement,Gi.element,Gi))}),bi.forEach(Gi=>Oo(Gi,Wo));const go=Ve(ro);return go.onDestroy(()=>{bi.forEach(Gi=>hl(Gi,Wo)),bn(qt,h.toStyles)}),Oi.forEach(Gi=>{Ot(R,Gi,[]).push(go)}),go}_buildPlayer(b,h,M){return h.length>0?this.driver.animate(b.element,h,b.duration,b.delay,b.easing,M):new T.ZN(b.duration,b.delay)}}class na{constructor(b,h,M){this.namespaceId=b,this.triggerName=h,this.element=M,this._player=new T.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(b){this._containsRealPlayer||(this._player=b,this._queuedCallbacks.forEach((h,M)=>{h.forEach(R=>wn(b,M,void 0,R))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const h=this._player;h.triggerCallback&&b.onStart(()=>h.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,h){Ot(this._queuedCallbacks,b,[]).push(h)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const h=this._player;h.triggerCallback&&h.triggerCallback(b)}}function Ml(_){return _&&1===_.nodeType}function Fs(_,b){const h=_.style.display;return _.style.display=b??"none",h}function ia(_,b,h,M,R){const se=[];h.forEach(qt=>se.push(Fs(qt)));const qe=[];M.forEach((qt,In)=>{const bi=new Map;qt.forEach(Oi=>{const ro=b.computeStyle(In,Oi,R);bi.set(Oi,ro),(!ro||0==ro.length)&&(In[lo]=Ls,qe.push(In))}),_.set(In,bi)});let Ct=0;return h.forEach(qt=>Fs(qt,se[Ct++])),qe}function Vo(_,b){const h=new Map;if(_.forEach(Ct=>h.set(Ct,[])),0==b.length)return h;const R=new Set(b),se=new Map;function qe(Ct){if(!Ct)return 1;let qt=se.get(Ct);if(qt)return qt;const In=Ct.parentNode;return qt=h.has(In)?In:R.has(In)?1:qe(In),se.set(Ct,qt),qt}return b.forEach(Ct=>{const qt=qe(Ct);1!==qt&&h.get(qt).push(Ct)}),h}function Oo(_,b){_.classList?.add(b)}function hl(_,b){_.classList?.remove(b)}function Rl(_,b,h){Ve(h).onDone(()=>_.processLeaveNode(b))}function Ks(_,b){for(let h=0;h<_.length;h++){const M=_[h];M instanceof T.ZE?Ks(M.players,b):b.push(M)}}function Oa(_,b,h){const M=h.get(_);if(!M)return!1;let R=b.get(_);return R?M.forEach(se=>R.add(se)):b.set(_,M),h.delete(_),!0}class fa{constructor(b,h,M){this.bodyNode=b,this._driver=h,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(R,se)=>{},this._transitionEngine=new ul(b,h,M),this._timelineEngine=new Ii(b,h,M),this._transitionEngine.onRemovalComplete=(R,se)=>this.onRemovalComplete(R,se)}registerTrigger(b,h,M,R,se){const qe=b+"-"+R;let Ct=this._triggerCache[qe];if(!Ct){const qt=[],bi=Dn(this._driver,se,qt,[]);if(qt.length)throw function L(_,b){return new s.vHH(3404,!1)}();Ct=function cl(_,b,h){return new Lr(_,b,h)}(R,bi,this._normalizer),this._triggerCache[qe]=Ct}this._transitionEngine.registerTrigger(h,R,Ct)}register(b,h){this._transitionEngine.register(b,h)}destroy(b,h){this._transitionEngine.destroy(b,h)}onInsert(b,h,M,R){this._transitionEngine.insertNode(b,h,M,R)}onRemove(b,h,M){this._transitionEngine.removeNode(b,h,M)}disableAnimations(b,h){this._transitionEngine.markElementAsDisabled(b,h)}process(b,h,M,R){if("@"==M.charAt(0)){const[se,qe]=Wt(M);this._timelineEngine.command(se,h,qe,R)}else this._transitionEngine.trigger(b,h,M,R)}listen(b,h,M,R,se){if("@"==M.charAt(0)){const[qe,Ct]=Wt(M);return this._timelineEngine.listen(qe,h,Ct,se)}return this._transitionEngine.listen(b,h,M,R,se)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(b){this._transitionEngine.afterFlushAnimationsDone(b)}}let Ya=(()=>{class _{static#e=this.initialStylesByElement=new WeakMap;constructor(h,M,R){this._element=h,this._startStyles=M,this._endStyles=R,this._state=0;let se=_.initialStylesByElement.get(h);se||_.initialStylesByElement.set(h,se=new Map),this._initialStyles=se}start(){this._state<1&&(this._startStyles&&bn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bn(this._element,this._initialStyles),this._endStyles&&(bn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_.initialStylesByElement.delete(this._element),this._startStyles&&(Bn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bn(this._element,this._endStyles),this._endStyles=null),bn(this._element,this._initialStyles),this._state=3)}}return _})();function Gr(_){let b=null;return _.forEach((h,M)=>{(function bs(_){return"display"===_||"position"===_})(M)&&(b=b||new Map,b.set(M,h))}),b}class Wl{constructor(b,h,M,R){this.element=b,this.keyframes=h,this.options=M,this._specialStyles=R,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:new Map;const h=()=>this._onFinish();this.domPlayer.addEventListener("finish",h),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",h)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(b){const h=[];return b.forEach(M=>{h.push(Object.fromEntries(M))}),h}_triggerWebAnimation(b,h,M){return b.animate(this._convertKeyframesToObject(h),M)}onStart(b){this._originalOnStartFns.push(b),this._onStartFns.push(b)}onDone(b){this._originalOnDoneFns.push(b),this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,R)=>{"offset"!==R&&b.set(R,this._finished?M:ct(this.element,R))}),this.currentSnapshot=b}triggerCallback(b){const h="start"===b?this._onStartFns:this._onDoneFns;h.forEach(M=>M()),h.length=0}}class As{validateStyleProperty(b){return!0}validateAnimatableStyleProperty(b){return!0}matchesElement(b,h){return!1}containsElement(b,h){return Pn(b,h)}getParentElement(b){return U(b)}query(b,h,M){return qn(b,h,M)}computeStyle(b,h,M){return window.getComputedStyle(b)[h]}animate(b,h,M,R,se,qe=[]){const qt={duration:M,delay:R,fill:0==R?"both":"forwards"};se&&(qt.easing=se);const In=new Map,bi=qe.filter(go=>go instanceof Wl);(function Jn(_,b){return 0===_||0===b})(M,R)&&bi.forEach(go=>{go.currentSnapshot.forEach((Gi,wo)=>In.set(wo,Gi))});let Oi=function $e(_){return _.length?_[0]instanceof Map?_:_.map(b=>tt(b)):[]}(h).map(go=>nn(go));Oi=function Je(_,b,h){if(h.size&&b.length){let M=b[0],R=[];if(h.forEach((se,qe)=>{M.has(qe)||R.push(qe),M.set(qe,se)}),R.length)for(let se=1;se<b.length;se++){let qe=b[se];R.forEach(Ct=>qe.set(Ct,ct(_,Ct)))}}return b}(b,Oi,In);const ro=function ss(_,b){let h=null,M=null;return Array.isArray(b)&&b.length?(h=Gr(b[0]),b.length>1&&(M=Gr(b[b.length-1]))):b instanceof Map&&(h=Gr(b)),h||M?new Ya(_,h,M):null}(b,Oi);return new Wl(b,Oi,qt,ro)}}let pl=(()=>{class _ extends T._j{constructor(h,M){super(),this._nextAnimationId=0,this._renderer=h.createRenderer(M.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(h){const M=this._nextAnimationId.toString();this._nextAnimationId++;const R=Array.isArray(h)?(0,T.vP)(h):h;return Fa(this._renderer,null,M,"register",[R]),new ma(M,this._renderer)}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(s.FYo),s.LFG(oe.K0))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac})}return _})();class ma extends T.LC{constructor(b,h){super(),this._id=b,this._renderer=h}create(b,h){return new Kl(this._id,b,h||{},this._renderer)}}class Kl{constructor(b,h,M,R){this.id=b,this.element=h,this._renderer=R,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(b,h){return this._renderer.listen(this.element,`@@${this.id}:${b}`,h)}_command(b,...h){return Fa(this._renderer,this.element,this.id,b,h)}onDone(b){this._listen("done",b)}onStart(b){this._listen("start",b)}onDestroy(b){this._listen("destroy",b)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(b){this._command("setPosition",b)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Fa(_,b,h,M,R){return _.setProperty(b,`@@${h}:${M}`,R)}const nr="@.disabled";let gc=(()=>{class _{constructor(h,M,R){this.delegate=h,this.engine=M,this._zone=R,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,M.onRemovalComplete=(se,qe)=>{const Ct=qe?.parentNode(se);Ct&&qe.removeChild(Ct,se)}}createRenderer(h,M){const se=this.delegate.createRenderer(h,M);if(!(h&&M&&M.data&&M.data.animation)){let bi=this._rendererCache.get(se);return bi||(bi=new Vc("",se,this.engine,()=>this._rendererCache.delete(se)),this._rendererCache.set(se,bi)),bi}const qe=M.id,Ct=M.id+"-"+this._currentId;this._currentId++,this.engine.register(Ct,h);const qt=bi=>{Array.isArray(bi)?bi.forEach(qt):this.engine.registerTrigger(qe,Ct,h,bi.name,bi)};return M.data.animation.forEach(qt),new ad(this,Ct,se,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(h,M,R){h>=0&&h<this._microtaskId?this._zone.run(()=>M(R)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(se=>{const[qe,Ct]=se;qe(Ct)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,R]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(s.FYo),s.LFG(fa),s.LFG(s.R0b))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac})}return _})();class Vc{constructor(b,h,M,R){this.namespaceId=b,this.delegate=h,this.engine=M,this._onDestroy=R}get data(){return this.delegate.data}destroyNode(b){this.delegate.destroyNode?.(b)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(b,h){return this.delegate.createElement(b,h)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,h){this.delegate.appendChild(b,h),this.engine.onInsert(this.namespaceId,h,b,!1)}insertBefore(b,h,M,R=!0){this.delegate.insertBefore(b,h,M),this.engine.onInsert(this.namespaceId,h,b,R)}removeChild(b,h,M){this.engine.onRemove(this.namespaceId,h,this.delegate)}selectRootElement(b,h){return this.delegate.selectRootElement(b,h)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,h,M,R){this.delegate.setAttribute(b,h,M,R)}removeAttribute(b,h,M){this.delegate.removeAttribute(b,h,M)}addClass(b,h){this.delegate.addClass(b,h)}removeClass(b,h){this.delegate.removeClass(b,h)}setStyle(b,h,M,R){this.delegate.setStyle(b,h,M,R)}removeStyle(b,h,M){this.delegate.removeStyle(b,h,M)}setProperty(b,h,M){"@"==h.charAt(0)&&h==nr?this.disableAnimations(b,!!M):this.delegate.setProperty(b,h,M)}setValue(b,h){this.delegate.setValue(b,h)}listen(b,h,M){return this.delegate.listen(b,h,M)}disableAnimations(b,h){this.engine.disableAnimations(b,h)}}class ad extends Vc{constructor(b,h,M,R,se){super(h,M,R,se),this.factory=b,this.namespaceId=h}setProperty(b,h,M){"@"==h.charAt(0)?"."==h.charAt(1)&&h==nr?this.disableAnimations(b,M=void 0===M||!!M):this.engine.process(this.namespaceId,b,h.slice(1),M):this.delegate.setProperty(b,h,M)}listen(b,h,M){if("@"==h.charAt(0)){const R=function tu(_){switch(_){case"body":return document.body;case"document":return document;case"window":return window;default:return _}}(b);let se=h.slice(1),qe="";return"@"!=se.charAt(0)&&([se,qe]=function fc(_){const b=_.indexOf(".");return[_.substring(0,b),_.slice(b+1)]}(se)),this.engine.listen(this.namespaceId,R,se,qe,Ct=>{this.factory.scheduleListenerCallback(Ct._data||-1,M,Ct)})}return this.delegate.listen(b,h,M)}}const Ne=[{provide:T._j,useClass:pl},{provide:Li,useFactory:function nu(){return new mr}},{provide:fa,useClass:(()=>{class _ extends fa{constructor(h,M,R,se){super(h.body,M,R)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(oe.K0),s.LFG(to),s.LFG(Li),s.LFG(s.z2F))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac})}return _})()},{provide:s.FYo,useFactory:function Dd(_,b,h){return new gc(_,b,h)},deps:[a.se,fa,s.R0b]}],je=[{provide:to,useFactory:()=>new As},{provide:s.QbO,useValue:"BrowserAnimations"},...Ne],ye=[{provide:to,useClass:qi},{provide:s.QbO,useValue:"NoopAnimations"},...Ne];let mt=(()=>{class _{static withConfig(h){return{ngModule:_,providers:h.disableAnimations?ye:je}}static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275mod=s.oAB({type:_});static#n=this.\u0275inj=s.cJS({providers:je,imports:[a.b2]})}return _})();var Dr=D(1756),_o=D(2236);const Yl=[{path:"",redirectTo:"wizard",pathMatch:"full"},{path:"mock-settings",loadChildren:()=>Promise.resolve().then(D.bind(D,4815)).then(_=>_.MockSettingsModule)},{path:"wizard",loadChildren:()=>Promise.resolve().then(D.bind(D,928)).then(_=>_.NewManageBookingRoutingModule),data:{animation:"booking"}},{path:"book-ielts",loadChildren:()=>Promise.resolve().then(D.bind(D,3064)).then(_=>_.NewSessionRoutingModule),data:{animation:"booking"}},{path:"rpt/partner/:partner_id/centre/:centre_id/product/:product_id",loadChildren:()=>Promise.resolve().then(D.bind(D,3064)).then(_=>_.NewSessionRoutingModule),data:{animation:"booking"}},{path:"rpt/partner/:partner_id",loadChildren:()=>Promise.resolve().then(D.bind(D,3064)).then(_=>_.NewSessionRoutingModule),data:{animation:"booking"}},{path:"rpt/partner/:partner_id/centre/:centre_id",loadChildren:()=>Promise.resolve().then(D.bind(D,3064)).then(_=>_.NewSessionRoutingModule),data:{animation:"booking"}},{path:"rps/partner/:partner_id/session/:session_id/product/:product_id",loadChildren:()=>Promise.resolve().then(D.bind(D,3064)).then(_=>_.NewSessionRoutingModule),data:{animation:"booking"}},{path:"pvs/session/:session_id/product/:product_id",loadChildren:()=>Promise.resolve().then(D.bind(D,3064)).then(_=>_.NewSessionRoutingModule),data:{animation:"booking"}},{matcher:function Ys(_){return _.length<7&&"rpt"===_[0].path||_.length<7&&"rps"===_[0].path||_.length<5&&"pvs"===_[0].path?{consumed:_}:null},loadChildren:()=>Promise.resolve().then(D.bind(D,3064)).then(_=>_.NewSessionRoutingModule)},{path:"server-error",component:(()=>{class _{constructor(){this.rpt=!1}ngOnInit(){const h=localStorage.getItem("rpLink");this.rpt=!!h&&JSON.parse(h)}static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-server-error"]],decls:11,vars:2,consts:[[1,"error-content-wrapper","d-flex","flex-column"],[1,"error-header"],["href","/","target","_blank","title","IDP IELTS","rel","noopener"],["src","/assets/images/IDP_IELTS_COBRAND_RGB.svg","alt","Idp-logo"],[1,"error-conent","d-flex","align-items-center","justify-content-center","flex-column"],["src","/assets/images/Server-error-img.svg","alt","server-error-logo"],[1,"error-conent-description","text-center","d-flex","align-items-center","justify-content-center","flex-column"]],template:function(M,R){1&M&&(s.TgZ(0,"div",0)(1,"header",1)(2,"a",2),s._UZ(3,"img",3),s.qZA()(),s.TgZ(4,"div",4),s._UZ(5,"img",5),s.TgZ(6,"div",6)(7,"h2"),s._uU(8),s.qZA(),s.TgZ(9,"p"),s._uU(10),s.qZA()()()()),2&M&&(s.xp6(8),s.Oqu(R.rpt?"Oh no, we couldn\u2019t find any matching test sessions":"We're taking a break after our back-to-back tests."),s.xp6(2),s.Oqu(R.rpt?"Explore other available sessions by using an alternative link provided by your referral partner, school, or test centre.":"We'll be live again soon."))},styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-dark[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}  app-new-session{flex-grow:1;width:100%}[_nghost-%COMP%]{width:100%;height:100%}.error-content-wrapper[_ngcontent-%COMP%]{padding:1.7777777778rem 1.3333333333rem;gap:1.7777777778rem;height:100dvh}.error-content-wrapper[_ngcontent-%COMP%]   .error-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:7.7777777778rem;height:1.3333333333rem}.error-content-wrapper[_ngcontent-%COMP%]   .error-conent[_ngcontent-%COMP%]{gap:2.6666666667rem;height:100%}.error-content-wrapper[_ngcontent-%COMP%]   .error-conent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8.2222222222rem;height:8.3333333333rem}.error-content-wrapper[_ngcontent-%COMP%]   .error-conent[_ngcontent-%COMP%]   .error-conent-description[_ngcontent-%COMP%]{gap:.3333333333rem}.error-content-wrapper[_ngcontent-%COMP%]   .error-conent[_ngcontent-%COMP%]   .error-conent-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;margin:0;color:#e31837;font-size:1.3333333333rem;line-height:1.6666666667rem}.error-content-wrapper[_ngcontent-%COMP%]   .error-conent[_ngcontent-%COMP%]   .error-conent-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:Open Sans,sans-serif;color:#333541;font-size:.8888888889rem;line-height:1rem}.error-content-wrapper[_ngcontent-%COMP%]   .error-conent[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e31837;padding:.6666666667rem .8333333333rem;width:100%;color:#fff;font-weight:600;font-size:.8888888889rem;line-height:1.3333333333rem;border-radius:.2222222222rem}@media (min-width: 1100px){.error-content-wrapper[_ngcontent-%COMP%]   .error-conent[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5454545455rem 1.0909090909rem;font-size:.7272727273rem;line-height:1.0909090909rem;border-radius:.1818181818rem}}@media (min-width: 1100px){.error-content-wrapper[_ngcontent-%COMP%]{padding:2.9090909091rem 2.1818181818rem;gap:1.4545454545rem}.error-content-wrapper[_ngcontent-%COMP%]   .error-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:9.5454545455rem;height:1.6363636364rem;object-fit:contain}.error-content-wrapper[_ngcontent-%COMP%]   .error-conent[_ngcontent-%COMP%]{gap:1.25rem}.error-content-wrapper[_ngcontent-%COMP%]   .error-conent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:13.4545454545rem;height:13.6363636364rem;object-fit:contain}.error-content-wrapper[_ngcontent-%COMP%]   .error-conent[_ngcontent-%COMP%]   .error-conent-description[_ngcontent-%COMP%]{gap:.2727272727rem}.error-content-wrapper[_ngcontent-%COMP%]   .error-conent[_ngcontent-%COMP%]   .error-conent-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2727272727rem;line-height:1.4545454545rem}.error-content-wrapper[_ngcontent-%COMP%]   .error-conent[_ngcontent-%COMP%]   .error-conent-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8181818182rem;line-height:1.4545454545rem}.error-content-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:15.4545454545rem;margin:0 auto}}']})}return _})()},{path:"**",redirectTo:"wizard"}];let _a=(()=>{class _{static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275mod=s.oAB({type:_});static#n=this.\u0275inj=s.cJS({imports:[_o.Bz.forRoot(Yl),_o.Bz]})}return _})();var Er=D(1374),Ll=D(2181),ns=D(9360),Ja=D(8251),mc=D(4379),iu=D(9582),_c=D(8425),ql=D(2930),Bs=D(6491),Ic=D(1459);function Gc(_,b){if(1&_&&(s.TgZ(0,"div",5),s._uU(1),s.ALo(2,"async"),s.qZA()),2&_){const h=s.oxw(2);s.xp6(1),s.Oqu(s.lcZ(2,1,h.loadingService.title$))}}function Ed(_,b){if(1&_&&(s.TgZ(0,"div",6),s._uU(1),s.ALo(2,"async"),s.qZA()),2&_){const h=s.oxw(2);s.xp6(1),s.Oqu(s.lcZ(2,1,h.loadingService.subtitle$))}}function Id(_,b){if(1&_&&(s.TgZ(0,"div",1),s._UZ(1,"img",2),s.YNc(2,Gc,3,3,"div",3),s.ALo(3,"async"),s.YNc(4,Ed,3,3,"div",4),s.ALo(5,"async"),s.qZA()),2&_){const h=s.oxw();s.xp6(2),s.Q6J("ngIf",""!==s.lcZ(3,2,h.loadingService.title$)),s.xp6(2),s.Q6J("ngIf",""!==s.lcZ(5,4,h.loadingService.subtitle$))}}let ou=(()=>{class _{constructor(h){this.loadingService=h}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(Ic.b))};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-http-loader"]],decls:2,vars:3,consts:[["class","loader",4,"ngIf"],[1,"loader"],["src","./assets/images/loading.svg","alt","Loading ..."],["class","title",4,"ngIf"],["class","subtitle",4,"ngIf"],[1,"title"],[1,"subtitle"]],template:function(M,R){1&M&&(s.YNc(0,Id,6,6,"div",0),s.ALo(1,"async")),2&M&&s.Q6J("ngIf",s.lcZ(1,1,R.loadingService.isLoading))},dependencies:[oe.O5,oe.Ov],styles:[".loader[_ngcontent-%COMP%]{position:fixed;padding:0;margin:0;display:flex;justify-content:center;align-items:center;top:0;left:0;z-index:1100;width:100%;height:100%;background:rgba(255,255,255,.5);flex-direction:column}.loader[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:23.2px;font-weight:700;line-height:30px;margin:25px 25px 18px;text-align:center}.loader[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:15px;margin-bottom:80px}.loader[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotation .8s infinite cubic-bezier(.45,.25,.6,.95)}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(359deg)}}@media (min-width: 992px){.loader[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2.9090909091rem;height:2.9090909091rem}.loader[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5909090909rem;line-height:1.7272727273rem;margin:1.1363636364rem 15.9090909091rem .8181818182rem}.loader[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.6818181818rem;margin-bottom:.9090909091rem}}"]})}return _})();D(4499);let $c=(()=>{class _{constructor(h,M,R,se,qe,Ct){this.platformId=h,this.router=M,this.commonService=R,this.oneTrustservice=se,this.cookieService=qe,this.sharedState=Ct,this.title="idp-bxsearch"}onPopState(){this.commonService.updateCurrentStep(!0)}ngOnInit(){this.sharedState.getState().pipe((0,Er.P)()).subscribe(h=>{h.enableOneTrustPolicy?this.oneTrustservice.denygrantGatag():this.oneTrustservice.addGaScript()}),this.initDetails(),this.router.events.pipe((0,Ll.h)(h=>h instanceof _o.R9),function ya(){return(0,ns.e)((_,b)=>{let h,M=!1;_.subscribe((0,Ja.x)(b,R=>{const se=h;h=R,M&&b.next([se,R]),M=!0}))})}()).subscribe(h=>{this.commonService.previousUrl=h[0].urlAfterRedirects})}clearLocalStorage(){localStorage.removeItem("page"),localStorage.removeItem("prefilled"),localStorage.setItem("emailID","")}initDetails(){const h=this.commonService.getLocalStorageValue(mc.dR.TT_DETAILS);h&&this.commonService.setTTdetails(h),this.commonService.selectedLang=this.commonService.getSessionStorageValue(mc.dR.SELECTED_LANG,!0)}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(s.Lbi),s.Y36(_o.F0),s.Y36(iu.v),s.Y36(_c.U),s.Y36(ql.N_),s.Y36(Bs.G))};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-root"]],hostBindings:function(M,R){1&M&&s.NdJ("popstate",function(){return R.onPopState()},!1,s.Jf7)("beforeunload",function(){return R.clearLocalStorage()},!1,s.Jf7)},decls:4,vars:0,consts:[[1,"content"],["outlet","outlet"]],template:function(M,R){1&M&&(s.TgZ(0,"main",0),s._UZ(1,"router-outlet",null,1)(3,"app-http-loader"),s.qZA())},dependencies:[_o.lC,ou],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0;border:0;box-sizing:border-box}[_nghost-%COMP%]{flex-direction:column;display:flex;min-height:100vh}[_nghost-%COMP%]   main[_ngcontent-%COMP%]{display:flex;flex-grow:1}body[_ngcontent-%COMP%]{margin:0 auto;position:relative;background:#fff}"]})}return _})();var Xa=D(6208),Ac=D(5843),ho=D(4221);const Rd="setLogout",gl=(0,ho.PH)("setBackAction",(0,ho.Ky)()),su=(0,ho.PH)("setPageError",(0,ho.Ky)()),Zc=(0,ho.PH)("setRequestMode",(0,ho.Ky)()),Du=((0,ho.PH)(Rd),{hasUser:!1,userName:"",landingPage:{title:'<div class="landing-page-title"><div class="subHeading">Hi there,</div>Welcome to IDP IELTS</div>',subTitle:'\n      <ul class="landing-page-subtitle">\n        <li>Take your test on computer or paper</li>\n        <li>Accepted by more than 11,000 organisations worldwide</li>\n        <li>Fast results with IELTS on computer</li>\n      </ul>\n    ',action:{title:"",link:"",linkTitle:""}},testType:{title:"Test type",subTitle:'<p>There are a few types of IELTS test to choose from.</p><p>It is important you understand which IELTS test you need before you book.</p><p><a href="https://ielts.idp.com/about/who-accepts-ielts/organisations-that-accept-ielts" target="_blank">Check who accepts IELTS here</a></p>',action:{title:"",link:"",linkTitle:""}},testTypeAcademic:{title:"Test format",subTitle:"<p>When you take the IELTS Academic test, you may choose between IELTS on paper or on computer. IELTS Online is also available in some countries.</p><p>When selecting IELTS Online, please confirm with your professional or academic institution that they accept this format, before booking this option.</p>",action:{title:"",link:"",linkTitle:""}},testTypeGeneralTraining:{title:"Test format",subTitle:"<p>When you take the IELTS General Training test, you may choose between IELTS on paper or on computer. Select your preferred test format and take IELTS your way.</p>",action:{title:"",link:"",linkTitle:""}},testTypeUkvi:{title:"Test type",subTitle:"<p>For visa applications to the UK, you may need to have an English language qualification. IELTS and IELTS Life Skills are included on both the UK Home Office\u2019s list of Secure English Language Tests (referred to as SELT tests by UK Home Office) and the OFQUAL register.</p>",action:{title:"",link:"",linkTitle:""}},specialRequirements:{title:"Special requirements",subTitle:"<p>If you have special requirements for your test, IDP can support you. It is best to contact your test centre early, as notice time can vary depending on the requirement.</p>",action:{title:"",link:"",linkTitle:""}},specialRequirementsYes:{title:"Special requirements",subTitle:"<p>If you have special requirements for your test, IDP can support you. It is best to contact your test centre early, as notice time can vary depending on the requirement.</p>",action:{title:"",link:"",linkTitle:""}},testLocation:{title:"Test location",subTitle:"<p>Use the test search to locate your nearest test centre via city, postcode or address, or select \u2018Use my current location\u2019.</p>",action:{title:"",link:"",linkTitle:""}},testDate:{title:"Test date",subTitle:"<p>Select a date or date range to take the IELTS test. You may search for test dates up to 3 months in advance.\n    </p>",action:{title:"",link:"",linkTitle:""}}}),Qi=(0,ho.PH)("setSpeakingTestTime",(0,ho.Ky)()),hr=(0,ho.PH)("SetCurrentStep",(0,ho.Ky)()),Ir=(0,ho.PH)("SetCurrentStepName",(0,ho.Ky)()),Qo=(0,ho.PH)("SetProgressValue",(0,ho.Ky)()),Ro=(0,ho.PH)("SetTotalStep",(0,ho.Ky)()),Jr=(0,ho.PH)("SetLRWTestTime",(0,ho.Ky)()),or=(0,ho.PH)("clearLRWTestTime"),ls=(0,ho.PH)("SetLatestPageUrl",(0,ho.Ky)()),za=(0,ho.PH)("SetRequestForGenerateBooking",(0,ho.Ky)()),Ts=(0,ho.PH)("SetIsPayedBooking",(0,ho.Ky)()),Pa=(0,ho.PH)("ResetState");let qs=(()=>{class _{static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-term-and-condition"]],decls:7,vars:0,consts:[["href","https://ielts.idp.com/legal-notices#ielts-test-and-payment-terms-and-conditions","target","_blank"],["href","https://ielts.idp.com/legal-notices#ielts-australia-privacy-policy-","target","_blank"]],template:function(M,R){1&M&&(s.TgZ(0,"p"),s._uU(1,"By booking an IELTS test with IDP, you are agreeing to the "),s.TgZ(2,"a",0),s._uU(3,"Terms & Conditions"),s.qZA(),s._uU(4," and "),s.TgZ(5,"a",1),s._uU(6,"Privacy Policy"),s.qZA()())},encapsulation:2})}return _})();function oa(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"div",15)(1,"button",16),s.NdJ("click",function(){s.CHM(h);const R=s.oxw();return s.KtG(R.goBackPage())}),s._UZ(2,"img",17),s.qZA()()}}function yr(_,b){if(1&_&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&_){const h=s.oxw(2);s.xp6(1),s.AsE("Step ",h.currentStepNum," / ",h.totalStep,"")}}function xl(_,b){if(1&_&&(s.TgZ(0,"div",18)(1,"div",19)(2,"div",20),s.YNc(3,yr,2,2,"div",21),s.TgZ(4,"div",22),s._uU(5),s.qZA()(),s._UZ(6,"ngb-progressbar",23),s.qZA()()),2&_){const h=s.oxw();s.xp6(2),s.Akn(h.currentStepNum>h.totalStep?"direction:rtl;":""),s.xp6(1),s.Q6J("ngIf",h.currentStepNum<=h.totalStep),s.xp6(2),s.Oqu(h.currentStepName),s.xp6(1),s.Q6J("value",h.progressValue)("showValue",!1)}}function ra(_,b){1&_&&(s.TgZ(0,"div",24),s._UZ(1,"app-term-and-condition",25),s.qZA())}function mi(_,b){1&_&&(s.TgZ(0,"div",26),s._UZ(1,"div",27),s.qZA())}const sa=[[["","title",""]],[["","subTitle",""]],[["","actions",""]],[["","content",""]]],Jl=["[title]","[subTitle]","[actions]","[content]"];let Js=(()=>{class _{constructor(h,M,R,se,qe){this.location=h,this.router=M,this.sharedState=R,this.modalService=se,this.store=qe,this.hasUserName=!1,this.hasProgressBar=!1,this.progressValue=0,this.currentStepNum=1,this.totalStep=1,this.currentStepName="",this.showFadeBox=!1,this.stepsRoute=null,this.timerTargetTime=null,this.timerCurrentTime=null,this.hasBackButton=!0,this.timerDone=new s.vpe,this.activeButton="no",this.sub=this.store.select(Ct=>Ct.globalStore.BackButtonAction).subscribe(Ct=>{this.BackButtonAction=Ct})}ngOnInit(){}ngOnDestroy(){this.sub.unsubscribe()}open(h){"Confirm"===this.currentStepName?this.modalService.open(h):this.router.navigate(["/my-account"])}exitBooking(){this.sharedState.clearLocalStorage(),this.sharedState.clearState(),this.store.dispatch(Pa()),this.closeModal(),this.router.navigate(["/my-account"])}closeModal(){this.modalService.dismissAll()}onHover(h){this.activeButton=h}goBackPage(){this.BackButtonAction.BackButtonRoute?this.router.navigate([this.BackButtonAction.BackButtonRoute]):this.stepsRoute?this.router.navigate([this.stepsRoute[this.currentStepNum-1]]):this.location.back()}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(oe.Ye),s.Y36(_o.F0),s.Y36(Bs.G),s.Y36(Dr.FF),s.Y36(ho.yh))};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-form-wrapper"]],inputs:{hasUserName:"hasUserName",hasProgressBar:"hasProgressBar",progressValue:"progressValue",currentStepNum:"currentStepNum",totalStep:"totalStep",currentStepName:"currentStepName",showFadeBox:"showFadeBox",stepsRoute:"stepsRoute",timerTargetTime:"timerTargetTime",timerCurrentTime:"timerCurrentTime",hasBackButton:"hasBackButton"},outputs:{timerDone:"timerDone"},ngContentSelectors:Jl,decls:21,vars:8,consts:[[1,"fieldset","flex-column","align-items-stretch"],[1,"page-heading"],[1,"legend-container"],["class","header-icons-wrapper mobile-icon-wrapper",4,"ngIf"],[1,"content","flex-lg-column","align-items-stretch"],[1,"title"],[1,"subTitle"],[1,"actions"],[1,"bottom-container"],["class","progressBar",4,"ngIf"],["class","landing-page-tnc w-100",4,"ngIf"],[1,"flexbox","flex-column","content-wrapper","flex-grow-1"],["class","fade-wrapper",4,"ngIf"],[1,"logofocus"],["href","https://ielts.idp.com","target","_blank","title","IDP IELTS","rel","noopener",1,"logo"],[1,"header-icons-wrapper","mobile-icon-wrapper"],[1,"back-icon","float-left",3,"click"],["src","/assets/images/back-button.svg","alt",""],[1,"progressBar"],[1,"flexbox","flex-column-reverse","flex-lg-column","flex-xl-column"],[1,"flexbox","justify-content-lg-between","justify-content-center","mb-1"],[4,"ngIf"],[1,"d-none","d-lg-block"],["id","progressBar","height","0.28rem",3,"value","showValue"],[1,"landing-page-tnc","w-100"],[1,"term-and-condition"],[1,"fade-wrapper"],[1,"fade-effect"]],template:function(M,R){1&M&&(s.F$t(sa),s.TgZ(0,"div",0)(1,"div",1)(2,"legend")(3,"div",2),s.YNc(4,oa,3,0,"div",3),s.TgZ(5,"div",4)(6,"div",5)(7,"h1"),s.Hsn(8),s.qZA()(),s.TgZ(9,"div",6),s.Hsn(10,1),s.qZA(),s.TgZ(11,"div",7),s.Hsn(12,2),s.qZA()(),s.TgZ(13,"div",8),s.YNc(14,xl,7,6,"div",9),s.YNc(15,ra,2,0,"div",10),s.qZA()()()(),s.TgZ(16,"div",11),s.YNc(17,mi,2,0,"div",12),s.TgZ(18,"div",13),s._UZ(19,"a",14),s.qZA(),s.Hsn(20,3,["class","content"]),s.qZA()()),2&M&&(s.xp6(2),s.ekj("hasProgressBar",R.hasProgressBar)("hasBackButton",R.hasBackButton&&R.BackButtonAction&&R.BackButtonAction.BackButtonEnable&&R.currentStepNum>0),s.xp6(2),s.Q6J("ngIf",R.hasBackButton&&R.BackButtonAction&&R.BackButtonAction.BackButtonEnable&&R.currentStepNum>0),s.xp6(10),s.Q6J("ngIf",1==R.hasProgressBar),s.xp6(1),s.Q6J("ngIf",0===R.currentStepNum),s.xp6(2),s.Q6J("ngIf",R.showFadeBox))},dependencies:[oe.O5,Dr.Ly,qs],styles:[".flexbox[_ngcontent-%COMP%]{display:flex}.mobile-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;left:0;top:0}.fieldset[_ngcontent-%COMP%]{display:flex;min-height:100vh;max-height:-moz-fit-content;max-height:fit-content}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]{max-width:unset;position:relative;width:100%;padding-bottom:15px;background:url(/assets/images/heading/horizontal.png) no-repeat top;display:flex;background-size:cover}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{display:flex;background-repeat:no-repeat;color:#fff;line-height:26px;margin-bottom:17px;padding-left:0}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]{display:flex;z-index:2;position:relative}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .legendContentWrapper[_ngcontent-%COMP%]{flex-grow:3}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{color:#fff;cursor:pointer;height:32px;width:32px;margin:15px 0 0 23px;padding:0;background:transparent}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:35px}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{padding-top:41px;color:#fff;margin-right:30%;cursor:pointer}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]   .userName[_ngcontent-%COMP%]{font-size:.8rem}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:35px}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:none;width:100%;padding:15px 10px 0;display:flex;align-items:flex-start;justify-content:flex-start}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{line-height:32px;padding:0}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]     div[title]{font-size:1rem;font-weight:400;line-height:1.9090909091rem;margin-bottom:2px}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;margin:0}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]{display:none}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:none;color:#fff}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend.hasBackButton[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{align-items:center;justify-content:center;padding:15px 2.9545454545rem 0}.fieldset[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-grow:3;display:flex;align-items:center}.fieldset[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{position:absolute;right:0;height:2.2727272727rem;width:7.7272727273rem;display:none;background-image:url(IDP_IELTS_COBRAND_RGB.f42c0e1191222131.png);background-size:contain;z-index:13}.fieldset[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:none}  ngb-progressbar.progress#progressBar{background-color:#2f3940}  ngb-progressbar.progress#progressBar .progress-bar{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem;background-color:#fff}@media (min-width: 1100px) and (max-width: 1199.98px){.fieldset[_ngcontent-%COMP%]{flex-direction:column}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{margin-bottom:20px;padding-left:0}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]{width:inherit;flex-direction:column}}@media (max-width: 1099.98px){.d-lg-flex[_ngcontent-%COMP%]{display:flex}.fieldset[_ngcontent-%COMP%]{flex-direction:column}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]{width:inherit;flex-direction:column}.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{position:relative}.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .fade-wrapper[_ngcontent-%COMP%]{display:none}}@media (max-width: 767.98px){.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]{width:inherit;margin:unset;z-index:2}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;line-height:normal;line-height:36px}.content[_ngcontent-%COMP%]{margin-top:0;padding-top:0}}@media (min-width: 1100px){.fieldset[_ngcontent-%COMP%]{flex-direction:row}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]{background:linear-gradient(57.86deg,#720C1C -2.65%,#D91734 38.41%,#E31837 87.68%);border-radius:0 1.1818181818rem 1.1818181818rem 0;flex-grow:1;z-index:12;height:auto;position:absolute;width:29.25vw;margin-bottom:0;height:100vh;min-height:28.6818181818rem;min-width:400px;padding-right:10px}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{height:100vh;min-height:28.6818181818rem}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .legend-container[_ngcontent-%COMP%]{flex-direction:column;width:100%}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{margin:1.7272727273rem 0 0 1.0454545455rem;height:1.4545454545rem;width:1.4545454545rem}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{justify-content:flex-start;word-wrap:break-word;padding-right:.4545454545rem;padding-top:0;padding-left:1.1363636364rem;line-height:26px}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.9rem}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]{display:block;margin-top:.7272727273rem;line-height:.8636363636rem;white-space:pre-line;font-size:.6818181818rem}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]     p{margin:0 0 .7272727273rem}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]     a{color:#fff}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:block;color:#fff}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]     h6{color:#fff}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .progressBar[_ngcontent-%COMP%]{justify-self:end;width:90%;margin:0 0 2.2727272727rem .4545454545rem;font-size:.6818181818rem;line-height:1.2727272727rem}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .progressBar[_ngcontent-%COMP%]   div.flexbox[_ngcontent-%COMP%]{width:100%}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend.hasBackButton[_ngcontent-%COMP%]   .mobile-icon-wrapper[_ngcontent-%COMP%]{display:flex;position:relative}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend.hasBackButton[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{align-items:flex-start;justify-content:flex-start;padding:1rem .6818181818rem 0 1.1363636364rem}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend.hasBackButton[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]     div[title]{font-size:1.5909090909rem;font-weight:600;line-height:1.5909090909rem;margin:0}.fieldset[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]     a:hover{font-weight:600}.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{flex-grow:2;min-height:28.6818181818rem;flex-basis:28.6818181818rem;position:relative}.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .fade-wrapper[_ngcontent-%COMP%]{margin:0;padding:0 16px 0 0;position:absolute;top:0;left:0;z-index:11;width:100%}.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .fade-wrapper[_ngcontent-%COMP%]   .fade-effect[_ngcontent-%COMP%]{width:100%;height:100%;background-image:linear-gradient(to top,transparent,white 40%)}.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]     .ng-trigger-routeAnimations{overflow-y:auto}.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:block;margin-left:auto;bottom:.7727272727rem;margin-right:1.1818181818rem}.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]     .content{width:100%}.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]     .content h5{margin-top:0}.fieldset[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex;min-height:47px;justify-content:center;flex-direction:column-reverse;align-content:center;align-items:center}.fieldset[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{margin-bottom:10px;width:70%}.fieldset[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]     .landing-page-tnc{padding:0 .6818181818rem 0 1.1363636364rem}.fieldset[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]     .landing-page-tnc p{font-size:.56rem;line-height:.7rem}.fieldset[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]     .landing-page-tnc p a{color:#fff}}@media (max-width: 1365.98px){.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{position:relative}.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{bottom:15px;margin-right:25px}.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .fade-wrapper[_ngcontent-%COMP%]{height:80px}}@media (min-width: 1366px){.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{position:relative}.fieldset[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .fade-wrapper[_ngcontent-%COMP%]{height:60px}}.logofocus[_ngcontent-%COMP%]:focus-within{border:1px dotted #A59D95}.fontSize[_ngcontent-%COMP%]{font-size:40px}.buttonAlign[_ngcontent-%COMP%]{margin-top:-55px;align-self:flex-end}.btn-irrelevantAction[_ngcontent-%COMP%]{color:#00aaad;background-color:#fff}.btn-irrelevantAction.isActive[_ngcontent-%COMP%]{color:#fff;background-color:#00aaad}"]})}return _})();var zi=D(7582),Cs=D(2438),aa=D(8645),zs=D(5619),Ol=(D(1393),D(113),D(2645),D(8077),D(4595)),Iu=(D(690),D(4352)),kc=D(6939),lu=(D(4516),D(3910)),Cc=(D(2470),D(4587),D(4190)),dd=D(4664);D(3997);const wc=Ol.i,Wi=["*"],Nu=_=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_):"function"==typeof requestAnimationFrame?requestAnimationFrame(_):setTimeout(_),$=(_,b)=>{const h=_.prototype;b.forEach(M=>{Object.defineProperty(h,M,{get(){return this.el[M]},set(R){this.z.runOutsideAngular(()=>this.el[M]=R)}})})},ee=(_,b)=>{const h=_.prototype;b.forEach(M=>{h[M]=function(){const R=arguments;return this.z.runOutsideAngular(()=>this.el[M].apply(this.el,R))}})};function ne(_){return function(h){const{defineCustomElementFn:M,inputs:R,methods:se}=_;return void 0!==M&&M(),R&&$(h,R),se&&ee(h,se),h}}let Pt=(()=>{let _=class{constructor(h,M,R){this.z=R,h.detach(),this.el=M.nativeElement}};return _.\u0275fac=function(h){return new(h||_)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b))},_.\u0275cmp=s.Xpm({type:_,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Wi,decls:1,vars:0,template:function(h,M){1&h&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),_=(0,zi.__decorate)([ne({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],_),_})();class Hl{constructor(b={}){this.data=b}get(b){return this.data[b]}}let hd=(()=>{class _{constructor(h,M){this.zone=h,this.appRef=M}create(h,M,R,se){return new Nd(h,M,R,this.appRef,this.zone,se)}}return _.\u0275fac=function(h){return new(h||_)(s.LFG(s.R0b),s.LFG(s.z2F))},_.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac}),_})();class Nd{constructor(b,h,M,R,se,qe){this.resolverOrInjector=b,this.injector=h,this.location=M,this.appRef=R,this.zone=se,this.elementReferenceKey=qe,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(b,h,M,R){return this.zone.run(()=>new Promise(se=>{const qe=Object.assign({},M);void 0!==this.elementReferenceKey&&(qe[this.elementReferenceKey]=b),se(pd(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,b,h,qe,R))}))}removeViewFromDom(b,h){return this.zone.run(()=>new Promise(M=>{const R=this.elRefMap.get(h);if(R){R.destroy(),this.elRefMap.delete(h);const se=this.elEventsMap.get(h);se&&(se(),this.elEventsMap.delete(h))}M()}))}}const pd=(_,b,h,M,R,se,qe,Ct,qt,In,bi)=>{let Oi;const ro=s.zs3.create({providers:ih(In),parent:h});if(b&&(_=>!!_.resolveComponentFactory)(b)){const Qr=b.resolveComponentFactory(qt);Oi=M?M.createComponent(Qr,M.length,ro):Qr.create(ro)}else{if(!M)return null;Oi=M.createComponent(qt,{index:M.indexOf,injector:ro,environmentInjector:b})}const go=Oi.instance,Gi=Oi.location.nativeElement;if(In&&Object.assign(go,In),bi)for(const Qr of bi)Gi.classList.add(Qr);const wo=xc(_,go,Gi);return Ct.appendChild(Gi),M||R.attachView(Oi.hostView),Oi.changeDetectorRef.reattach(),se.set(Gi,Oi),qe.set(Gi,wo),Gi},Fu=[kc.L,kc.a,kc.b,kc.c,kc.d],xc=(_,b,h)=>_.run(()=>{const M=Fu.filter(R=>"function"==typeof b[R]).map(R=>{const se=qe=>b[R](qe.detail);return h.addEventListener(R,se),()=>h.removeEventListener(R,se)});return()=>M.forEach(R=>R())}),Jc=new s.OlP("NavParamsToken"),ih=_=>[{provide:Jc,useValue:_},{provide:Hl,useFactory:Bu,deps:[Jc]}],Bu=_=>new Hl(_),gd=new s.OlP("USERCONFIG");let du=(()=>{class _{constructor(h,M){this.doc=h,this.backButton=new aa.x,this.keyboardDidShow=new aa.x,this.keyboardDidHide=new aa.x,this.pause=new aa.x,this.resume=new aa.x,this.resize=new aa.x,M.run(()=>{var R;let se;this.win=h.defaultView,this.backButton.subscribeWithPriority=function(qe,Ct){return this.subscribe(qt=>qt.register(qe,In=>M.run(()=>Ct(In))))},_l(this.pause,h,"pause"),_l(this.resume,h,"resume"),_l(this.backButton,h,"ionBackButton"),_l(this.resize,this.win,"resize"),_l(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),_l(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(qe=>{se=qe}),null!==(R=this.win)&&void 0!==R&&R.cordova?h.addEventListener("deviceready",()=>{se("cordova")},{once:!0}):se("dom")})}is(h){return(0,Ol.a)(this.win,h)}platforms(){return(0,Ol.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(h){return Ha(this.win.location.href,h)}isLandscape(){return!this.isPortrait()}isPortrait(){var h,M;return null===(M=(h=this.win).matchMedia)||void 0===M?void 0:M.call(h,"(orientation: portrait)").matches}testUserAgent(h){const M=this.win.navigator;return!!(M?.userAgent&&M.userAgent.indexOf(h)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return _.\u0275fac=function(h){return new(h||_)(s.LFG(oe.K0),s.LFG(s.R0b))},_.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Ha=(_,b)=>{b=b.replace(/[[\]\\]/g,"\\$&");const M=new RegExp("[\\?&]"+b+"=([^&#]*)").exec(_);return M?decodeURIComponent(M[1].replace(/\+/g," ")):null},_l=(_,b,h)=>{b&&b.addEventListener(h,M=>{_.next(M?.detail)})};let sh=(()=>{class _{constructor(h,M,R,se){this.location=M,this.serializer=R,this.router=se,this.direction=ah,this.animated=Qg,this.guessDirection="forward",this.lastNavId=-1,se&&se.events.subscribe(qe=>{if(qe instanceof _o.OD){const Ct=qe.restoredState?qe.restoredState.navigationId:qe.id;this.guessDirection=Ct<this.lastNavId?"back":"forward",this.guessAnimation=qe.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?qe.id:Ct}}),h.backButton.subscribeWithPriority(0,qe=>{this.pop(),qe()})}navigateForward(h,M={}){return this.setDirection("forward",M.animated,M.animationDirection,M.animation),this.navigate(h,M)}navigateBack(h,M={}){return this.setDirection("back",M.animated,M.animationDirection,M.animation),this.navigate(h,M)}navigateRoot(h,M={}){return this.setDirection("root",M.animated,M.animationDirection,M.animation),this.navigate(h,M)}back(h={animated:!0,animationDirection:"back"}){return this.setDirection("back",h.animated,h.animationDirection,h.animation),this.location.back()}pop(){return(0,zi.__awaiter)(this,void 0,void 0,function*(){let h=this.topOutlet;for(;h&&!(yield h.pop());)h=h.parentOutlet})}setDirection(h,M,R,se){this.direction=h,this.animated=Np(h,M,R),this.animationBuilder=se}setTopOutlet(h){this.topOutlet=h}consumeTransition(){let M,h="root";const R=this.animationBuilder;return"auto"===this.direction?(h=this.guessDirection,M=this.guessAnimation):(M=this.animated,h=this.direction),this.direction=ah,this.animated=Qg,this.animationBuilder=void 0,{direction:h,animation:M,animationBuilder:R}}navigate(h,M){if(Array.isArray(h))return this.router.navigate(h,M);{const R=this.serializer.parse(h.toString());return void 0!==M.queryParams&&(R.queryParams=Object.assign({},M.queryParams)),void 0!==M.fragment&&(R.fragment=M.fragment),this.router.navigateByUrl(R,M)}}}return _.\u0275fac=function(h){return new(h||_)(s.LFG(du),s.LFG(oe.Ye),s.LFG(_o.Hx),s.LFG(_o.F0,8))},_.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Np=(_,b,h)=>{if(!1!==b){if(void 0!==h)return h;if("forward"===_||"back"===_)return _;if("root"===_&&!0===b)return"forward"}},ah="auto",Qg=void 0;let oo=(()=>{class _{constructor(h,M,R,se,qe){this.locationStrategy=h,this.navCtrl=M,this.elementRef=R,this.router=se,this.routerLink=qe,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var h;if(null!==(h=this.routerLink)&&void 0!==h&&h.urlTree){const M=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=M}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return _.\u0275fac=function(h){return new(h||_)(s.Y36(oe.S$),s.Y36(sh),s.Y36(s.SBq),s.Y36(_o.F0),s.Y36(_o.rH,8))},_.\u0275dir=s.lG2({type:_,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(h,M){1&h&&s.NdJ("click",function(){return M.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[s.TTD]}),_})();class Tc{constructor(b){this.ctrl=b}create(b){return this.ctrl.create(b||{})}dismiss(b,h,M){return this.ctrl.dismiss(b,h,M)}getTop(){return this.ctrl.getTop()}}class zp{}let vg=(()=>{class _ extends Tc{constructor(h,M,R,se){super(lu.m),this.angularDelegate=h,this.resolver=M,this.injector=R,this.environmentInjector=se}create(h){var M;return super.create(Object.assign(Object.assign({},h),{delegate:this.angularDelegate.create(null!==(M=this.resolver)&&void 0!==M?M:this.environmentInjector,this.injector,void 0,"modal")}))}}return _.\u0275fac=function(h){return new(h||_)(s.LFG(hd),s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(zp,8))},_.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac}),_})(),hu=(()=>{class _ extends Tc{constructor(h,M,R,se){super(lu.c),this.angularDelegate=h,this.resolver=M,this.injector=R,this.environmentInjector=se}create(h){var M;return super.create(Object.assign(Object.assign({},h),{delegate:this.angularDelegate.create(null!==(M=this.resolver)&&void 0!==M?M:this.environmentInjector,this.injector,void 0,"popover")}))}}return _.\u0275fac=function(h){return new(h||_)(s.LFG(hd),s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(zp,8))},_.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac}),_})();const ph=(_,b,h)=>()=>{if(b.defaultView&&typeof window<"u"){(0,Iu.s)(Object.assign(Object.assign({},_),{_zoneGate:se=>h.run(se)}));const R="__zone_symbol__addEventListener"in b.body?"__zone_symbol__addEventListener":"addEventListener";return function Au(){var _=[];if(typeof window<"u"){var b=window;(!b.customElements||b.Element&&(!b.Element.prototype.closest||!b.Element.prototype.matches||!b.Element.prototype.remove||!b.Element.prototype.getRootNode))&&_.push(D.e(6748).then(D.t.bind(D,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||b.NodeList&&!b.NodeList.prototype.forEach||!b.fetch||!function(){try{var M=new URL("b","http://a");return M.pathname="c%20d","http://a/c%20d"===M.href&&M.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&_.push(D.e(2214).then(D.t.bind(D,2668,23)))}return Promise.all(_)}().then(()=>((_,b)=>typeof window>"u"?Promise.resolve():(0,Cc.p)().then(()=>(wc(),(0,Cc.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),b))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Nu,jmp:se=>h.runOutsideAngular(se),ael(se,qe,Ct,qt){se[R](qe,Ct,qt)},rel(se,qe,Ct,qt){se.removeEventListener(qe,Ct,qt)}}))}};let _d=(()=>{class _{static forRoot(h){return{ngModule:_,providers:[{provide:gd,useValue:h},{provide:s.ip1,useFactory:ph,multi:!0,deps:[gd,oe.K0,s.R0b]}]}}}return _.\u0275fac=function(h){return new(h||_)},_.\u0275mod=s.oAB({type:_}),_.\u0275inj=s.cJS({providers:[hd,vg,hu],imports:[[oe.ez]]}),_})(),il=(()=>{class _{constructor(h){this.sanitizer=h}transform(h,M){switch(M){case"html":return this.sanitizer.bypassSecurityTrustHtml(h);case"style":return this.sanitizer.bypassSecurityTrustStyle(h);case"script":return this.sanitizer.bypassSecurityTrustScript(h);case"url":return this.sanitizer.bypassSecurityTrustUrl(h);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(h);default:throw new Error(`Invalid safe type specified: ${M}`)}}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(a.H7,16))};static#t=this.\u0275pipe=s.Yjl({name:"safe",type:_,pure:!0})}return _})();const ol=["outlet"];function yd(_,b){if(1&_&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&_){const h=s.oxw();s.ekj("text-bold","Log in"===h.leftSidePanel.userName),s.xp6(1),s.hij(" ",h.leftSidePanel.userName," ")}}const ms=function(_){return[_]};function gh(_,b){if(1&_&&(s.TgZ(0,"div",9)(1,"h5"),s._uU(2),s.qZA(),s.TgZ(3,"a",10),s._uU(4),s.qZA()()),2&_){const h=s.oxw();s.xp6(2),s.Oqu((null==h.leftSidePanel[h.activePage]||null==h.leftSidePanel[h.activePage].action?null:h.leftSidePanel[h.activePage].action.title)||""),s.xp6(1),s.Q6J("routerLink",s.VKq(3,ms,null==h.leftSidePanel[h.activePage]||null==h.leftSidePanel[h.activePage].action?null:h.leftSidePanel[h.activePage].action.link)),s.xp6(1),s.Oqu(null==h.leftSidePanel[h.activePage]||null==h.leftSidePanel[h.activePage].action?null:h.leftSidePanel[h.activePage].action.linkTitle)}}let gu=(()=>{class _{set childOutlet(h){this.refreshState(h),this.subs.push(h.activateEvents.subscribe(()=>{this.refreshState(h)}))}constructor(h,M,R,se,qe){this.meta=h,this.title=M,this.sharedService=R,this.cdr=se,this.store=qe,this.activePage="landingPage",this.currentOutlet="landingPage",this.leftSidePanel=Du,this.subs=[],this.clearBackActionInStore(),this.initialState(),this.setLastPageUrlInStore()}setLastPageUrlInStore(){this.store.dispatch(ls({latestPage:"/book-ielts"}))}initialState(){this.sharedService.updateState({...this.state,currentStep:0,totalSteps:5,currentStepName:""})}clearBackActionInStore(){this.store.dispatch(gl({BackButtonEnable:!0,BackButtonRoute:null}))}ngOnInit(){this.title.setTitle("Book an IELTS Test | IDP IELTS"),this.meta.updateTag({name:"description",content:"Check available IELTS test dates. Book your IELTS test with IDP today!"}),this.subs.push(this.sharedService.getState().subscribe(h=>{this.state=h,this.cdr.detectChanges()}))}ngOnDestroy(){this.subs.forEach(h=>h.unsubscribe())}refreshState(h){this.activePage=h.activatedRouteData.state}getRouteAnimationData(){return this.activePage}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(a.h_),s.Y36(a.Dx),s.Y36(Bs.G),s.Y36(s.sBO),s.Y36(ho.yh))};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-manage-booking"]],viewQuery:function(M,R){if(1&M&&s.Gf(ol,7,_o.lC),2&M){let se;s.iGM(se=s.CRH())&&(R.childOutlet=se.first)}},decls:11,vars:17,consts:[[3,"hasUserName","hasProgressBar","progressValue","currentStepNum","totalStep","currentStepName"],["userName","",3,"text-bold",4,"ngIf"],["title","",3,"innerHTML"],["subTitle","",3,"innerHTML"],["actions","",4,"ngIf"],["content","",1,"main-content"],[1,"d-flex","flex-grow-1","flex-row"],["outlet","outlet"],["userName",""],["actions",""],[1,"btn","signin-btn",3,"routerLink"]],template:function(M,R){1&M&&(s.TgZ(0,"app-form-wrapper",0),s.YNc(1,yd,2,3,"div",1),s._UZ(2,"div",2),s.ALo(3,"safe"),s._UZ(4,"div",3),s.ALo(5,"safe"),s.YNc(6,gh,5,5,"div",4),s.TgZ(7,"div",5)(8,"div",6),s._UZ(9,"router-outlet",null,7),s.qZA()()()),2&M&&(s.Q6J("hasUserName",R.leftSidePanel.hasUser)("hasProgressBar",(R.state.currentStep||0)>0)("progressValue",R.state.progressValue||0)("currentStepNum",R.state.currentStep||0)("totalStep",R.state.totalSteps||0)("currentStepName",R.state.currentStepName||""),s.xp6(1),s.Q6J("ngIf",R.leftSidePanel.hasUser),s.xp6(1),s.Q6J("innerHTML",s.xi3(3,11,null==R.leftSidePanel[R.activePage]?null:R.leftSidePanel[R.activePage].title,"html"),s.oJD),s.xp6(2),s.Q6J("innerHTML",s.xi3(5,14,null==R.leftSidePanel[R.activePage]?null:R.leftSidePanel[R.activePage].subTitle,"html"),s.oJD),s.xp6(2),s.Q6J("ngIf",null==R.leftSidePanel[R.activePage]||null==R.leftSidePanel[R.activePage].action?null:R.leftSidePanel[R.activePage].action.link),s.xp6(1),s.Q6J("@routeAnimations",R.getRouteAnimationData()))},dependencies:[oe.O5,Js,_o.lC,_o.rH,oo,il],styles:['[_nghost-%COMP%]{width:100%}  .landing-page-title{padding:48px 14px 9px;text-align:left;font-size:1.36rem;line-height:1.78rem}  .landing-page-title .subHeading{font-weight:400;font-size:1.25rem}  .content .content-title{font-size:1.187rem;margin-top:9px;text-align:left;font-weight:600;width:100%;padding-right:48px;line-height:1.5rem}@media (min-width: 992px){  .landing-page-title{padding:3.7727272727rem 0 .4545454545rem;font-size:1.59rem;line-height:1.3rem;font-weight:600}  .landing-page-title .subHeading{font-size:1rem;line-height:2rem}  ul.landing-page-subtitle{margin-top:-.8181818182rem;padding-left:1.5454545455rem;font-size:.68rem;line-height:.7rem;white-space:normal;list-style:none}  ul.landing-page-subtitle li{position:relative;padding:.6818181818rem 0}  ul.landing-page-subtitle li:before{content:" ";position:absolute;background-color:#fff;-webkit-mask-image:url(/assets/images/icon-tick.svg);mask-image:url(/assets/images/icon-tick.svg);top:calc(50% - .6818181818rem);left:-1.7727272727rem;opacity:1;width:1.3181818182rem;height:1.3181818182rem;background-size:contain}  .content .content-title{margin:1.6363636364rem 0 2.5rem;font-size:1.5909090909rem}}'],data:{animation:[Ac.J]}})}return _})(),jl=(()=>{class _{constructor(h,M){this.platformId=h,this.router=M}ngOnDestroy(){this.stop()}startEvent(){(0,oe.NF)(this.platformId)&&window.addEventListener("storage",this.storageEventListener.bind(this),!0)}storageEventListener(h){(0,oe.NF)(this.platformId)&&localStorage.getItem("preventStorageEvent")}stop(){(0,oe.NF)(this.platformId)&&window.removeEventListener("storage",this.storageEventListener.bind(this),!0)}preventStorageEvent(){this.stop(),(0,oe.NF)(this.platformId)&&localStorage.setItem("preventStorageEvent","1"),this.startEvent()}resumeStorageEvent(){this.stop(),(0,oe.NF)(this.platformId)&&localStorage.setItem("preventStorageEvent","0"),this.startEvent()}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(s.Lbi),s.LFG(_o.F0))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const bg=function(){return["./test-type"]},{site:Cg}=D(4499);let qh=(()=>{class _{constructor(h,M,R,se){this.sharedState=h,this.store=M,this.cacheService=R,this.router=se,this.store.dispatch(hr({currentStep:0})),this.store.dispatch(gl({BackButtonEnable:!1,BackButtonRoute:null})),console.info("Build: "+Cg?.buildInfo)}ngOnDestroy(){this.cacheService.resumeStorageEvent()}ngOnInit(){this.sharedState.getState().subscribe(h=>{this.state=h}),this.sharedState.updateState({...this.state,progressValue:0,currentStep:0,totalSteps:5,currentStepName:""})}openTermAndCondition(){this.cacheService.preventStorageEvent(),window.open(this.router.serializeUrl(this.router.createUrlTree(["/term-and-conditions"])),"_blank")}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(Bs.G),s.Y36(ho.yh),s.Y36(jl),s.Y36(_o.F0))};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-landing-page"]],decls:12,vars:2,consts:[[1,"flexbox","flex-grow-1","flex-column","content","align-items-center","justify-content-lg-center","justify-content-start"],[1,"all-content","text-center","d-flex","justify-content-center","align-items-center","flex-column","w-100"],[1,"landing-page-heading"],[1,"d-flex","justify-content-between","align-items-center","landing-page-content"],["src","../../../../assets/images/landing-image.svg","alt","",1,"d-lg-none"],["src","../../../../assets/images/landing-image-d.svg","alt","",1,"d-none","d-lg-block"],[1,"btn","btn-multiAction","mb-4",3,"routerLink"],[1,"d-block","d-lg-none","term-and-condition"]],template:function(M,R){1&M&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),s._uU(3,"Ready to book your IELTS test?"),s.qZA(),s.TgZ(4,"div",3)(5,"p"),s._uU(6,"You are free to choose between taking the IELTS test on computer or paper at a location that suits you."),s.qZA()(),s._UZ(7,"img",4)(8,"img",5),s.TgZ(9,"a",6),s._uU(10,"Get started"),s.qZA()()(),s._UZ(11,"app-term-and-condition",7)),2&M&&(s.xp6(9),s.Q6J("routerLink",s.DdM(1,bg)))},dependencies:[qs,_o.rH,oo],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{padding:0 15px;line-height:1.24rem;margin:0;color:#676563}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{margin:30px 0 41px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .btn.btn-multiAction[_ngcontent-%COMP%]{width:auto;align-self:stretch;margin:-9px 9px 0;height:50px;border-radius:5px}.content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]{margin-top:50px;padding-left:15px;padding-right:15px}.content[_ngcontent-%COMP%]   .landing-page-content[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:2px;text-align:center}.content[_ngcontent-%COMP%]   .landing-page-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:35px}.content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-top:25px;background-color:#f7f7f7}.content[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#d1343e}@media (min-width: 1100px){[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]{margin-top:3.2vh}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .landing-page-heading[_ngcontent-%COMP%]{margin-top:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .landing-page-content[_ngcontent-%COMP%]{text-align:center;padding:.3181818182rem 2.2727272727rem 0;font-size:.91rem;margin:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .landing-page-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:-.4545454545rem;line-height:1rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:3.1818181818rem 0 .0909090909rem;height:8.4090909091rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .btn.btn-multiAction[_ngcontent-%COMP%]{margin:1.9090909091rem 0 0;align-self:auto;width:100%;max-width:15.5454545455rem;height:2.2727272727rem;font-weight:500;font-size:.82rem}}@media (max-width: 767.98px){.content[_ngcontent-%COMP%]{margin:auto}}@media (min-width: 514px){.alignleft[_ngcontent-%COMP%]{margin:0rem 0 1.8rem}}@media (min-width: 1100px){.alignleft[_ngcontent-%COMP%]{margin:0rem 0 1.8rem}}.sysrequirementlink[_ngcontent-%COMP%]{color:#d1343e}.link[_ngcontent-%COMP%]{color:#f4dcdf;font-size:small}  .term-and-condition{text-align:center;font-size:.667rem;padding:0 20px}  .term-and-condition p{margin-bottom:20px;line-height:1rem;color:#676563}  .term-and-condition p a{color:#676563}@media (min-width: 1100px){  .term-and-condition{text-align:left;align-self:flex-end;padding:0}  .term-and-condition p{margin-bottom:2.2272727273rem;color:#fff}}']})}return _})();var Sc=D(9080),Xc=D(1342);const wg=D(4499),Vl={testType:{state:{progressValue:15,currentStep:1,totalSteps:5,currentStepName:"Select test type"},backButtonRoute:"wizard",options:[{content:'\n      <div class="d-flex flex-direction-row align-items-center">\n        <ion-icon name="school"></ion-icon> IELTS Academic\n      </div>\n      <p>IELTS Academic tests your English language proficiency at an academic level for university or\n        professional registration.</p>',action:({navigate:_,updateState:b})=>{b({testType:"IELTS,AC"}),_(["..","type-academic"])}},{content:'\n        <div class="d-flex flex-direction-row align-items-center">\n          <ion-icon name="briefcase"></ion-icon> IELTS General\n          Training\n        </div>\n        <p>IELTS General Training tests your English level proficiency in a practical and everyday context for\n          migration purposes.</p>',action:({navigate:_,updateState:b})=>{b({testType:"IELTS,GT"}),_(["..","type-general-training"])}},{content:'\n        <div class="d-flex flex-direction-row align-items-center">\n          <img class="ukvi-icon" src="../../../../assets/images/ukvi-icon.svg" alt=""> UKVI\n        </div>\n        <p>You may require an IELTS for UKVI test if you plan to study or live in the UK. Check which UKVI test you\n          need with the UK government before booking.</p>',action:({navigate:_})=>{_(["..","type-ukvi"])}}],pageHeading:"Which IELTS test do you need?"},testTypeAcademic:{state:{progressValue:36,currentStep:2,totalSteps:5,currentStepName:"Select test format"},backButtonRoute:"wizard/test-type",options:[{content:'<div class="d-flex flex-direction-row align-items-center">\n        <ion-icon name="document-text-outline"></ion-icon> IELTS on paper\n      </div>\n      <p>Complete the Listening, Reading and Writing tasks on paper in a test centre. The Speaking test will be face-to-face with an examiner.</p>',action:({navigate:_,updateState:b})=>{b({testFormat:"PB"}),_(["..","special-requirements"])}},{content:'<div class="d-flex flex-direction-row align-items-center">\n        <ion-icon name="laptop-outline"></ion-icon> IELTS on computer\n      </div>\n      <p>Complete the Listening, Reading and Writing tasks on a computer in a test centre. The Speaking test will be face-to-face with an examiner.</p>',action:({navigate:_,updateState:b})=>{b({testFormat:"CD"}),_(["..","special-requirements"])}},{content:'<div class="d-flex flex-direction-row align-items-center">\n        <ion-icon name="home-outline"></ion-icon> IELTS Online\n      </div>\n      <p>With IELTS Online, you will take your test from home or another suitable location. Only some institutions accept IELTS Online.</p>',action:({})=>{const h=(0,Xc.buildUrl)(wg.site.bookingURL,{path:"booking"});window.location.href=h}},{content:'<div class="d-flex flex-direction-row align-items-center">\n        <ion-icon name="bulb-outline"></ion-icon> Not sure\n      </div>\n      <p>If you\u2019re still undecided, browse both IELTS on paper and computer test dates and select a test session that suits your needs.</p>',action:({navigate:_,updateState:b})=>{b({testFormat:"All"}),_(["..","special-requirements"])}}],pageHeading:"Which test format do you prefer?"},testTypeGeneralTraining:{state:{progressValue:36,currentStep:2,totalSteps:5,currentStepName:"Select test format"},backButtonRoute:"wizard/test-type",options:[{content:'<div class="d-flex flex-direction-row align-items-center">\n        <ion-icon name="document-text-outline"></ion-icon> IELTS on paper\n      </div>\n      <p>Complete the Listening, Reading and Writing tasks on paper in a test centre. The Speaking test will be face-to-face with an examiner.</p>',action:({navigate:_,updateState:b})=>{b({testFormat:"PB"}),_(["..","special-requirements"])}},{content:'<div class="d-flex flex-direction-row align-items-center">\n        <ion-icon name="laptop-outline"></ion-icon> IELTS on computer\n      </div>\n      <p>Complete the Listening, Reading and Writing tasks on a computer in a test centre. The Speaking test will be face-to-face with an examiner.</p>',action:({navigate:_,updateState:b})=>{b({testFormat:"CD"}),_(["..","special-requirements"])}},{content:'<div class="d-flex flex-direction-row align-items-center">\n        <ion-icon name="bulb-outline"></ion-icon> Not sure\n      </div>\n      <p>If you\u2019re still undecided, browse both IELTS on paper and computer test dates and select a test session that suits your needs.</p>',action:({navigate:_,updateState:b})=>{b({testFormat:"All"}),_(["..","special-requirements"])}}],pageHeading:"Which test format do you prefer?"},testTypeUkvi:{state:{progressValue:36,currentStep:2,totalSteps:5,currentStepName:"Select test type"},backButtonRoute:"wizard/test-type",options:[{content:'<div class="d-flex flex-direction-row align-items-center">\n        IELTS for UKVI (Academic)\n      </div>\n      <p>For test takers wishing to study at undergraduate or postgraduate levels or seeking professional registration in the UK. </p>',action:({navigate:_,updateState:b})=>{b({testType:"IELTS_UKVI,AC",testFormat:"All"}),_(["..","special-requirements"])}},{content:'<div class="d-flex flex-direction-row align-items-center">\n        IELTS for UKVI (General Training)\n      </div>\n      <p>For test takers wishing to migrate to the UK,  or train or study below degree level. </p>',action:({navigate:_,updateState:b})=>{b({testType:"IELTS_UKVI,GT",testFormat:"All"}),_(["..","special-requirements"])}},{content:'<div class="d-flex flex-direction-row align-items-center">\n        Life Skills A1\n      </div>\n      <p>IELTS Life Skills \u2013 A1 Speaking and Listening. This test is for UK visas and immigration for a \u201cfamily of a settled person\u201d.</p>',action:({navigate:_,updateState:b})=>{b({testType:"LIFE_SKILLS,A1",testFormat:"All"}),_(["..","special-requirements"])}},{content:'<div class="d-flex flex-direction-row align-items-center">\n        Life Skills B1\n      </div>\n      <p>IELTS Life Skills \u2013 B1 Speaking and Listening. This test is for UK visas and immigration for Indefinite Leave to Remain (ILR) or citizenship visas.</p>',action:({navigate:_,updateState:b})=>{b({testType:"LIFE_SKILLS,B1",testFormat:"All"}),_(["..","special-requirements"])}}],pageHeading:"Which test type do you need?"},specialRequirements:{state:{progressValue:66,currentStep:3,totalSteps:5,currentStepName:"Special requirement arrangement"},pageHeading:"Do you need any special requirements?"},specialRequirementsYes:{state:{progressValue:100,currentStep:4,totalSteps:4,currentStepName:"Special requirement arrangement"},pageHeading:"Special requirements"},testDate:{state:{progressValue:100,currentStep:5,totalSteps:5,currentStepName:"Select test date"},pageHeading:"Select a test date or date range"}};var Up=D(3620);let Jh=(()=>{class _{constructor(h){this.platformId=h,this.isMobile$=new zs.X(!1),this.isTablet$=new zs.X(!1),(0,oe.NF)(this.platformId)&&this.evalMobile(),(0,Cs.R)(window,"resize").pipe((0,Up.b)(500)).subscribe(()=>this.evalMobile())}evalMobile(){var h=window.innerWidth>0?window.innerWidth:screen.width;this.isMobile$.next(h<=768),this.isTablet$.next(h<=1099)}isMobile(){return this.isMobile$.getValue()}isTablet(){return this.isTablet$.getValue()}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(s.Lbi))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),fu=(()=>{class _{constructor(){this.currentStep=1,this.totalStep=5}calculateOffset(){return(this.value||0)/100*107+893}static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-mobile-progress-bar"]],inputs:{value:"value",currentStep:"currentStep",totalStep:"totalStep"},decls:7,vars:4,consts:[[1,"relative-container"],[1,"circle-container"],["height","36","width","36"],["cx","18","cy","18","r","17"],["cx","18","cy","18","r","17",1,"progress"],[1,"progress-label"]],template:function(M,R){1&M&&(s.TgZ(0,"div",0)(1,"div",1),s.O4$(),s.TgZ(2,"svg",2),s._UZ(3,"circle",3)(4,"circle",4),s.qZA()(),s.kcU(),s.TgZ(5,"div",5),s._uU(6),s.qZA()()),2&M&&(s.xp6(4),s.Udp("stroke-dashoffset",R.calculateOffset()),s.xp6(2),s.AsE("",R.currentStep,"/",R.totalStep,""))},styles:["[_nghost-%COMP%]{position:absolute;top:25px;right:25px}[_nghost-%COMP%]   .relative-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .relative-container[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:36px;width:36px;display:flex;justify-content:center;font-size:12px;font-weight:600;color:#b5142c;line-height:36px}[_nghost-%COMP%]   .circle-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;right:0;top:0;transform:scaleX(-1) rotate(-90deg)}[_nghost-%COMP%]   circle[_ngcontent-%COMP%]{fill:none;stroke-width:2;stroke:#f4dcdf;stroke-dasharray:250;stroke-dashoffset:1000}[_nghost-%COMP%]   circle.progress[_ngcontent-%COMP%]{stroke:#b5142c}"]})}return _})();function tf(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"li",6)(1,"a",7),s.NdJ("click",function(R){const qe=s.CHM(h).$implicit,Ct=s.oxw();return s.KtG(Ct.triggerOnClick(R,qe))}),s.ALo(2,"safe"),s.qZA()()}if(2&_){const h=b.$implicit;s.xp6(1),s.Q6J("innerHTML",s.xi3(2,1,h.content,"html"),s.oJD)}}let Hp=(()=>{class _{constructor(h,M,R,se,qe,Ct,qt){this.sharedState=h,this.platformId=M,this.store=R,this.cacheService=se,this.router=qe,this.route=Ct,this.viewportService=qt,this.currentStepNum=0,this.totalStep=1,this.iconSize=1.167,this.routeState="",this.pageOptions=[],this.pageHeading=""}ngOnDestroy(){this.cacheService.resumeStorageEvent()}ngOnInit(){this.route.data.pipe((0,Er.P)()).subscribe(h=>{this.routeState=h.state,this.sharedState.updateState({...this.state,...Vl[this.routeState].state}),this.pageOptions=Vl[this.routeState].options,this.pageHeading=Vl[this.routeState].pageHeading,this.store.dispatch(ls({latestPage:"/book-ielts/test-type"})),this.store.dispatch(hr({currentStep:1})),this.store.dispatch(Qo({progressValue:20})),this.store.dispatch(Ir({currentStepName:"testType"})),this.store.dispatch(gl({BackButtonEnable:!0,BackButtonRoute:Vl[this.routeState].backButtonRoute}))}),this.sharedState.getState().pipe((0,Er.P)()).subscribe(h=>{this.currentStepNum=h.currentStep||0,this.totalStep=h.totalSteps||1}),this.viewportService.isMobile()||(0,Sc.H)(0).subscribe(()=>{const h=document.querySelectorAll(".option");let M=0;h.forEach(R=>{M=Math.max(R.offsetHeight,M)}),h.forEach(R=>{R.style.minHeight=M+"px",R.style.opacity=1})})}triggerOnClick(h,M){h.preventDefault(),M.action({navigate:R=>{this.router.navigate(R,{relativeTo:this.route})},updateState:R=>{this.sharedState.updateState(R)}})}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(Bs.G),s.Y36(s.Lbi),s.Y36(ho.yh),s.Y36(jl),s.Y36(_o.F0),s.Y36(_o.gz),s.Y36(Jh))};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-test-type-page"]],decls:8,vars:5,consts:[[1,"flexbox","flex-grow-1","flex-column","content","align-items-center","align-items-xxl-start","justify-content-start"],[1,"all-content","d-flex","justify-content-start","align-items-start","flex-column","w-100"],[1,"content-title"],[1,"d-lg-none",3,"value","currentStep","totalStep"],[1,"d-flex","justify-content-between","align-items-center"],["class","option",4,"ngFor","ngForOf"],[1,"option"],["href","",3,"innerHTML","click"]],template:function(M,R){1&M&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),s._uU(3),s.qZA(),s._UZ(4,"app-mobile-progress-bar",3),s.TgZ(5,"div",4)(6,"ul"),s.YNc(7,tf,3,4,"li",5),s.qZA()()()()),2&M&&(s.xp6(3),s.Oqu(R.pageHeading),s.xp6(1),s.Q6J("value",R.currentStepNum/R.totalStep*100)("currentStep",R.currentStepNum)("totalStep",R.totalStep),s.xp6(3),s.Q6J("ngForOf",R.pageOptions))},dependencies:[oe.sg,fu,il],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}  .content .all-content{margin-top:15px;padding:0 25px}  .content .all-content ul{list-style:none;padding:0}  .content .all-content ul li.option{margin:8px 0 20px}  .content .all-content ul li.option>a{border:1px solid #DBD6D2;border-radius:8px;padding:20px 19px;display:block;width:100%;text-decoration:none;background-color:#fff}  .content .all-content ul li.option>a>div:first-child{min-height:28px;color:#2f3940;font-size:19px;font-weight:600;margin:0 0 5px;position:relative;padding:0 .6818181818rem 0 0}  .content .all-content ul li.option>a>div:first-child:after{content:" ";background-color:#676563;-webkit-mask-image:url(/assets/images/chevron-right.svg);mask-image:url(/assets/images/chevron-right.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;position:absolute;right:0;top:7px;height:13px;width:8px}  .content .all-content ul li.option>a>div:first-child ion-icon,   .content .all-content ul li.option>a>div:first-child img{margin:0 13px 0 1px}  .content .all-content ul li.option p{color:#676563;font-size:14.97px;margin:0;line-height:18px}  .content .wrapper{margin-top:25px;background-color:#f7f7f7}@media (min-width: 768px){[_nghost-%COMP%]     .content .all-content ul{display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch}[_nghost-%COMP%]     .content .all-content ul li.option{display:block;width:calc(50% - .5681818182rem);margin:0 0 2.2727272727rem;border-radius:.3636363636rem}[_nghost-%COMP%]     .content .all-content ul li.option:nth-child(2n){margin-left:.5681818182rem}[_nghost-%COMP%]     .content .all-content ul li.option:nth-child(odd){margin-right:.5681818182rem}[_nghost-%COMP%]     .content .all-content ul li.option>a{border-radius:.3636363636rem;padding:1.1363636364rem;height:100%}[_nghost-%COMP%]     .content .all-content ul li.option>a>div:first-child{font-size:.8636363636rem;margin:0 0 .7272727273rem}[_nghost-%COMP%]     .content .all-content ul li.option>a>div:first-child ion-icon, [_nghost-%COMP%]     .content .all-content ul li.option>a>div:first-child img{margin:0 .5909090909rem 0 .0454545455rem;width:.9090909091rem}[_nghost-%COMP%]     .content .all-content ul li.option>a>div:first-child ion-icon.ukvi-icon, [_nghost-%COMP%]     .content .all-content ul li.option>a>div:first-child img.ukvi-icon{width:1.3636363636rem}[_nghost-%COMP%]     .content .all-content ul li.option>a>div:first-child:after{top:.3181818182rem;height:.5909090909rem;width:.3636363636rem}[_nghost-%COMP%]     .content .all-content ul li.option>a p{font-size:.6804545455rem;line-height:.9090909091rem}[_nghost-%COMP%]     .content .all-content ul li.option>a:hover, [_nghost-%COMP%]     .content .all-content ul li.option>a:focus{background:linear-gradient(118.42deg,#28303a -4.5%,#BD60A5 80.56%);border-radius:.3636363636rem}[_nghost-%COMP%]     .content .all-content ul li.option>a:hover>div:first-child, [_nghost-%COMP%]     .content .all-content ul li.option>a:focus>div:first-child{color:#fff}[_nghost-%COMP%]     .content .all-content ul li.option>a:hover>div:first-child:after, [_nghost-%COMP%]     .content .all-content ul li.option>a:focus>div:first-child:after{background-color:#fff}[_nghost-%COMP%]     .content .all-content ul li.option>a:hover p, [_nghost-%COMP%]     .content .all-content ul li.option>a:focus p{color:#fff}}@media (min-width: 1100px){[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]{margin-top:2.0909090909rem;padding:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%]{width:calc(50% - 1.1363636364rem)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%]:nth-child(2n){margin-left:1.1363636364rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%]:nth-child(odd){margin-right:1.1363636364rem}}']})}return _})();var Mg=D(3019),vd=D(9397),Qc=D(7398),Xh=D(6321),Uu=D(4829);var fh=D(4716),Dl=D(6306),Gl=D(2096),zd=D(3020),bd=D(3684),Ea=D(6328),Ia=D(8504);class Hu{static getNextIndex(b,h,M){let R=0;if("ArrowDown"===b?R=1:"ArrowUp"===b&&(R=-1),0!==R){const se=(h||0)+R;return-1===se||se>=0&&se<M?se:void 0}}}var Cd=D(9862);let Gp=(()=>{class _{constructor(h,M,R){this.platformId=h,this.http=M,this.sharedState=R,this._mockAddresses=[],this._mockAddress=null,(0,oe.NF)(this.platformId)&&this.http.get("/assets/images/loading.svg",{responseType:"arraybuffer"}).subscribe(),this.sharedState.getState().pipe((0,Er.P)()).subscribe(se=>{se.mockMapbox&&this.http.get("/assets/mock-data/mock-addresses.json").subscribe(qe=>{this._mockAddresses=[...qe],Object.defineProperty(window,"mockAddress",{get:function(){return this._mockAddress||null},set:Ct=>{this._mockAddress=Ct,this._mockAddresses.includes(Ct)||this._mockAddresses.push(Ct)}})})})}getConcatenatedAddress(h){return Object.values(h).filter(M=>null!==M&&"NULL"!==M).join(" ")}extractCoordinates(h){const M=h.match(/POINT \(([\d.-]+) ([\d.-]+)\)/);return M?[parseFloat(M[1]),parseFloat(M[2])]:[144.9632,-37.8142]}searchAddresses(h){if((0,oe.NF)(this.platformId)){if(h&&""!==h){const R={type:"FeatureCollection",query:["melbourne"],features:this._mockAddresses.filter(qe=>this.getConcatenatedAddress(qe.document.address).toUpperCase().indexOf((h||"").toUpperCase())>-1).slice(0,6).map(qe=>({id:"place.7068896531111320",type:"Feature",place_type:["place"],relevance:1,properties:{wikidata:"Q3141"},text:qe.document.address?.city,place_name:this.getConcatenatedAddress(qe.document.address),bbox:[144.593741856,-38.433859306,145.512528832,-37.511273722],center:[144.9632,-37.8142],geometry:{type:"Point",coordinates:this.extractCoordinates(qe.location_geolocation_point)},context:[{id:"region.10151275538899450",short_code:"AU-VIC",wikidata:"Q36687",text:"Victoria"},{id:"country.5736064365346070",wikidata:"Q408",short_code:"au",text:"Australia"}]})),attribution:"NOTICE: \xa9 2022 Mapbox and its suppliers. All rights reserved. Use of this data is subject to the Mapbox Terms of Service (https://www.mapbox.com/about/maps/). This response and the information it contains may not be retained. POI(s) provided by Foursquare."};let se=100*(Math.floor(5*Math.random())+2);return h.toLowerCase().startsWith("s")&&(se+=3e3),"4"===h?(0,Sc.H)(se).pipe((0,vd.b)(()=>{throw new Error("Generic error")}),(0,Qc.U)(()=>({}))):(0,Sc.H)(se).pipe((0,Qc.U)(()=>R))}return(0,Gl.of)({items:[]})}return(0,Gl.of)({items:[]})}reverseGeocode(h,M){if((0,oe.NF)(this.platformId)){const R=["2 Cunningham Street, Glenmorgan, 4423, QLD, Australia","21 Gaggin Street, Metford, 2323, NSW, Australia","78 Chapman Avenue, Tarana, 2787, NSW, Australia","33 Acheron Road, Sale North, 3850, VIC, Australia","68 Nandewar Street, Thumb Creek, 2447, NSW, Australia","88 Cecil Street, Putney, 2112, NSW, Australia","19 George Street, Roma, 4455, QLD, Australia","4 Gloucester Avenue, North Adelaide, 5006, SA, Australia","40 Main Street, Mantung, 5308, SA, Australia","64 Lapko Road, Mindarabin, 6336, WA, Australia","33 Buoro Street, Hazledean, 4741, QLD, Australia","56 Sunset Drive, Bauhinia, 4718, QLD, Australia","16 Isaac Road, Boyer, 7140, TAS, Australia","27 Black Range Road, Reedy Swamp, 2550, NSW, Australia","85 Eungella Road, Mount Coolon, 4804, QLD, Australia","64 Hummocky Road, De Mole River, 5223, SA, Australia","1 Whitehaven Crescent, Tully, 4854, QLD, Australia","18 McLeans Road, Harrami, 4630, QLD, Australia","67 Mildura Street, Gray, 7215, TAS, Australia","39 Buoro Street, Hazledean, 4741, QLD, Australia","30 Larissa Court, Mildura West, 3500, VIC, Australia","46 Hill Street, Davis, 7151, TAS, Australia","72 McPherson Road, Huon, 3695, VIC, Australia","1 Sale-Heyfield Road, Leongatha North, 3953, VIC, Australia"],se={features:[{address:R[Math.floor(Math.random()*(R.length-1))]}]};let qe=100*(Math.floor(5*Math.random())+2);return Math.floor(10*Math.random())%2==0&&(qe+=3e3),window.error?(0,Sc.H)(qe).pipe((0,vd.b)(()=>{throw new Error("Generic error")}),(0,Qc.U)(()=>({}))):(0,Sc.H)(qe).pipe((0,Qc.U)(()=>se))}return(0,Gl.of)({items:[]})}searchSessions(h){return window.mockError?(0,Sc.H)(1200).pipe((0,Qc.U)(()=>{throw new Error("whatever")})):window.mockEmpty?(0,Sc.H)(1200).pipe((0,Qc.U)(()=>({items:[],page:1,pageSize:0,totalCount:0}))):(0,Sc.H)(1200).pipe((0,Qc.U)(()=>({items:[{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.6,languageSkills:["L","R","W"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"CD",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"ced5524f-3264-478f-8eb4-cf99911bd9a8",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-05T09:00:00+11:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["L","R","W"],seatAvailability:{maxAvailable:100,remaining:26},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"2cf10c94-c545-46c5-af6a-84f0b9a2cab7",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T10:00:00+11:00"},{distanceToTestLocationKm:5.7,languageSkills:["L","R","W"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T00:00:00+11:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["L","R","W"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T10:00:00+11:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["L","R","W"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"40 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa7",latitude:-37.4101163,longitude:145.0742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T10:00:00+11:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["S"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T07:00:00+09:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["S"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T08:00:00+09:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["S"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T09:00:00+09:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["S"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T10:00:00+09:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["S"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T10:00:00+09:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["S"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T10:00:00+09:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["S"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T10:00:00+09:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["S"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T10:00:00+09:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["S"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T10:00:00+09:00"},{bookingUrl:"https://facebook.com",distanceToTestLocationKm:5.7,languageSkills:["S"],seatAvailability:{maxAvailable:100,remaining:10},sessionId:"3fa85f64-5717-4562-b3fc-2c963f66afa6",sessionNotes:"string",testCategory:"IELTS",testFormat:"PB",testLocation:{address:{line1:"39 Fairway, (entrance on Edward Street),",line2:"Crawley WA 6009."},id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",latitude:-37.7101163,longitude:144.9742798,notes:"Headphones, parking, close to train station, Headphones, parking, close to train station, Headphones, parking, close to train station",name:"Australian institute of Language"},testLocalTimeZone:"Australia/Melbourne",testModule:"GT",testPriority:0,testStartLocalDatetime:"2021-11-15T10:00:00+09:00"}],page:1,pageSize:0,totalCount:2})))}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(s.Lbi),s.LFG(Cd.eN),s.LFG(Bs.G))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();var Ud=D(6866);const sc=D(4499),mu="https://api.mapbox.com/geocoding/v5/mapbox.places",xg="postcode,place,locality";let nf=(()=>{class _{constructor(h,M){this.platformId=h,this.http=M}searchAddresses(h){if((0,oe.NF)(this.platformId)){let M=xg;const se="(\\b"+["moresby","morseby","morsby","moresbi","morsbi","tokyo","toky","tkyo"].join("\\b|\\b")+"\\b)";return h.match(new RegExp(se,"gi"))&&(M+=",region"),this.http.get(mu+"/"+encodeURIComponent(h)+".json",{params:this.toHttpParams({access_token:sc.site.mapBoxApiKey,types:M,autocomplete:!0,limit:6})})}return(0,Gl.of)({})}reverseGeocode(h,M){return(0,oe.NF)(this.platformId)?this.http.get(mu+"/"+h.toString()+","+M.toString()+".json",{params:this.toHttpParams({access_token:sc.site.mapBoxApiKey,types:xg,limit:1})}):(0,Gl.of)({})}toHttpParams(h){if(h){const M=Object.keys(h);let R=new Cd.LE;for(const se in M){const qe=isNaN(parseInt(se))?se:M[se];if(null===h[qe]&&(h[qe]=void 0),h.hasOwnProperty(qe)&&void 0!==h[qe]){let Ct;const qt="object"==typeof h[qe]&&h[qe].hasOwnProperty("value")?h[qe].value:h[qe];"[object Date]"===Object.prototype.toString.call(qt)?Ct=(0,Ud.ZP)(qt,"yyyy-mm-ddTHH:MM:ss"):"[object Array]"===Object.prototype.toString.call(qt)?qt.map(In=>{R=R.append(qe,In)}):void 0!==qt&&"function"!=typeof qt&&""!==qt&&(Ct=qt),void 0!==Ct&&(R=R.append(qe,Ct))}}return R}}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(s.Lbi),s.LFG(Cd.eN))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),rf=(()=>{class _{constructor(h){this.platformId=h}getCurrentLocation(){if((0,oe.NF)(this.platformId)){if(navigator.geolocation){const h=new aa.x;let M;return navigator.geolocation.getCurrentPosition(R=>{h.next(R),h.complete()},R=>{switch(R.code){case R.PERMISSION_DENIED:M=new Error("User denied the request for Geolocation");break;case R.POSITION_UNAVAILABLE:M=new Error("Location information is unavailable");break;case R.TIMEOUT:M=new Error("The request to get user location timed out.");break;default:M=new Error("An unknown error occurred")}h.error(M)}),h.asObservable()}return(0,Ia._)(()=>new Error("Location is not supported"))}return(0,Gl.of)(null)}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(s.Lbi))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const $p=["locationInput"];function Og(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){s.CHM(h);const R=s.oxw();return s.KtG(R.onClear())}),s._UZ(1,"ion-icon",21),s.TgZ(2,"span",13),s._uU(3,"clear"),s.qZA()()}}function ja(_,b){1&_&&(s.TgZ(0,"p",24),s._uU(1,"Please enter a city, postcode or address before proceeding."),s.qZA())}function _u(_,b){1&_&&(s.TgZ(0,"p",24),s._uU(1,"Enter a valid city code, postcode or address"),s.qZA())}function yu(_,b){1&_&&(s.TgZ(0,"p",24),s._uU(1," Your search must only contain letters and numbers. Please try again."),s.qZA())}function mh(_,b){1&_&&(s.TgZ(0,"p",24),s._uU(1,"Oops, looks like something went wrong. Please check your internet connection and try again."),s.qZA())}function yl(_,b){if(1&_&&(s.TgZ(0,"div",22),s.YNc(1,ja,2,0,"p",23),s.YNc(2,_u,2,0,"p",23),s.YNc(3,yu,2,0,"p",23),s.YNc(4,mh,2,0,"p",23),s.qZA()),2&_){const h=s.oxw();s.xp6(1),s.Q6J("ngIf",h.submitted&&h.locationSearchControl.errors&&h.locationSearchControl.errors.required),s.xp6(1),s.Q6J("ngIf",h.submitted&&void 0!==h.locationOptions&&0===h.locationOptions.length),s.xp6(1),s.Q6J("ngIf",h.submitted&&h.locationSearchControl.errors&&h.locationSearchControl.errors.addressValidator),s.xp6(1),s.Q6J("ngIf",h.genericError)}}function Hd(_,b){1&_&&(s.TgZ(0,"div",25),s._UZ(1,"ion-icon",26),s.TgZ(2,"p"),s._uU(3,"Your location service is disabled. You can enable this service in the "),s.TgZ(4,"span",27),s._uU(5,"settings"),s.qZA(),s._uU(6," menu of your browser."),s.qZA()())}function Zp(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"li")(1,"button",30),s.NdJ("keydown",function(R){s.CHM(h);const se=s.oxw(2);return s.KtG(se.cancelScrollEvent(R))})("keyup",function(R){s.CHM(h);const se=s.oxw(2);return s.KtG(se.optionKeyUp(R))})("focus",function(){const se=s.CHM(h).index,qe=s.oxw(2);return s.KtG(qe.onFocus(se))})("click",function(){const se=s.CHM(h).index,qe=s.oxw(2);return s.KtG(qe.onSelect(se))}),s.TgZ(2,"div",31),s._UZ(3,"ion-icon",32),s.qZA(),s.TgZ(4,"div",33),s._uU(5),s.qZA()()()}if(2&_){const h=b.$implicit,M=b.index;s.xp6(1),s.MGl("id","location-option-",M,""),s.xp6(4),s.Oqu(h.place_name)}}function Wp(_,b){if(1&_&&(s.TgZ(0,"div",28)(1,"ul"),s.YNc(2,Zp,6,2,"li",29),s.qZA()()),2&_){const h=s.oxw();s.xp6(2),s.Q6J("ngForOf",h.locationOptions)}}function _h(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"div",34)(1,"button",35),s.NdJ("click",function(R){s.CHM(h);const se=s.oxw();return s.KtG(se.onNext(R))}),s._uU(2,"Next"),s.qZA()()}}let Pg=(()=>{class _{set input(h){this.inputElement=h.nativeElement,h.nativeElement.addEventListener("keyup",M=>{"ArrowDown"===M.key&&this.locationOptions&&this.locationOptions.length>0?this.focusOnIndex(0):this.focusIndex=void 0})}constructor(h,M,R,se,qe,Ct,qt){this.router=h,this.sharedState=M,this.loadingService=R,this.mockService=se,this.mapBoxService=qe,this.locationService=Ct,this.store=qt,this.currentStepNum=0,this.totalStep=1,this.locationSearchControl=new c.p4("",[c.kI.required,_=>""===_.value||null==_.value||_.value.match(/^[a-z0-9 ]*$/i)?null:{addressValidator:{}}]),this.genericError=!1,this.locationDisabled=!1,this.isSelecting=!1,this.$form=new c.nJ({locationSearch:this.locationSearchControl}),this.showClearButton=!1,this.submitted=!1,this.submit$=new aa.x}ngOnInit(){this.sharedState.updateState({progressValue:82,currentStep:4,totalSteps:5,currentStepName:"Location search"}),this.store.dispatch(gl({BackButtonEnable:!0,BackButtonRoute:null})),this.sharedState.getState().pipe((0,Er.P)()).subscribe(h=>{this.currentStepNum=h.currentStep||0,this.totalStep=h.totalSteps||1,this.service=h.mockMapbox?this.mockService:this.mapBoxService,this.store.dispatch(gl({BackButtonEnable:!0,BackButtonRoute:"wizard/special-requirements"}))}),(0,Mg.T)(this.submit$.asObservable().pipe((0,vd.b)(()=>{this.genericError=!1,this.locationDisabled=!1,this.selectedItem=void 0}),(0,Qc.U)(h=>this.locationSearchControl.value)),this.locationSearchControl.valueChanges.pipe((0,Qc.U)(h=>{})),this.locationSearchControl.valueChanges.pipe((0,vd.b)(h=>{this.loadingService.isLoading.next(!1),this.selectedItem=void 0,this.submitted=!1,this.genericError=!1,this.locationDisabled=!1,this.locationOptions=void 0,this.showClearButton=!!h}),(0,Up.b)(500),(0,Ll.h)(h=>null!=h&&h.length>0))).pipe(function jp(_,b=Xh.z,h){const M=(0,Sc.H)(_,b);return function Da(_,b){return(0,ns.e)((h,M)=>{const{leading:R=!0,trailing:se=!1}=b??{};let qe=!1,Ct=null,qt=null,In=!1;const bi=()=>{qt?.unsubscribe(),qt=null,se&&(go(),In&&M.complete())},Oi=()=>{qt=null,In&&M.complete()},ro=Gi=>qt=(0,Uu.Xf)(_(Gi)).subscribe((0,Ja.x)(M,bi,Oi)),go=()=>{if(qe){qe=!1;const Gi=Ct;Ct=null,M.next(Gi),!In&&ro(Gi)}};h.subscribe((0,Ja.x)(M,Gi=>{qe=!0,Ct=Gi,(!qt||qt.closed)&&(R?go():ro(Gi))},()=>{In=!0,(!(se&&qe&&qt)||qt.closed)&&M.complete()}))})}(()=>M,h)}(500),(0,dd.w)(h=>{if(h&&!this.isSelecting){if(this.submitted=!0,this.$form.valid){const M=this.service.searchAddresses(this.locationSearchControl.value).pipe((0,vd.b)(R=>{R.features&&(this.locationOptions=R.features)}),(0,fh.x)(()=>{this.loadingService.isLoading.next(!1)}),(0,Dl.K)(R=>(this.genericError=!0,this.locationOptions=void 0,(0,Gl.of)({}))),(0,zd.B)());return(0,bd.S)(M,(0,Sc.H)(1500).pipe((0,Ea.b)(()=>(this.loadingService.isLoading.next(!0),M))))}return(0,Gl.of)(void 0)}return(0,Gl.of)(void 0)})).subscribe()}onSubmit(){this.locationDisabled=!1,void 0===this.selectedItem&&(this.submitted=!0,this.genericError=!1,this.$form.valid&&(this.isSelecting=!1,this.submit$.next(this.locationSearchControl.value)))}onClear(){this.locationSearchControl.setValue(""),this.locationSearchControl.updateValueAndValidity(),this.inputElement.focus()}onUseCurrentLocation(){this.submitted=!1,this.genericError=!1,this.selectedItem=void 0,this.locationSearchControl.setValue(""),this.locationSearchControl.updateValueAndValidity();const h=this.locationService.getCurrentLocation().pipe((0,Dl.K)(M=>(this.locationDisabled=!0,(0,Ia._)(()=>M))),(0,Ea.b)(M=>this.service.reverseGeocode(M.coords.longitude,M.coords.latitude).pipe((0,Dl.K)(R=>(this.genericError=!0,(0,Ia._)(()=>R))))),(0,vd.b)(M=>{M.features&&M.features.length>0&&(this.isSelecting=!0,(0,Sc.H)(510).subscribe(()=>this.isSelecting=!1),this.locationSearchControl.setValue(M.features[0].place_name),this.locationSearchControl.updateValueAndValidity(),this.selectedItem=M.features[0],this.sharedState.updateState({currentLoc:this.selectedItem.geometry.coordinates,locLabel:M.features[0].place_name,locLabelShort:M.features[0].text?M.features[0].text:M.features[0].place_name}))}),(0,fh.x)(()=>this.loadingService.isLoading.next(!1)),(0,zd.B)());(0,bd.S)(h,(0,Sc.H)(100).pipe((0,Ea.b)(()=>(this.loadingService.isLoading.next(!0),h)))).subscribe(),h.subscribe()}onSelect(h){if(this.locationOptions&&this.locationOptions.length>=h+1){const M=this.locationOptions[h];this.isSelecting=!0,(0,Sc.H)(510).subscribe(()=>this.isSelecting=!1),this.locationSearchControl.setValue(M.place_name),this.locationSearchControl.updateValueAndValidity(),this.selectedItem=M,this.sharedState.updateState({currentLoc:M.geometry.coordinates,locLabel:M.place_name,locLabelShort:M.text?M.text:M.place_name})}}cancelScrollEvent(h){("ArrowDown"===h.key||"ArrowUp"===h.key)&&h.preventDefault()}optionKeyUp(h){if(this.locationOptions){const M=Hu.getNextIndex(h.key,this.focusIndex||0,this.locationOptions.length);-1===M?(this.inputElement.focus(),this.focusIndex=void 0):void 0!==M&&this.focusOnIndex(M)}}focusOnIndex(h){document.getElementById("location-option-"+h)?.focus()}onFocus(h){this.focusIndex=h}onNext(h){this.router.navigate(["/","wizard","test-date"])}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(_o.F0),s.Y36(Bs.G),s.Y36(Ic.b),s.Y36(Gp),s.Y36(nf),s.Y36(rf),s.Y36(ho.yh))};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-test-location-page"]],viewQuery:function(M,R){if(1&M&&s.Gf($p,5),2&M){let se;s.iGM(se=s.CRH())&&(R.input=se.first)}},decls:24,vars:11,consts:[[1,"flexbox","flex-grow-1","flex-column","content","align-items-start","align-items-xxl-start","justify-content-start"],[1,"all-content","d-flex","justify-content-start","align-items-stretch","flex-column","w-100","flex-lg-grow-1"],[1,"content-title"],[1,"d-lg-none",3,"value","currentStep","totalStep"],[3,"formGroup","ngSubmit"],[1,"d-flex","justify-content-between","align-items-center","search-section"],["for","location-search",1,"visually-hidden"],[1,"input-group"],["type","text","placeholder","Search city, postcode, address","formControlName","locationSearch","id","location-search","autocomplete","off","aria-describedby","invalid-message",1,"form-control"],["locationInput",""],["tabindex","-1","class","btn","type","button","id","clear-button",3,"click",4,"ngIf"],["type","submit","id","search-button",1,"btn","btn-primary"],["name","search"],[1,"visually-hidden"],["id","invalid-message",4,"ngIf"],[1,"d-flex","justify-content-start","align-items-center"],["type","button",1,"btn","current-location",3,"click"],["class","d-flex justify-content-start location-disabled-message",4,"ngIf"],["class","d-flex justify-content-start align-items-center align-items-lg-start option-container flex-lg-grow-1",4,"ngIf"],["class","d-flex justify-content-start align-items-start option-container flex-lg-grow-1",4,"ngIf"],["tabindex","-1","type","button","id","clear-button",1,"btn",3,"click"],["name","close"],["id","invalid-message"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"d-flex","justify-content-start","location-disabled-message"],["name","settings-outline"],[1,"text-dark-red"],[1,"d-flex","justify-content-start","align-items-center","align-items-lg-start","option-container","flex-lg-grow-1"],[4,"ngFor","ngForOf"],["type","button",1,"btn","d-flex","flex-row","align-items-start","align-items-lg-center",3,"id","keydown","keyup","focus","click"],[1,"map-icon","d-flex","align-items-center","justify-content-center"],["name","location"],[1,"option-text"],[1,"d-flex","justify-content-start","align-items-start","option-container","flex-lg-grow-1"],["type","button",1,"btn","btn-multiAction",3,"click"]],template:function(M,R){1&M&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),s._uU(3,"Where do you want to take this test?"),s.qZA(),s._UZ(4,"app-mobile-progress-bar",3),s.TgZ(5,"form",4),s.NdJ("ngSubmit",function(){return R.onSubmit()}),s.TgZ(6,"div",5)(7,"label",6),s._uU(8,"Please enter your city, postcode or address"),s.qZA(),s.TgZ(9,"div",7),s._UZ(10,"input",8,9),s.YNc(12,Og,4,0,"button",10),s.TgZ(13,"button",11),s._UZ(14,"ion-icon",12),s.TgZ(15,"span",13),s._uU(16,"Search"),s.qZA()()()(),s.YNc(17,yl,5,4,"div",14),s.qZA(),s.TgZ(18,"div",15)(19,"button",16),s.NdJ("click",function(){return R.onUseCurrentLocation()}),s._uU(20,"Use my current location"),s.qZA()(),s.YNc(21,Hd,7,0,"div",17),s.YNc(22,Wp,3,1,"div",18),s.YNc(23,_h,3,0,"div",19),s.qZA()()),2&M&&(s.xp6(4),s.Q6J("value",R.currentStepNum/R.totalStep*100)("currentStep",R.currentStepNum)("totalStep",R.totalStep),s.xp6(1),s.Q6J("formGroup",R.$form),s.xp6(4),s.ekj("show-clear-button",R.showClearButton),s.xp6(3),s.Q6J("ngIf",R.showClearButton),s.xp6(5),s.Q6J("ngIf",R.submitted||R.genericError),s.xp6(4),s.Q6J("ngIf",R.locationDisabled),s.xp6(1),s.Q6J("ngIf",void 0!==R.locationOptions&&R.locationOptions.length>0),s.xp6(1),s.Q6J("ngIf",void 0!==R.selectedItem))},dependencies:[oe.sg,oe.O5,fu,Pt,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]     .content .all-content{margin-top:15px;padding:0 25px}[_nghost-%COMP%]     .content .all-content .search-section{margin-top:10px}[_nghost-%COMP%]     .content .all-content .search-section input{font-size:.85rem}[_nghost-%COMP%]     .content .all-content .search-section input:focus{z-index:1}[_nghost-%COMP%]     .content .all-content .search-section .input-group.show-clear-button input{padding-right:34px}[_nghost-%COMP%]     .content .all-content .search-section #clear-button{position:absolute;padding:0;line-height:0;right:61px;top:14px;font-size:24px}[_nghost-%COMP%]     .content .all-content .current-location{margin:.6rem 0 0;padding:0 1rem 0 0;font-weight:400;text-decoration:underline;font-size:.78rem;position:relative}[_nghost-%COMP%]     .content .all-content .current-location:after{content:" ";background-color:#676563;-webkit-mask-image:url(/assets/images/chevron-right.svg);mask-image:url(/assets/images/chevron-right.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;position:absolute;right:2px;top:5px;height:.9rem;width:.45rem}[_nghost-%COMP%]     .content .all-content #search-button{font-size:1.222rem;line-height:1.722rem;padding-top:.54rem}[_nghost-%COMP%]     .content .all-content #invalid-message{font-size:14.83px;font-weight:500}[_nghost-%COMP%]     .content .all-content #invalid-message>p{margin:12px 0 0}[_nghost-%COMP%]     .content .all-content .option-container{margin-top:6px}[_nghost-%COMP%]     .content .all-content .option-container ul{list-style:none;padding-left:0;width:100%}[_nghost-%COMP%]     .content .all-content .option-container ul .btn{text-align:left;font-weight:400;min-height:70px;width:100%;padding:13px 0 0;border-bottom:1px solid rgba(165,157,149,.35);border-radius:0}[_nghost-%COMP%]     .content .all-content .option-container ul .btn .map-icon{margin-right:12px;color:#e31837;background-color:#e318371a;width:40px;height:40px}[_nghost-%COMP%]     .content .all-content .option-container ul .btn .option-text{font-size:12.2px;line-height:14px}[_nghost-%COMP%]     .content .all-content .btn.btn-multiAction{width:auto;align-self:stretch;height:50px;font-size:1rem;border-radius:5px;font-weight:400;margin:34px 0 0;padding:0 30px}[_nghost-%COMP%]     .content .all-content .location-disabled-message{background-color:#eee;border-radius:8px;margin-top:25px;position:relative}[_nghost-%COMP%]     .content .all-content .location-disabled-message ion-icon{position:absolute;top:25px;left:25px;width:28px;height:28px;color:#b5142c}[_nghost-%COMP%]     .content .all-content .location-disabled-message ion-icon+*{padding:25px 25px 25px 68px;font-size:.78rem;line-height:.89rem;margin:0}[_nghost-%COMP%]     .content .all-content .location-disabled-message p:last-child{margin:0}@media (min-width: 1100px){[_nghost-%COMP%]     .content .all-content .location-disabled-message{border-radius:.3636363636rem;margin-top:1.1363636364rem}[_nghost-%COMP%]     .content .all-content .location-disabled-message ion-icon{top:1.1363636364rem;left:1.1363636364rem;width:1.2727272727rem;height:1.2727272727rem}[_nghost-%COMP%]     .content .all-content .location-disabled-message ion-icon+*{padding:1.1363636364rem 1.1363636364rem 1.1363636364rem 3.0909090909rem;font-size:.643rem;line-height:.8rem}}[_nghost-%COMP%]     .content .wrapper{margin-top:25px;background-color:#f7f7f7}@media (min-width: 1100px){[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]{padding:0;margin-top:2.0909090909rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]{margin-top:-1.2727272727rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.68rem;padding-left:.63rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .input-group.show-clear-button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:1.5454545455rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   #clear-button[_ngcontent-%COMP%]{right:2.7727272727rem;top:.5454545455rem;font-size:1.0909090909rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .current-location[_ngcontent-%COMP%]{font-size:.643rem;margin:.5rem 0 0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .current-location[_ngcontent-%COMP%]:after{right:.2272727273rem;top:.1818181818rem;height:.75rem;width:.4rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   #search-button[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1rem;padding:.43rem .5rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   #invalid-message[_ngcontent-%COMP%]{font-size:.6363636364rem;line-height:.6363636364rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   #invalid-message[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:.5454545455rem 0 0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]{margin-top:.5909090909rem;padding:0;position:relative;flex-grow:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{border-radius:.1818181818rem;border:1px solid #EEEEEE;position:absolute;top:0;left:0;width:100%;background-color:#fff;margin-bottom:0;overflow:auto;padding:0 .6818181818rem;max-height:calc(100% - .6818181818rem)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-height:3.1818181818rem;padding:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .map-icon[_ngcontent-%COMP%]{margin-right:.5454545455rem;width:1.8181818182rem;height:1.8181818182rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{font-size:.5545454545rem;line-height:.6363636364rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#e31837}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type   .btn[_ngcontent-%COMP%]{border:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .btn.btn-multiAction[_ngcontent-%COMP%]{margin:1.5454545455rem 0 0;font-size:.6363636364rem;min-width:7.7272727273rem;min-height:2.2727272727rem;border-radius:.1818181818rem;padding:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .location-disabled-message[_ngcontent-%COMP%]{max-width:25.7727272727rem}}']})}return _})();var Aa=D(8502);function Tg(_,b){1&_&&(s.TgZ(0,"p",12),s._uU(1,"What is a special requirement?"),s.qZA())}function Kf(_,b){1&_&&(s.TgZ(0,"p",13),s._uU(1," We can provide a variety of arrangements to support you during the test if you have special requirements due to hearing loss, low vision, learning difficulties, medical conditions or infant feeding. "),s.qZA())}function Kp(_,b){1&_&&(s.TgZ(0,"p",13),s._uU(1," For special requirement support, please contact your nearest IELTS test centre. "),s.qZA())}const Qh=function(){return["yes"]},sf=function(){return["..","test-location"]};function wd(_,b){1&_&&(s.TgZ(0,"div",14)(1,"a",15),s._uU(2,"Yes, I do"),s.qZA(),s.TgZ(3,"a",16),s._uU(4,"No, I don't"),s.qZA()()),2&_&&(s.xp6(1),s.Q6J("routerLink",s.DdM(2,Qh)),s.xp6(2),s.Q6J("routerLink",s.DdM(3,sf)))}function Zr(_,b){1&_&&(s.TgZ(0,"div",14)(1,"a",17),s._uU(2,"Find my local IELTS test centre"),s.qZA()())}let Yp=(()=>{class _{constructor(h,M,R,se,qe){this.sharedState=h,this.store=M,this.cacheService=R,this.router=se,this.route=qe,this.currentStepNum=0,this.totalStep=1,this.iconSize=1.167,this.routeState="",this.pageOptions=[],this.pageHeading="",this.terminalScreen=!1,this.setState()}ngOnDestroy(){this.cacheService.resumeStorageEvent()}ngOnInit(){this.sharedState.getState().pipe((0,Er.P)()).subscribe(h=>{this.currentStepNum=h.currentStep||0,this.totalStep=h.totalSteps||1;const M=(0,Aa.x1)(h.testType),R=(0,Aa.wO)(h.testType);let se="wizard/test-type";this.terminalScreen?se="wizard/special-requirements":M.length>0&&"IELTS"===M[0]?R.length>0&&"GT"===R[0]?se="wizard/type-general-training":R.length>0&&"AC"===R[0]&&(se="wizard/type-academic"):M.length>0&&"IELTS_UKVI"===M[0]&&(se="wizard/type-ukvi"),this.store.dispatch(gl({BackButtonEnable:!0,BackButtonRoute:se}))})}setState(){this.route.data.pipe((0,Er.P)()).subscribe(h=>{this.routeState=h.state,this.sharedState.updateState({...this.state,...Vl[this.routeState].state}),this.pageHeading=Vl[this.routeState].pageHeading,this.store.dispatch(ls({latestPage:"/book-ielts/test-type/academic"})),this.store.dispatch(hr({currentStep:1})),this.store.dispatch(Qo({progressValue:20})),this.store.dispatch(Ir({currentStepName:"specialRequirements"})),this.store.dispatch(gl({BackButtonEnable:!0,BackButtonRoute:Vl[this.routeState].backButtonRoute})),this.terminalScreen="specialRequirementsYes"===this.routeState})}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(Bs.G),s.Y36(ho.yh),s.Y36(jl),s.Y36(_o.F0),s.Y36(_o.gz))};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-special-requirements"]],decls:15,vars:9,consts:[[1,"flexbox","flex-grow-1","content","align-items-center","align-items-xxl-start","justify-content-start"],[1,"all-content","d-flex","justify-content-start","align-items-stretch","flex-column","w-100"],[1,"content-title"],[1,"d-lg-none",3,"value","currentStep","totalStep"],[1,"justify-content-between","align-items-center"],[1,"iconalign"],["src","../../../../assets/images/hearing.svg","alt","",1,"imageAlign"],["name","accessibility-outline"],[1,"textContent"],["class","para1",4,"ngIf"],["class","para2",4,"ngIf"],["class","buttonalign",4,"ngIf"],[1,"para1"],[1,"para2"],[1,"buttonalign"],[1,"btn","btn-multiAction","accept","mb-4",3,"routerLink"],[1,"btn","btn-multiAction","reject","mb-4",3,"routerLink"],["href","https://ielts.idp.com/","target","_blank",1,"btn","btn-action","mb-4","width-auto","btn-primary"]],template:function(M,R){1&M&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),s._uU(3),s.qZA(),s._UZ(4,"app-mobile-progress-bar",3),s.TgZ(5,"div",4)(6,"div",5),s._UZ(7,"img",6)(8,"ion-icon",7),s.qZA(),s.TgZ(9,"div",8),s.YNc(10,Tg,2,0,"p",9),s.YNc(11,Kf,2,0,"p",10),s.YNc(12,Kp,2,0,"p",10),s.qZA(),s.YNc(13,wd,5,4,"div",11),s.YNc(14,Zr,3,0,"div",11),s.qZA()()()),2&M&&(s.xp6(3),s.Oqu(R.pageHeading),s.xp6(1),s.Q6J("value",R.currentStepNum/R.totalStep*100)("currentStep",R.currentStepNum)("totalStep",R.totalStep),s.xp6(6),s.Q6J("ngIf",!R.terminalScreen),s.xp6(1),s.Q6J("ngIf",!R.terminalScreen),s.xp6(1),s.Q6J("ngIf",R.terminalScreen),s.xp6(1),s.Q6J("ngIf",!R.terminalScreen),s.xp6(1),s.Q6J("ngIf",R.terminalScreen))},dependencies:[oe.O5,fu,_o.rH,Pt,oo],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]     .content.content-title{position:absolute;width:12.6818181818rem;height:2.4545454545rem;font-size:1rem;line-height:1.2272727273rem}[_nghost-%COMP%]     .all-content{margin-top:15px;padding:0 25px}[_nghost-%COMP%]     .all-content .btn, [_nghost-%COMP%]     .all-content .btn.btn-multiAction{display:flex;justify-content:center;align-items:center;height:2.3727272727rem;font-size:14px;border-radius:4px;font-weight:600}[_nghost-%COMP%]     .all-content .btn.btn-primary, [_nghost-%COMP%]     .all-content .btn.btn-multiAction.btn-primary{background-color:#e31837}[_nghost-%COMP%]     .all-content .accept{background-color:#fff;border:.0909090909rem solid #00AAAD;color:#00aaad;margin-right:.6818181818rem}[_nghost-%COMP%]     .all-content .accept:hover{text-decoration:underline;border-width:.1363636364rem;color:#00aaad}[_nghost-%COMP%]     .all-content .reject:hover{background-color:#565656;color:#fff;border-color:#565656}.content[_ngcontent-%COMP%]{display:block}ion-icon[_ngcontent-%COMP%]{width:62px;height:64px;color:#e31837}.textContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:15px;background-color:#eee;border-radius:.3636363636rem;left:25px;margin:0 0 51px}.para1[_ngcontent-%COMP%]{color:#b5142c;margin-bottom:15px;letter-spacing:.0045454545rem;font-size:15px;line-height:18px}.para2[_ngcontent-%COMP%]{margin-bottom:0rem;font-size:11.8px;font-weight:400;line-height:14.6px}.iconalign[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin:41px 0 9px;height:80px}.imageAlign[_ngcontent-%COMP%]{margin-right:1.0681818182rem;width:62.78px;height:61.92px}.buttonalign[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}@media (min-width: 1100px){[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]{margin-top:2.0909090909rem;padding:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .btn.btn-multiAction[_ngcontent-%COMP%]{display:flex;font-size:.6363636364rem;align-items:center;text-align:center;letter-spacing:.0090909091rem;line-height:1.1818181818rem;max-width:7.0454545455rem;height:2.1818181818rem;box-sizing:border-box;border-radius:.1818181818rem;padding:.375rem .75rem;margin:0 .6818181818rem 0 0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .btn.width-auto[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .btn.btn-multiAction.width-auto[_ngcontent-%COMP%]{width:auto;max-width:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .btn.btn-multiAction.btn-primary[_ngcontent-%COMP%]{padding:.375rem 1.5rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .para1[_ngcontent-%COMP%]{line-height:.8181818182rem;color:#b5142c;margin-bottom:.5rem;letter-spacing:.0045454545rem;font-size:.6804545455rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{margin-bottom:1.3rem}[_nghost-%COMP%]   .iconalign[_ngcontent-%COMP%]{margin:0;height:2.9090909091rem;justify-content:flex-start}[_nghost-%COMP%]   .textContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:1.1363636364rem;margin:1.2272727273rem 0 2.3181818182rem;line-height:.9090909091rem;background-color:#eee;border-radius:.3636363636rem;width:37.0909090909rem}[_nghost-%COMP%]   .buttonalign[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start}[_nghost-%COMP%]   .para2[_ngcontent-%COMP%]{margin:.0909090909rem 0 0;font-size:.6363636364rem;line-height:.775rem;width:32.0909090909rem}[_nghost-%COMP%]   .imageAlign[_ngcontent-%COMP%]{margin-right:1.0681818182rem;width:2.8545454545rem;height:2.9090909091rem}[_nghost-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:2.69rem;height:2.9090909091rem;color:#e31837}}']})}return _})();var vl=D(2213);const Md=["d"];function ed(_,b){if(1&_&&(s.TgZ(0,"p",19),s._uU(1),s.qZA()),2&_){const h=s.oxw(2);s.xp6(1),s.hij("Date selected: ",h.selectedDate,"")}}function ac(_,b){1&_&&(s.TgZ(0,"p",20),s._uU(1,"Please select a date range to continue."),s.qZA())}function Va(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"div",21),s.NdJ("mouseenter",function(){const se=s.CHM(h).$implicit,qe=s.oxw(2);return s.KtG(qe.hoveredDate=se)})("mouseleave",function(){s.CHM(h);const R=s.oxw(2);return s.KtG(R.hoveredDate=null)}),s.TgZ(1,"div",22),s._uU(2),s.qZA()()}if(2&_){const h=b.$implicit,M=b.focused,R=s.oxw(2);s.ekj("focused",M)("range",R.isRange(h))("before-from",R.isBeforeFrom(h))("first",R.isFirst(h))("selecting-second",R.isSelectingSecond())("sunday",R.isSunday(h))("last",R.isLast(h))("faded",R.isHovered(h)||R.isInside(h)),s.xp6(2),s.Oqu(h.day)}}function ep(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"div",6)(1,"div",7),s.YNc(2,ed,2,1,"p",8),s.YNc(3,ac,2,0,"p",9),s.TgZ(4,"ngb-datepicker",10,11),s.NdJ("dateSelect",function(R){s.CHM(h);const se=s.oxw();return s.KtG(se.onDateSelection(R))})("navigate",function(){s.CHM(h);const R=s.oxw();return s.KtG(R.onNavigate())}),s.qZA(),s.YNc(6,Va,3,17,"ng-template",null,12,s.W1O),s.qZA(),s.TgZ(8,"div",13)(9,"div",14),s._UZ(10,"img",15),s.TgZ(11,"p",16),s._uU(12,"Please note that test bookings may only be available up to 3 months in advance."),s.qZA()(),s.TgZ(13,"button",17),s.NdJ("click",function(){s.CHM(h);const R=s.oxw();return s.KtG(R.onClearClick())}),s._uU(14,"Clear selection"),s.qZA(),s.TgZ(15,"button",18),s.NdJ("click",function(R){s.CHM(h);const se=s.oxw();return s.KtG(se.findSession(R))}),s._uU(16,"Find test sessions"),s.qZA()()()}if(2&_){const h=s.MAs(7),M=s.oxw();s.xp6(2),s.Q6J("ngIf",!M.showError),s.xp6(1),s.Q6J("ngIf",M.showError),s.xp6(1),s.Q6J("displayMonths",1)("dayTemplate",h)("minDate",M.minDate)("firstDayOfWeek",7)("maxDate",M.maxDate)("navigation",M.navigation)("markDisabled",M.isDisabled),s.xp6(5),s.ekj("d-none",!0!==M.showPara),s.xp6(4),s.Q6J("disabled",null===M.fromDate&&null===M.toDate)}}function Xs(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"div",14),s._UZ(1,"img",15),s.TgZ(2,"p",16),s._uU(3,"Please note that test bookings may only be available up to 3 months in advance."),s.qZA(),s.TgZ(4,"button",26),s.NdJ("click",function(){s.CHM(h);const R=s.oxw(2);return s.KtG(R.onClear())}),s._UZ(5,"ion-icon",27),s.TgZ(6,"span",28),s._uU(7,"clear"),s.qZA()()()}}function tp(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"div",21),s.NdJ("mouseenter",function(){const se=s.CHM(h).$implicit,qe=s.oxw(2);return s.KtG(qe.hoveredDate=se)})("mouseleave",function(){s.CHM(h);const R=s.oxw(2);return s.KtG(R.hoveredDate=null)}),s.TgZ(1,"div",22),s._uU(2),s.qZA()()}if(2&_){const h=b.$implicit,M=b.focused,R=s.oxw(2);s.ekj("focused",M)("range",R.isRange(h))("before-from",R.isBeforeFrom(h))("first",R.isFirst(h))("selecting-second",R.isSelectingSecond())("sunday",R.isSunday(h))("last",R.isLast(h))("faded",R.isHovered(h)||R.isInside(h)),s.xp6(2),s.Oqu(h.day)}}function ju(_,b){if(1&_&&(s.TgZ(0,"p",19),s._uU(1),s.qZA()),2&_){const h=s.oxw(2);s.xp6(1),s.hij("Date selected: ",h.selectedDate,"")}}function np(_,b){1&_&&(s.TgZ(0,"p",20),s._uU(1,"Please select a date range to continue."),s.qZA())}function yh(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"div"),s.YNc(1,Xs,8,0,"div",23),s.TgZ(2,"div",7)(3,"ngb-datepicker",10,11),s.NdJ("dateSelect",function(R){s.CHM(h);const se=s.oxw();return s.KtG(se.onDateSelection(R))})("navigate",function(){s.CHM(h);const R=s.oxw();return s.KtG(R.onNavigate())}),s.qZA(),s.YNc(5,tp,3,17,"ng-template",null,12,s.W1O),s.qZA(),s.TgZ(7,"div",24),s.YNc(8,ju,2,1,"p",8),s.YNc(9,np,2,0,"p",9),s.TgZ(10,"div",25)(11,"button",17),s.NdJ("click",function(){s.CHM(h);const R=s.oxw();return s.KtG(R.onClearClick())}),s._uU(12,"Clear selection"),s.qZA(),s.TgZ(13,"button",18),s.NdJ("click",function(R){s.CHM(h);const se=s.oxw();return s.KtG(se.findSession(R))}),s._uU(14,"Find test sessions"),s.qZA()()()()}if(2&_){const h=s.MAs(6),M=s.oxw();s.xp6(1),s.Q6J("ngIf",!0===M.showPara),s.xp6(2),s.Q6J("displayMonths",1)("dayTemplate",h)("minDate",M.minDate)("firstDayOfWeek",7)("maxDate",M.maxDate)("navigation",M.navigation)("markDisabled",M.isDisabled),s.xp6(5),s.Q6J("ngIf",!M.showError),s.xp6(1),s.Q6J("ngIf",M.showError),s.xp6(2),s.Q6J("disabled",null===M.fromDate&&null===M.toDate)}}let qp=(()=>{class _{constructor(){this.language="en"}static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac})}return _})();const Sg={en:{weekdays:["M","T","W","T","F","S","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekLabel:"week"}};let Dg=(()=>{class _ extends Dr.wf{constructor(h){super(),this._i18n=h}getWeekdayLabel(h){return Sg[this._i18n.language].weekdays[h-1]}getWeekLabel(){return Sg[this._i18n.language].weekLabel}getMonthShortName(h){return Sg[this._i18n.language].months[h-1]}getMonthFullName(h){return this.getMonthShortName(h)}getDayAriaLabel(h){return`${h.day}-${h.month}-${h.year}`}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(qp))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac})}return _})();const bu=[{path:"",component:gu,data:{state:"landingPage",pagename:"Landing page / get started"},children:[{path:"",component:qh,data:{state:"landingPage",pagename:"Landing page / get started"},canActivate:[]},{path:"test-type",component:Hp,data:{state:"testType",pagename:"Select test type"},pathMatch:"full"},{path:"special-requirements",component:Yp,data:{state:"specialRequirements",pagename:"Test selected / Special requirement"},canActivate:[]},{path:"special-requirements/yes",component:Yp,data:{state:"specialRequirementsYes",pagename:"Test selected / Special requirement If yes"},canActivate:[]},{path:"test-date",component:(()=>{class _{constructor(h,M,R,se,qe,Ct,qt,In,bi){this.sharedState=h,this.store=M,this.cacheService=R,this.platformId=se,this.router=qe,this.route=Ct,this.i18n=In,this.viewportService=bi,this.currentStepNum=0,this.totalStep=1,this.iconSize=1.167,this.routeState="",this.pageOptions=[],this.pageHeading="",this.hoveredDate=null,this.fromDate=null,this.toDate=null,this.showPara=null,this.navigation="arrows",this.showError=!1,this.firstLoad=!0,this.debug="test",this.setState(),this.isDisabled=Oi=>Oi.before(qt.getNext(qt.getToday(),"d",1)),this.minDate=qt.getNext(qt.getToday(),"d",1),this.maxDate=qt.getNext(qt.getToday(),"y",1)}ngOnInit(){this.sharedState.getState().pipe((0,Er.P)()).subscribe(h=>{this.currentStepNum=h.currentStep||0,this.totalStep=h.totalSteps||1,this.store.dispatch(gl({BackButtonEnable:!0,BackButtonRoute:"wizard/test-location"}))})}setState(){this.route.data.pipe((0,Er.P)()).subscribe(h=>{this.routeState=h.state,this.sharedState.updateState({...this.state,...Vl[this.routeState].state}),this.pageHeading=Vl[this.routeState].pageHeading,this.store.dispatch(hr({currentStep:1})),this.store.dispatch(Qo({progressValue:20})),this.store.dispatch(Ir({currentStepName:"testDate"})),this.store.dispatch(gl({BackButtonEnable:!0,BackButtonRoute:Vl[this.routeState].backButtonRoute}))})}onClearClick(){this.fromDate=null,this.toDate=null,this.selectedDate="",this.showError=!1}onClear(){this.showPara=!1}onDateSelection(h){try{this.showError=!1,this.fromDate||this.toDate?this.fromDate&&!this.toDate?h.after(this.fromDate)||h.equals(this.fromDate)?this.toDate=h:(this.toDate=this.fromDate,this.fromDate=h):(this.toDate=null,this.fromDate=h):this.fromDate=h,this.selectedDate=(0,vl._)((0,Aa.UW)(this.fromDate),this.toDate?(0,Aa.UW)(this.toDate):void 0)}catch{this.debug=this.fromDate?.toString()||"failed"}}onNavigate(){null===this.showPara&&!1===this.firstLoad?this.showPara=!0:this.firstLoad=!1}isHovered(h){return this.fromDate&&!this.toDate&&this.hoveredDate&&h.after(this.fromDate)&&h.before(this.hoveredDate)}isInside(h){return this.toDate&&h.after(this.fromDate)&&h.before(this.toDate)}isRange(h){return this.isFirst(h)||this.isLast(h)||this.isInside(h)||this.isHovered(h)}isFirst(h){return h.equals(this.fromDate)}isBeforeFrom(h){return h.before(this.fromDate)}isSelectingSecond(){return null!==this.fromDate&&null===this.toDate}isLast(h){return this.toDate&&h.equals(this.toDate)}isSunday(h){return 0===new Date((0,Aa.UW)(h)+"T00:00:00").getDay()}findSession(h){this.fromDate?(this.toDate||(this.toDate=this.fromDate),this.sharedState.updateState({fromDate:(0,Aa.UW)(this.fromDate),toDate:(0,Aa.UW)(this.toDate)}),this.sharedState.getState().pipe((0,Er.P)()).subscribe(M=>{this.router.navigate((0,Aa.OH)(M))})):this.showError=!0}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(Bs.G),s.Y36(ho.yh),s.Y36(jl),s.Y36(s.Lbi),s.Y36(_o.F0),s.Y36(_o.gz),s.Y36(Dr.vL),s.Y36(Dr.wf),s.Y36(Jh))};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-date-picker"]],viewQuery:function(M,R){if(1&M&&s.Gf(Md,5),2&M){let se;s.iGM(se=s.CRH())&&(R.datePicker=se.first)}},features:[s._Bn([qp,{provide:Dr.wf,useClass:Dg}])],decls:9,vars:10,consts:[[1,"flexbox","flex-grow-1","content","flex-column","align-items-start","align-items-xxl-start","justify-content-start"],[1,"all-content","d-flex","justify-content-start","align-items-stretch","flex-column","w-100"],[1,"content-title"],[1,"d-lg-none",3,"value","currentStep","totalStep"],["class","content-align",4,"ngIf"],[4,"ngIf"],[1,"content-align"],[1,"dateselected"],["class","paraselect",4,"ngIf"],["class","required-error",4,"ngIf"],["outsideDays","hidden",3,"displayMonths","dayTemplate","minDate","firstDayOfWeek","maxDate","navigation","markDisabled","dateSelect","navigate"],["dp",""],["t",""],[1,"footer-row"],[1,"para"],["src","../../../../assets/images/Group.svg","alt","",1,"imageAlign"],[1,"para-text"],["type","button",1,"cleardate",3,"disabled","click"],["type","button",1,"btn","btn-text","btn-multiAction",3,"click"],[1,"paraselect"],[1,"required-error"],[1,"custom-day",3,"mouseenter","mouseleave"],[1,"overlay"],["class","para",4,"ngIf"],[1,"footer-section","d-flex","flex-column"],[1,"button-align"],["tabindex","-1","type","button","id","clear-button",1,"btn","close-button",3,"click"],["name","close"],[1,"visually-hidden"]],template:function(M,R){1&M&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),s._uU(3),s.qZA(),s._UZ(4,"app-mobile-progress-bar",3),s.YNc(5,ep,17,12,"div",4),s.ALo(6,"async"),s.YNc(7,yh,15,11,"div",5),s.ALo(8,"async"),s.qZA()()),2&M&&(s.xp6(3),s.Oqu(R.pageHeading),s.xp6(1),s.Q6J("value",R.currentStepNum/R.totalStep*100)("currentStep",R.currentStepNum)("totalStep",R.totalStep),s.xp6(1),s.Q6J("ngIf",!s.lcZ(6,6,R.viewportService.isTablet$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(8,8,R.viewportService.isTablet$)))},dependencies:[oe.O5,fu,Pt,Dr.VL,oe.Ov],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}[_nghost-%COMP%]{display:flex;flex-basis:100%;width:100%;flex-direction:column}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{width:279px;height:54px;font-weight:600;font-size:22px;line-height:27px;padding-right:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 25px 120px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .imageAlign[_ngcontent-%COMP%]{width:14.51px;height:16px;margin-top:7px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{padding-top:6px;position:relative;left:13px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]{padding:15px;width:100%;margin-top:5px;height:60px;left:25px;display:flex;background:#EEEEEE;border-radius:4px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]   .para-text[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:15px;padding-left:15px;display:flex;flex-grow:1;margin:0;align-self:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#676563;padding-bottom:10px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .para.hide[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .dateselected[_ngcontent-%COMP%]{margin-top:50px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0;width:36px;height:36px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%] > .overlay[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.disabled[_ngcontent-%COMP%]{color:#eee}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.range.faded[_ngcontent-%COMP%]:not(.sunday):before, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.range.last[_ngcontent-%COMP%]:not(.first):not(.sunday):before, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.selecting-second[_ngcontent-%COMP%]:not(.first):not(.before-from):hover:not(.sunday):before{content:"";position:absolute;top:0;left:-5vw;background-color:#e5f6f7;width:10vw;height:100%;z-index:0}@media (min-width: 400px){[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.range.faded[_ngcontent-%COMP%]:not(.sunday):before, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.range.last[_ngcontent-%COMP%]:not(.first):not(.sunday):before, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.selecting-second[_ngcontent-%COMP%]:not(.first):not(.before-from):hover:not(.sunday):before{left:-10vw;width:15vw}}@media (min-width: 650px){[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.range.faded[_ngcontent-%COMP%]:not(.sunday):before, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.range.last[_ngcontent-%COMP%]:not(.first):not(.sunday):before, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.selecting-second[_ngcontent-%COMP%]:not(.first):not(.before-from):hover:not(.sunday):before{left:-14vw;width:17vw}}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.range[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]:hover{position:relative}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.range[_ngcontent-%COMP%] > .overlay[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]:hover > .overlay[_ngcontent-%COMP%]{background-color:#00aaad;color:#fff;border-radius:.3636363636rem;z-index:2;position:absolute;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .custom-day.faded[_ngcontent-%COMP%] > .overlay[_ngcontent-%COMP%]{background-color:#e5f6f7;border-radius:.3636363636rem;width:36px;height:36px;color:#676563;z-index:2;position:absolute;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker{border:0;display:inline-block;width:100%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:1.3636363636rem;background-color:transparent}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-month-name{font-size:18px;line-height:22px;font-weight:700;text-align:center;padding-top:16px;background-color:transparent}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-weekdays.ngb-dp-week{border-bottom:0;background-color:transparent;position:absolute;top:-99px;width:100%;justify-content:space-between;margin-top:21px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-week:not(.ngb-dp-weekdays) .ngb-dp-day{width:1.9rem;height:2.35rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-arrow .ngb-dp-arrow-btn{margin-left:-5px;text-align:left;outline:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-arrow.ngb-dp-arrow-next .ngb-dp-arrow-btn{margin-left:auto;margin-right:-5px;text-align:right}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-weekday{color:#a59d95;font-weight:600;font-size:20px;line-height:24px;font-style:inherit}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-week{justify-content:space-between;position:relative;top:25px;right:2px;color:#676563}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-day{position:relative;outline:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-day.disabled .custom-day .overlay{color:#dbd6d2;text-decoration:line-through}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-month{display:flex;flex-grow:1;justify-content:center;width:calc(100% - 50px);justify-content:space-between}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]     ngb-datepicker ngb-datepicker-month{width:100%;position:relative}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;background-color:#fff;border:#F4DCDF 1px solid;border-top-left-radius:16px;border-top-right-radius:16px;width:100%;padding:25px;align-items:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .paraselect[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .required-error[_ngcontent-%COMP%]{width:100%;left:25px;font-weight:600;font-size:15px;line-height:24px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .paraselect[_ngcontent-%COMP%]{height:24px;color:#00aaad}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .required-error[_ngcontent-%COMP%]{font-size:14px;color:#e31837}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .button-align[_ngcontent-%COMP%]{display:flex;align-self:stretch;justify-content:space-between;width:100%;max-width:400px;margin:0 auto}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .cleardate[_ngcontent-%COMP%]{min-height:19px;font-weight:400;font-size:16px;line-height:19px;background-color:transparent;padding:0;margin-top:3px;white-space:nowrap;text-decoration:underline}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .cleardate[_ngcontent-%COMP%]:not(:disabled){color:#2f3940}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:140px;height:32px;padding:0 5px;inset:0;background:#00AAAD;border-radius:4px;margin-top:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{left:13px;right:14px;top:calc(50% - 9px);font-weight:600;font-size:14px;line-height:18px;min-height:32px;display:flex;align-items:center;text-align:center;letter-spacing:.2px;color:#fff}@media (min-width: 1100px){[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{text-align:left;font-weight:600;width:100%;height:auto;padding-right:2.1818181818rem;line-height:1.5rem;margin:0 0 2rem;font-size:1.5909090909rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]{margin-top:clamp(.9090909091rem,50vh - 14.3181818182rem,3rem);padding:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .imageAlign[_ngcontent-%COMP%]{width:1.1545454545rem;height:1.2727272727rem;margin-top:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]{height:1.6363636364rem;width:1.6363636364rem;padding:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%] > .overlay[_ngcontent-%COMP%]{height:1.6363636364rem;width:1.6363636364rem;display:flex;justify-content:center;align-items:center;padding:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .custom-day.disabled[_ngcontent-%COMP%]{color:#eee}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .custom-day.range.faded[_ngcontent-%COMP%]:not(.sunday):before, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .custom-day.range.last[_ngcontent-%COMP%]:not(.first):not(.sunday):before, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .custom-day.selecting-second[_ngcontent-%COMP%]:not(.first):not(.before-from):hover:not(.sunday):before{left:-8.3vw;background-color:#dee;width:9.5vw}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .custom-day.range[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]:hover{color:#fff;width:1.6363636364rem;border-radius:.3636363636rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .custom-day.range[_ngcontent-%COMP%]:not(.sunday):before, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]:hover:not(.sunday):before{left:-8.3vw;background-color:#dee;width:9.5vw}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .custom-day.faded[_ngcontent-%COMP%] > .overlay[_ngcontent-%COMP%]{width:1.6363636364rem;height:1.6363636364rem;border-radius:.3636363636rem;color:#676563;background-color:#dee}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker{border:0;display:inline-block}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker button.btn.btn-link{font-size:.8363636364rem;background:#fff;width:1.8181818182rem;height:1.8181818182rem;margin-top:.5rem;margin-left:0;margin-right:.2272727273rem;border-radius:50%;line-height:1.5rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker button.btn.btn-link.ngb-dp-arrow-btn:hover:not(:disabled) .ngb-dp-navigation-chevron:after{background-color:#00aaad}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker button.btn.btn-link.ngb-dp-arrow-btn:disabled .ngb-dp-navigation-chevron:after{background-color:#67656366}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-arrow-btn .ngb-dp-navigation-chevron{margin:0;transform:rotate(0);border-width:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-arrow-btn .ngb-dp-navigation-chevron:after{content:" ";background-color:#676563;-webkit-mask-image:url(/assets/images/chevron-left.svg);mask-image:url(/assets/images/chevron-left.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;position:absolute;right:-.2727272727rem;top:-.0454545455rem;height:.9090909091rem;width:.5454545455rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-arrow.ngb-dp-arrow-next .ngb-dp-navigation-chevron{margin-right:.5rem;margin-left:.35em}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-arrow.ngb-dp-arrow-next .ngb-dp-navigation-chevron:after{-webkit-mask-image:url(/assets/images/chevron-right.svg);mask-image:url(/assets/images/chevron-right.svg);right:-.0909090909rem;top:-.0454545455rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-navigation-select{display:flex;flex:1 1 9rem;position:absolute;left:0;top:-2.2727272727rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker ngb-datepicker-navigation{display:inline-flex;align-items:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-arrow{position:absolute;top:-2.7272727273rem;right:3.5454545455rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-arrow.ngb-dp-arrow-next{right:0;margin-right:-.2272727273rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:transparent;float:right}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-month-name{font-size:.9090909091rem;line-height:1.0909090909rem;font-weight:600;position:absolute;bottom:15.9090909091rem;left:0;text-align:center;padding-top:.7272727273rem;background-color:transparent}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-month{display:flex;flex-grow:1;pointer-events:none;margin-top:1.9545454545rem;margin-left:-.2272727273rem;justify-content:space-between}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-months{display:flex}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-week{display:flex;flex-grow:1;justify-content:space-between;position:relative;top:.9090909091rem;right:.0909090909rem;margin-top:.2272727273rem;color:#676563}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-day, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-weekday, [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-week-number{line-height:2rem;font-style:inherit}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-day{display:flex;width:1.6363636364rem;height:1.6363636364rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-weekday{color:#a59d95;font-weight:600;font-size:.9090909091rem;line-height:1.0909090909rem;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .ngb-dp-weekdays{border-bottom:0;border-radius:0;background-color:transparent;position:relative;top:0;margin-top:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]     ngb-datepicker .form-select{display:block;width:-moz-fit-content;width:fit-content;padding:0;-moz-padding-start:calc(.75rem - .1363636364rem);font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem;color:#000;background-color:transparent;background:none;border:0;appearance:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:0;align-items:flex-start;padding:1.1363636364rem;gap:.4545454545rem;height:3.8181818182rem;left:20.4545454545rem;top:26.0454545455rem;background-color:#eee;border-radius:.3636363636rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]   .para-text[_ngcontent-%COMP%]{width:18.2272727273rem;height:1.5454545455rem;font-weight:400;font-size:.6363636364rem;line-height:.7727272727rem;padding-left:.2272727273rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .footer-row[_ngcontent-%COMP%]{display:flex;position:relative;top:auto;margin-top:1.3181818182rem;flex-grow:1;justify-content:flex-end;align-items:flex-start;flex-direction:row}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .cleardate[_ngcontent-%COMP%]{font-weight:400;min-width:5.3181818182rem;font-size:.7272727273rem;line-height:.8636363636rem;text-decoration:underline;margin:1.4090909091rem 2.0454545455rem 0 2.2727272727rem;background-color:transparent}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   button.btn-text[_ngcontent-%COMP%]{font-weight:600;font-size:.6363636364rem;line-height:.8181818182rem;display:flex;align-items:center;text-align:center;letter-spacing:.0090909091rem;width:7.6363636364rem;min-width:7.6363636364rem;height:2.1818181818rem;left:31.7272727273rem;margin-top:.7727272727rem;padding:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .paraselect[_ngcontent-%COMP%], [_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .required-error[_ngcontent-%COMP%]{position:absolute;top:.2272727273rem;width:21.5rem;height:1.0909090909rem;font-weight:600;font-size:.9090909091rem;line-height:1.0909090909rem;color:#00aaad}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .required-error[_ngcontent-%COMP%]{font-size:.6818181818rem;color:#e31837}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .all-content[_ngcontent-%COMP%]   .dateselected[_ngcontent-%COMP%]{position:relative;margin-top:1.5rem}}']})}return _})(),data:{state:"testDate",pagename:"Test selected / Select date"},canActivate:[]},{path:"test-location",component:Pg,data:{state:"testLocation",pagename:"Test selected / Select location"},canActivate:[]},{path:":testType",component:Hp,resolve:{state:(()=>{class _{constructor(h){this.router=h}resolve(h,M){const R=h.paramMap.get("testType");return"type-academic"===R?"testTypeAcademic":"type-ukvi"===R?"testTypeUkvi":"type-general-training"===R?"testTypeGeneralTraining":(this.router.navigate(["/"]),"")}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(_o.F0))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),pagename:(()=>{class _{constructor(h){this.router=h}resolve(h,M){const R=h.paramMap.get("testType");return"type-academic"===R?"Test selected / IELTS Academic no IOL":"type-ukvi"===R?"Test selected / UKVI":"type-general-training"===R?"Test selected / IELTS General training":(this.router.navigate(["/"]),"")}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(_o.F0))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},canActivate:[]}]}];let Cu=(()=>{class _{static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275mod=s.oAB({type:_});static#n=this.\u0275inj=s.cJS({imports:[_o.Bz.forChild(bu),_o.Bz]})}return _})(),vh=(()=>{class _{static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275mod=s.oAB({type:_});static#n=this.\u0275inj=s.cJS({imports:[oe.ez,Xa.m,Cd.JF,Cu,_d,a.b2,mt,c.UX,Dr.M]})}return _})();const{site:ip}=D(4499),qf=(0,ho.Lq)({BackButtonAction:{BackButtonRoute:null,BackButtonEnable:!0},pageError:null,requestMode:ip.alwaysUseApis?"Api":"Mock"},(0,ho.on)(gl,(_,b)=>({..._,BackButtonAction:b})),(0,ho.on)(su,(_,{pageError:b})=>({..._,pageError:b})),(0,ho.on)(Zc,(_,{requestMode:b})=>({..._,requestMode:b})));var Jp=D(7632);const td={progressValue:0,currentStep:null,totalSteps:0,currentStepName:"",latestPageUrl:null,speakingTestTime:{from:null,to:null},lrwTestTime:{from:null,to:null},requestForGenerateBooking:!1,isPayed:!1},Eg=(0,ho.Lq)(td,(0,ho.on)(Qi,(_,b)=>({..._,speakingTestTime:b})),(0,ho.on)(hr,(_,{currentStep:b})=>({..._,currentStep:b})),(0,ho.on)(Ir,(_,{currentStepName:b})=>({..._,currentStepName:b})),(0,ho.on)(Qo,(_,{progressValue:b})=>({..._,progressValue:b})),(0,ho.on)(Ro,(_,{totalSteps:b})=>({..._,totalSteps:b})),(0,ho.on)(Jr,(_,b)=>({..._,lrwTestTime:b})),(0,ho.on)(or,_=>({..._,lrwTestTime:null})),(0,ho.on)(ls,(_,b)=>({..._,latestPageUrl:b.latestPage})),(0,ho.on)(Ts,(_,b)=>({..._,isPayed:b.isPayed})),(0,ho.on)(za,(_,b)=>({..._,requestForGenerateBooking:b.requestForGenerateBooking})),(0,ho.on)(Pa,_=>td)),E=ho.Aw.forRoot({globalStore:qf,criteriaStore:function x(_,b){return Eg(_,b)}},{metaReducers:[function W(_){return(b,h)=>_(h.type===Rd?void 0:b,h)}]}),B=Jp.FT.instrument({name:"NgRx Demo App",logOnly:true});var De=D(1231),Ke=D(6832);function _n(_,b){1&_&&(s.TgZ(0,"div",10),s._uU(1,"Reserved "),s._UZ(2,"ion-icon",11),s.qZA())}function En(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"button",12),s.NdJ("click",function(){s.CHM(h);const R=s.oxw();return s.KtG(R.onSelect.emit(R.session))}),s._uU(1,"Select and continue"),s.qZA()}}let Qn=(()=>{class _{constructor(){this.onSelect=new s.vpe,this.selected=!1}formatDate(h,M){return h&&M?(0,Ud.ZP)(new Date(h),M):""}static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-session-time-option"]],hostVars:2,hostBindings:function(M,R){2&M&&s.ekj("selected",R.selected)},inputs:{session:"session",selected:"selected"},outputs:{onSelect:"onSelect"},decls:18,vars:8,consts:[[1,"left-column"],[1,"mobile-date"],[1,"desktop-date"],[1,"date","me-1"],[1,"day"],[1,"month"],[1,"time"],[1,"right-column"],["class","reserved",4,"ngIf"],["datatracking-id","wizard-btn-change-selected-speaking-test","type","button","class","btn btn-outline-secondary btn-reserve",3,"click",4,"ngIf"],[1,"reserved"],["name","checkmark-sharp"],["datatracking-id","wizard-btn-change-selected-speaking-test","type","button",1,"btn","btn-outline-secondary","btn-reserve",3,"click"]],template:function(M,R){1&M&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2),s.qZA(),s.TgZ(3,"div",2)(4,"div",3),s._uU(5),s.qZA(),s.TgZ(6,"div")(7,"div",4),s._uU(8),s.qZA(),s.TgZ(9,"div",5),s._uU(10),s.qZA()()(),s.TgZ(11,"div",6),s._uU(12),s.TgZ(13,"span"),s._uU(14),s.qZA()()(),s.TgZ(15,"div",7),s.YNc(16,_n,3,0,"div",8),s.YNc(17,En,2,0,"button",9),s.qZA()),2&M&&(s.xp6(2),s.Oqu(R.formatDate(null==R.session?null:R.session.testStartLocalDatetime,"d mmm, ddd")),s.xp6(3),s.Oqu(R.formatDate(null==R.session?null:R.session.testStartLocalDatetime,"d")),s.xp6(3),s.Oqu(R.formatDate(null==R.session?null:R.session.testStartLocalDatetime,"dddd")),s.xp6(2),s.Oqu(R.formatDate(null==R.session?null:R.session.testStartLocalDatetime,"mmmm")),s.xp6(2),s.Oqu(R.formatDate(null==R.session?null:R.session.testStartLocalDatetime,"h:MM")),s.xp6(2),s.hij(" ",R.formatDate(null==R.session?null:R.session.testStartLocalDatetime,"TT"),""),s.xp6(2),s.Q6J("ngIf",R.selected),s.xp6(1),s.Q6J("ngIf",!R.selected))},dependencies:[oe.O5,Pt],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}[_nghost-%COMP%]{display:flex;flex-direction:row;border-radius:4px;color:#00aaad;border:1px solid #00AAAD;padding:11px}.selected[_nghost-%COMP%]{background-color:#bd60a50d;color:#bd60a5;border-color:#bd60a5}.speaking   .selected[_nghost-%COMP%]{background-color:#00aaad0d;color:#00aaad;border-color:#00aaad}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .mobile-date[_ngcontent-%COMP%], [_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:15px;line-height:18px}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .mobile-date[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .desktop-date[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .right-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]   .right-column[_ngcontent-%COMP%]   .reserved[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:600;font-size:12px;line-height:24px}[_nghost-%COMP%]   .right-column[_ngcontent-%COMP%]   .reserved[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{font-size:24px;margin-left:8px}[_nghost-%COMP%]   .right-column[_ngcontent-%COMP%]   .btn-reserve[_ngcontent-%COMP%]{border-radius:2.0909090909rem;margin:0 0 2px;padding:0 12px;font-size:12px;line-height:24px;min-height:33px;display:flex;align-items:center;text-align:center}[_nghost-%COMP%]   .right-column[_ngcontent-%COMP%]   .btn-reserve[_ngcontent-%COMP%]:hover{color:#fff}@media (min-width: 1100px){[_nghost-%COMP%]{border-radius:.1818181818rem;padding:1.1363636364rem 1.1363636364rem .9545454545rem}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:0;flex-basis:20.6363636364rem;justify-content:space-between}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .mobile-date[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .desktop-date[_ngcontent-%COMP%]{display:flex;flex-direction:row}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .desktop-date[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], [_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .desktop-date[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .desktop-date[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:2.1818181818rem;line-height:1.6818181818rem}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .desktop-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:.7272727273rem}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .desktop-date[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:.8181818182rem;line-height:1.0909090909rem}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:2.1818181818rem;line-height:1.7272727273rem;font-weight:600}[_nghost-%COMP%]   .left-column[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8181818182rem;line-height:.8181818182rem}[_nghost-%COMP%]   .right-column[_ngcontent-%COMP%]{flex-grow:1;align-items:flex-end}[_nghost-%COMP%]   .right-column[_ngcontent-%COMP%]   .reserved[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:1.0909090909rem;margin:0 -.1818181818rem .1818181818rem}[_nghost-%COMP%]   .right-column[_ngcontent-%COMP%]   .reserved[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{font-size:1.1363636364rem;margin-left:.3636363636rem}[_nghost-%COMP%]   .right-column[_ngcontent-%COMP%]   .btn-reserve[_ngcontent-%COMP%]{margin:0 0 .0909090909rem;padding:0 1.2272727273rem;font-size:.5454545455rem;line-height:1.0909090909rem;min-height:1.5rem;display:flex;align-items:center;border-radius:2.0909090909rem;text-align:center}[_nghost-%COMP%]   .right-column[_ngcontent-%COMP%]   .btn-reserve[_ngcontent-%COMP%]:hover{color:#fff}}']})}return _})(),Kn=(()=>{class _{constructor(h){this.activeModal=h}ngOnInit(){}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(Dr.Kz))};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-back-modal"]],decls:15,vars:0,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[1,"mb-3"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(M,R){1&M&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2,"Confirmation"),s.qZA()(),s.TgZ(3,"div",2)(4,"form")(5,"div",3)(6,"h5"),s._uU(7,"Are you sure you want to change your search criteria?"),s.qZA(),s.TgZ(8,"p"),s._uU(9,"Confirming this window will reset all search criteria and navigate your browser to the beginning of the journey."),s.qZA()()()(),s.TgZ(10,"div",4)(11,"button",5),s.NdJ("click",function(){return R.activeModal.dismiss("No")}),s._uU(12,"No"),s.qZA(),s.TgZ(13,"button",6),s.NdJ("click",function(){return R.activeModal.close("Yes")}),s._uU(14,"Yes"),s.qZA()())},dependencies:[c._Y,c.JL],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}[_nghost-%COMP%]   .modal-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 .9090909091rem;font-size:.8181818182rem;line-height:1.0909090909rem}[_nghost-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:.9090909091rem}[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{font-size:.7272727273rem;line-height:.9090909091rem;min-width:3.6363636364rem;font-weight:400}[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]   #modal-basic-title[_ngcontent-%COMP%]{margin:0;font-size:.8181818182rem;line-height:1.0909090909rem}']})}return _})();function Hi(_,b){1&_&&s._UZ(0,"ion-icon",2)}function Ai(_,b){if(1&_&&(s.ynx(0),s.YNc(1,Hi,1,0,"ion-icon",1),s._uU(2," IELTS on computer\n"),s.BQk()),2&_){const h=s.oxw();s.xp6(1),s.Q6J("ngIf",h.withIcon)}}function Ui(_,b){1&_&&s._UZ(0,"ion-icon",4)}function No(_,b){if(1&_&&(s.ynx(0),s.YNc(1,Ui,1,0,"ion-icon",3),s._uU(2," IELTS on paper\n"),s.BQk()),2&_){const h=s.oxw();s.xp6(1),s.Q6J("ngIf",h.withIcon)}}function rr(_,b){1&_&&s._UZ(0,"ion-icon",2)}function bo(_,b){if(1&_&&(s.ynx(0),s.YNc(1,rr,1,0,"ion-icon",1),s._uU(2," IELTS Online\n"),s.BQk()),2&_){const h=s.oxw();s.xp6(1),s.Q6J("ngIf",h.withIcon)}}let sr=(()=>{class _{constructor(){this.format="",this.withIcon=!0}static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-test-format"]],inputs:{format:"format",withIcon:"withIcon"},decls:3,vars:3,consts:[[4,"ngIf"],["name","laptop-outline",4,"ngIf"],["name","laptop-outline"],["name","reader",4,"ngIf"],["name","reader"]],template:function(M,R){1&M&&(s.YNc(0,Ai,3,1,"ng-container",0),s.YNc(1,No,3,1,"ng-container",0),s.YNc(2,bo,3,1,"ng-container",0)),2&M&&(s.Q6J("ngIf","CD"===R.format),s.xp6(1),s.Q6J("ngIf","PB"===R.format),s.xp6(1),s.Q6J("ngIf","IOL"===R.format))},dependencies:[oe.O5,Pt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;align-items:center}"]})}return _})(),Or=(()=>{class _{constructor(){this.type=""}getType(){return(0,Aa.R)(this.type)}static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-test-type"]],inputs:{type:"type"},decls:1,vars:1,template:function(M,R){1&M&&s._uU(0),2&M&&s.Oqu(R.getType())},encapsulation:2})}return _})();function Ms(_,b){1&_&&(s.TgZ(0,"span"),s._uU(1,"Show all types"),s.qZA())}function ar(_,b){if(1&_&&(s.TgZ(0,"span"),s._UZ(1,"app-test-type",27),s.qZA()),2&_){const h=s.oxw();s.xp6(1),s.Q6J("type",h.testType)}}function lr(_,b){1&_&&(s.TgZ(0,"span"),s._uU(1,"Show all formats"),s.qZA())}function tr(_,b){if(1&_&&(s.TgZ(0,"span"),s._UZ(1,"app-test-format",28),s.qZA()),2&_){const h=s.oxw();s.xp6(1),s.Q6J("format",h.testFormat)("withIcon",!1)}}let Ss=(()=>{class _{constructor(h,M,R,se,qe){this.location=h,this.router=M,this.sharedState=R,this.modalService=se,this.store=qe,this.mobileCollapsed=!0,this.locationCriteria="",this.testFormat="All",this.testType="All",this.onMobileCollapse=new s.vpe}ngOnInit(){this.sharedState.getState().pipe((0,Er.P)()).subscribe(h=>{this.locationCriteria=h.locLabelShort||"Melbourne",this.testFormat=h.testFormat||"All",this.testType=h.testType||"All"})}getDateRange(h,M){return(0,vl._)(h,M)}goBackPage(){this.sharedState.getState().pipe((0,Er.P)()).subscribe(h=>{this.router.navigate(void 0===h.selectedLrw?["wizard","test-date"]:h?.isFromNewPage?["/book-ielts"]:(0,Aa.OH)(h))})}setCollapsed(h){this.mobileCollapsed=h,this.onMobileCollapse.emit()}onEdit(){this.setCollapsed(!1),this.modalService.open(Kn,{ariaLabelledBy:"modal-basic-title",size:"lg"}).result.then(h=>{this.router.navigate(["/wizard/test-type"])},h=>{})}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(oe.Ye),s.Y36(_o.F0),s.Y36(Bs.G),s.Y36(Dr.FF),s.Y36(ho.yh))};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-result-navbar"]],inputs:{isMapArea:"isMapArea"},outputs:{onMobileCollapse:"onMobileCollapse"},decls:48,vars:12,consts:[[1,"navbar-container"],[1,"d-flex","d-lg-none","mobile-icon-wrapper"],[1,"back-icon","float-left",3,"click"],["src","/assets/images/back-button.svg","alt",""],[1,"flex-lg-column","align-items-stretch"],[1,"title"],[1,"logo","d-none","d-lg-flex"],["src","/assets/images/IDP_IELTS_COBRAND_WHITE.svg","alt",""],[1,"selection-summary"],[1,"bg-white"],[1,"header"],["type","button",1,"close","btn",3,"click"],["name","close-outline"],[1,"content"],[1,"section","test-type"],[1,"label"],[1,"value"],[4,"ngIf"],[1,"vertical-line","d-none","d-lg-flex"],[1,"section","test-format"],[1,"section"],[1,"label","test-location"],[1,"dot-icon"],["name","ellipse"],[1,"label","test-date"],[1,"d-none","d-lg-flex","chevron"],["name","chevron-forward-sharp"],[3,"type"],[3,"format","withIcon"]],template:function(M,R){if(1&M&&(s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return R.goBackPage()}),s._UZ(3,"img",3),s.qZA()(),s.TgZ(4,"div",4)(5,"div",5)(6,"h1"),s._uU(7," Select a test session "),s.qZA()()(),s.TgZ(8,"a",6),s._UZ(9,"img",7),s.qZA(),s.TgZ(10,"div",8)(11,"div",9)(12,"div",10),s._uU(13," Edit booking requirement "),s.TgZ(14,"button",11),s.NdJ("click",function(){return R.setCollapsed(!0)}),s._UZ(15,"ion-icon",12),s.qZA()(),s.TgZ(16,"div",13)(17,"div",14)(18,"div",15),s._uU(19,"Test type"),s.qZA(),s.TgZ(20,"div",16),s.YNc(21,Ms,2,0,"span",17),s.YNc(22,ar,2,1,"span",17),s.qZA()(),s._UZ(23,"div",18),s.TgZ(24,"div",19)(25,"div",15),s._uU(26,"Test format"),s.qZA(),s.TgZ(27,"div",16),s.YNc(28,lr,2,0,"span",17),s.YNc(29,tr,2,2,"span",17),s.qZA()(),s._UZ(30,"div",18),s.TgZ(31,"div",20)(32,"div",21),s._uU(33,"Test location"),s.qZA(),s.TgZ(34,"div",16),s._uU(35),s.qZA()(),s._UZ(36,"div",18),s.TgZ(37,"div",22),s._UZ(38,"ion-icon",23),s.qZA(),s.TgZ(39,"div",20)(40,"div",24),s._uU(41,"Test date"),s.qZA(),s.TgZ(42,"div",16),s._uU(43),s.ALo(44,"async"),s.ALo(45,"async"),s.qZA()()(),s.TgZ(46,"div",25),s._UZ(47,"ion-icon",26),s.qZA()()()()),2&M){let se;s.xp6(10),s.ekj("mobile-collapsed",R.mobileCollapsed),s.xp6(11),s.Q6J("ngIf","All"===R.testType),s.xp6(1),s.Q6J("ngIf","All"!==R.testType),s.xp6(6),s.Q6J("ngIf","All"===R.testFormat),s.xp6(1),s.Q6J("ngIf","All"!==R.testFormat),s.xp6(6),s.Oqu(R.isMapArea?"Map area":R.locationCriteria),s.xp6(8),s.Oqu(R.getDateRange(null==(se=s.lcZ(44,8,R.sharedState.getState()))?null:se.fromDate,null==(se=s.lcZ(45,10,R.sharedState.getState()))?null:se.toDate))}},dependencies:[oe.O5,Pt,sr,Or,oe.Ov],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}[_nghost-%COMP%]{flex-direction:row;flex-grow:1;position:relative;width:100%;padding-bottom:15px;background:url(/assets/images/heading/horizontal.png) no-repeat top;display:flex;background-size:cover}[_nghost-%COMP%]   .navbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}[_nghost-%COMP%]   .mobile-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;left:0;top:0}[_nghost-%COMP%]   .back-icon[_ngcontent-%COMP%]{color:#fff;cursor:pointer;height:32px;width:32px;margin:15px 0 0 23px;padding:0;background:transparent}[_nghost-%COMP%]   .back-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .back-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:35px}[_nghost-%COMP%]   .title[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:18.6px;font-weight:400;line-height:21px;margin-bottom:2px;padding:0;color:#fff;text-align:center}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]{padding:25px;font-size:12px;line-height:24px;font-weight:600}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:7px 0}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]:first-of-type{padding-top:0}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]:last-of-type{padding-bottom:0}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:flex;flex-grow:1;color:#c20c28}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:flex;text-align:right;text-decoration:underline}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]{border-radius:4px}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-radius:4px;padding:17px 56px 17px 15px;background-color:#2c2c33;color:#fff;font-size:18px;line-height:22px;position:relative;letter-spacing:.4px}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:0;width:32px;height:32px;position:absolute;right:6px;top:9px;color:#fff}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .btn.close[_ngcontent-%COMP%]{font-size:28px}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:15px}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%], [_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .dot-icon[_ngcontent-%COMP%]{display:none}@media (max-width: 1099.98px){[_nghost-%COMP%]   .selection-summary.mobile-collapsed[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]{display:flex;flex-direction:row}[_nghost-%COMP%]   .selection-summary.mobile-collapsed[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .selection-summary.mobile-collapsed[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;padding:8px;flex-direction:row-reverse;flex-grow:1;justify-content:center}[_nghost-%COMP%]   .selection-summary.mobile-collapsed[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .selection-summary.mobile-collapsed[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]{display:none;color:#fff;background-color:#2f3940;align-items:center;padding:0 10px}[_nghost-%COMP%]   .selection-summary.mobile-collapsed[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .dot-icon[_ngcontent-%COMP%]{display:flex;margin:0 6px;align-items:center}[_nghost-%COMP%]   .selection-summary.mobile-collapsed[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .dot-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:7px}[_nghost-%COMP%]   .selection-summary.mobile-collapsed[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .test-type[_ngcontent-%COMP%], [_nghost-%COMP%]   .selection-summary.mobile-collapsed[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .test-format[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .selection-summary.mobile-collapsed[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label.test-date[_ngcontent-%COMP%], [_nghost-%COMP%]   .selection-summary.mobile-collapsed[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label.test-location[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .selection-summary.mobile-collapsed[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-decoration:none}}  .modal-body h5{margin:0 0 .9090909091rem;font-size:.8181818182rem;line-height:1.0909090909rem}  .modal-body p{font-size:.7272727273rem;line-height:.9090909091rem}  .modal-footer button.btn{font-size:.7272727273rem;line-height:.9090909091rem;min-width:3.6363636364rem;font-weight:400}  .modal-header #modal-basic-title{margin:0;font-size:.8181818182rem;line-height:1.0909090909rem}  .speaking-banner app-result-navbar{padding-bottom:35px}  .speaking-banner app-result-navbar .selection-summary{display:none}@media (min-width: 1100px){  .speaking-banner app-result-navbar{padding-bottom:0}  .speaking-banner app-result-navbar .selection-summary{display:block}}@media (min-width: 1100px){[_nghost-%COMP%]{border-bottom-left-radius:.6818181818rem;border-bottom-right-radius:.6818181818rem;padding-bottom:0;background:linear-gradient(57.86deg,#720C1C -2.65%,#D91734 38.41%,#E31837 87.68%)}[_nghost-%COMP%]   .navbar-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;align-items:center}[_nghost-%COMP%]   .mobile-icon-wrapper[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{margin:0 2.7272727273rem 0 1.1363636364rem;width:5.1363636364rem;position:absolute;left:0}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]{padding:.6818181818rem;font-size:.5454545455rem;line-height:.7272727273rem;font-weight:600;max-width:44.5rem;flex-basis:100%;margin-left:calc((100% - 44.5rem)/2)}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 .9090909091rem}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]:first-of-type{padding-top:0}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]:last-of-type{padding-bottom:0}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#676563}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:flex;text-align:left;text-decoration:none}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]{height:1.2272727273rem;display:block;border-right:1px solid rgba(165,157,149,.5)}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]{border-radius:.1818181818rem;display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:.5454545455rem;flex-direction:row;display:flex;justify-content:space-around;align-items:center;flex-grow:1}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]{display:flex;color:#676563;padding:.4545454545rem;margin-right:1.1363636364rem}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8181818182rem}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;align-self:stretch;background-color:#2f3940;border-top-right-radius:.1818181818rem;border-bottom-right-radius:.1818181818rem;color:#fff;min-width:2.5454545455rem}[_nghost-%COMP%]   .selection-summary[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.0909090909rem}}']})}return _})(),ds=(()=>{class _{constructor(){this.onClickAction=new s.vpe}static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-generic-error"]],outputs:{onClickAction:"onClickAction"},decls:8,vars:0,consts:[[1,"generic-error"],["src","./assets/images/generic-error.svg","alt",""],[1,"title"],[1,"subtitle"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(M,R){1&M&&(s.TgZ(0,"div",0),s._UZ(1,"img",1),s.TgZ(2,"div",2),s._uU(3,"Oops, something went wrong "),s.qZA(),s.TgZ(4,"div",3),s._uU(5,"Please try again later."),s.qZA(),s.TgZ(6,"button",4),s.NdJ("click",function(){return R.onClickAction.emit()}),s._uU(7,"Try again"),s.qZA()())},styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}[_nghost-%COMP%]{display:flex;flex-grow:1}[_nghost-%COMP%]   .generic-error[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:center;align-items:center;width:100%;height:100%;flex-direction:column}[_nghost-%COMP%]   .generic-error[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:23.2px;font-weight:600;line-height:24px;margin:18px 60px 13px;text-align:center}[_nghost-%COMP%]   .generic-error[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin:0 0 24px}[_nghost-%COMP%]   .generic-error[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:14px 49px;font-size:14px;line-height:18px;border-radius:2.0909090909rem;text-align:center}@media (min-width: 1100px){[_nghost-%COMP%]   .generic-error[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:9.1818181818rem;height:8.1818181818rem}[_nghost-%COMP%]   .generic-error[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.8181818182rem;line-height:1.8181818182rem;margin:.8636363636rem 0 1.2727272727rem;max-width:14.5454545455rem}[_nghost-%COMP%]   .generic-error[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.9090909091rem;line-height:.9090909091rem;margin:0 0 1.2727272727rem}[_nghost-%COMP%]   .generic-error[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:.6363636364rem 2.2272727273rem;font-size:.6363636364rem;line-height:.8181818182rem;border-radius:2.0909090909rem;text-align:center}}']})}return _})();function ca(_,b){1&_&&(s.TgZ(0,"span"),s._uU(1,"Please select\xa0"),s.qZA())}function da(_,b){1&_&&(s.TgZ(0,"span"),s._uU(1,"Your\xa0"),s.qZA())}function ua(_,b){1&_&&(s.TgZ(0,"span"),s._uU(1,"s"),s.qZA())}function lc(_,b){1&_&&(s.TgZ(0,"span"),s._uU(1,"\xa0selected"),s.qZA())}function Ga(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"app-session-time-option",21),s.NdJ("onSelect",function(R){s.CHM(h);const se=s.oxw(3);return s.KtG(se.onSelect(R))}),s.qZA()}if(2&_){const h=b.$implicit,M=s.oxw(3);s.Q6J("session",h)("selected",(null==M.selectedSpeakingSession?null:M.selectedSpeakingSession.sessionId)===h.sessionId)}}function wu(_,b){if(1&_&&(s.TgZ(0,"div",19),s.YNc(1,Ga,1,2,"app-session-time-option",20),s.qZA()),2&_){const h=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",h.speakingSessions)}}function cc(_,b){if(1&_){const h=s.EpF();s.ynx(0),s.TgZ(1,"div",22),s._UZ(2,"ion-icon",23),s.TgZ(3,"div")(4,"p"),s._uU(5," We could not find any Speaking times for this test date. Please select a new Listening, Reading, Writing test to reserve your seat now. "),s.qZA()()(),s.TgZ(6,"div",24)(7,"button",25),s.NdJ("click",function(R){s.CHM(h);const se=s.oxw(2);return s.KtG(se.onBackButton(R))}),s._uU(8,"Search again"),s.qZA()(),s.BQk()}}function ka(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"div")(1,"div",8)(2,"h2",9)(3,"span",10),s._UZ(4,"ion-icon",11),s._uU(5," Listening, Reading, Writing "),s.qZA(),s._uU(6,"\xa0test reserved "),s.qZA(),s._UZ(7,"app-session-time-option",12)(8,"hr"),s.TgZ(9,"h2",13),s.YNc(10,ca,2,0,"span",6),s.YNc(11,da,2,0,"span",6),s.TgZ(12,"span",14),s._UZ(13,"ion-icon",11),s._uU(14," Speaking "),s.qZA(),s._uU(15," \xa0test date"),s.YNc(16,ua,2,0,"span",6),s.YNc(17,lc,2,0,"span",6),s.qZA(),s.YNc(18,wu,2,1,"div",15),s.YNc(19,cc,9,0,"ng-container",6),s.TgZ(20,"div",16)(21,"div")(22,"button",17),s.NdJ("click",function(){s.CHM(h);const R=s.oxw();return s.KtG(R.reviewBooking())}),s._uU(23,"Review booking "),s.qZA(),s.TgZ(24,"button",18),s.NdJ("click",function(R){s.CHM(h);const se=s.oxw();return s.KtG(se.onBackButton(R))}),s._uU(25,"Cancel"),s.qZA()()()()()}if(2&_){const h=s.oxw();s.xp6(7),s.Q6J("session",h.lrwSession)("selected",!0),s.xp6(3),s.Q6J("ngIf",!h.selectedSpeakingSession&&h.speakingSessions&&0!==h.speakingSessions.length),s.xp6(1),s.Q6J("ngIf",!h.selectedSpeakingSession&&h.speakingSessions&&0===h.speakingSessions.length),s.xp6(5),s.Q6J("ngIf",!h.selectedSpeakingSession&&h.speakingSessions&&0!==h.speakingSessions.length),s.xp6(1),s.Q6J("ngIf",h.selectedSpeakingSession),s.xp6(1),s.Q6J("ngIf",h.speakingSessions&&0!==h.speakingSessions.length),s.xp6(1),s.Q6J("ngIf",h.speakingSessions&&0===h.speakingSessions.length),s.xp6(1),s.ekj("d-none",!h.selectedSpeakingSession)("d-lg-block",h.speakingSessions&&0!==h.speakingSessions.length),s.xp6(2),s.uIk("disabled",!h.selectedSpeakingSession||null)}}function Fc(_,b){if(1&_){const h=s.EpF();s.TgZ(0,"app-generic-error",26),s.NdJ("onClickAction",function(){s.CHM(h);const R=s.oxw();return s.KtG(R.ngOnInit())}),s.qZA()}}const xd=D(4499),Vu=[{path:"",data:{state:"speaking",pagename:"Select speaking list"},component:(()=>{class _{constructor(h,M,R,se,qe,Ct,qt,In,bi,Oi,ro,go){this.meta=h,this.title=M,this.location=R,this.router=se,this.urlSerializer=qe,this.route=Ct,this.mockService=qt,this.viewportService=In,this.loadingService=bi,this.sharedState=Oi,this.sessionService=ro,this.commonService=go,this.speakingSessions=[],this.SpeakingSLots=[],this.isError=!1,this.localDate=!1,this.isRedirectToNewJourney=!1,this.unload=(0,Cs.R)(window,"pageshow").subscribe(()=>{this.SpeakingSLots.length>0&&this.loadingService.isLoading.next(!1)})}ngOnDestroy(){this.loadingService.title$.next(""),this.unload?.unsubscribe()}ngOnInit(){this.commonService.updateCurrentStep(),this.title.setTitle("Test Dates | IDP IELTS"),this.meta.updateTag({name:"description",content:"Check available IELTS test dates. Book your IELTS test with IDP today!"}),this.callSearchApi(),this.commonService.trackGa4(De.dS.eventName.pagenav,De.dS.pageName.selectSpeaking),this.sharedState.getState().pipe((0,Er.P)()).subscribe(h=>{this.isRedirectToNewJourney=!!h.enableNewAccountUI}),(0,Dl.K)(h=>(0,Ia._)(()=>h))}callSearchApi(){let h;this.loadingService.title$.next("Superb, you are almost there!"),this.loadingService.subtitle$.next("Now, let\u2019s book your Speaking test"),this.loadingService.isLoading.next(!0),this.isError=!1,this.route.queryParamMap.pipe((0,Er.P)(),(0,Ea.b)(M=>{const R=this.sharedState.getState().pipe((0,Er.P)());return M.get("testLocationId")&&M.get("externalLocationId")&&M.get("lrwStartDateTime")&&M.get("testLocalTimeZone")&&M.get("externalBookableProductId")&&M.get("testCategory")&&M.get("testModule")&&M.get("testDeliveryFormat")&&M.get("testLocationName")&&M.get("lat")&&M.get("long")?R.pipe((0,Qc.U)(se=>{se.testType=(M.get("testCategory")||"")+","+(M.get("testModule")||""),se.testFormat=M.get("testDeliveryFormat")||"",se.locLabelShort=M.get("testLocationName")||"",se.locLabel=se.locLabelShort;const qe=M.get("testLocalTimeZone")||"",Ct=M.get("lrwStartDateTime")||"",qt=new Date(Ct);se.fromDate=(0,Ud.ZP)(qt,"yyyy-mm-dd"),se.toDate=se.fromDate;const In=parseFloat(M.get("long")||"0"),bi=parseFloat(M.get("lat")||"0");se.selectedLrw={externalBookableProductId:M.get("externalBookableProductId"),testLocalTimeZone:qe,testLocation:{id:M.get("testLocationId")||"",externalReferenceId:M.get("externalLocationId"),longitude:In,latitude:bi},testStartLocalDatetime:Ct},se.currentLoc=[In,bi];const Oi=this.router.createUrlTree((0,Aa.OH)(se));return se.resultUrl=window.location.origin+this.urlSerializer.serialize(Oi),this.sharedState.updateState(se),se})):R}),(0,Ea.b)(M=>{this.state=M,this.resultUrl=M?.isFromNewPage?window.location.origin+"/book-ielts/":M.resultUrl,h=M,this.lrwSession=M.selectedLrw,this.service=M.mockSearchApi?this.mockService:this.sessionService;const R=new Date(this.lrwSession.testStartLocalDatetime),se={languageSkills:["S"],longitude:this.lrwSession.testLocation.longitude,latitude:this.lrwSession.testLocation.latitude,fromTestStartDateLocal:(0,Ud.ZP)(R,"yyyy-mm-dd"),toTestStartDateLocal:(0,Ud.ZP)(R,"yyyy-mm-dd"),testLocationIds:[this.lrwSession.testLocation.id],page:1,pageSize:0,radiusKm:50,testCategories:(0,Aa.x1)(M.testType),testModules:(0,Aa.wO)(M.testType)};return(0,Aa.US)(M,this.title,this.meta),this.service.searchSessions(se)}),(0,vd.b)(M=>{const R=new Date(this.lrwSession.testStartLocalDatetime),se=new Date(this.lrwSession.testStartLocalDatetime),qe=new Date(se.setMinutes(se.getMinutes()-20)),Ct=new Date(R.setHours(R.getHours()+3));M.items&&h.selectedLrw?(this.SpeakingSLots=M.items.filter(qt=>-1!==qt.languageSkills.indexOf("S")&&qt.testLocation.id===h.selectedLrw.testLocation.id).map(qt=>({...qt,testStartLocalDatetime:qt.testStartLocalDatetime&&qt.testStartLocalDatetime.length>6?qt.testStartLocalDatetime.substring(0,qt.testStartLocalDatetime.length-6):""})),this.SpeakingSLots.forEach(qt=>{const In=new Date(qt.testStartLocalDatetime);(In<=qe||In>=Ct)&&this.speakingSessions.push(qt)}),this.speakingSessions=(0,Aa.kx)([...this.speakingSessions]),this.speakingSessions.length&&(this.selectedSpeakingSession=this.speakingSessions[0])):this.router.navigate(["/results"])}),(0,Dl.K)(M=>(this.isError=!0,void 0===this.lrwSession&&this.router.navigate((0,Aa.OH)(this.state)),(0,Gl.of)())),(0,fh.x)(()=>{this.loadingService.title$.next(""),this.loadingService.subtitle$.next(""),this.loadingService.isLoading.next(!1)})).subscribe()}onSelect(h){this.selectedSpeakingSession=h,this.commonService.trackGa4(De.dS.eventName.eventsGa4,De.dS.pageName.selectSpeaking,De.dS.category.speakingReservenow)}onBackButton(h){this.sharedState.getState().pipe((0,Er.P)()).subscribe(M=>{this.router.navigate(M?.isFromNewPage?["/book-ielts"]:(0,Aa.OH)(M)),this.commonService.updateCurrentStep(!0)})}reviewBooking(){this.loadingService.title$.next("Please wait while we redirect you to the booking system to confirm your details and complete payment."),this.loadingService.isLoading.next(!0);const h=this.router.createUrlTree(["book-ielts","speaking"]);this.commonService.trackGa4(De.dS.eventName.eventsGa4,De.dS.pageName.selectSpeaking,De.dS.category.reviewBooking);const M=(0,Xc.buildUrl)(xd.site.bookingURL,{path:"booking/confirmation",queryParams:{productId:this.lrwSession.externalBookableProductId,lrwStartDateTime:this.lrwSession.testStartLocalDatetime,speakingStartDateTime:this.selectedSpeakingSession.testStartLocalDatetime,testLocationId:this.lrwSession.testLocation.externalReferenceId,testLocalTimeZone:this.lrwSession.testLocalTimeZone,returnUrl:window.location.origin+this.urlSerializer.serialize(h),lrwUrl:this.resultUrl,tm:this.lrwSession.testModule,tf:this.lrwSession.testFormat,tc:this.lrwSession.testCategory,tv:this.lrwSession.testLocation.name,ui:this.isRedirectToNewJourney?"new":"legacy"}});window.location.href=M}static#e=this.\u0275fac=function(M){return new(M||_)(s.Y36(a.h_),s.Y36(a.Dx),s.Y36(oe.Ye),s.Y36(_o.F0),s.Y36(_o.Hx),s.Y36(_o.gz),s.Y36(Gp),s.Y36(Jh),s.Y36(Ic.b),s.Y36(Bs.G),s.Y36(Ke.m),s.Y36(iu.v))};static#t=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-select-speaking"]],decls:9,vars:7,consts:[[1,"d-flex","flex-column","align-items-stretch","w-100"],[1,"top-banner-placeholder","speaking-banner"],[3,"isMapArea"],[1,"d-flex","flex-grow-1","flex-column","w-100","result-container"],[1,"content"],[1,"desktop-list-container"],[4,"ngIf"],[3,"onClickAction",4,"ngIf"],[1,"d-flex","flex-column"],["datatracking-id","wizard-h2-lrw-session-selected",1,"test-type-heading","flex-lg-grow-1"],[1,"text-purple"],["name","ellipse"],[3,"session","selected"],["datatracking-id","wizard-h2-speaking-sessions",1,"test-type-heading","flex-lg-grow-1","mt-2"],[1,"text-blue"],["class","speaking-list speaking",4,"ngIf"],[1,"action-buttons"],["datatracking-id","wizard-btn-confirm-test-sessions","type","button",1,"btn","btn-multiAction","mb-2",3,"click"],["type","button",1,"btn","btn-link","mb-2",3,"click"],[1,"speaking-list","speaking"],[3,"session","selected","onSelect",4,"ngFor","ngForOf"],[3,"session","selected","onSelect"],[1,"d-flex","justify-content-start","no-speaking-message"],["name","alert-circle-outline"],[1,"col-12","col-md-4","d-flex","mt-4"],["type","button",1,"btn","btn-action","btn-primary","w-100","w-auto-md",3,"click"],[3,"onClickAction"]],template:function(M,R){1&M&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"app-result-navbar",2),s.qZA(),s.TgZ(3,"div",3)(4,"div",4)(5,"div",5),s.YNc(6,ka,26,13,"div",6),s.ALo(7,"async"),s.YNc(8,Fc,1,0,"app-generic-error",7),s.qZA()()()()),2&M&&(s.xp6(2),s.Q6J("isMapArea",!1),s.xp6(3),s.ekj("flex-grow-1",R.isError),s.xp6(1),s.Q6J("ngIf",!s.lcZ(7,5,R.loadingService.isLoading)&&!R.isError),s.xp6(2),s.Q6J("ngIf",R.isError))},dependencies:[oe.sg,oe.O5,Pt,Qn,Ss,ds,oe.Ov],styles:['@import"https://use.typekit.net/eol6bti.css";@font-face{font-family:Open Sans;src:url(OpenSans-Regular.0940cdc843815087.eot);src:url(/assets/fonts/OpenSans-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/OpenSans-Regular.woff2) format("woff2"),url(/assets/fonts/OpenSans-Regular.woff) format("woff"),url(/assets/fonts/OpenSans-Regularr.ttf) format("truetype"),url(/assets/fonts/OpenSans-Regular.svg#ProximaNova-Regular) format("svg")}@font-face{font-family:Proxima Nova;src:url(/assets/fonts/ProximaNova-Regular.eot);src:url(/assets/fonts/ProximaNova-Regular.eot?#iefix) format("embedded-opentype"),url(/assets/fonts/ProximaNova-Regular.woff2) format("woff2"),url(/assets/fonts/ProximaNova-Regular.woff) format("woff"),url(/assets/fonts/ProximaNova-Regular.ttf) format("truetype"),url(/assets/fonts/ProximaNova-Regular.svg#ProximaNova-Regular) format("svg")}a.link-darker[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{text-decoration:none;font-weight:500}html[_ngcontent-%COMP%]{font-size:18px;line-height:1.1111111111rem}h1[_ngcontent-%COMP%]{font-size:1.9444444444rem;font-weight:600;line-height:1.6666666667rem}.leadText[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{font-size:.8888888889rem;line-height:.9444444444rem}.input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:.8888888889rem;line-height:.9444444444rem}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5555555556rem;line-height:.6666666667rem}legend[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.Instructional-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px}.text-darker[_ngcontent-%COMP%], a.link-darker[_ngcontent-%COMP%]{color:#212529}.text-dark[_ngcontent-%COMP%], a.link-dark[_ngcontent-%COMP%]{color:#495057}.text-blue[_ngcontent-%COMP%]{color:#00aaad}.text-grey[_ngcontent-%COMP%], a.link-grey[_ngcontent-%COMP%]{color:#f4dcdf}.text-gray[_ngcontent-%COMP%]{color:#656565}.text-purple[_ngcontent-%COMP%]{color:#bd60a5}.text-dark-red[_ngcontent-%COMP%]{color:#b5142c}a.btn-link[_ngcontent-%COMP%]{font-size:.6363636364rem}legend[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.sub-copy[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}.Instructional-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:14px}body[_ngcontent-%COMP%]{font-family:proxima-nova,sans-serif;font-weight:400;color:#000}@media (min-width: 1100px){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.6105417277vw,64px)}}@media (min-width: 1100px) and (min-device-pixel-ratio: 2) and (min-aspect-ratio: 25/12),(min-width: 1100px) and (min-resolution: 192dpi) and (min-aspect-ratio: 25/12){html[_ngcontent-%COMP%]{font-size:clamp(18px,1.40685vw,64px)}}@media (min-width: 1100px){body[_ngcontent-%COMP%]{background:white;font-family:proxima-nova,sans-serif;font-weight:400;line-height:1.1818181818rem;color:#000}p[_ngcontent-%COMP%]{margin-bottom:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:3rem 0 .7727272727rem;font-weight:400;line-height:1.3;color:#2f3940}b[_ngcontent-%COMP%]{font-weight:700}h1[_ngcontent-%COMP%]{margin-top:0;font-size:2.3181818182rem;font-weight:600;line-height:2.0454545455rem}h2[_ngcontent-%COMP%]{font-size:1.59rem;font-weight:600}h3[_ngcontent-%COMP%]{font-size:.9090909091rem;font-weight:600;line-height:1.0909090909rem}h4[_ngcontent-%COMP%]{font-size:1.563rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.a-link[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.text-bold[_ngcontent-%COMP%], .weight-semi[_ngcontent-%COMP%]{font-weight:600}.weight-bold[_ngcontent-%COMP%]{font-weight:700}small[_ngcontent-%COMP%], .text_small[_ngcontent-%COMP%], .text-small[_ngcontent-%COMP%]{font-size:.8rem}.text-medium[_ngcontent-%COMP%]{font-weight:500}.leadText[_ngcontent-%COMP%]{font-size:1rem;line-height:1.1818181818rem}.clickwrap[_ngcontent-%COMP%]{font-size:.6363636364rem;font-weight:400;line-height:.7727272727rem}input[_ngcontent-%COMP%]{font-size:.7272727273rem;font-weight:600;line-height:.7727272727rem}input[_ngcontent-%COMP%]::placeholder{font-size:.7272727273rem;line-height:.7727272727rem;color:#b2b2b2}.invalid-feedback[_ngcontent-%COMP%]{font-size:.5454545455rem;line-height:.6363636364rem}}.underlined-title[_ngcontent-%COMP%]:after{width:70px;height:4px;background-color:#000;margin-top:16px;background:transparent linear-gradient(90deg,#E01E3C 0%,#FF8300 100%) 0% 0% no-repeat padding-box;mix-blend-mode:multiply;border-radius:2px;display:block;content:""}[_nghost-%COMP%]{display:flex;flex-grow:1}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{margin-top:-15px;background-color:#fff;border-top-left-radius:15px;border-top-right-radius:15px;z-index:1}[_nghost-%COMP%]   .top-banner-placeholder[_ngcontent-%COMP%]{min-height:80px}[_nghost-%COMP%]   .test-type-heading[_ngcontent-%COMP%]{padding:0 0 23px;font-size:15.4px;margin:0;font-weight:500}[_nghost-%COMP%]   .test-type-heading[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14.6px}[_nghost-%COMP%]   .test-type-heading[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{font-size:10px;padding:0 2px 0 0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}[_nghost-%COMP%]   hr[_ngcontent-%COMP%]{margin:27px 0}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:25px}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-direction:column;display:flex;position:relative}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .speaking-list[_ngcontent-%COMP%]   app-session-time-option[_ngcontent-%COMP%]{margin:25px 0}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .speaking-list[_ngcontent-%COMP%]   app-session-time-option[_ngcontent-%COMP%]:first-of-type{margin-top:0}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .speaking-list[_ngcontent-%COMP%]   app-session-time-option[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .no-speaking-message[_ngcontent-%COMP%]{background-color:#eee;border-radius:8px;margin-top:25px;position:relative}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .no-speaking-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;top:25px;left:25px;width:28px;height:28px;color:#b5142c}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .no-speaking-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{padding:25px 25px 25px 68px;font-size:.78rem;line-height:.89rem;margin:0}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .no-speaking-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin:0}@media (min-width: 1100px){[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .no-speaking-message[_ngcontent-%COMP%]{border-radius:.3636363636rem;margin-top:1.1363636364rem}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .no-speaking-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{top:1.1363636364rem;left:1.1363636364rem;width:1.2727272727rem;height:1.2727272727rem}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .no-speaking-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{padding:1.1363636364rem 1.1363636364rem 1.1363636364rem 3.0909090909rem;font-size:.643rem;line-height:.8rem}}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{margin:50px 0}@media (min-width: 1100px){[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{margin-top:0;background-color:#fff;border-top-left-radius:0;border-top-right-radius:0}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]{display:flex;flex-direction:row}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .test-dates-heading[_ngcontent-%COMP%]{display:flex;flex-grow:1;padding:.7954545455rem 1.3636363636rem;font-size:1.0636363636rem;line-height:1.3286363636rem}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .test-dates-heading[_ngcontent-%COMP%] > strong[_ngcontent-%COMP%]{letter-spacing:.0181818182rem}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:center}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%] > button.btn.btn-filter[_ngcontent-%COMP%]{padding:.4545454545rem .7272727273rem;font-size:.6818181818rem;display:flex;align-items:center;border:1px solid rgba(165,157,149,.25);border-radius:1.1363636364rem;margin:0 1.1590909091rem 0 0;font-weight:400}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%] > button.btn.btn-filter[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]:first-of-type{transform:scaleX(-1);font-size:1rem;margin:-.0909090909rem .2727272727rem 0 0}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .switch-mode-desktop[_ngcontent-%COMP%]{box-shadow:0 1px 1px #0000001a;border-radius:.1818181818rem;margin:0 1.1363636364rem 0 .7045454545rem}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .switch-mode-desktop[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:400;font-size:.6363636364rem;line-height:.7727272727rem;min-height:1.8181818182rem;padding:0 .7272727273rem;display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .switch-mode-desktop[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{border-top-left-radius:.1818181818rem;border-bottom-left-radius:.1818181818rem}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .switch-mode-desktop[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{border-top-right-radius:.1818181818rem;border-bottom-right-radius:.1818181818rem}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .switch-mode-desktop[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background-color:#2f3940;color:#fff}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .switch-mode-desktop[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{font-size:.9090909091rem;margin-right:.1818181818rem}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .switch-mode-desktop[_ngcontent-%COMP%]   .btn.btn-list[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{font-size:1.1818181818rem;margin-right:.1818181818rem}[_nghost-%COMP%]   .desktop-full-width[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]{height:1.4545454545rem;display:block;border-right:1px solid rgba(165,157,149,.5)}[_nghost-%COMP%]   .top-banner-placeholder[_ngcontent-%COMP%]{min-height:3.9090909091rem;background-color:#f5f5f5}[_nghost-%COMP%]   hr[_ngcontent-%COMP%]{margin:1.0909090909rem 0}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]{display:flex;flex-grow:1;overflow:auto;flex-direction:column;position:relative;width:100%;background-color:#f5f5f5;padding:0}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;left:calc((100vw - 43.9090909091rem) / 2);top:0;width:43.9090909091rem;background-color:#fff;padding:1.7727272727rem 2.2727272727rem;min-height:100%}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .test-type-heading[_ngcontent-%COMP%]{display:inline-block;border:0;font-size:.8227272727rem;line-height:.9090909091rem;padding:0 0 1.3181818182rem}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .test-type-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8318181818rem;line-height:.9090909091rem}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .test-type-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{font-size:.4545454545rem;padding:0 .0909090909rem 0 0}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .speaking-list[_ngcontent-%COMP%]{padding:0 0 2.9545454545rem}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .speaking-list[_ngcontent-%COMP%]   app-session-time-option[_ngcontent-%COMP%]{margin:1.1363636364rem 0}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{margin:0;position:fixed;bottom:0;left:0;width:100%}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:space-between;margin:auto;width:43.9090909091rem;padding:.7272727273rem 3.4090909091rem .2272727273rem;background-color:#fff;border:1px solid rgba(219,214,210,.5)}[_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button.btn-multiAction[_ngcontent-%COMP%], [_nghost-%COMP%]   .desktop-list-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button.btn-link[_ngcontent-%COMP%]{width:9.0909090909rem}}']})}return _})()}];let rp=(()=>{class _{static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275mod=s.oAB({type:_});static#n=this.\u0275inj=s.cJS({imports:[_o.Bz.forChild(Vu),_o.Bz]})}return _})();var Mu=D(272);const bh=D(4499);let $l=(()=>{class _{static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275mod=s.oAB({type:_});static#n=this.\u0275inj=s.cJS({imports:[oe.ez,Xa.m,Cd.JF,rp,_d,a.b2,mt,c.UX,Dr.XC,Dr.bz,Mu.Wm.withConfig({accessToken:bh.site.mapBoxApiKey}),Dr.dT]})}return _})();var jd=D(4815),Bc=D(8738),Ch=D(5887);let us=(()=>{class _{static forRoot(h){return{ngModule:_,providers:[{provide:Ch.V,useFactory:h}]}}constructor(h,M){if(h)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!M)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575")}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(_,12),s.LFG(Cd.eN,8))};static#t=this.\u0275mod=s.oAB({type:_});static#n=this.\u0275inj=s.cJS({})}return _})();var Gu=D(9794),zc=D(3180);let Uc=(()=>{class _{static forRoot(h){return{ngModule:_,providers:[{provide:zc.V,useFactory:h}]}}constructor(h,M){if(h)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!M)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575")}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(_,12),s.LFG(Cd.eN,8))};static#t=this.\u0275mod=s.oAB({type:_});static#n=this.\u0275inj=s.cJS({})}return _})();var sp=D(692),$u=D(7951),Ig=D(5955),Ag=D(928),Zu=D(2259),ap=D(252),lp=D(275),Xp=D(8716),xu=D(9587);let wh=(()=>{class _{static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275mod=s.oAB({type:_});static#n=this.\u0275inj=s.cJS({imports:[oe.ez,Ag.NewManageBookingRoutingModule,Xa.m,Dr.M,Dr.IJ,Bc.kg,Zu.t,lp.l,ap.R,xu.F,Xp.e]})}return _})();var Ou=D(672);let Mh=(()=>{class _{get buffer(){return this._buffer}set buffer(h){this._buffer=h}constructor(){this.capacity=5,this._buffer=[]}enqueue(h){this.buffer.length<=this.capacity||this.buffer.pop(),this.buffer.unshift(h)}dequeue(){if(this.buffer.length>0)return this.buffer.pop();console.log("Buffer is empty. Cannot dequeue.")}peek(){if(this.buffer.length>0)return this.buffer[this.buffer.length-1];console.log("Buffer is empty. Cannot peek.")}size(){return this.buffer.length}isFull(){return this.buffer.length===this.capacity}isEmpty(){return 0===this.buffer.length}static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),dc=(()=>{class _{constructor(h){this.buffer=h,this.latestXhrDetails=null}setLatestXhrDetails(h,M){try{const R=h?.headers?.get("X-Correlation-Id");if(!R)return;const se=h.method,qe=h.url,Ct=M?.status,qt=M?.statusText;this.latestXhrDetails={method:se,url:qe,status:Ct,statusText:qt,correlationId:R},this.buffer.enqueue(this.latestXhrDetails)}catch{}}getLatestXhrDetails(){return this.latestXhrDetails}getMostRecentXHRs(){return this.buffer.buffer}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(Mh))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Vd=D(4499);let Oh=(()=>{class _{constructor(h,M){this.injector=h,this.XHRDetail=M,this.splunkAuthKey=Vd.site.splunkLoggerAuthKey,this.sessionKey=(0,Ou.Y)()}handleError(h){const M=this.injector.get(oe.S$),R=M instanceof oe.b0?M.path():"",se=this.XHRDetail.getMostRecentXHRs();try{const qe={session_key:this.sessionKey,unique_key:(0,Ou.Y)(),source_site:"bxsearch_ui",host_site:window.location.hostname,event_type:"UI Error",error_error:h.error,error_name:h.name,error_message:h.message,error_stack:h.stack,error_url:R,environment:Vd.site.environmentName,build:Vd.site.buildInfo,user_agent:window.navigator.userAgent,user_language:window.navigator.language,lastXHR:se};"localhost"!==window.location.hostname?this.send(qe,this.splunkAuthKey):console.error(h)}catch(qe){console.error(qe),console.error(h)}}xhr({method:h,url:M,data:R,headers:se,success:qe,error:Ct}){fetch(M,{method:h,headers:new Headers(se),mode:"cors",redirect:"error",cache:"no-cache",body:R}).then(qe).catch(Ct)}send(h,M){return new Promise((R,se)=>this.xhr({method:"POST",url:"https://http-inputs-idpeducation.splunkcloud.com:443/services/collector/event",data:"string"==typeof h?h:JSON.stringify({event:h}),headers:{Authorization:`Splunk ${M}`},success:()=>{},error:()=>{}}))}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(s.zs3),s.LFG(dc))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac})}return _})();var Wu=D(3064),E_=D(8373),I_=D(3411),A_=D(2933),cf=D(364),df=D(8298),k_=D(9767),uf=D(948);const Jf=D(4499);let Xf=(()=>{class _{static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275mod=s.oAB({type:_});static#n=this.\u0275inj=s.cJS({imports:[oe.ez,Wu.NewSessionRoutingModule,Dr.IJ,df.CR,cf.C,A_.q,E_.Q,k_.a,I_.j,uf.K,Mu.Wm.withConfig({accessToken:Jf.site.mapBoxApiKey})]})}return _})(),cp=(()=>{class _{constructor(h){this.router=h}intercept(h,M){return M.handle(h).pipe((0,Dl.K)(R=>(h.url.includes("/shared-analytics-clickstream-event")||this.router.navigate(["/server-error"]),(0,Ia._)(R))))}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(_o.F0))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac})}return _})(),Rm=(()=>{class _{constructor(h){this.loadingService=h,this.activeRequestCount=0}intercept(h,M){return 0===this.activeRequestCount&&this.loadingService.isLoading.next(!0),this.activeRequestCount++,M.handle(h).pipe((0,fh.x)(()=>{this.stopLoader()}))}stopLoader(){this.activeRequestCount--,0===this.activeRequestCount&&this.loadingService.isLoading.next(!1)}static#e=this.\u0275fac=function(M){return new(M||_)(s.LFG(Ic.b))};static#t=this.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Qp=D(4499);let Qf=(()=>{class _{static#e=this.\u0275fac=function(M){return new(M||_)};static#t=this.\u0275mod=s.oAB({type:_,bootstrap:[$c]});static#n=this.\u0275inj=s.cJS({providers:[oe.uU,ql.N_,{provide:s.qLn,useClass:Oh},{provide:"googleTagManagerId",useValue:Qp.site.googleTagManagerId},{provide:Cd.TP,useClass:Rm,multi:!0},{provide:Cd.TP,useClass:cp,multi:!0},{provide:Gu.G,useValue:Qp.site.baseURL},{provide:sp.G,useValue:Qp.site.baseURL},{provide:$u.G,useValue:Qp.site.baseSessionURL},{provide:Ig.G,useValue:Qp.site.baseSessionURL}],imports:[a.b2,_a,Xa.m,wh,Xf,$l,vh,jd.MockSettingsModule,Dr.IJ,E,B,Bc.kg,oe.ez,c.u5,c.UX,mt,ql.m$.withOptions(),_d.forRoot(),us.forRoot(()=>new Ch.V({})),Uc.forRoot(()=>new zc.V({}))]})}return _})();var $o=D(5861);function dp(_){for(var b=1;b<arguments.length;b++){var h=arguments[b];for(var M in h)_[M]=h[M]}return _}var Gd=function pf(_,b){function h(R,se,qe){if(!(typeof document>"u")){"number"==typeof(qe=dp({},b,qe)).expires&&(qe.expires=new Date(Date.now()+864e5*qe.expires)),qe.expires&&(qe.expires=qe.expires.toUTCString()),R=encodeURIComponent(R).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var Ct="";for(var qt in qe)qe[qt]&&(Ct+="; "+qt,!0!==qe[qt]&&(Ct+="="+qe[qt].split(";")[0]));return document.cookie=R+"="+_.write(se,R)+Ct}}return Object.create({set:h,get:function M(R){if(!(typeof document>"u"||arguments.length&&!R)){for(var se=document.cookie?document.cookie.split("; "):[],qe={},Ct=0;Ct<se.length;Ct++){var qt=se[Ct].split("="),In=qt.slice(1).join("=");try{var bi=decodeURIComponent(qt[0]);if(qe[bi]=_.read(In,bi),R===bi)break}catch{}}return R?qe[R]:qe}},remove:function(R,se){h(R,"",dp({},se,{expires:-1}))},withAttributes:function(R){return pf(this.converter,dp({},this.attributes,R))},withConverter:function(R){return pf(dp({},this.converter,R),this.attributes)}},{attributes:{value:Object.freeze(b)},converter:{value:Object.freeze(_)}})}({read:function(_){return'"'===_[0]&&(_=_.slice(1,-1)),_.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(_){return encodeURIComponent(_).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class eg{constructor(b={}){const{path:h,domain:M,expires:R,sameSite:se,secure:qe}=b;if(this.domain=M,this.path=h||"/",this.expires=Object.prototype.hasOwnProperty.call(b,"expires")?R:365,this.secure=!Object.prototype.hasOwnProperty.call(b,"secure")||qe,Object.prototype.hasOwnProperty.call(b,"sameSite")){if(!se||!["strict","lax","none"].includes(se))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===se&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=se}}setItem(b,h){var M=this;return(0,$o.Z)(function*(){Gd.set(b,h,M.getData())})()}getItem(b){return(0,$o.Z)(function*(){return Gd.get(b)??null})()}removeItem(b){var h=this;return(0,$o.Z)(function*(){Gd.remove(b,h.getData())})()}clear(){var b=this;return(0,$o.Z)(function*(){const h=Gd.get(),M=Object.keys(h).map(R=>b.removeItem(R));yield Promise.all(M)})()}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}var tg=D(1448),up=D(2628);class hp extends up._{constructor(){super({name:tg.Z.PlatformNotSupported,message:"Function not supported on current platform"})}}class gf{constructor(b){this.storage=b}setItem(b,h){var M=this;return(0,$o.Z)(function*(){if(!M.storage)throw new hp;M.storage.setItem(b,h)})()}getItem(b){var h=this;return(0,$o.Z)(function*(){if(!h.storage)throw new hp;return h.storage.getItem(b)})()}removeItem(b){var h=this;return(0,$o.Z)(function*(){if(!h.storage)throw new hp;h.storage.removeItem(b)})()}clear(){var b=this;return(0,$o.Z)(function*(){if(!b.storage)throw new hp;b.storage.clear()})()}}var Ph=D(1069);class Th{constructor(){this.storage=new Map}get length(){return this.storage.size}key(b){return b>this.length-1?null:Array.from(this.storage.keys())[b]}setItem(b,h){this.storage.set(b,h)}getItem(b){return this.storage.get(b)??null}removeItem(b){this.storage.delete(b)}clear(){this.storage.clear()}}const ff=new Ph.k("CoreStorageUtils"),em=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch{return ff.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new Th}};class fp{constructor(b){this._storage=b}get storage(){if(!this._storage)throw new hp;return this._storage}setItem(b,h){this.storage.setItem(b,h)}getItem(b){return this.storage.getItem(b)}removeItem(b){this.storage.removeItem(b)}clear(){this.storage.clear()}}const mp=new class R_ extends gf{constructor(){super((()=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage}catch{ff.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new Th})())}};new class gp extends gf{constructor(){super(em())}},new class mf extends fp{constructor(){super(em())}},new gf(new Th);var Pu=D(8303),vf=D(6937),rl=(D(2884),D(8571),D(353)),Tu=D(520),$d=D(1040),yp=D(7562),bf=D(9910),Ku=D(1705),Lm=D(2159),Cf=D(8264),ng=D(7228),Nm=D(800),wf=D(2670);const ig=(0,Nm.V)(bf.y,[()=>_=>function(){var b=(0,$o.Z)(function*(M){return M.headers["cache-control"]="no-store",_(M)});return function h(M){return b.apply(this,arguments)}}()]),Rg={service:"cognito-identity",endpointResolver:({region:_})=>({url:new Cf.a(`https://cognito-identity.${_}.${(0,yp.b)(_)}`)}),retryDecider:(0,Lm.j)(Tu.f),computeDelay:Ku.k,userAgentValue:(0,ng.Zm)(),cache:"no-store"};(0,wf.QW)(()=>{Rg.userAgentValue=(0,ng.Zm)()});const Mf=_=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${_}`}),xf=({url:_},b,h)=>({headers:b,url:_,body:h,method:"POST"}),Fm=function(){var _=(0,$o.Z)(function*(b){if(b.statusCode>=300)throw yield(0,Tu.f)(b);{const h=yield(0,Tu.e)(b);return{IdentityId:h.IdentityId,Credentials:Bm(h.Credentials),$metadata:(0,rl.B)(b)}}});return function(h){return _.apply(this,arguments)}}(),Bm=({AccessKeyId:_,SecretKey:b,SessionToken:h,Expiration:M}={})=>({AccessKeyId:_,SecretKey:b,SessionToken:h,Expiration:M&&new Date(1e3*M)}),tm=(0,$d.z)(ig,(_,b)=>{const h=Mf("GetCredentialsForIdentity"),M=JSON.stringify(_);return xf(b,h,M)},Fm,Rg);var Hs=D(8012),jc=D(7985),Ca=D(6514),uc=D(8687),Sh=D(7503);const zm=(0,$d.z)(ig,(_,b)=>{const h=Mf("GetId"),M=JSON.stringify(_);return xf(b,h,M)},function(){var _=(0,$o.Z)(function*(b){if(b.statusCode>=300)throw yield(0,Tu.f)(b);return{IdentityId:(yield(0,Tu.e)(b)).IdentityId,$metadata:(0,rl.B)(b)}});return function(h){return _.apply(this,arguments)}}(),Rg);function nm(_){const b=(0,Hs.xp)(_).payload.iss,h={};if(!b)throw new jc.l({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return h[b.replace(/(^\w+:|^)\/\//,"")]=_,h}function im(){return im=(0,$o.Z)(function*({tokens:_,authConfig:b,identityIdStore:h}){h.setAuthConfig({Cognito:b});const M=yield h.loadIdentityId();if(M)return M.id;const R=_?.idToken?nm(_.idToken.toString()):{},se=yield function Ng(_,b){return Fg.apply(this,arguments)}(R,b);return h.storeIdentityId({id:se,type:_?"primary":"guest"}),se}),im.apply(this,arguments)}function Fg(){return(Fg=(0,$o.Z)(function*(_,b){const h=b?.identityPoolId,M=(0,uc.N)(h);let R;try{R=(yield zm({region:M},{IdentityPoolId:h,Logins:_})).IdentityId}catch(se){throw(0,Ca.R)(se),new jc.l(se)}if(!R)throw new jc.l({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return R})).apply(this,arguments)}const Dh=new Ph.k("CognitoCredentialsProvider");class zr{constructor(b){this._nextCredentialsRefresh=0,this._identityIdStore=b}clearCredentialsAndIdentityId(){var b=this;return(0,$o.Z)(function*(){Dh.debug("Clearing out credentials and identityId"),b._credentialsAndIdentityId=void 0,yield b._identityIdStore.clearIdentityId()})()}clearCredentials(){var b=this;return(0,$o.Z)(function*(){Dh.debug("Clearing out in-memory credentials"),b._credentialsAndIdentityId=void 0})()}getCredentialsAndIdentityId(b){var h=this;return(0,$o.Z)(function*(){const M=b.authenticated,{tokens:R}=b,{authConfig:se}=b;try{(0,Hs.YE)(se?.Cognito)}catch{return}if(!M&&!se.Cognito.allowGuestAccess)return;const{forceRefresh:qe}=b,Ct=h.hasTokenChanged(R),qt=yield function Lg(_){return im.apply(this,arguments)}({tokens:R,authConfig:se.Cognito,identityIdStore:h._identityIdStore});return(qe||Ct)&&h.clearCredentials(),M?((0,Sh.Cg)(R),h.credsForOIDCTokens(se.Cognito,R,qt)):h.getGuestCredentials(qt,se.Cognito)})()}getGuestCredentials(b,h){var M=this;return(0,$o.Z)(function*(){if(M._credentialsAndIdentityId&&!M.isPastTTL()&&!1===M._credentialsAndIdentityId.isAuthenticatedCreds)return Dh.info("returning stored credentials as they neither past TTL nor expired."),M._credentialsAndIdentityId;M.clearCredentials();const R=(0,uc.N)(h.identityPoolId);let se;try{se=yield tm({region:R},{IdentityId:b})}catch(qe){throw(0,Ca.R)(qe),new jc.l(qe)}if(se?.Credentials?.AccessKeyId&&se?.Credentials?.SecretKey){M._nextCredentialsRefresh=(new Date).getTime()+3e6;const qe={credentials:{accessKeyId:se.Credentials.AccessKeyId,secretAccessKey:se.Credentials.SecretKey,sessionToken:se.Credentials.SessionToken,expiration:se.Credentials.Expiration},identityId:b};return se.IdentityId&&(qe.identityId=se.IdentityId,M._identityIdStore.storeIdentityId({id:se.IdentityId,type:"guest"})),M._credentialsAndIdentityId={...qe,isAuthenticatedCreds:!1},qe}throw new jc.l({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})})()}credsForOIDCTokens(b,h,M){var R=this;return(0,$o.Z)(function*(){if(R._credentialsAndIdentityId&&!R.isPastTTL()&&!0===R._credentialsAndIdentityId.isAuthenticatedCreds)return Dh.debug("returning stored credentials as they neither past TTL nor expired."),R._credentialsAndIdentityId;R.clearCredentials();const se=h.idToken?nm(h.idToken.toString()):{},qe=(0,uc.N)(b.identityPoolId);let Ct;try{Ct=yield tm({region:qe},{IdentityId:M,Logins:se})}catch(qt){throw(0,Ca.R)(qt),new jc.l(qt)}if(Ct?.Credentials?.AccessKeyId&&Ct?.Credentials?.SecretKey){R._nextCredentialsRefresh=(new Date).getTime()+3e6;const qt={credentials:{accessKeyId:Ct.Credentials.AccessKeyId,secretAccessKey:Ct.Credentials.SecretKey,sessionToken:Ct.Credentials.SessionToken,expiration:Ct.Credentials.Expiration},identityId:M};return Ct.IdentityId&&(qt.identityId=Ct.IdentityId,R._identityIdStore.storeIdentityId({id:Ct.IdentityId,type:"primary"})),R._credentialsAndIdentityId={...qt,isAuthenticatedCreds:!0,associatedIdToken:h.idToken?.toString()},qt}throw new jc.l({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})})()}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(b){return!!b&&!!this._credentialsAndIdentityId?.associatedIdToken&&b.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}const rg={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var Bg=D(4534),Yu=function(_){return _.InvalidAuthTokens="InvalidAuthTokens",_}(Yu||{});const Pd=(0,Bg.$)({[Yu.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}}),sg="CognitoIdentityServiceProvider";class Pf{getKeyValueStorage(){if(!this.keyValueStorage)throw new jc.l({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(b){this.keyValueStorage=b}setAuthConfig(b){this.authConfig=b}loadTokens(){var b=this;return(0,$o.Z)(function*(){try{const h=yield b.getAuthKeys(),M=yield b.getKeyValueStorage().getItem(h.accessToken);if(!M)throw new jc.l({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const R=(0,Hs.xp)(M),se=yield b.getKeyValueStorage().getItem(h.idToken),qe=se?(0,Hs.xp)(se):void 0,Ct=(yield b.getKeyValueStorage().getItem(h.refreshToken))??void 0,qt=(yield b.getKeyValueStorage().getItem(h.clockDrift))??"0",In=Number.parseInt(qt),bi=yield b.getKeyValueStorage().getItem(h.signInDetails),Oi={accessToken:R,idToken:qe,refreshToken:Ct,deviceMetadata:(yield b.getDeviceMetadata())??void 0,clockDrift:In,username:yield b.getLastAuthUser()};return bi&&(Oi.signInDetails=JSON.parse(bi)),Oi}catch{return null}})()}storeTokens(b){var h=this;return(0,$o.Z)(function*(){Pd(void 0!==b,Yu.InvalidAuthTokens);const M=b.username;yield h.getKeyValueStorage().setItem(h.getLastAuthUserKey(),M);const R=yield h.getAuthKeys();yield h.getKeyValueStorage().setItem(R.accessToken,b.accessToken.toString()),b.idToken?yield h.getKeyValueStorage().setItem(R.idToken,b.idToken.toString()):yield h.getKeyValueStorage().removeItem(R.idToken),b.refreshToken?yield h.getKeyValueStorage().setItem(R.refreshToken,b.refreshToken):yield h.getKeyValueStorage().removeItem(R.refreshToken),b.deviceMetadata&&(b.deviceMetadata.deviceKey&&(yield h.getKeyValueStorage().setItem(R.deviceKey,b.deviceMetadata.deviceKey)),b.deviceMetadata.deviceGroupKey&&(yield h.getKeyValueStorage().setItem(R.deviceGroupKey,b.deviceMetadata.deviceGroupKey)),yield h.getKeyValueStorage().setItem(R.randomPasswordKey,b.deviceMetadata.randomPassword)),b.signInDetails?yield h.getKeyValueStorage().setItem(R.signInDetails,JSON.stringify(b.signInDetails)):yield h.getKeyValueStorage().removeItem(R.signInDetails),yield h.getKeyValueStorage().setItem(R.clockDrift,`${b.clockDrift}`)})()}clearTokens(){var b=this;return(0,$o.Z)(function*(){const h=yield b.getAuthKeys();yield Promise.all([b.getKeyValueStorage().removeItem(h.accessToken),b.getKeyValueStorage().removeItem(h.idToken),b.getKeyValueStorage().removeItem(h.clockDrift),b.getKeyValueStorage().removeItem(h.refreshToken),b.getKeyValueStorage().removeItem(h.signInDetails),b.getKeyValueStorage().removeItem(b.getLastAuthUserKey()),b.getKeyValueStorage().removeItem(h.oauthMetadata)])})()}getDeviceMetadata(b){var h=this;return(0,$o.Z)(function*(){const M=yield h.getAuthKeys(b),R=yield h.getKeyValueStorage().getItem(M.deviceKey),se=yield h.getKeyValueStorage().getItem(M.deviceGroupKey),qe=yield h.getKeyValueStorage().getItem(M.randomPasswordKey);return qe&&se&&R?{deviceKey:R,deviceGroupKey:se,randomPassword:qe}:null})()}clearDeviceMetadata(b){var h=this;return(0,$o.Z)(function*(){const M=yield h.getAuthKeys(b);yield Promise.all([h.getKeyValueStorage().removeItem(M.deviceKey),h.getKeyValueStorage().removeItem(M.deviceGroupKey),h.getKeyValueStorage().removeItem(M.randomPasswordKey)])})()}getAuthKeys(b){var h=this;return(0,$o.Z)(function*(){(0,Hs.FG)(h.authConfig?.Cognito);const M=b??(yield h.getLastAuthUser());return zg(sg,`${h.authConfig.Cognito.userPoolClientId}.${M}`)})()}getLastAuthUserKey(){return(0,Hs.FG)(this.authConfig?.Cognito),`${sg}.${this.authConfig.Cognito.userPoolClientId}.LastAuthUser`}getLastAuthUser(){var b=this;return(0,$o.Z)(function*(){return(yield b.getKeyValueStorage().getItem(b.getLastAuthUserKey()))??"username"})()}setOAuthMetadata(b){var h=this;return(0,$o.Z)(function*(){const{oauthMetadata:M}=yield h.getAuthKeys();yield h.getKeyValueStorage().setItem(M,JSON.stringify(b))})()}getOAuthMetadata(){var b=this;return(0,$o.Z)(function*(){const{oauthMetadata:h}=yield b.getAuthKeys(),M=yield b.getKeyValueStorage().getItem(h);return M&&JSON.parse(M)})()}}const zg=(_,b)=>om(rg)(`${_}`,b);function om(_){const b=Object.values({..._});return(h,M)=>b.reduce((R,se)=>({...R,[se]:`${h}.${M}.${se}`}),{})}const Tf={identityId:"identityId"},ag=new Ph.k("DefaultIdentityIdStore");class rm{setAuthConfig(b){(0,Hs.YE)(b.Cognito),this.authConfig=b,this._authKeys=sm("Cognito",b.Cognito.identityPoolId)}constructor(b){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=b}loadIdentityId(){var b=this;return(0,$o.Z)(function*(){(0,Hs.YE)(b.authConfig?.Cognito);try{if(b._primaryIdentityId)return{id:b._primaryIdentityId,type:"primary"};{const h=yield b.keyValueStorage.getItem(b._authKeys.identityId);return h?(b._hasGuestIdentityId=!0,{id:h,type:"guest"}):null}}catch(h){return ag.log("Error getting stored IdentityId.",h),null}})()}storeIdentityId(b){var h=this;return(0,$o.Z)(function*(){(0,Hs.YE)(h.authConfig?.Cognito),"guest"===b.type?(h.keyValueStorage.setItem(h._authKeys.identityId,b.id),h._primaryIdentityId=void 0,h._hasGuestIdentityId=!0):(h._primaryIdentityId=b.id,h._hasGuestIdentityId&&(h.keyValueStorage.removeItem(h._authKeys.identityId),h._hasGuestIdentityId=!1))})()}clearIdentityId(){var b=this;return(0,$o.Z)(function*(){b._primaryIdentityId=void 0,yield b.keyValueStorage.removeItem(b._authKeys.identityId)})()}}const sm=(_,b)=>om(Tf)(`com.amplify.${_}`,b),Um=new zr(new rm(mp));var wp=D(6759),Eh=D(54),am=D(2273),Ug=D(297),jm=D(5360);const dm=(_=>{let b;return(0,$o.Z)(function*(...h){return b||(b=new Promise((M,R)=>{_(...h).then(se=>{M(se)}).catch(se=>{R(se)}).finally(()=>{b=void 0})}),b)})})(function(){var _=(0,$o.Z)(function*({tokens:b,authConfig:h,username:M}){(0,Hs.FG)(h?.Cognito);const{userPoolId:R,userPoolClientId:se,userPoolEndpoint:qe}=h.Cognito,Ct=(0,uc.y)(R);(0,Sh.XD)(b);const qt=b.refreshToken,In={REFRESH_TOKEN:qt};b.deviceMetadata?.deviceKey&&(In.DEVICE_KEY=b.deviceMetadata.deviceKey);const bi=function Hg({username:_,userPoolId:b,userPoolClientId:h}){if(typeof window>"u")return;const M=window.AmazonCognitoAdvancedSecurityData;if(typeof M>"u")return;const R=M.getData(_,b,h);return R?{EncodedData:R}:{}}({username:M,userPoolId:R,userPoolClientId:se}),Oi=(_=>(0,$d.z)(am.x,(0,wp.u)("InitiateAuth"),(0,Eh.o)(),{...Ug.n,..._}))({endpointResolver:(0,jm.e)({endpointOverride:qe})}),{AuthenticationResult:ro}=yield Oi({region:Ct},{ClientId:se,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:In,UserContextData:bi}),go=(0,Hs.xp)(ro?.AccessToken??""),Gi=ro?.IdToken?(0,Hs.xp)(ro.IdToken):void 0,{iat:wo}=go.payload;if(!wo)throw new jc.l({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:go,idToken:Gi,clockDrift:1e3*wo-(new Date).getTime(),refreshToken:qt,username:M}});return function(h){return _.apply(this,arguments)}}());var $a=D(1891);function Df({expiresAt:_,clockDrift:b,tolerance:h=5e3}){return Date.now()+b+h>_}const hc="amplify-signin-with-hostedUI",Td="CognitoIdentityServiceProvider",Dc=(_,b)=>om(Sh.Bx)(_,b),jg=new class xp{constructor(b){this.keyValueStorage=b}clearOAuthInflightData(){var b=this;return(0,$o.Z)(function*(){(0,Hs.FG)(b.cognitoConfig);const h=Dc(Td,b.cognitoConfig.userPoolClientId);yield Promise.all([b.keyValueStorage.removeItem(h.inflightOAuth),b.keyValueStorage.removeItem(h.oauthPKCE),b.keyValueStorage.removeItem(h.oauthState)])})()}clearOAuthData(){var b=this;return(0,$o.Z)(function*(){(0,Hs.FG)(b.cognitoConfig);const h=Dc(Td,b.cognitoConfig.userPoolClientId);return yield b.clearOAuthInflightData(),yield b.keyValueStorage.removeItem(hc),b.keyValueStorage.removeItem(h.oauthSignIn)})()}loadOAuthState(){(0,Hs.FG)(this.cognitoConfig);const b=Dc(Td,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(b.oauthState)}storeOAuthState(b){(0,Hs.FG)(this.cognitoConfig);const h=Dc(Td,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(h.oauthState,b)}loadPKCE(){(0,Hs.FG)(this.cognitoConfig);const b=Dc(Td,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(b.oauthPKCE)}storePKCE(b){(0,Hs.FG)(this.cognitoConfig);const h=Dc(Td,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(h.oauthPKCE,b)}setAuthConfig(b){this.cognitoConfig=b}loadOAuthInFlight(){var b=this;return(0,$o.Z)(function*(){(0,Hs.FG)(b.cognitoConfig);const h=Dc(Td,b.cognitoConfig.userPoolClientId);return"true"===(yield b.keyValueStorage.getItem(h.inflightOAuth))})()}storeOAuthInFlight(b){var h=this;return(0,$o.Z)(function*(){(0,Hs.FG)(h.cognitoConfig);const M=Dc(Td,h.cognitoConfig.userPoolClientId);yield h.keyValueStorage.setItem(M.inflightOAuth,`${b}`)})()}loadOAuthSignIn(){var b=this;return(0,$o.Z)(function*(){(0,Hs.FG)(b.cognitoConfig);const h=Dc(Td,b.cognitoConfig.userPoolClientId),M=yield b.keyValueStorage.getItem(hc),[R,se]=(yield b.keyValueStorage.getItem(h.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===R||"true"===M,preferPrivateSession:"true"===se}})()}storeOAuthSignIn(b,h=!1){var M=this;return(0,$o.Z)(function*(){(0,Hs.FG)(M.cognitoConfig);const R=Dc(Td,M.cognitoConfig.userPoolClientId);yield M.keyValueStorage.setItem(R.oauthSignIn,`${b},${h}`)})()}}(mp),Zd=[];class Pp{constructor(){var b=this;this.waitForInflightOAuth=typeof window<"u"&&typeof window.document<"u"?(0,$o.Z)(function*(){if(yield jg.loadOAuthInFlight())return b.inflightPromise||(b.inflightPromise=new Promise((h,M)=>{Zd.push(h)})),b.inflightPromise}):(0,$o.Z)(function*(){})}setAuthConfig(b){jg.setAuthConfig(b.Cognito),this.authConfig=b}setTokenRefresher(b){this.tokenRefresher=b}setAuthTokenStore(b){this.tokenStore=b}getTokenStore(){if(!this.tokenStore)throw new jc.l({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new jc.l({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}getTokens(b){var h=this;return(0,$o.Z)(function*(){let M;try{(0,Hs.FG)(h.authConfig?.Cognito)}catch{return null}yield h.waitForInflightOAuth(),h.inflightPromise=void 0,M=yield h.getTokenStore().loadTokens();const R=yield h.getTokenStore().getLastAuthUser();if(null===M)return null;const se=!!M?.idToken&&Df({expiresAt:1e3*(M.idToken?.payload?.exp??0),clockDrift:M.clockDrift??0}),qe=Df({expiresAt:1e3*(M.accessToken?.payload?.exp??0),clockDrift:M.clockDrift??0});return(b?.forceRefresh||se||qe)&&(M=yield h.refreshTokens({tokens:M,username:R}),null===M)?null:{accessToken:M?.accessToken,idToken:M?.idToken,signInDetails:M?.signInDetails}})()}refreshTokens({tokens:b,username:h}){var M=this;return(0,$o.Z)(function*(){try{const{signInDetails:R}=b,se=yield M.getTokenRefresher()({tokens:b,authConfig:M.authConfig,username:h});return se.signInDetails=R,yield M.setTokens({tokens:se}),$a.Xb.dispatch("auth",{event:"tokenRefresh"},"Auth",$a.SQ),se}catch(R){return M.handleErrors(R)}})()}handleErrors(b){if((0,Ca.R)(b),b.name!==tg.Z.NetworkError&&this.clearTokens(),$a.Xb.dispatch("auth",{event:"tokenRefresh_failure",data:{error:b}},"Auth",$a.SQ),b.name.startsWith("NotAuthorizedException"))return null;throw b}setTokens({tokens:b}){var h=this;return(0,$o.Z)(function*(){return h.getTokenStore().storeTokens(b)})()}clearTokens(){var b=this;return(0,$o.Z)(function*(){return b.getTokenStore().clearTokens()})()}getDeviceMetadata(b){return this.getTokenStore().getDeviceMetadata(b)}clearDeviceMetadata(b){return this.getTokenStore().clearDeviceMetadata(b)}setOAuthMetadata(b){return this.getTokenStore().setOAuthMetadata(b)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}const qu=new class Gm{constructor(){this.authTokenStore=new Pf,this.authTokenStore.setKeyValueStorage(mp),this.tokenOrchestrator=new Pp,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(dm)}getTokens({forceRefresh:b}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:b})}setKeyValueStorage(b){this.authTokenStore.setKeyValueStorage(b)}setAuthConfig(b){this.authTokenStore.setAuthConfig(b),this.tokenOrchestrator.setAuthConfig(b)}},Ef={configure(_,b){const h=(0,vf.h)(_),M=new eg({sameSite:"lax"}),R=b?.ssr?M:mp,se=b?.ssr?new zr(new rm(M)):Um;if(h.Auth)if(b?.Auth)Pu.d.configure(h,b);else{if(!Pu.d.libraryOptions.Auth)return qu.setAuthConfig(h.Auth),qu.setKeyValueStorage(R),void Pu.d.configure(h,{...b,Auth:{tokenProvider:qu,credentialsProvider:se}});if(b){const qe=Pu.d.libraryOptions.Auth;return void 0!==b.ssr&&(qu.setKeyValueStorage(R),qe.credentialsProvider=se),void Pu.d.configure(h,{Auth:qe,...b})}Pu.d.configure(h)}else Pu.d.configure(h,b)},getConfig:()=>Pu.d.getConfig()};var Ih=D(4499);Ef.configure({Auth:{Cognito:{userPoolEndpoint:Ih?.site?.cognitoProxy,userPoolId:Ih?.site?.userPoolId,userPoolClientId:Ih?.site?.userPoolWebClientId}}});const um=new eg({domain:Ih?.site?.envSubDomain,path:"/",secure:Ih?.site?.secure,sameSite:Ih?.site?.sameSite});function If(){a.q6().bootstrapModule(Qf).catch(_=>console.error(_))}qu.setKeyValueStorage(um),(0,s.G48)(),"complete"===document.readyState?If():document.addEventListener("DOMContentLoaded",If)},8571:(Dt,Le,D)=>{"use strict";const a={},s={};for(let T=0;T<256;T++){let V=T.toString(16).toLowerCase();1===V.length&&(V=`0${V}`),a[T]=V,s[V]=T}},1342:function(Dt,Le){!function(D){"use strict";function a(T,V,ie){var Te=[];for(var le in T)!function(me){var ae,be;Object.prototype.hasOwnProperty.call(T,me)&&void 0!==T[me]&&(Array.isArray(T[me])&&T[me].length?ie?(be="order_desc"===ie?T[me].length-1:0,T[me].forEach(function(re){switch(ae=0!==re?re||"":0,ie){case"array":Te.push("".concat(me,"[]=").concat(encodeURIComponent(String(ae).trim())));break;case"order_asc":Te.push("".concat(me,"[").concat(be++,"]=").concat(encodeURIComponent(String(ae).trim())));break;case"order_desc":Te.push("".concat(me,"[").concat(be--,"]=").concat(encodeURIComponent(String(ae).trim())));break;default:Te.push("".concat(me,"=").concat(encodeURIComponent(String(ae).trim())))}})):(ae=T[me].map(function(re){return encodeURIComponent(String(0!==re?re||"":0).trim())}),Te.push("".concat(me,"=").concat(encodeURIComponent(String(ae).trim())))):(ae=V?String(T[me]).toLowerCase()||"":0!==T[me]?T[me]||"":0,Te.push("".concat(me,"=").concat(encodeURIComponent(String(ae).trim())))))}(le);return"?".concat(Te.join("&"))}function s(T,V,ie){void 0===V&&(V=""),"/"===V[V.length-1]&&(V=V.slice(0,-1));var Te=String(T).trim();return ie&&(Te=Te.toLowerCase()),0===Te.indexOf("/")?V+=Te:V+="/".concat(Te),V}function oe(T,V){var ie="#".concat(String(T).trim());return V?ie.toLowerCase():ie}function c(T,V){var ie;return null===T?ie="":"object"==typeof T?(ie="",V=T):ie=T,null!=V&&V.path&&(ie=s(V.path,ie,V.lowerCase)),null!=V&&V.queryParams&&(ie+=a(V.queryParams,V.lowerCase,V.disableCSV)),null!=V&&V.hash&&(ie+=oe(V.hash,V.lowerCase)),ie}D.appendPath=s,D.buildHash=oe,D.buildQueryString=a,D.buildUrl=c,D.default=c,Object.defineProperty(D,"__esModule",{value:!0})}(Le)},4146:(Dt,Le)=>{"use strict";var D;Object.defineProperty(Le,"__esModule",{value:!0}),Le.set=Le.isOn=void 0;var a="6.1.0",s=((D={})[a]={},D);Le.isOn=function(T,V){return V&&console.log("\n[DEBUG] Execution Time in milliseconds: ".concat(Date.now(),' version: "').concat(a,'" key: "').concat(T,'" settings: ').concat(JSON.stringify(s),"\n")),"string"==typeof T&&!!s[a][T]},Le.set=function(T){s[a]=Object.assign({},s[a],T)}},7909:(Dt,Le,D)=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0}),D(7582).__exportStar(D(4146),Le)},2413:(Dt,Le,D)=>{var a;!function(){"use strict";var s="input is invalid type",oe="object"==typeof window,c=oe?window:{};c.JS_SHA256_NO_WINDOW&&(oe=!1);var T=!oe&&"object"==typeof self,V=!c.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;V?c=global:T&&(c=self);var ie=!c.JS_SHA256_NO_COMMON_JS&&Dt.exports,Te=D.amdO,le=!c.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",me="0123456789abcdef".split(""),ae=[-2147483648,8388608,32768,128],be=[24,16,8,0],re=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],J=["hex","array","digest","arrayBuffer"],fe=[];(c.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Pe){return"[object Array]"===Object.prototype.toString.call(Pe)}),le&&(c.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Pe){return"object"==typeof Pe&&Pe.buffer&&Pe.buffer.constructor===ArrayBuffer});var ke=function(Pe,Be){return function(rt){return new pe(Be,!0).update(rt)[Pe]()}},Ce=function(Pe){var Be=ke("hex",Pe);V&&(Be=we(Be,Pe)),Be.create=function(){return new pe(Pe)},Be.update=function(It){return Be.create().update(It)};for(var rt=0;rt<J.length;++rt){var wt=J[rt];Be[wt]=ke(wt,Pe)}return Be},we=function(Pe,Be){var Ie,rt=D(6127),wt=D(1371).Buffer,It=Be?"sha224":"sha256";return Ie=wt.from&&!c.JS_SHA256_NO_BUFFER_FROM?wt.from:function(Oe){return new wt(Oe)},function(Oe){if("string"==typeof Oe)return rt.createHash(It).update(Oe,"utf8").digest("hex");if(null==Oe)throw new Error(s);return Oe.constructor===ArrayBuffer&&(Oe=new Uint8Array(Oe)),Array.isArray(Oe)||ArrayBuffer.isView(Oe)||Oe.constructor===wt?rt.createHash(It).update(Ie(Oe)).digest("hex"):Pe(Oe)}},he=function(Pe,Be){return function(rt,wt){return new ge(rt,Be,!0).update(wt)[Pe]()}},A=function(Pe){var Be=he("hex",Pe);Be.create=function(It){return new ge(It,Pe)},Be.update=function(It,Ie){return Be.create(It).update(Ie)};for(var rt=0;rt<J.length;++rt){var wt=J[rt];Be[wt]=he(wt,Pe)}return Be};function pe(Pe,Be){Be?(fe[0]=fe[16]=fe[1]=fe[2]=fe[3]=fe[4]=fe[5]=fe[6]=fe[7]=fe[8]=fe[9]=fe[10]=fe[11]=fe[12]=fe[13]=fe[14]=fe[15]=0,this.blocks=fe):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Pe?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=Pe}function ge(Pe,Be,rt){var wt,It=typeof Pe;if("string"===It){var ut,Ie=[],L=Pe.length,Oe=0;for(wt=0;wt<L;++wt)(ut=Pe.charCodeAt(wt))<128?Ie[Oe++]=ut:ut<2048?(Ie[Oe++]=192|ut>>>6,Ie[Oe++]=128|63&ut):ut<55296||ut>=57344?(Ie[Oe++]=224|ut>>>12,Ie[Oe++]=128|ut>>>6&63,Ie[Oe++]=128|63&ut):(ut=65536+((1023&ut)<<10|1023&Pe.charCodeAt(++wt)),Ie[Oe++]=240|ut>>>18,Ie[Oe++]=128|ut>>>12&63,Ie[Oe++]=128|ut>>>6&63,Ie[Oe++]=128|63&ut);Pe=Ie}else{if("object"!==It)throw new Error(s);if(null===Pe)throw new Error(s);if(le&&Pe.constructor===ArrayBuffer)Pe=new Uint8Array(Pe);else if(!(Array.isArray(Pe)||le&&ArrayBuffer.isView(Pe)))throw new Error(s)}Pe.length>64&&(Pe=new pe(Be,!0).update(Pe).array());var Nt=[],an=[];for(wt=0;wt<64;++wt){var bt=Pe[wt]||0;Nt[wt]=92^bt,an[wt]=54^bt}pe.call(this,Be,rt),this.update(an),this.oKeyPad=Nt,this.inner=!0,this.sharedMemory=rt}pe.prototype.update=function(Pe){if(!this.finalized){var Be,rt=typeof Pe;if("string"!==rt){if("object"!==rt)throw new Error(s);if(null===Pe)throw new Error(s);if(le&&Pe.constructor===ArrayBuffer)Pe=new Uint8Array(Pe);else if(!(Array.isArray(Pe)||le&&ArrayBuffer.isView(Pe)))throw new Error(s);Be=!0}for(var wt,Ie,It=0,L=Pe.length,Oe=this.blocks;It<L;){if(this.hashed&&(this.hashed=!1,Oe[0]=this.block,this.block=Oe[16]=Oe[1]=Oe[2]=Oe[3]=Oe[4]=Oe[5]=Oe[6]=Oe[7]=Oe[8]=Oe[9]=Oe[10]=Oe[11]=Oe[12]=Oe[13]=Oe[14]=Oe[15]=0),Be)for(Ie=this.start;It<L&&Ie<64;++It)Oe[Ie>>>2]|=Pe[It]<<be[3&Ie++];else for(Ie=this.start;It<L&&Ie<64;++It)(wt=Pe.charCodeAt(It))<128?Oe[Ie>>>2]|=wt<<be[3&Ie++]:wt<2048?(Oe[Ie>>>2]|=(192|wt>>>6)<<be[3&Ie++],Oe[Ie>>>2]|=(128|63&wt)<<be[3&Ie++]):wt<55296||wt>=57344?(Oe[Ie>>>2]|=(224|wt>>>12)<<be[3&Ie++],Oe[Ie>>>2]|=(128|wt>>>6&63)<<be[3&Ie++],Oe[Ie>>>2]|=(128|63&wt)<<be[3&Ie++]):(wt=65536+((1023&wt)<<10|1023&Pe.charCodeAt(++It)),Oe[Ie>>>2]|=(240|wt>>>18)<<be[3&Ie++],Oe[Ie>>>2]|=(128|wt>>>12&63)<<be[3&Ie++],Oe[Ie>>>2]|=(128|wt>>>6&63)<<be[3&Ie++],Oe[Ie>>>2]|=(128|63&wt)<<be[3&Ie++]);this.lastByteIndex=Ie,this.bytes+=Ie-this.start,Ie>=64?(this.block=Oe[16],this.start=Ie-64,this.hash(),this.hashed=!0):this.start=Ie}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},pe.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Pe=this.blocks,Be=this.lastByteIndex;Pe[16]=this.block,Pe[Be>>>2]|=ae[3&Be],this.block=Pe[16],Be>=56&&(this.hashed||this.hash(),Pe[0]=this.block,Pe[16]=Pe[1]=Pe[2]=Pe[3]=Pe[4]=Pe[5]=Pe[6]=Pe[7]=Pe[8]=Pe[9]=Pe[10]=Pe[11]=Pe[12]=Pe[13]=Pe[14]=Pe[15]=0),Pe[14]=this.hBytes<<3|this.bytes>>>29,Pe[15]=this.bytes<<3,this.hash()}},pe.prototype.hash=function(){var Nt,jt,at,Xe,Zt,ve,Pe=this.h0,Be=this.h1,rt=this.h2,wt=this.h3,It=this.h4,Ie=this.h5,L=this.h6,Oe=this.h7,ut=this.blocks;for(Nt=16;Nt<64;++Nt)ut[Nt]=ut[Nt-16]+(((jt=ut[Nt-15])>>>7|jt<<25)^(jt>>>18|jt<<14)^jt>>>3)+ut[Nt-7]+(((jt=ut[Nt-2])>>>17|jt<<15)^(jt>>>19|jt<<13)^jt>>>10)<<0;for(ve=Be&rt,Nt=0;Nt<64;Nt+=4)this.first?(this.is224?(at=300032,Oe=(jt=ut[0]-1413257819)-150054599<<0,wt=jt+24177077<<0):(at=704751109,Oe=(jt=ut[0]-210244248)-1521486534<<0,wt=jt+143694565<<0),this.first=!1):(Oe=wt+(jt=Oe+((It>>>6|It<<26)^(It>>>11|It<<21)^(It>>>25|It<<7))+(It&Ie^~It&L)+re[Nt]+ut[Nt])<<0,wt=jt+(((Pe>>>2|Pe<<30)^(Pe>>>13|Pe<<19)^(Pe>>>22|Pe<<10))+((at=Pe&Be)^Pe&rt^ve))<<0),L=rt+(jt=L+((Oe>>>6|Oe<<26)^(Oe>>>11|Oe<<21)^(Oe>>>25|Oe<<7))+(Oe&It^~Oe&Ie)+re[Nt+1]+ut[Nt+1])<<0,rt=jt+(((wt>>>2|wt<<30)^(wt>>>13|wt<<19)^(wt>>>22|wt<<10))+((Xe=wt&Pe)^wt&Be^at))<<0,Ie=Be+(jt=Ie+((L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))+(L&Oe^~L&It)+re[Nt+2]+ut[Nt+2])<<0,Be=jt+(((rt>>>2|rt<<30)^(rt>>>13|rt<<19)^(rt>>>22|rt<<10))+((Zt=rt&wt)^rt&Pe^Xe))<<0,It=Pe+(jt=It+((Ie>>>6|Ie<<26)^(Ie>>>11|Ie<<21)^(Ie>>>25|Ie<<7))+(Ie&L^~Ie&Oe)+re[Nt+3]+ut[Nt+3])<<0,Pe=jt+(((Be>>>2|Be<<30)^(Be>>>13|Be<<19)^(Be>>>22|Be<<10))+((ve=Be&rt)^Be&wt^Zt))<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+Pe<<0,this.h1=this.h1+Be<<0,this.h2=this.h2+rt<<0,this.h3=this.h3+wt<<0,this.h4=this.h4+It<<0,this.h5=this.h5+Ie<<0,this.h6=this.h6+L<<0,this.h7=this.h7+Oe<<0},pe.prototype.toString=pe.prototype.hex=function(){this.finalize();var Pe=this.h0,Be=this.h1,rt=this.h2,wt=this.h3,It=this.h4,Ie=this.h5,L=this.h6,Oe=this.h7,ut=me[Pe>>>28&15]+me[Pe>>>24&15]+me[Pe>>>20&15]+me[Pe>>>16&15]+me[Pe>>>12&15]+me[Pe>>>8&15]+me[Pe>>>4&15]+me[15&Pe]+me[Be>>>28&15]+me[Be>>>24&15]+me[Be>>>20&15]+me[Be>>>16&15]+me[Be>>>12&15]+me[Be>>>8&15]+me[Be>>>4&15]+me[15&Be]+me[rt>>>28&15]+me[rt>>>24&15]+me[rt>>>20&15]+me[rt>>>16&15]+me[rt>>>12&15]+me[rt>>>8&15]+me[rt>>>4&15]+me[15&rt]+me[wt>>>28&15]+me[wt>>>24&15]+me[wt>>>20&15]+me[wt>>>16&15]+me[wt>>>12&15]+me[wt>>>8&15]+me[wt>>>4&15]+me[15&wt]+me[It>>>28&15]+me[It>>>24&15]+me[It>>>20&15]+me[It>>>16&15]+me[It>>>12&15]+me[It>>>8&15]+me[It>>>4&15]+me[15&It]+me[Ie>>>28&15]+me[Ie>>>24&15]+me[Ie>>>20&15]+me[Ie>>>16&15]+me[Ie>>>12&15]+me[Ie>>>8&15]+me[Ie>>>4&15]+me[15&Ie]+me[L>>>28&15]+me[L>>>24&15]+me[L>>>20&15]+me[L>>>16&15]+me[L>>>12&15]+me[L>>>8&15]+me[L>>>4&15]+me[15&L];return this.is224||(ut+=me[Oe>>>28&15]+me[Oe>>>24&15]+me[Oe>>>20&15]+me[Oe>>>16&15]+me[Oe>>>12&15]+me[Oe>>>8&15]+me[Oe>>>4&15]+me[15&Oe]),ut},pe.prototype.array=pe.prototype.digest=function(){this.finalize();var Pe=this.h0,Be=this.h1,rt=this.h2,wt=this.h3,It=this.h4,Ie=this.h5,L=this.h6,Oe=this.h7,ut=[Pe>>>24&255,Pe>>>16&255,Pe>>>8&255,255&Pe,Be>>>24&255,Be>>>16&255,Be>>>8&255,255&Be,rt>>>24&255,rt>>>16&255,rt>>>8&255,255&rt,wt>>>24&255,wt>>>16&255,wt>>>8&255,255&wt,It>>>24&255,It>>>16&255,It>>>8&255,255&It,Ie>>>24&255,Ie>>>16&255,Ie>>>8&255,255&Ie,L>>>24&255,L>>>16&255,L>>>8&255,255&L];return this.is224||ut.push(Oe>>>24&255,Oe>>>16&255,Oe>>>8&255,255&Oe),ut},pe.prototype.arrayBuffer=function(){this.finalize();var Pe=new ArrayBuffer(this.is224?28:32),Be=new DataView(Pe);return Be.setUint32(0,this.h0),Be.setUint32(4,this.h1),Be.setUint32(8,this.h2),Be.setUint32(12,this.h3),Be.setUint32(16,this.h4),Be.setUint32(20,this.h5),Be.setUint32(24,this.h6),this.is224||Be.setUint32(28,this.h7),Pe},(ge.prototype=new pe).finalize=function(){if(pe.prototype.finalize.call(this),this.inner){this.inner=!1;var Pe=this.array();pe.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(Pe),pe.prototype.finalize.call(this)}};var pt=Ce();pt.sha256=pt,pt.sha224=Ce(!0),pt.sha256.hmac=A(),pt.sha224.hmac=A(!0),ie?Dt.exports=pt:(c.sha256=pt.sha256,c.sha224=pt.sha224,Te&&void 0!==(a=function(){return pt}.call(pt,D,pt,Dt))&&(Dt.exports=a))}()},2574:function(Dt){Dt.exports=function(){"use strict";var Le,D,a;function s(c,T){if(Le)if(D){var V="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+Le+")(sharedChunk); ("+D+")(sharedChunk); self.onerror = null;",ie={};Le(ie),a=T(ie),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(a.workerUrl=window.URL.createObjectURL(new Blob([V],{type:"text/javascript"})))}else D=T;else Le=T}return s(0,function(c){var T=typeof self<"u"?self:{},V="2.15.0";let ie;const Te={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==ie){const n=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{ie=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):n}catch{ie=n}}return ie},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!Te.API_URL)return null;try{const n=new URL(Te.API_URL);return"api.mapbox.cn"===n.hostname?"https://events.mapbox.cn/events/v2":"api.mapbox.com"===n.hostname?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},le={supported:!1,testSupport:function(n){!be&&ae&&(re?J(n):me=n)}};let me,ae,be=!1,re=!1;function J(n){const e=n.createTexture();n.bindTexture(n.TEXTURE_2D,e);try{if(n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,ae),n.isContextLost())return;le.supported=!0}catch{}n.deleteTexture(e),be=!0}T.document&&(ae=T.document.createElement("img"),ae.onload=function(){me&&J(me),me=null,re=!0},ae.onerror=function(){be=!0,me=null},ae.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const fe="01";function ke(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ce=we;function we(n,e,i,d){this.cx=3*n,this.bx=3*(i-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(d-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=e,this.p2x=i,this.p2y=d}we.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,e){if(void 0===e&&(e=1e-6),n<0)return 0;if(n>1)return 1;for(var i=n,d=0;d<8;d++){var p=this.sampleCurveX(i)-n;if(Math.abs(p)<e)return i;var m=this.sampleCurveDerivativeX(i);if(Math.abs(m)<1e-6)break;i-=p/m}var w=0,P=1;for(i=n,d=0;d<20&&(p=this.sampleCurveX(i),!(Math.abs(p-n)<e));d++)n>p?w=i:P=i,i=.5*(P-w)+w;return i},solve:function(n,e){return this.sampleCurveY(this.solveCurveX(n,e))}};var he=ke(Ce),A=pe;function pe(n,e){this.x=n,this.y=e}pe.prototype={clone:function(){return new pe(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,e){return this.clone()._rotateAround(n,e)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var e=n.x-this.x,i=n.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,e){return Math.atan2(this.x*e-this.y*n,this.x*n+this.y*e)},_matMult:function(n){var e=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=e,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var e=Math.cos(n),i=Math.sin(n),d=i*this.x+e*this.y;return this.x=e*this.x-i*this.y,this.y=d,this},_rotateAround:function(n,e){var i=Math.cos(n),d=Math.sin(n),p=e.y+d*(this.x-e.x)+i*(this.y-e.y);return this.x=e.x+i*(this.x-e.x)-d*(this.y-e.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},pe.convert=function(n){return n instanceof pe?n:Array.isArray(n)?new pe(n[0],n[1]):n};var ge=ke(A);const pt=Math.PI/180,Pe=180/Math.PI;function Be(n){return n*pt}function rt(n){return n*Pe}const wt=[[0,0],[1,0],[1,1],[0,1]];function It(n){if(n<=0)return 0;if(n>=1)return 1;const e=n*n,i=e*n;return 4*(n<.5?i:3*(n-e)+i-.75)}function Ie(n,e,i,d){const p=new he(n,e,i,d);return function(m){return p.solve(m)}}const L=Ie(.25,.1,.25,1);function Oe(n,e,i){return Math.min(i,Math.max(e,n))}function ut(n,e,i){return(i=Oe((i-n)/(e-n),0,1))*i*(3-2*i)}function Nt(n,e,i){const d=i-e,p=((n-e)%d+d)%d+e;return p===e?i:p}function an(n,e,i){if(!n.length)return i(null,[]);let d=n.length;const p=new Array(n.length);let m=null;n.forEach((w,P)=>{e(w,(k,N)=>{k&&(m=k),p[P]=N,0==--d&&i(m,p)})})}function bt(n){const e=[];for(const i in n)e.push(n[i]);return e}function Qe(n,...e){for(const i of e)for(const d in i)n[d]=i[d];return n}let jt=1;function gt(){return jt++}function yt(){return function n(e){return e?(e^Math.random()*(16>>e/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,n)}()}function at(n){return n<=1?1:Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Xe(n){return!!n&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n)}function Zt(n,e){n.forEach(i=>{e[i]&&(e[i]=e[i].bind(e))})}function ve(n,e){return-1!==n.indexOf(e,n.length-e.length)}function Ve(n,e,i){const d={};for(const p in n)d[p]=e.call(i||this,n[p],p,n);return d}function St(n,e,i){const d={};for(const p in n)e.call(i||this,n[p],p,n)&&(d[p]=n[p]);return d}function wn(n){return Array.isArray(n)?n.map(wn):"object"==typeof n&&n?Ve(n,wn):n}const $t={};function Cn(n){$t[n]||(typeof console<"u"&&console.warn(n),$t[n]=!0)}function Ot(n,e,i){return(i.y-n.y)*(e.x-n.x)>(e.y-n.y)*(i.x-n.x)}function Wt(n){let e=0;for(let i,d,p=0,m=n.length,w=m-1;p<m;w=p++)i=n[p],d=n[w],e+=(d.x-i.x)*(i.y+d.y);return e}function st(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function U(n){const e={};if(n.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(i,d,p,m)=>{const w=p||m;return e[d]=!w||w.toLowerCase(),""}),e["max-age"]){const i=parseInt(e["max-age"],10);isNaN(i)?delete e["max-age"]:e["max-age"]=i}return e}let Se=null;function Vt(n){if(null==Se){const e=n.navigator?n.navigator.userAgent:null;Se=!!n.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return Se}function en(n){try{const e=T[n];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch{return!1}}function jn(n,e){return[n[4*e],n[4*e+1],n[4*e+2],n[4*e+3]]}const Mi="mapbox-tiles";let qn,ti,dn=500,Pn=50;function qi(){try{return T.caches}catch{}}function to(){qi()&&!qn&&(qn=T.caches.open(Mi))}function Zi(n){const e=n.indexOf("?");if(e<0)return n;const d=function(p){const m=p.indexOf("?");return m>0?p.slice(m+1).split("&"):[]}(n).filter(p=>{const m=p.split("=");return"language"===m[0]||"worldview"===m[0]});return d.length?`${n.slice(0,e)}?${d.join("&")}`:n.slice(0,e)}let Fi=1/0;const yo={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(yo);class Ji extends Error{constructor(e,i,d){401===i&&tt(d)&&(e+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(e),this.status=i,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const xi=st()?()=>self.worker&&self.worker.referrer:()=>("blob:"===T.location.protocol?T.parent:T).location.href,Mo=function(n,e){if(!(/^file:/.test(i=n.url)||/^file:/.test(xi())&&!/^\w+:/.test(i))){if(T.fetch&&T.Request&&T.AbortController&&T.Request.prototype.hasOwnProperty("signal"))return function(d,p){const m=new T.AbortController,w=new T.Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:xi(),referrerPolicy:d.referrerPolicy,signal:m.signal});let P=!1,k=!1;const N=(Z=w.url).indexOf("sku=")>0&&tt(Z);var Z;"json"===d.type&&w.headers.set("Accept","application/json");const q=(xe,Ee,He)=>{if(k)return;if(xe&&"SecurityError"!==xe.message&&Cn(xe.toString()),Ee&&He)return ce(Ee);const ht=Date.now();T.fetch(w).then(Rt=>{if(Rt.ok){const tn=N?Rt.clone():null;return ce(Rt,tn,ht)}return p(new Ji(Rt.statusText,Rt.status,d.url))}).catch(Rt=>{"AbortError"!==Rt.name&&p(new Error(`${Rt.message} ${d.url}`))})},ce=(xe,Ee,He)=>{("arrayBuffer"===d.type?xe.arrayBuffer():"json"===d.type?xe.json():xe.text()).then(ht=>{k||(Ee&&He&&function(Rt,tn,Ft){if(to(),!qn)return;const Qt={status:tn.status,statusText:tn.statusText,headers:new T.Headers};tn.headers.forEach((Hn,Ln)=>Qt.headers.set(Ln,Hn));const pn=U(tn.headers.get("Cache-Control")||"");if(pn["no-store"])return;pn["max-age"]&&Qt.headers.set("Expires",new Date(Ft+1e3*pn["max-age"]).toUTCString());const un=Qt.headers.get("Expires");un&&(new Date(un).getTime()-Ft<42e4||function(Hn,Ln){if(void 0===ti)try{new Response(new ReadableStream),ti=!0}catch{ti=!1}ti?Ln(Hn.body):Hn.blob().then(Ln)}(tn,Hn=>{const Ln=new T.Response(Hn,Qt);to(),qn&&qn.then(ri=>ri.put(Zi(Rt.url),Ln)).catch(ri=>Cn(ri.message))}))}(w,Ee,He),P=!0,p(null,ht,xe.headers.get("Cache-Control"),xe.headers.get("Expires")))}).catch(ht=>{k||p(new Error(ht.message))})};return N?function(xe,Ee){if(to(),!qn)return Ee(null);const He=Zi(xe.url);qn.then(ht=>{ht.match(He).then(Rt=>{const tn=function(Ft){if(!Ft)return!1;const Qt=new Date(Ft.headers.get("Expires")||0),pn=U(Ft.headers.get("Cache-Control")||"");return Qt>Date.now()&&!pn["no-cache"]}(Rt);ht.delete(He),tn&&ht.put(He,Rt.clone()),Ee(null,Rt,tn)}).catch(Ee)}).catch(Ee)}(w,q):q(null,null),{cancel:()=>{k=!0,P||m.abort()}}}(n,e);if(st()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",n,e,void 0,!0)}var i;return function(d,p){const m=new T.XMLHttpRequest;m.open(d.method||"GET",d.url,!0),"arrayBuffer"===d.type&&(m.responseType="arraybuffer");for(const w in d.headers)m.setRequestHeader(w,d.headers[w]);return"json"===d.type&&(m.responseType="text",m.setRequestHeader("Accept","application/json")),m.withCredentials="include"===d.credentials,m.onerror=()=>{p(new Error(m.statusText))},m.onload=()=>{if((m.status>=200&&m.status<300||0===m.status)&&null!==m.response){let w=m.response;if("json"===d.type)try{w=JSON.parse(m.response)}catch(P){return p(P)}p(null,w,m.getResponseHeader("Cache-Control"),m.getResponseHeader("Expires"))}else p(new Ji(m.statusText,m.status,d.url))},m.send(d.body),{cancel:()=>m.abort()}}(n,e)},no=function(n,e){return Mo(Qe(n,{type:"arrayBuffer"}),e)};function Wo(n){const e=T.document.createElement("a");return e.href=n,e.protocol===T.document.location.protocol&&e.host===T.document.location.host}const Bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Ue,We;Ue=[],We=0;const Ge=function(n,e){if(le.supported&&(n.headers||(n.headers={}),n.headers.accept="image/webp,*/*"),We>=Te.MAX_PARALLEL_IMAGE_REQUESTS){const m={requestParameters:n,callback:e,cancelled:!1,cancel(){this.cancelled=!0}};return Ue.push(m),m}We++;let i=!1;const d=()=>{if(!i)for(i=!0,We--;Ue.length&&We<Te.MAX_PARALLEL_IMAGE_REQUESTS;){const m=Ue.shift(),{requestParameters:w,callback:P,cancelled:k}=m;k||(m.cancel=Ge(w,P).cancel)}},p=no(n,(m,w,P,k)=>{d(),m?e(m):w&&(T.createImageBitmap?function(N,Z){const q=new T.Blob([new Uint8Array(N)],{type:"image/png"});T.createImageBitmap(q).then(ce=>{Z(null,ce)}).catch(ce=>{Z(new Error(`Could not load image because of ${ce.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(w,(N,Z)=>e(N,Z,P,k)):function(N,Z){const q=new T.Image,ce=T.URL;q.onload=()=>{Z(null,q),ce.revokeObjectURL(q.src),q.onload=null,T.requestAnimationFrame(()=>{q.src=Bt})},q.onerror=()=>Z(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const xe=new T.Blob([new Uint8Array(N)],{type:"image/png"});q.src=N.byteLength?ce.createObjectURL(xe):Bt}(w,(N,Z)=>e(N,Z,P,k)))});return{cancel:()=>{p.cancel(),d()}}},Et="NO_ACCESS_TOKEN";function Q(n){return 0===n.indexOf("mapbox:")}function tt(n){return Te.API_URL_REGEX.test(n)}function $e(n){return Te.API_CDN_URL_REGEX.test(n)}function lt(n){return Te.API_STYLE_REGEX.test(n)&&!nn(n)}function nn(n){return Te.API_SPRITE_REGEX.test(n)}const bn=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Bn(n){const e=n.match(bn);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function kt(n){const e=n.params.length?`?${n.params.join("&")}`:"";return`${n.protocol}://${n.authority}${n.path}${e}`}const cn="mapbox.eventData";function ft(n){if(!n)return null;const e=n.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(T.atob(e[1]).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Ze{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const i=ft(Te.ACCESS_TOKEN);let d="";return d=i&&i.u?T.btoa(encodeURIComponent(i.u).replace(/%([0-9A-F]{2})/g,(p,m)=>String.fromCharCode(+("0x"+m)))):Te.ACCESS_TOKEN||"",e?`${cn}.${e}:${d}`:`${cn}:${d}`}fetchEventData(){const e=en("localStorage"),i=this.getStorageKey(),d=this.getStorageKey("uuid");if(e)try{const p=T.localStorage.getItem(i);p&&(this.eventData=JSON.parse(p));const m=T.localStorage.getItem(d);m&&(this.anonId=m)}catch{Cn("Unable to read from LocalStorage")}}saveEventData(){const e=en("localStorage"),i=this.getStorageKey(),d=this.getStorageKey("uuid");if(e)try{T.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&T.localStorage.setItem(i,JSON.stringify(this.eventData))}catch{Cn("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,i,d,p){if(!Te.EVENTS_URL)return;const m=Bn(Te.EVENTS_URL);m.params.push(`access_token=${p||Te.ACCESS_TOKEN||""}`);const w={event:this.type,created:new Date(e).toISOString()},P=i?Qe(w,i):w,k={url:kt(m),headers:{"Content-Type":"text/plain"},body:JSON.stringify([P])};var Z;this.pendingRequest=(Z=N=>{this.pendingRequest=null,d(N),this.saveEventData(),this.processRequests(p)},Mo(Qe(k,{method:"POST"}),Z))}queueRequest(e,i){this.queue.push(e),this.processRequests(i)}}const on=new class extends Ze{constructor(n){super("appUserTurnstile"),this._customAccessToken=n}postTurnstileEvent(n,e){Te.EVENTS_URL&&Te.ACCESS_TOKEN&&Array.isArray(n)&&n.some(i=>Q(i)||tt(i))&&this.queueRequest(Date.now(),e)}processRequests(n){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const e=ft(Te.ACCESS_TOKEN),i=e?e.u:Te.ACCESS_TOKEN;let d=i!==this.eventData.tokenU;Xe(this.anonId)||(this.anonId=yt(),d=!0);const p=this.queue.shift();if(this.eventData.lastSuccess){const m=new Date(this.eventData.lastSuccess),w=new Date(p),P=(p-this.eventData.lastSuccess)/864e5;d=d||P>=1||P<-1||m.getDate()!==w.getDate()}else d=!0;d?this.postEvent(p,{sdkIdentifier:"mapbox-gl-js",sdkVersion:V,skuId:fe,"enabled.telemetry":!1,userId:this.anonId},m=>{m||(this.eventData.lastSuccess=p,this.eventData.tokenU=i)},n):this.processRequests()}},_e=on.postTurnstileEvent.bind(on),Lt=new class extends Ze{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(n,e,i,d){this.skuToken=e,this.errorCb=d,Te.EVENTS_URL&&(i||Te.ACCESS_TOKEN?this.queueRequest({id:n,timestamp:Date.now()},i):this.errorCb(new Error(Et)))}processRequests(n){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:i}=this.queue.shift();e&&this.success[e]||(this.anonId||this.fetchEventData(),Xe(this.anonId)||(this.anonId=yt()),this.postEvent(i,{sdkIdentifier:"mapbox-gl-js",sdkVersion:V,skuId:fe,skuToken:this.skuToken,userId:this.anonId},d=>{d?this.errorCb(d):e&&(this.success[e]=!0)},n))}},gn=Lt.postMapLoadEvent.bind(Lt),Ht=new class extends Ze{constructor(){super("gljs.performance")}postPerformanceEvent(n,e){Te.EVENTS_URL&&(n||Te.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:e},n)}processRequests(n){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:e,performanceData:i}=this.queue.shift(),d=function(p){const m=T.performance.getEntriesByType("resource"),w=T.performance.getEntriesByType("mark"),P=function(ce){const xe={};if(ce)for(const Ee in ce)if("other"!==Ee)for(const He of ce[Ee]){const ht=`${Ee}ResolveRangeMin`,Rt=`${Ee}ResolveRangeMax`,tn=`${Ee}RequestCount`,Ft=`${Ee}RequestCachedCount`;xe[ht]=Math.min(xe[ht]||1/0,He.startTime),xe[Rt]=Math.max(xe[Rt]||-1/0,He.responseEnd);const Qt=pn=>{void 0===xe[pn]&&(xe[pn]=0),++xe[pn]};void 0!==He.transferSize&&0===He.transferSize&&Qt(Ft),Qt(tn)}return xe}(function(ce,xe){const Ee={};if(ce)for(const He of ce){const ht=xe(He);void 0===Ee[ht]&&(Ee[ht]=[]),Ee[ht].push(He)}return Ee}(m,ei)),k=T.devicePixelRatio,N=T.navigator.connection||T.navigator.mozConnection||T.navigator.webkitConnection,Z={counters:[],metadata:[],attributes:[]},q=(ce,xe,Ee)=>{null!=Ee&&ce.push({name:xe,value:Ee.toString()})};for(const ce in P)q(Z.counters,ce,P[ce]);if(p.interactionRange[0]!==1/0&&p.interactionRange[1]!==-1/0&&(q(Z.counters,"interactionRangeMin",p.interactionRange[0]),q(Z.counters,"interactionRangeMax",p.interactionRange[1])),w)for(const ce of Object.keys(At)){const xe=At[ce],Ee=w.find(He=>He.name===xe);Ee&&q(Z.counters,xe,Ee.startTime)}return q(Z.counters,"visibilityHidden",p.visibilityHidden),q(Z.attributes,"style",function(ce){if(ce)for(const xe of ce){const Ee=xe.name.split("?")[0];if(lt(Ee)){const He=Ee.split("/").slice(-2);if(2===He.length)return`mapbox://styles/${He[0]}/${He[1]}`}}}(m)),q(Z.attributes,"terrainEnabled",p.terrainEnabled?"true":"false"),q(Z.attributes,"fogEnabled",p.fogEnabled?"true":"false"),q(Z.attributes,"projection",p.projection),q(Z.attributes,"zoom",p.zoom),q(Z.metadata,"devicePixelRatio",k),q(Z.metadata,"connectionEffectiveType",N?N.effectiveType:void 0),q(Z.metadata,"navigatorUserAgent",T.navigator.userAgent),q(Z.metadata,"screenWidth",T.screen.width),q(Z.metadata,"screenHeight",T.screen.height),q(Z.metadata,"windowWidth",T.innerWidth),q(Z.metadata,"windowHeight",T.innerHeight),q(Z.metadata,"mapWidth",p.width/k),q(Z.metadata,"mapHeight",p.height/k),q(Z.metadata,"webglRenderer",p.renderer),q(Z.metadata,"webglVendor",p.vendor),q(Z.metadata,"sdkVersion",V),q(Z.metadata,"sdkIdentifier","mapbox-gl-js"),Z}(i);for(const p of d.metadata);for(const p of d.counters);for(const p of d.attributes);this.postEvent(e,d,()=>{},n)}},Jn=Ht.postPerformanceEvent.bind(Ht),Je=new class extends Ze{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(n,e,i,d){if(!Te.API_URL||!Te.SESSION_PATH)return;const p=Bn(Te.API_URL+Te.SESSION_PATH);p.params.push(`sku=${e||""}`),p.params.push(`access_token=${d||Te.ACCESS_TOKEN||""}`);const m={url:kt(p),headers:{"Content-Type":"text/plain"}};var P;this.pendingRequest=(P=w=>{this.pendingRequest=null,i(w),this.saveEventData(),this.processRequests(d)},Mo(Qe(m,{method:"GET"}),P))}getSessionAPI(n,e,i,d){this.skuToken=e,this.errorCb=d,Te.SESSION_PATH&&Te.API_URL&&(i||Te.ACCESS_TOKEN?this.queueRequest({id:n,timestamp:Date.now()},i):this.errorCb(new Error(Et)))}processRequests(n){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:i}=this.queue.shift();e&&this.success[e]||this.getSession(i,this.skuToken,d=>{d?this.errorCb(d):e&&(this.success[e]=!0)},n)}},yn=Je.getSessionAPI.bind(Je),ct=new Set,At={create:"create",load:"load",fullLoad:"fullLoad"},Jt={mark(n){T.performance.mark(n)},measure(n,e,i){T.performance.measure(n,e,i)}};function ei(n){const e=n.name.split("?")[0];return $e(e)&&e.includes("mapbox-gl.js")?"javascript":$e(e)&&e.includes("mapbox-gl.css")?"css":Te.API_FONTS_REGEX.test(e)?"fontRange":nn(e)?"sprite":lt(e)?"style":Te.API_TILEJSON_REGEX.test(e)?"tilejson":"other"}const Zn=T.performance;function Ci(n){const e=n?n.url.toString():void 0;return Zn.getEntriesByName(e)}let hi,vo,Di,Do;const ir={now:()=>void 0!==Di?Di:T.performance.now(),setNow(n){Di=n},restoreNow(){Di=void 0},frame(n){const e=T.requestAnimationFrame(n);return{cancel:()=>T.cancelAnimationFrame(e)}},getImageData(n,e=0){const{width:i,height:d}=n;Do||(Do=T.document.createElement("canvas"));const p=Do.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return(i>Do.width||d>Do.height)&&(Do.width=i,Do.height=d),p.clearRect(-e,-e,i+2*e,d+2*e),p.drawImage(n,0,0,i,d),p.getImageData(-e,-e,i+2*e,d+2*e)},resolveURL:n=>(hi||(hi=T.document.createElement("a")),hi.href=n,hi.href),get devicePixelRatio(){return T.devicePixelRatio},get prefersReducedMotion(){return!!T.matchMedia&&(null==vo&&(vo=T.matchMedia("(prefers-reduced-motion: reduce)")),vo.matches)}};function wr(n,e,i){i[n]&&-1!==i[n].indexOf(e)||(i[n]=i[n]||[],i[n].push(e))}function Ho(n,e,i){if(i&&i[n]){const d=i[n].indexOf(e);-1!==d&&i[n].splice(d,1)}}class dr{constructor(e,i={}){Qe(this,i),this.type=e}}class Ko extends dr{constructor(e,i={}){super("error",Qe({error:e},i))}}class jo{on(e,i){return this._listeners=this._listeners||{},wr(e,i,this._listeners),this}off(e,i){return Ho(e,i,this._listeners),Ho(e,i,this._oneTimeListeners),this}once(e,i){return i?(this._oneTimeListeners=this._oneTimeListeners||{},wr(e,i,this._oneTimeListeners),this):new Promise(d=>this.once(e,d))}fire(e,i){"string"==typeof e&&(e=new dr(e,i||{}));const d=e.type;if(this.listens(d)){e.target=this;const p=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const P of p)P.call(this,e);const m=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const P of m)Ho(d,P,this._oneTimeListeners),P.call(this,e);const w=this._eventedParent;w&&(Qe(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),w.fire(e))}else e instanceof Ko&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,i){return this._eventedParent=e,this._eventedParentData=i,this}}var Dn=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Tr(n,...e){for(const i of e)for(const d in i)n[d]=i[d];return n}function Jo(n){return n instanceof Number||n instanceof String||n instanceof Boolean?n.valueOf():n}function Eo(n){if(Array.isArray(n))return n.map(Eo);if(n instanceof Object&&!(n instanceof Number||n instanceof String||n instanceof Boolean)){const e={};for(const i in n)e[i]=Eo(n[i]);return e}return Jo(n)}class kr extends Error{constructor(e,i){super(i),this.message=i,this.key=e}}var gr=kr;class ys{constructor(e,i=[]){this.parent=e,this.bindings={};for(const[d,p]of i)this.bindings[d]=p}concat(e){return new ys(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var vs=ys;const et={kind:"null"},nt={kind:"number"},rn={kind:"string"},ln={kind:"boolean"},Gn={kind:"color"},Tt={kind:"object"},sn={kind:"value"},Tn={kind:"collator"},ni={kind:"formatted"},si={kind:"resolvedImage"};function ki(n,e){return{kind:"array",itemType:n,N:e}}function Ri(n){if("array"===n.kind){const e=Ri(n.itemType);return"number"==typeof n.N?`array<${e}, ${n.N}>`:"value"===n.itemType.kind?"array":`array<${e}>`}return n.kind}const uo=[et,nt,rn,ln,Gn,ni,Tt,ki(sn),si];function zt(n,e){if("error"===e.kind)return null;if("array"===n.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!zt(n.itemType,e.itemType))&&("number"!=typeof n.N||n.N===e.N))return null}else{if(n.kind===e.kind)return null;if("value"===n.kind)for(const i of uo)if(!zt(i,e))return null}return`Expected ${Ri(n)} but found ${Ri(e)} instead.`}function Xn(n,e){return e.some(i=>i.kind===n.kind)}function On(n,e){return e.some(i=>"null"===i?null===n:"array"===i?Array.isArray(n):"object"===i?n&&!Array.isArray(n)&&"object"==typeof n:i===typeof n)}var Rn,Ei={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Li(n){return(n=Math.round(n))<0?0:n>255?255:n}function mo(n){return Li("%"===n[n.length-1]?parseFloat(n)/100*255:parseInt(n))}function fr(n){return(e="%"===n[n.length-1]?parseFloat(n)/100:parseFloat(n))<0?0:e>1?1:e;var e}function mr(n,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?n+(e-n)*i*6:2*i<1?e:3*i<2?n+(e-n)*(2/3-i)*6:n}try{Rn={}.parseCSSColor=function(n){var e,i=n.replace(/ /g,"").toLowerCase();if(i in Ei)return Ei[i].slice();if("#"===i[0])return 4===i.length?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var d=i.indexOf("("),p=i.indexOf(")");if(-1!==d&&p+1===i.length){var m=i.substr(0,d),w=i.substr(d+1,p-(d+1)).split(","),P=1;switch(m){case"rgba":if(4!==w.length)return null;P=fr(w.pop());case"rgb":return 3!==w.length?null:[mo(w[0]),mo(w[1]),mo(w[2]),P];case"hsla":if(4!==w.length)return null;P=fr(w.pop());case"hsl":if(3!==w.length)return null;var k=(parseFloat(w[0])%360+360)%360/360,N=fr(w[1]),Z=fr(w[2]),q=Z<=.5?Z*(N+1):Z+N-Z*N,ce=2*Z-q;return[Li(255*mr(ce,q,k+1/3)),Li(255*mr(ce,q,k)),Li(255*mr(ce,q,k-1/3)),P];default:return null}}return null}}catch{}class ur{constructor(e,i,d,p=1){this.r=e,this.g=i,this.b=d,this.a=p}static parse(e){if(!e)return;if(e instanceof ur)return e;if("string"!=typeof e)return;const i=Rn(e);return i?new ur(i[0]/255*i[3],i[1]/255*i[3],i[2]/255*i[3],i[3]):void 0}toString(){const[e,i,d,p]=this.toArray();return`rgba(${Math.round(e)},${Math.round(i)},${Math.round(d)},${p})`}toArray(){const{r:e,g:i,b:d,a:p}=this;return 0===p?[0,0,0,0]:[255*e/p,255*i/p,255*d/p,p]}toArray01(){const{r:e,g:i,b:d,a:p}=this;return 0===p?[0,0,0,0]:[e/p,i/p,d/p,p]}toArray01PremultipliedAlpha(){const{r:e,g:i,b:d,a:p}=this;return[e,i,d,p]}}ur.black=new ur(0,0,0,1),ur.white=new ur(1,1,1,1),ur.transparent=new ur(0,0,0,0),ur.red=new ur(1,0,0,1),ur.blue=new ur(0,0,1,1);var Ni=ur;class Xo{constructor(e,i,d){this.sensitivity=e?i?"variant":"case":i?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,i){return this.collator.compare(e,i)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class rs{constructor(e,i,d,p,m){this.text=e.normalize?e.normalize():e,this.image=i,this.scale=d,this.fontStack=p,this.textColor=m}}class qr{constructor(e){this.sections=e}static fromString(e){return new qr([new rs(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof qr?e:qr.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const i of this.sections){if(i.image){e.push(["image",i.image.name]);continue}e.push(i.text);const d={};i.fontStack&&(d["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(d["font-scale"]=i.scale),i.textColor&&(d["text-color"]=["rgba"].concat(i.textColor.toArray())),e.push(d)}return e}}class Rr{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Rr({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Ka(n,e,i,d){return"number"==typeof n&&n>=0&&n<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof i&&i>=0&&i<=255?void 0===d||"number"==typeof d&&d>=0&&d<=1?null:`Invalid rgba value [${[n,e,i,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof d?[n,e,i,d]:[n,e,i]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function cl(n){if(null===n||"string"==typeof n||"boolean"==typeof n||"number"==typeof n||n instanceof Ni||n instanceof Xo||n instanceof qr||n instanceof Rr)return!0;if(Array.isArray(n)){for(const e of n)if(!cl(e))return!1;return!0}if("object"==typeof n){for(const e in n)if(!cl(n[e]))return!1;return!0}return!1}function Lr(n){if(null===n)return et;if("string"==typeof n)return rn;if("boolean"==typeof n)return ln;if("number"==typeof n)return nt;if(n instanceof Ni)return Gn;if(n instanceof Xo)return Tn;if(n instanceof qr)return ni;if(n instanceof Rr)return si;if(Array.isArray(n)){const e=n.length;let i;for(const d of n){const p=Lr(d);if(i){if(i===p)continue;i=sn;break}i=p}return ki(i||sn,e)}return Tt}function dl(n){const e=typeof n;return null===n?"":"string"===e||"number"===e||"boolean"===e?String(n):n instanceof Ni||n instanceof qr||n instanceof Rr?n.toString():JSON.stringify(n)}class wl{constructor(e,i){this.type=e,this.value=i}static parse(e,i){if(2!==e.length)return i.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!cl(e[1]))return i.error("invalid value");const d=e[1];let p=Lr(d);const m=i.expectedType;return"array"!==p.kind||0!==p.N||!m||"array"!==m.kind||"number"==typeof m.N&&0!==m.N||(p=m),new wl(p,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ni?["rgba"].concat(this.value.toArray()):this.value instanceof qr?this.value.serialize():this.value}}var Mr=wl,Ii=class{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}};const xo={string:rn,number:nt,boolean:ln,object:Tt};class _r{constructor(e,i){this.type=e,this.args=i}static parse(e,i){if(e.length<2)return i.error("Expected at least one argument.");let d,p=1;const m=e[0];if("array"===m){let P,k;if(e.length>2){const N=e[1];if("string"!=typeof N||!(N in xo)||"object"===N)return i.error('The item type argument of "array" must be one of string, number, boolean',1);P=xo[N],p++}else P=sn;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return i.error('The length argument to "array" must be a positive integer literal',2);k=e[2],p++}d=ki(P,k)}else d=xo[m];const w=[];for(;p<e.length;p++){const P=i.parse(e[p],p,sn);if(!P)return null;w.push(P)}return new _r(d,w)}evaluate(e){for(let i=0;i<this.args.length;i++){const d=this.args[i].evaluate(e);if(!zt(this.type,Lr(d)))return d;if(i===this.args.length-1)throw new Ii(`Expected value to be of type ${Ri(this.type)}, but found ${Ri(Lr(d))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,i=[e.kind];if("array"===e.kind){const d=e.itemType;if("string"===d.kind||"number"===d.kind||"boolean"===d.kind){i.push(d.kind);const p=e.N;("number"==typeof p||this.args.length>1)&&i.push(p)}}return i.concat(this.args.map(d=>d.serialize()))}}var Ur=_r;class Ws{constructor(e){this.type=ni,this.sections=e}static parse(e,i){if(e.length<2)return i.error("Expected at least one argument.");const d=e[1];if(!Array.isArray(d)&&"object"==typeof d)return i.error("First argument must be an image or text section.");const p=[];let m=!1;for(let w=1;w<=e.length-1;++w){const P=e[w];if(m&&"object"==typeof P&&!Array.isArray(P)){m=!1;let k=null;if(P["font-scale"]&&(k=i.parse(P["font-scale"],1,nt),!k))return null;let N=null;if(P["text-font"]&&(N=i.parse(P["text-font"],1,ki(rn)),!N))return null;let Z=null;if(P["text-color"]&&(Z=i.parse(P["text-color"],1,Gn),!Z))return null;const q=p[p.length-1];q.scale=k,q.font=N,q.textColor=Z}else{const k=i.parse(e[w],1,sn);if(!k)return null;const N=k.type.kind;if("string"!==N&&"value"!==N&&"null"!==N&&"resolvedImage"!==N)return i.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");m=!0,p.push({content:k,scale:null,font:null,textColor:null})}}return new Ws(p)}evaluate(e){return new qr(this.sections.map(i=>{const d=i.content.evaluate(e);return Lr(d)===si?new rs("",d,null,null,null):new rs(dl(d),null,i.scale?i.scale.evaluate(e):null,i.font?i.font.evaluate(e).join(","):null,i.textColor?i.textColor.evaluate(e):null)}))}eachChild(e){for(const i of this.sections)e(i.content),i.scale&&e(i.scale),i.font&&e(i.font),i.textColor&&e(i.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const i of this.sections){e.push(i.content.serialize());const d={};i.scale&&(d["font-scale"]=i.scale.serialize()),i.font&&(d["text-font"]=i.font.serialize()),i.textColor&&(d["text-color"]=i.textColor.serialize()),e.push(d)}return e}}class ts{constructor(e){this.type=si,this.input=e}static parse(e,i){if(2!==e.length)return i.error("Expected two arguments.");const d=i.parse(e[1],1,rn);return d?new ts(d):i.error("No image name provided.")}evaluate(e){const i=this.input.evaluate(e),d=Rr.fromString(i);return d&&e.availableImages&&(d.available=e.availableImages.indexOf(i)>-1),d}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const kl={"to-boolean":ln,"to-color":Gn,"to-number":nt,"to-string":rn};class Vr{constructor(e,i){this.type=e,this.args=i}static parse(e,i){if(e.length<2)return i.error("Expected at least one argument.");const d=e[0];if(("to-boolean"===d||"to-string"===d)&&2!==e.length)return i.error("Expected one argument.");const p=kl[d],m=[];for(let w=1;w<e.length;w++){const P=i.parse(e[w],w,sn);if(!P)return null;m.push(P)}return new Vr(p,m)}evaluate(e){if("boolean"===this.type.kind)return!!this.args[0].evaluate(e);if("color"===this.type.kind){let i,d;for(const p of this.args){if(i=p.evaluate(e),d=null,i instanceof Ni)return i;if("string"==typeof i){const m=e.parseColor(i);if(m)return m}else if(Array.isArray(i)&&(d=i.length<3||i.length>4?`Invalid rbga value ${JSON.stringify(i)}: expected an array containing either three or four numeric values.`:Ka(i[0],i[1],i[2],i[3]),!d))return new Ni(i[0]/255,i[1]/255,i[2]/255,i[3])}throw new Ii(d||`Could not parse color from value '${"string"==typeof i?i:String(JSON.stringify(i))}'`)}if("number"===this.type.kind){let i=null;for(const d of this.args){if(i=d.evaluate(e),null===i)return 0;const p=Number(i);if(!isNaN(p))return p}throw new Ii(`Could not convert ${JSON.stringify(i)} to number.`)}return"formatted"===this.type.kind?qr.fromString(dl(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Rr.fromString(dl(this.args[0].evaluate(e))):dl(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Ws([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ts(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild(i=>{e.push(i.serialize())}),e}}var Ds=Vr;const Ls=["Unknown","Point","LineString","Polygon"];var lo=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Ls[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const n=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:i,y:d}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(i*e-n[0])+this.featureDistanceData.bearing[1]*(d*e-n[1])}return 0}parseColor(n){let e=this._parseColorCache[n];return e||(e=this._parseColorCache[n]=Ni.parse(n)),e}};class Es{constructor(e,i,d,p){this.name=e,this.type=i,this._evaluate=d,this.args=p}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,i){const d=e[0],p=Es.definitions[d];if(!p)return i.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const m=Array.isArray(p)?p[0]:p.type,w=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,P=w.filter(([N])=>!Array.isArray(N)||N.length===e.length-1);let k=null;for(const[N,Z]of P){k=new pl(i.registry,i.path,null,i.scope);const q=[];let ce=!1;for(let xe=1;xe<e.length;xe++){const Ee=e[xe],He=Array.isArray(N)?N[xe-1]:N.type,ht=k.parse(Ee,1+q.length,He);if(!ht){ce=!0;break}q.push(ht)}if(!ce)if(Array.isArray(N)&&N.length!==q.length)k.error(`Expected ${N.length} arguments, but found ${q.length} instead.`);else{for(let xe=0;xe<q.length;xe++){const Ee=Array.isArray(N)?N[xe]:N.type,He=q[xe];k.concat(xe+1).checkSubtype(Ee,He.type)}if(0===k.errors.length)return new Es(d,m,Z,q)}}if(1===P.length)i.errors.push(...k.errors);else{const N=(P.length?P:w).map(([q])=>{return ce=q,Array.isArray(ce)?`(${ce.map(Ri).join(", ")})`:`(${Ri(ce.type)}...)`;var ce}).join(" | "),Z=[];for(let q=1;q<e.length;q++){const ce=i.parse(e[q],1+Z.length);if(!ce)return null;Z.push(Ri(ce.type))}i.error(`Expected arguments of type ${N}, but found (${Z.join(", ")}) instead.`)}return null}static register(e,i){Es.definitions=i;for(const d in i)e[d]=Es}}var $s=Es;class ga{constructor(e,i,d){this.type=Tn,this.locale=d,this.caseSensitive=e,this.diacriticSensitive=i}static parse(e,i){if(2!==e.length)return i.error("Expected one argument.");const d=e[1];if("object"!=typeof d||Array.isArray(d))return i.error("Collator options argument must be an object.");const p=i.parse(void 0!==d["case-sensitive"]&&d["case-sensitive"],1,ln);if(!p)return null;const m=i.parse(void 0!==d["diacritic-sensitive"]&&d["diacritic-sensitive"],1,ln);if(!m)return null;let w=null;return d.locale&&(w=i.parse(d.locale,1,rn),!w)?null:new ga(p,m,w)}evaluate(e){return new Xo(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Sr=8192;function ul(n,e){n[0]=Math.min(n[0],e[0]),n[1]=Math.min(n[1],e[1]),n[2]=Math.max(n[2],e[0]),n[3]=Math.max(n[3],e[1])}function na(n,e){return!(n[0]<=e[0]||n[2]>=e[2]||n[1]<=e[1]||n[3]>=e[3])}function Ns(n,e){const i=(180+n[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n[1]*Math.PI/360)))/360,p=Math.pow(2,e.z);return[Math.round(i*p*Sr),Math.round(d*p*Sr)]}function Zl(n,e,i){const d=n[0]-e[0],p=n[1]-e[1],m=n[0]-i[0],w=n[1]-i[1];return d*w-m*p==0&&d*m<=0&&p*w<=0}function Ml(n,e){let i=!1;for(let w=0,P=e.length;w<P;w++){const k=e[w];for(let N=0,Z=k.length;N<Z-1;N++){if(Zl(n,k[N],k[N+1]))return!1;(p=k[N])[1]>(d=n)[1]!=(m=k[N+1])[1]>d[1]&&d[0]<(m[0]-p[0])*(d[1]-p[1])/(m[1]-p[1])+p[0]&&(i=!i)}}var d,p,m;return i}function La(n,e){for(let i=0;i<e.length;i++)if(Ml(n,e[i]))return!0;return!1}function Fs(n,e,i,d){const p=d[0]-i[0],m=d[1]-i[1],w=(n[0]-i[0])*m-p*(n[1]-i[1]),P=(e[0]-i[0])*m-p*(e[1]-i[1]);return w>0&&P<0||w<0&&P>0}function ia(n,e,i){for(const N of i)for(let Z=0;Z<N.length-1;++Z)if((P=[(w=N[Z+1])[0]-(m=N[Z])[0],w[1]-m[1]])[0]*(k=[(p=e)[0]-(d=n)[0],p[1]-d[1]])[1]-P[1]*k[0]!=0&&Fs(d,p,m,w)&&Fs(m,w,d,p))return!0;var d,p,m,w,P,k;return!1}function Vo(n,e){for(let i=0;i<n.length;++i)if(!Ml(n[i],e))return!1;for(let i=0;i<n.length-1;++i)if(ia(n[i],n[i+1],e))return!1;return!0}function Oo(n,e){for(let i=0;i<e.length;i++)if(Vo(n,e[i]))return!0;return!1}function hl(n,e,i){const d=[];for(let p=0;p<n.length;p++){const m=[];for(let w=0;w<n[p].length;w++){const P=Ns(n[p][w],i);ul(e,P),m.push(P)}d.push(m)}return d}function Rl(n,e,i){const d=[];for(let p=0;p<n.length;p++){const m=hl(n[p],e,i);d.push(m)}return d}function Is(n,e,i,d){if(n[0]<i[0]||n[0]>i[2]){const p=.5*d;let m=n[0]-i[0]>p?-d:i[0]-n[0]>p?d:0;0===m&&(m=n[0]-i[2]>p?-d:i[2]-n[0]>p?d:0),n[0]+=m}ul(e,n)}function Ks(n,e,i,d){const p=Math.pow(2,d.z)*Sr,m=[d.x*Sr,d.y*Sr],w=[];if(!n)return w;for(const P of n)for(const k of P){const N=[k.x+m[0],k.y+m[1]];Is(N,e,i,p),w.push(N)}return w}function Na(n,e,i,d){const p=Math.pow(2,d.z)*Sr,m=[d.x*Sr,d.y*Sr],w=[];if(!n)return w;for(const k of n){const N=[];for(const Z of k){const q=[Z.x+m[0],Z.y+m[1]];ul(e,q),N.push(q)}w.push(N)}if(e[2]-e[0]<=p/2){(P=e)[0]=P[1]=1/0,P[2]=P[3]=-1/0;for(const k of w)for(const N of k)Is(N,e,i,p)}var P;return w}class Oa{constructor(e,i){this.type=ln,this.geojson=e,this.geometries=i}static parse(e,i){if(2!==e.length)return i.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(cl(e[1])){const d=e[1];if("FeatureCollection"===d.type)for(let p=0;p<d.features.length;++p){const m=d.features[p].geometry.type;if("Polygon"===m||"MultiPolygon"===m)return new Oa(d,d.features[p].geometry)}else if("Feature"===d.type){const p=d.geometry.type;if("Polygon"===p||"MultiPolygon"===p)return new Oa(d,d.geometry)}else if("Polygon"===d.type||"MultiPolygon"===d.type)return new Oa(d,d)}return i.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(i,d){const p=[1/0,1/0,-1/0,-1/0],m=[1/0,1/0,-1/0,-1/0],w=i.canonicalID();if(!w)return!1;if("Polygon"===d.type){const P=hl(d.coordinates,m,w),k=Ks(i.geometry(),p,m,w);if(!na(p,m))return!1;for(const N of k)if(!Ml(N,P))return!1}if("MultiPolygon"===d.type){const P=Rl(d.coordinates,m,w),k=Ks(i.geometry(),p,m,w);if(!na(p,m))return!1;for(const N of k)if(!La(N,P))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(i,d){const p=[1/0,1/0,-1/0,-1/0],m=[1/0,1/0,-1/0,-1/0],w=i.canonicalID();if(!w)return!1;if("Polygon"===d.type){const P=hl(d.coordinates,m,w),k=Na(i.geometry(),p,m,w);if(!na(p,m))return!1;for(const N of k)if(!Vo(N,P))return!1}if("MultiPolygon"===d.type){const P=Rl(d.coordinates,m,w),k=Na(i.geometry(),p,m,w);if(!na(p,m))return!1;for(const N of k)if(!Oo(N,P))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var fa=Oa;function ss(n){if(n instanceof $s&&("get"===n.name&&1===n.args.length||"feature-state"===n.name||"has"===n.name&&1===n.args.length||"properties"===n.name||"geometry-type"===n.name||"id"===n.name||/^filter-/.test(n.name))||n instanceof fa)return!1;let e=!0;return n.eachChild(i=>{e&&!ss(i)&&(e=!1)}),e}function Ya(n){if(n instanceof $s&&"feature-state"===n.name)return!1;let e=!0;return n.eachChild(i=>{e&&!Ya(i)&&(e=!1)}),e}function Gr(n,e){if(n instanceof $s&&e.indexOf(n.name)>=0)return!1;let i=!0;return n.eachChild(d=>{i&&!Gr(d,e)&&(i=!1)}),i}class bs{constructor(e,i){this.type=i.type,this.name=e,this.boundExpression=i}static parse(e,i){if(2!==e.length||"string"!=typeof e[1])return i.error("'var' expression requires exactly one string literal argument.");const d=e[1];return i.scope.has(d)?new bs(d,i.scope.get(d)):i.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Wl=bs;class As{constructor(e,i=[],d,p=new vs,m=[]){this.registry=e,this.path=i,this.key=i.map(w=>`[${w}]`).join(""),this.scope=p,this.errors=m,this.expectedType=d}parse(e,i,d,p,m={}){return i?this.concat(i,d,p)._parse(e,m):this._parse(e,m)}_parse(e,i){function d(p,m,w){return"assert"===w?new Ur(m,[p]):"coerce"===w?new Ds(m,[p]):p}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=e[0];if("string"!=typeof p)return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const m=this.registry[p];if(m){let w=m.parse(e,this);if(!w)return null;if(this.expectedType){const P=this.expectedType,k=w.type;if("string"!==P.kind&&"number"!==P.kind&&"boolean"!==P.kind&&"object"!==P.kind&&"array"!==P.kind||"value"!==k.kind)if("color"!==P.kind&&"formatted"!==P.kind&&"resolvedImage"!==P.kind||"value"!==k.kind&&"string"!==k.kind){if(this.checkSubtype(P,k))return null}else w=d(w,P,i.typeAnnotation||"coerce");else w=d(w,P,i.typeAnnotation||"assert")}if(!(w instanceof Mr)&&"resolvedImage"!==w.type.kind&&ma(w)){const P=new lo;try{w=new Mr(w.type,w.evaluate(P))}catch(k){return this.error(k.message),null}}return w}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,i,d){const p="number"==typeof e?this.path.concat(e):this.path,m=d?this.scope.concat(d):this.scope;return new As(this.registry,p,i||null,m,this.errors)}error(e,...i){const d=`${this.key}${i.map(p=>`[${p}]`).join("")}`;this.errors.push(new gr(d,e))}checkSubtype(e,i){const d=zt(e,i);return d&&this.error(d),d}}var pl=As;function ma(n){if(n instanceof Wl)return ma(n.boundExpression);if(n instanceof $s&&"error"===n.name||n instanceof ga||n instanceof fa)return!1;const e=n instanceof Ds||n instanceof Ur;let i=!0;return n.eachChild(d=>{i=e?i&&ma(d):i&&d instanceof Mr}),!!i&&ss(n)&&Gr(n,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Kl(n,e){const i=n.length-1;let d,p,m=0,w=i,P=0;for(;m<=w;)if(P=Math.floor((m+w)/2),d=n[P],p=n[P+1],d<=e){if(P===i||e<p)return P;m=P+1}else{if(!(d>e))throw new Ii("Input is not a number.");w=P-1}return 0}class Fa{constructor(e,i,d){this.type=e,this.input=i,this.labels=[],this.outputs=[];for(const[p,m]of d)this.labels.push(p),this.outputs.push(m)}static parse(e,i){if(e.length-1<4)return i.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return i.error("Expected an even number of arguments.");const d=i.parse(e[1],1,nt);if(!d)return null;const p=[];let m=null;i.expectedType&&"value"!==i.expectedType.kind&&(m=i.expectedType);for(let w=1;w<e.length;w+=2){const P=1===w?-1/0:e[w],k=e[w+1],N=w,Z=w+1;if("number"!=typeof P)return i.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',N);if(p.length&&p[p.length-1][0]>=P)return i.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',N);const q=i.parse(k,Z,m);if(!q)return null;m=m||q.type,p.push([P,q])}return new Fa(m,d,p)}evaluate(e){const i=this.labels,d=this.outputs;if(1===i.length)return d[0].evaluate(e);const p=this.input.evaluate(e);if(p<=i[0])return d[0].evaluate(e);const m=i.length;return p>=i[m-1]?d[m-1].evaluate(e):d[Kl(i,p)].evaluate(e)}eachChild(e){e(this.input);for(const i of this.outputs)e(i)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let i=0;i<this.labels.length;i++)i>0&&e.push(this.labels[i]),e.push(this.outputs[i].serialize());return e}}var qa=Fa;function nr(n,e,i){return n*(1-i)+e*i}var gc=Object.freeze({__proto__:null,array:function(n,e,i){return n.map((d,p)=>nr(d,e[p],i))},color:function(n,e,i){return new Ni(nr(n.r,e.r,i),nr(n.g,e.g,i),nr(n.b,e.b,i),nr(n.a,e.a,i))},number:nr});const tu=4/29,fc=6/29,as=3*fc*fc,nu=fc*fc*fc,Dd=Math.PI/180,Ne=180/Math.PI;function je(n){return n>nu?Math.pow(n,1/3):n/as+tu}function ye(n){return n>fc?n*n*n:as*(n-tu)}function mt(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function vn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function ao(n){const e=vn(n.r),i=vn(n.g),d=vn(n.b),p=je((.4124564*e+.3575761*i+.1804375*d)/.95047),m=je((.2126729*e+.7151522*i+.072175*d)/1);return{l:116*m-16,a:500*(p-m),b:200*(m-je((.0193339*e+.119192*i+.9503041*d)/1.08883)),alpha:n.a}}function Po(n){let e=(n.l+16)/116,i=isNaN(n.a)?e:e+n.a/500,d=isNaN(n.b)?e:e-n.b/200;return e=1*ye(e),i=.95047*ye(i),d=1.08883*ye(d),new Ni(mt(3.2404542*i-1.5371385*e-.4985314*d),mt(-.969266*i+1.8760108*e+.041556*d),mt(.0556434*i-.2040259*e+1.0572252*d),n.alpha)}function Dr(n,e,i){const d=e-n;return n+i*(d>180||d<-180?d-360*Math.round(d/360):d)}const _o={forward:ao,reverse:Po,interpolate:function(n,e,i){return{l:nr(n.l,e.l,i),a:nr(n.a,e.a,i),b:nr(n.b,e.b,i),alpha:nr(n.alpha,e.alpha,i)}}},Ba={forward:function(n){const{l:e,a:i,b:d}=ao(n),p=Math.atan2(d,i)*Ne;return{h:p<0?p+360:p,c:Math.sqrt(i*i+d*d),l:e,alpha:n.a}},reverse:function(n){const e=n.h*Dd,i=n.c;return Po({l:n.l,a:Math.cos(e)*i,b:Math.sin(e)*i,alpha:n.alpha})},interpolate:function(n,e,i){return{h:Dr(n.h,e.h,i),c:nr(n.c,e.c,i),l:nr(n.l,e.l,i),alpha:nr(n.alpha,e.alpha,i)}}};var Yl=Object.freeze({__proto__:null,hcl:Ba,lab:_o});class Ys{constructor(e,i,d,p,m){this.type=e,this.operator=i,this.interpolation=d,this.input=p,this.labels=[],this.outputs=[];for(const[w,P]of m)this.labels.push(w),this.outputs.push(P)}static interpolationFactor(e,i,d,p){let m=0;if("exponential"===e.name)m=_a(i,e.base,d,p);else if("linear"===e.name)m=_a(i,1,d,p);else if("cubic-bezier"===e.name){const w=e.controlPoints;m=new he(w[0],w[1],w[2],w[3]).solve(_a(i,1,d,p))}return m}static parse(e,i){let[d,p,m,...w]=e;if(!Array.isArray(p)||0===p.length)return i.error("Expected an interpolation type expression.",1);if("linear"===p[0])p={name:"linear"};else if("exponential"===p[0]){const N=p[1];if("number"!=typeof N)return i.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:N}}else{if("cubic-bezier"!==p[0])return i.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const N=p.slice(1);if(4!==N.length||N.some(Z=>"number"!=typeof Z||Z<0||Z>1))return i.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:N}}}if(e.length-1<4)return i.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return i.error("Expected an even number of arguments.");if(m=i.parse(m,2,nt),!m)return null;const P=[];let k=null;"interpolate-hcl"===d||"interpolate-lab"===d?k=Gn:i.expectedType&&"value"!==i.expectedType.kind&&(k=i.expectedType);for(let N=0;N<w.length;N+=2){const Z=w[N],q=w[N+1],ce=N+3,xe=N+4;if("number"!=typeof Z)return i.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ce);if(P.length&&P[P.length-1][0]>=Z)return i.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ce);const Ee=i.parse(q,xe,k);if(!Ee)return null;k=k||Ee.type,P.push([Z,Ee])}return"number"===k.kind||"color"===k.kind||"array"===k.kind&&"number"===k.itemType.kind&&"number"==typeof k.N?new Ys(k,d,p,m,P):i.error(`Type ${Ri(k)} is not interpolatable.`)}evaluate(e){const i=this.labels,d=this.outputs;if(1===i.length)return d[0].evaluate(e);const p=this.input.evaluate(e);if(p<=i[0])return d[0].evaluate(e);const m=i.length;if(p>=i[m-1])return d[m-1].evaluate(e);const w=Kl(i,p),P=Ys.interpolationFactor(this.interpolation,p,i[w],i[w+1]),k=d[w].evaluate(e),N=d[w+1].evaluate(e);return"interpolate"===this.operator?gc[this.type.kind.toLowerCase()](k,N,P):"interpolate-hcl"===this.operator?Ba.reverse(Ba.interpolate(Ba.forward(k),Ba.forward(N),P)):_o.reverse(_o.interpolate(_o.forward(k),_o.forward(N),P))}eachChild(e){e(this.input);for(const i of this.outputs)e(i)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const i=[this.operator,e,this.input.serialize()];for(let d=0;d<this.labels.length;d++)i.push(this.labels[d],this.outputs[d].serialize());return i}}function _a(n,e,i,d){const p=d-i,m=n-i;return 0===p?0:1===e?m/p:(Math.pow(e,m)-1)/(Math.pow(e,p)-1)}var Er=Ys;class Ll{constructor(e,i){this.type=e,this.args=i}static parse(e,i){if(e.length<2)return i.error("Expectected at least one argument.");let d=null;const p=i.expectedType;p&&"value"!==p.kind&&(d=p);const m=[];for(const P of e.slice(1)){const k=i.parse(P,1+m.length,d,void 0,{typeAnnotation:"omit"});if(!k)return null;d=d||k.type,m.push(k)}const w=p&&m.some(P=>zt(p,P.type));return new Ll(w?sn:d,m)}evaluate(e){let i,d=null,p=0;for(const m of this.args){if(p++,d=m.evaluate(e),d&&d instanceof Rr&&!d.available&&(i||(i=d),d=null,p===this.args.length))return i;if(null!==d)break}return d}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(i=>{e.push(i.serialize())}),e}}var ns=Ll;class Ja{constructor(e,i){this.type=i.type,this.bindings=[].concat(e),this.result=i}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const i of this.bindings)e(i[1]);e(this.result)}static parse(e,i){if(e.length<4)return i.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const d=[];for(let m=1;m<e.length-1;m+=2){const w=e[m];if("string"!=typeof w)return i.error(`Expected string, but found ${typeof w} instead.`,m);if(/[^a-zA-Z0-9_]/.test(w))return i.error("Variable names must contain only alphanumeric characters or '_'.",m);const P=i.parse(e[m+1],m+1);if(!P)return null;d.push([w,P])}const p=i.parse(e[e.length-1],e.length-1,i.expectedType,d);return p?new Ja(d,p):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[i,d]of this.bindings)e.push(i,d.serialize());return e.push(this.result.serialize()),e}}var ya=Ja;class mc{constructor(e,i,d){this.type=e,this.index=i,this.input=d}static parse(e,i){if(3!==e.length)return i.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const d=i.parse(e[1],1,nt),p=i.parse(e[2],2,ki(i.expectedType||sn));return d&&p?new mc(p.type.itemType,d,p):null}evaluate(e){const i=this.index.evaluate(e),d=this.input.evaluate(e);if(i<0)throw new Ii(`Array index out of bounds: ${i} < 0.`);if(i>=d.length)throw new Ii(`Array index out of bounds: ${i} > ${d.length-1}.`);if(i!==Math.floor(i))throw new Ii(`Array index must be an integer, but found ${i} instead.`);return d[i]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var iu=mc;class _c{constructor(e,i){this.type=ln,this.needle=e,this.haystack=i}static parse(e,i){if(3!==e.length)return i.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const d=i.parse(e[1],1,sn),p=i.parse(e[2],2,sn);return d&&p?Xn(d.type,[ln,rn,nt,et,sn])?new _c(d,p):i.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ri(d.type)} instead`):null}evaluate(e){const i=this.needle.evaluate(e),d=this.haystack.evaluate(e);if(null==d)return!1;if(!On(i,["boolean","string","number","null"]))throw new Ii(`Expected first argument to be of type boolean, string, number or null, but found ${Ri(Lr(i))} instead.`);if(!On(d,["string","array"]))throw new Ii(`Expected second argument to be of type array or string, but found ${Ri(Lr(d))} instead.`);return d.indexOf(i)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var ql=_c;class Bs{constructor(e,i,d){this.type=nt,this.needle=e,this.haystack=i,this.fromIndex=d}static parse(e,i){if(e.length<=2||e.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const d=i.parse(e[1],1,sn),p=i.parse(e[2],2,sn);if(!d||!p)return null;if(!Xn(d.type,[ln,rn,nt,et,sn]))return i.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ri(d.type)} instead`);if(4===e.length){const m=i.parse(e[3],3,nt);return m?new Bs(d,p,m):null}return new Bs(d,p)}evaluate(e){const i=this.needle.evaluate(e),d=this.haystack.evaluate(e);if(!On(i,["boolean","string","number","null"]))throw new Ii(`Expected first argument to be of type boolean, string, number or null, but found ${Ri(Lr(i))} instead.`);if(!On(d,["string","array"]))throw new Ii(`Expected second argument to be of type array or string, but found ${Ri(Lr(d))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(e);return d.indexOf(i,p)}return d.indexOf(i)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Ic=Bs;class Gc{constructor(e,i,d,p,m,w){this.inputType=e,this.type=i,this.input=d,this.cases=p,this.outputs=m,this.otherwise=w}static parse(e,i){if(e.length<5)return i.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return i.error("Expected an even number of arguments.");let d,p;i.expectedType&&"value"!==i.expectedType.kind&&(p=i.expectedType);const m={},w=[];for(let N=2;N<e.length-1;N+=2){let Z=e[N];const q=e[N+1];Array.isArray(Z)||(Z=[Z]);const ce=i.concat(N);if(0===Z.length)return ce.error("Expected at least one branch label.");for(const Ee of Z){if("number"!=typeof Ee&&"string"!=typeof Ee)return ce.error("Branch labels must be numbers or strings.");if("number"==typeof Ee&&Math.abs(Ee)>Number.MAX_SAFE_INTEGER)return ce.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof Ee&&Math.floor(Ee)!==Ee)return ce.error("Numeric branch labels must be integer values.");if(d){if(ce.checkSubtype(d,Lr(Ee)))return null}else d=Lr(Ee);if(void 0!==m[String(Ee)])return ce.error("Branch labels must be unique.");m[String(Ee)]=w.length}const xe=i.parse(q,N,p);if(!xe)return null;p=p||xe.type,w.push(xe)}const P=i.parse(e[1],1,sn);if(!P)return null;const k=i.parse(e[e.length-1],e.length-1,p);return k?"value"!==P.type.kind&&i.concat(1).checkSubtype(d,P.type)?null:new Gc(d,p,P,m,w,k):null}evaluate(e){const i=this.input.evaluate(e);return(Lr(i)===this.inputType&&this.outputs[this.cases[i]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],i=Object.keys(this.cases).sort(),d=[],p={};for(const w of i){const P=p[this.cases[w]];void 0===P?(p[this.cases[w]]=d.length,d.push([this.cases[w],[w]])):d[P][1].push(w)}const m=w=>"number"===this.inputType.kind?Number(w):w;for(const[w,P]of d)e.push(1===P.length?m(P[0]):P.map(m)),e.push(this.outputs[w].serialize());return e.push(this.otherwise.serialize()),e}}var Ed=Gc;class Id{constructor(e,i,d){this.type=e,this.branches=i,this.otherwise=d}static parse(e,i){if(e.length<4)return i.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return i.error("Expected an odd number of arguments.");let d;i.expectedType&&"value"!==i.expectedType.kind&&(d=i.expectedType);const p=[];for(let w=1;w<e.length-1;w+=2){const P=i.parse(e[w],w,ln);if(!P)return null;const k=i.parse(e[w+1],w+1,d);if(!k)return null;p.push([P,k]),d=d||k.type}const m=i.parse(e[e.length-1],e.length-1,d);return m?new Id(d,p,m):null}evaluate(e){for(const[i,d]of this.branches)if(i.evaluate(e))return d.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[i,d]of this.branches)e(i),e(d);e(this.otherwise)}outputDefined(){return this.branches.every(([e,i])=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(i=>{e.push(i.serialize())}),e}}var ou=Id;class yc{constructor(e,i,d,p){this.type=e,this.input=i,this.beginIndex=d,this.endIndex=p}static parse(e,i){if(e.length<=2||e.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const d=i.parse(e[1],1,sn),p=i.parse(e[2],2,nt);if(!d||!p)return null;if(!Xn(d.type,[ki(sn),rn,sn]))return i.error(`Expected first argument to be of type array or string, but found ${Ri(d.type)} instead`);if(4===e.length){const m=i.parse(e[3],3,nt);return m?new yc(d.type,d,p,m):null}return new yc(d.type,d,p)}evaluate(e){const i=this.input.evaluate(e),d=this.beginIndex.evaluate(e);if(!On(i,["string","array"]))throw new Ii(`Expected first argument to be of type array or string, but found ${Ri(Lr(i))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(e);return i.slice(d,p)}return i.slice(d)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var $c=yc;function Xa(n,e){return"=="===n||"!="===n?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function Ac(n,e,i,d){return 0===d.compare(e,i)}function ho(n,e,i){const d="=="!==n&&"!="!==n;return class gC{constructor(m,w,P){this.type=ln,this.lhs=m,this.rhs=w,this.collator=P,this.hasUntypedArgument="value"===m.type.kind||"value"===w.type.kind}static parse(m,w){if(3!==m.length&&4!==m.length)return w.error("Expected two or three arguments.");const P=m[0];let k=w.parse(m[1],1,sn);if(!k)return null;if(!Xa(P,k.type))return w.concat(1).error(`"${P}" comparisons are not supported for type '${Ri(k.type)}'.`);let N=w.parse(m[2],2,sn);if(!N)return null;if(!Xa(P,N.type))return w.concat(2).error(`"${P}" comparisons are not supported for type '${Ri(N.type)}'.`);if(k.type.kind!==N.type.kind&&"value"!==k.type.kind&&"value"!==N.type.kind)return w.error(`Cannot compare types '${Ri(k.type)}' and '${Ri(N.type)}'.`);d&&("value"===k.type.kind&&"value"!==N.type.kind?k=new Ur(N.type,[k]):"value"!==k.type.kind&&"value"===N.type.kind&&(N=new Ur(k.type,[N])));let Z=null;if(4===m.length){if("string"!==k.type.kind&&"string"!==N.type.kind&&"value"!==k.type.kind&&"value"!==N.type.kind)return w.error("Cannot use collator to compare non-string types.");if(Z=w.parse(m[3],3,Tn),!Z)return null}return new gC(k,N,Z)}evaluate(m){const w=this.lhs.evaluate(m),P=this.rhs.evaluate(m);if(d&&this.hasUntypedArgument){const k=Lr(w),N=Lr(P);if(k.kind!==N.kind||"string"!==k.kind&&"number"!==k.kind)throw new Ii(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${k.kind}, ${N.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const k=Lr(w),N=Lr(P);if("string"!==k.kind||"string"!==N.kind)return e(m,w,P)}return this.collator?i(m,w,P,this.collator.evaluate(m)):e(m,w,P)}eachChild(m){m(this.lhs),m(this.rhs),this.collator&&m(this.collator)}outputDefined(){return!0}serialize(){const m=[n];return this.eachChild(w=>{m.push(w.serialize())}),m}}}const ru=ho("==",function(n,e,i){return e===i},Ac),Ad=ho("!=",function(n,e,i){return e!==i},function(n,e,i,d){return!Ac(0,e,i,d)}),kd=ho("<",function(n,e,i){return e<i},function(n,e,i,d){return d.compare(e,i)<0}),Rd=ho(">",function(n,e,i){return e>i},function(n,e,i,d){return d.compare(e,i)>0}),gl=ho("<=",function(n,e,i){return e<=i},function(n,e,i,d){return d.compare(e,i)<=0}),su=ho(">=",function(n,e,i){return e>=i},function(n,e,i,d){return d.compare(e,i)>=0});class Zc{constructor(e,i,d,p,m,w){this.type=rn,this.number=e,this.locale=i,this.currency=d,this.unit=p,this.minFractionDigits=m,this.maxFractionDigits=w}static parse(e,i){if(3!==e.length)return i.error("Expected two arguments.");const d=i.parse(e[1],1,nt);if(!d)return null;const p=e[2];if("object"!=typeof p||Array.isArray(p))return i.error("NumberFormat options argument must be an object.");let m=null;if(p.locale&&(m=i.parse(p.locale,1,rn),!m))return null;let w=null;if(p.currency&&(w=i.parse(p.currency,1,rn),!w))return null;let P=null;if(p.unit&&(P=i.parse(p.unit,1,rn),!P))return null;let k=null;if(p["min-fraction-digits"]&&(k=i.parse(p["min-fraction-digits"],1,nt),!k))return null;let N=null;return p["max-fraction-digits"]&&(N=i.parse(p["max-fraction-digits"],1,nt),!N)?null:new Zc(d,m,w,P,k,N)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class vc{constructor(e){this.type=nt,this.input=e}static parse(e,i){if(2!==e.length)return i.error(`Expected 1 argument, but found ${e.length-1} instead.`);const d=i.parse(e[1],1);return d?"array"!==d.type.kind&&"string"!==d.type.kind&&"value"!==d.type.kind?i.error(`Expected argument of type string or array, but found ${Ri(d.type)} instead.`):new vc(d):null}evaluate(e){const i=this.input.evaluate(e);if("string"==typeof i||Array.isArray(i))return i.length;throw new Ii(`Expected value to be of type string or array, but found ${Ri(Lr(i))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(i=>{e.push(i.serialize())}),e}}const Du={"==":ru,"!=":Ad,">":Rd,"<":kd,">=":su,"<=":gl,array:Ur,at:iu,boolean:Ur,case:ou,coalesce:ns,collator:ga,format:Ws,image:ts,in:ql,"index-of":Ic,interpolate:Er,"interpolate-hcl":Er,"interpolate-lab":Er,length:vc,let:ya,literal:Mr,match:Ed,number:Ur,"number-format":Zc,object:Ur,slice:$c,step:qa,string:Ur,"to-boolean":Ds,"to-color":Ds,"to-number":Ds,"to-string":Ds,var:Wl,within:fa};function Ld(n,[e,i,d,p]){e=e.evaluate(n),i=i.evaluate(n),d=d.evaluate(n);const m=p?p.evaluate(n):1,w=Ka(e,i,d,m);if(w)throw new Ii(w);return new Ni(e/255*m,i/255*m,d/255*m,m)}function Nl(n,e){return n in e}function bc(n,e){const i=e[n];return void 0===i?null:i}function Qa(n){return{type:n}}$s.register(Du,{error:[{kind:"error"},[rn],(n,[e])=>{throw new Ii(e.evaluate(n))}],typeof:[rn,[sn],(n,[e])=>Ri(Lr(e.evaluate(n)))],"to-rgba":[ki(nt,4),[Gn],(n,[e])=>e.evaluate(n).toArray()],rgb:[Gn,[nt,nt,nt],Ld],rgba:[Gn,[nt,nt,nt,nt],Ld],has:{type:ln,overloads:[[[rn],(n,[e])=>Nl(e.evaluate(n),n.properties())],[[rn,Tt],(n,[e,i])=>Nl(e.evaluate(n),i.evaluate(n))]]},get:{type:sn,overloads:[[[rn],(n,[e])=>bc(e.evaluate(n),n.properties())],[[rn,Tt],(n,[e,i])=>bc(e.evaluate(n),i.evaluate(n))]]},"feature-state":[sn,[rn],(n,[e])=>bc(e.evaluate(n),n.featureState||{})],properties:[Tt,[],n=>n.properties()],"geometry-type":[rn,[],n=>n.geometryType()],id:[sn,[],n=>n.id()],zoom:[nt,[],n=>n.globals.zoom],pitch:[nt,[],n=>n.globals.pitch||0],"distance-from-center":[nt,[],n=>n.distanceFromCenter()],"heatmap-density":[nt,[],n=>n.globals.heatmapDensity||0],"line-progress":[nt,[],n=>n.globals.lineProgress||0],"sky-radial-progress":[nt,[],n=>n.globals.skyRadialProgress||0],accumulated:[sn,[],n=>void 0===n.globals.accumulated?null:n.globals.accumulated],"+":[nt,Qa(nt),(n,e)=>{let i=0;for(const d of e)i+=d.evaluate(n);return i}],"*":[nt,Qa(nt),(n,e)=>{let i=1;for(const d of e)i*=d.evaluate(n);return i}],"-":{type:nt,overloads:[[[nt,nt],(n,[e,i])=>e.evaluate(n)-i.evaluate(n)],[[nt],(n,[e])=>-e.evaluate(n)]]},"/":[nt,[nt,nt],(n,[e,i])=>e.evaluate(n)/i.evaluate(n)],"%":[nt,[nt,nt],(n,[e,i])=>e.evaluate(n)%i.evaluate(n)],ln2:[nt,[],()=>Math.LN2],pi:[nt,[],()=>Math.PI],e:[nt,[],()=>Math.E],"^":[nt,[nt,nt],(n,[e,i])=>Math.pow(e.evaluate(n),i.evaluate(n))],sqrt:[nt,[nt],(n,[e])=>Math.sqrt(e.evaluate(n))],log10:[nt,[nt],(n,[e])=>Math.log(e.evaluate(n))/Math.LN10],ln:[nt,[nt],(n,[e])=>Math.log(e.evaluate(n))],log2:[nt,[nt],(n,[e])=>Math.log(e.evaluate(n))/Math.LN2],sin:[nt,[nt],(n,[e])=>Math.sin(e.evaluate(n))],cos:[nt,[nt],(n,[e])=>Math.cos(e.evaluate(n))],tan:[nt,[nt],(n,[e])=>Math.tan(e.evaluate(n))],asin:[nt,[nt],(n,[e])=>Math.asin(e.evaluate(n))],acos:[nt,[nt],(n,[e])=>Math.acos(e.evaluate(n))],atan:[nt,[nt],(n,[e])=>Math.atan(e.evaluate(n))],min:[nt,Qa(nt),(n,e)=>Math.min(...e.map(i=>i.evaluate(n)))],max:[nt,Qa(nt),(n,e)=>Math.max(...e.map(i=>i.evaluate(n)))],abs:[nt,[nt],(n,[e])=>Math.abs(e.evaluate(n))],round:[nt,[nt],(n,[e])=>{const i=e.evaluate(n);return i<0?-Math.round(-i):Math.round(i)}],floor:[nt,[nt],(n,[e])=>Math.floor(e.evaluate(n))],ceil:[nt,[nt],(n,[e])=>Math.ceil(e.evaluate(n))],"filter-==":[ln,[rn,sn],(n,[e,i])=>n.properties()[e.value]===i.value],"filter-id-==":[ln,[sn],(n,[e])=>n.id()===e.value],"filter-type-==":[ln,[rn],(n,[e])=>n.geometryType()===e.value],"filter-<":[ln,[rn,sn],(n,[e,i])=>{const d=n.properties()[e.value],p=i.value;return typeof d==typeof p&&d<p}],"filter-id-<":[ln,[sn],(n,[e])=>{const i=n.id(),d=e.value;return typeof i==typeof d&&i<d}],"filter->":[ln,[rn,sn],(n,[e,i])=>{const d=n.properties()[e.value],p=i.value;return typeof d==typeof p&&d>p}],"filter-id->":[ln,[sn],(n,[e])=>{const i=n.id(),d=e.value;return typeof i==typeof d&&i>d}],"filter-<=":[ln,[rn,sn],(n,[e,i])=>{const d=n.properties()[e.value],p=i.value;return typeof d==typeof p&&d<=p}],"filter-id-<=":[ln,[sn],(n,[e])=>{const i=n.id(),d=e.value;return typeof i==typeof d&&i<=d}],"filter->=":[ln,[rn,sn],(n,[e,i])=>{const d=n.properties()[e.value],p=i.value;return typeof d==typeof p&&d>=p}],"filter-id->=":[ln,[sn],(n,[e])=>{const i=n.id(),d=e.value;return typeof i==typeof d&&i>=d}],"filter-has":[ln,[sn],(n,[e])=>e.value in n.properties()],"filter-has-id":[ln,[],n=>null!==n.id()&&void 0!==n.id()],"filter-type-in":[ln,[ki(rn)],(n,[e])=>e.value.indexOf(n.geometryType())>=0],"filter-id-in":[ln,[ki(sn)],(n,[e])=>e.value.indexOf(n.id())>=0],"filter-in-small":[ln,[rn,ki(sn)],(n,[e,i])=>i.value.indexOf(n.properties()[e.value])>=0],"filter-in-large":[ln,[rn,ki(sn)],(n,[e,i])=>function(d,p,m,w){for(;m<=w;){const P=m+w>>1;if(p[P]===d)return!0;p[P]>d?w=P-1:m=P+1}return!1}(n.properties()[e.value],i.value,0,i.value.length-1)],all:{type:ln,overloads:[[[ln,ln],(n,[e,i])=>e.evaluate(n)&&i.evaluate(n)],[Qa(ln),(n,e)=>{for(const i of e)if(!i.evaluate(n))return!1;return!0}]]},any:{type:ln,overloads:[[[ln,ln],(n,[e,i])=>e.evaluate(n)||i.evaluate(n)],[Qa(ln),(n,e)=>{for(const i of e)if(i.evaluate(n))return!0;return!1}]]},"!":[ln,[ln],(n,[e])=>!e.evaluate(n)],"is-supported-script":[ln,[rn],(n,[e])=>{const i=n.globals&&n.globals.isSupportedScript;return!i||i(e.evaluate(n))}],upcase:[rn,[rn],(n,[e])=>e.evaluate(n).toUpperCase()],downcase:[rn,[rn],(n,[e])=>e.evaluate(n).toLowerCase()],concat:[rn,Qa(sn),(n,e)=>e.map(i=>dl(i.evaluate(n))).join("")],"resolved-locale":[rn,[Tn],(n,[e])=>e.evaluate(n).resolvedLocale()]});var K=Du;function Ye(n){return{result:"success",value:n}}function Me(n){return{result:"error",value:n}}function ze(n){return"data-driven"===n["property-type"]}function Kt(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function Fn(n){return!!n.expression&&n.expression.interpolated}function Un(n){return n instanceof Number?"number":n instanceof String?"string":n instanceof Boolean?"boolean":Array.isArray(n)?"array":null===n?"null":typeof n}function Qi(n){return"object"==typeof n&&null!==n&&!Array.isArray(n)}function hr(n){return n}function Ir(n,e){const i="color"===e.type,d=n.stops&&"object"==typeof n.stops[0][0],p=d||!(d||void 0!==n.property),m=n.type||(Fn(e)?"exponential":"interval");if(i&&((n=Tr({},n)).stops&&(n.stops=n.stops.map(N=>[N[0],Ni.parse(N[1])])),n.default=Ni.parse(n.default?n.default:e.default)),n.colorSpace&&"rgb"!==n.colorSpace&&!Yl[n.colorSpace])throw new Error(`Unknown color space: ${n.colorSpace}`);let w,P,k;if("exponential"===m)w=or;else if("interval"===m)w=Jr;else if("categorical"===m){w=Ro,P=Object.create(null);for(const N of n.stops)P[N[0]]=N[1];k=typeof n.stops[0][0]}else{if("identity"!==m)throw new Error(`Unknown function type "${m}"`);w=ls}if(d){const N={},Z=[];for(let xe=0;xe<n.stops.length;xe++){const Ee=n.stops[xe],He=Ee[0].zoom;void 0===N[He]&&(N[He]={zoom:He,type:n.type,property:n.property,default:n.default,stops:[]},Z.push(He)),N[He].stops.push([Ee[0].value,Ee[1]])}const q=[];for(const xe of Z)q.push([N[xe].zoom,Ir(N[xe],e)]);const ce={name:"linear"};return{kind:"composite",interpolationType:ce,interpolationFactor:Er.interpolationFactor.bind(void 0,ce),zoomStops:q.map(xe=>xe[0]),evaluate:({zoom:xe},Ee)=>or({stops:q,base:n.base},e,xe).evaluate(xe,Ee)}}if(p){const N="exponential"===m?{name:"exponential",base:void 0!==n.base?n.base:1}:null;return{kind:"camera",interpolationType:N,interpolationFactor:Er.interpolationFactor.bind(void 0,N),zoomStops:n.stops.map(Z=>Z[0]),evaluate:({zoom:Z})=>w(n,e,Z,P,k)}}return{kind:"source",evaluate(N,Z){const q=Z&&Z.properties?Z.properties[n.property]:void 0;return void 0===q?Qo(n.default,e.default):w(n,e,q,P,k)}}}function Qo(n,e,i){return void 0!==n?n:void 0!==e?e:void 0!==i?i:void 0}function Ro(n,e,i,d,p){return Qo(typeof i===p?d[i]:void 0,n.default,e.default)}function Jr(n,e,i){if("number"!==Un(i))return Qo(n.default,e.default);const d=n.stops.length;if(1===d||i<=n.stops[0][0])return n.stops[0][1];if(i>=n.stops[d-1][0])return n.stops[d-1][1];const p=Kl(n.stops.map(m=>m[0]),i);return n.stops[p][1]}function or(n,e,i){const d=void 0!==n.base?n.base:1;if("number"!==Un(i))return Qo(n.default,e.default);const p=n.stops.length;if(1===p||i<=n.stops[0][0])return n.stops[0][1];if(i>=n.stops[p-1][0])return n.stops[p-1][1];const m=Kl(n.stops.map(Z=>Z[0]),i),w=function(Z,q,ce,xe){const Ee=xe-ce,He=Z-ce;return 0===Ee?0:1===q?He/Ee:(Math.pow(q,He)-1)/(Math.pow(q,Ee)-1)}(i,d,n.stops[m][0],n.stops[m+1][0]),P=n.stops[m][1],k=n.stops[m+1][1];let N=gc[e.type]||hr;if(n.colorSpace&&"rgb"!==n.colorSpace){const Z=Yl[n.colorSpace];N=(q,ce)=>Z.reverse(Z.interpolate(Z.forward(q),Z.forward(ce),w))}return"function"==typeof P.evaluate?{evaluate(...Z){const q=P.evaluate.apply(void 0,Z),ce=k.evaluate.apply(void 0,Z);if(void 0!==q&&void 0!==ce)return N(q,ce,w)}}:N(P,k,w)}function ls(n,e,i){return"color"===e.type?i=Ni.parse(i):"formatted"===e.type?i=qr.fromString(i.toString()):"resolvedImage"===e.type?i=Rr.fromString(i.toString()):Un(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0),Qo(i,n.default,e.default)}class za{constructor(e,i){var d;this.expression=e,this._warningHistory={},this._evaluator=new lo,this._defaultValue=i?"color"===(d=i).type&&(Qi(d.default)||Array.isArray(d.default))?new Ni(0,0,0,0):"color"===d.type?Ni.parse(d.default)||null:void 0===d.default?null:d.default:null,this._enumValues=i&&"enum"===i.type?i.values:null}evaluateWithoutErrorHandling(e,i,d,p,m,w,P,k){return this._evaluator.globals=e,this._evaluator.feature=i,this._evaluator.featureState=d,this._evaluator.canonical=p||null,this._evaluator.availableImages=m||null,this._evaluator.formattedSection=w,this._evaluator.featureTileCoord=P||null,this._evaluator.featureDistanceData=k||null,this.expression.evaluate(this._evaluator)}evaluate(e,i,d,p,m,w,P,k){this._evaluator.globals=e,this._evaluator.feature=i||null,this._evaluator.featureState=d||null,this._evaluator.canonical=p||null,this._evaluator.availableImages=m||null,this._evaluator.formattedSection=w||null,this._evaluator.featureTileCoord=P||null,this._evaluator.featureDistanceData=k||null;try{const N=this.expression.evaluate(this._evaluator);if(null==N||"number"==typeof N&&N!=N)return this._defaultValue;if(this._enumValues&&!(N in this._enumValues))throw new Ii(`Expected value to be one of ${Object.keys(this._enumValues).map(Z=>JSON.stringify(Z)).join(", ")}, but found ${JSON.stringify(N)} instead.`);return N}catch(N){return this._warningHistory[N.message]||(this._warningHistory[N.message]=!0,typeof console<"u"&&console.warn(N.message)),this._defaultValue}}}function Ts(n){return Array.isArray(n)&&n.length>0&&"string"==typeof n[0]&&n[0]in K}function Pa(n,e){const i=new pl(K,[],e?function(p){const m={color:Gn,string:rn,number:nt,enum:rn,boolean:ln,formatted:ni,resolvedImage:si};return"array"===p.type?ki(m[p.value]||sn,p.length):m[p.type]}(e):void 0),d=i.parse(n,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return d?Ye(new za(d,e)):Me(i.errors)}class qs{constructor(e,i){this.kind=e,this._styleExpression=i,this.isStateDependent="constant"!==e&&!Ya(i.expression)}evaluateWithoutErrorHandling(e,i,d,p,m,w){return this._styleExpression.evaluateWithoutErrorHandling(e,i,d,p,m,w)}evaluate(e,i,d,p,m,w){return this._styleExpression.evaluate(e,i,d,p,m,w)}}class oa{constructor(e,i,d,p){this.kind=e,this.zoomStops=d,this._styleExpression=i,this.isStateDependent="camera"!==e&&!Ya(i.expression),this.interpolationType=p}evaluateWithoutErrorHandling(e,i,d,p,m,w){return this._styleExpression.evaluateWithoutErrorHandling(e,i,d,p,m,w)}evaluate(e,i,d,p,m,w){return this._styleExpression.evaluate(e,i,d,p,m,w)}interpolationFactor(e,i,d){return this.interpolationType?Er.interpolationFactor(this.interpolationType,e,i,d):0}}function yr(n,e){if("error"===(n=Pa(n,e)).result)return n;const i=n.value.expression,d=ss(i);if(!d&&!ze(e))return Me([new gr("","data expressions not supported")]);const p=Gr(i,["zoom","pitch","distance-from-center"]);if(!p&&!Kt(e))return Me([new gr("","zoom expressions not supported")]);const m=ra(i);return m||p?m instanceof gr?Me([m]):m instanceof Er&&!Fn(e)?Me([new gr("",'"interpolate" expressions cannot be used with this property')]):Ye(m?new oa(d?"camera":"composite",n.value,m.labels,m instanceof Er?m.interpolation:void 0):new qs(d?"constant":"source",n.value)):Me([new gr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class xl{constructor(e,i){this._parameters=e,this._specification=i,Tr(this,Ir(this._parameters,this._specification))}static deserialize(e){return new xl(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function ra(n){let e=null;if(n instanceof ya)e=ra(n.result);else if(n instanceof ns){for(const i of n.args)if(e=ra(i),e)break}else(n instanceof qa||n instanceof Er)&&n.input instanceof $s&&"zoom"===n.input.name&&(e=n);return e instanceof gr||n.eachChild(i=>{const d=ra(i);d instanceof gr?e=d:!e&&d?e=new gr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&d&&e!==d&&(e=new gr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}class mi{constructor(e,i,d,p){this.message=(e?`${e}: `:"")+d,p&&(this.identifier=p),null!=i&&i.__line__&&(this.line=i.__line__)}}function sa(n){const e=n.key,i=n.value,d=n.valueSpec||{},p=n.objectElementValidators||{},m=n.style,w=n.styleSpec;let P=[];const k=Un(i);if("object"!==k)return[new mi(e,i,`object expected, ${k} found`)];for(const N in i){const Z=N.split(".")[0];let q;p[Z]?q=p[Z]:d[Z]?q=Br:p["*"]?q=p["*"]:d["*"]&&(q=Br),q?P=P.concat(q({key:(e&&`${e}.`)+N,value:i[N],valueSpec:d[Z]||d["*"],style:m,styleSpec:w,object:i,objectKey:N},i)):P.push(new mi(e,i[N],`unknown property "${N}"`))}for(const N in d)p[N]||d[N].required&&void 0===d[N].default&&void 0===i[N]&&P.push(new mi(e,i,`missing required property "${N}"`));return P}function Jl(n){const e=n.value,i=n.valueSpec,d=n.style,p=n.styleSpec,m=n.key,w=n.arrayElementValidator||Br;if("array"!==Un(e))return[new mi(m,e,`array expected, ${Un(e)} found`)];if(i.length&&e.length!==i.length)return[new mi(m,e,`array length ${i.length} expected, length ${e.length} found`)];if(i["min-length"]&&e.length<i["min-length"])return[new mi(m,e,`array length at least ${i["min-length"]} expected, length ${e.length} found`)];let P={type:i.value,values:i.values,minimum:i.minimum,maximum:i.maximum,function:void 0};p.$version<7&&(P.function=i.function),"object"===Un(i.value)&&(P=i.value);let k=[];for(let N=0;N<e.length;N++)k=k.concat(w({array:e,arrayIndex:N,value:e[N],valueSpec:P,style:d,styleSpec:p,key:`${m}[${N}]`}));return k}function Js(n){const e=n.key,i=n.value,d=n.valueSpec;let p=Un(i);if("number"===p&&i!=i&&(p="NaN"),"number"!==p)return[new mi(e,i,`number expected, ${p} found`)];if("minimum"in d){let m=d.minimum;if("array"===Un(d.minimum)&&(m=d.minimum[n.arrayIndex]),i<m)return[new mi(e,i,`${i} is less than the minimum value ${m}`)]}if("maximum"in d){let m=d.maximum;if("array"===Un(d.maximum)&&(m=d.maximum[n.arrayIndex]),i>m)return[new mi(e,i,`${i} is greater than the maximum value ${m}`)]}return[]}function zi(n){const e=n.valueSpec,i=Jo(n.value.type);let d,p,m,w={};const P="categorical"!==i&&void 0===n.value.property,k=!P,N="array"===Un(n.value.stops)&&"array"===Un(n.value.stops[0])&&"object"===Un(n.value.stops[0][0]),Z=sa({key:n.key,value:n.value,valueSpec:n.styleSpec.function,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{stops:function(xe){if("identity"===i)return[new mi(xe.key,xe.value,'identity function may not have a "stops" property')];let Ee=[];const He=xe.value;return Ee=Ee.concat(Jl({key:xe.key,value:He,valueSpec:xe.valueSpec,style:xe.style,styleSpec:xe.styleSpec,arrayElementValidator:q})),"array"===Un(He)&&0===He.length&&Ee.push(new mi(xe.key,He,"array must have at least one stop")),Ee},default:function(xe){return Br({key:xe.key,value:xe.value,valueSpec:e,style:xe.style,styleSpec:xe.styleSpec})}}});return"identity"===i&&P&&Z.push(new mi(n.key,n.value,'missing required property "property"')),"identity"===i||n.value.stops||Z.push(new mi(n.key,n.value,'missing required property "stops"')),"exponential"===i&&n.valueSpec.expression&&!Fn(n.valueSpec)&&Z.push(new mi(n.key,n.value,"exponential functions not supported")),n.styleSpec.$version>=8&&(k&&!ze(n.valueSpec)?Z.push(new mi(n.key,n.value,"property functions not supported")):P&&!Kt(n.valueSpec)&&Z.push(new mi(n.key,n.value,"zoom functions not supported"))),"categorical"!==i&&!N||void 0!==n.value.property||Z.push(new mi(n.key,n.value,'"property" property is required')),Z;function q(xe){let Ee=[];const He=xe.value,ht=xe.key;if("array"!==Un(He))return[new mi(ht,He,`array expected, ${Un(He)} found`)];if(2!==He.length)return[new mi(ht,He,`array length 2 expected, length ${He.length} found`)];if(N){if("object"!==Un(He[0]))return[new mi(ht,He,`object expected, ${Un(He[0])} found`)];if(void 0===He[0].zoom)return[new mi(ht,He,"object stop key must have zoom")];if(void 0===He[0].value)return[new mi(ht,He,"object stop key must have value")];const Rt=Jo(He[0].zoom);if("number"!=typeof Rt)return[new mi(ht,He[0].zoom,"stop zoom values must be numbers")];if(m&&m>Rt)return[new mi(ht,He[0].zoom,"stop zoom values must appear in ascending order")];Rt!==m&&(m=Rt,p=void 0,w={}),Ee=Ee.concat(sa({key:`${ht}[0]`,value:He[0],valueSpec:{zoom:{}},style:xe.style,styleSpec:xe.styleSpec,objectElementValidators:{zoom:Js,value:ce}}))}else Ee=Ee.concat(ce({key:`${ht}[0]`,value:He[0],valueSpec:{},style:xe.style,styleSpec:xe.styleSpec},He));return Ts(Eo(He[1]))?Ee.concat([new mi(`${ht}[1]`,He[1],"expressions are not allowed in function stops.")]):Ee.concat(Br({key:`${ht}[1]`,value:He[1],valueSpec:e,style:xe.style,styleSpec:xe.styleSpec}))}function ce(xe,Ee){const He=Un(xe.value),ht=Jo(xe.value),Rt=null!==xe.value?xe.value:Ee;if(d){if(He!==d)return[new mi(xe.key,Rt,`${He} stop domain type must match previous stop domain type ${d}`)]}else d=He;if("number"!==He&&"string"!==He&&"boolean"!==He&&"number"!=typeof ht&&"string"!=typeof ht&&"boolean"!=typeof ht)return[new mi(xe.key,Rt,"stop domain value must be a number, string, or boolean")];if("number"!==He&&"categorical"!==i){let tn=`number expected, ${He} found`;return ze(e)&&void 0===i&&(tn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new mi(xe.key,Rt,tn)]}return"categorical"!==i||"number"!==He||"number"==typeof ht&&isFinite(ht)&&Math.floor(ht)===ht?"categorical"!==i&&"number"===He&&"number"==typeof ht&&"number"==typeof p&&void 0!==p&&ht<p?[new mi(xe.key,Rt,"stop domain values must appear in ascending order")]:(p=ht,"categorical"===i&&ht in w?[new mi(xe.key,Rt,"stop domain values must be unique")]:(w[ht]=!0,[])):[new mi(xe.key,Rt,`integer expected, found ${String(ht)}`)]}}function Cs(n){const e=("property"===n.expressionContext?yr:Pa)(Eo(n.value),n.valueSpec);if("error"===e.result)return e.value.map(d=>new mi(`${n.key}${d.key}`,n.value,d.message));const i=e.value.expression||e.value._styleExpression.expression;if("property"===n.expressionContext&&"text-font"===n.propertyKey&&!i.outputDefined())return[new mi(n.key,n.value,`Invalid data expression for "${n.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===n.expressionContext&&"layout"===n.propertyType&&!Ya(i))return[new mi(n.key,n.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===n.expressionContext)return aa(i,n);if(n.expressionContext&&0===n.expressionContext.indexOf("cluster")){if(!Gr(i,["zoom","feature-state"]))return[new mi(n.key,n.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===n.expressionContext&&!ss(i))return[new mi(n.key,n.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function aa(n,e){const i=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(e.valueSpec&&e.valueSpec.expression)for(const p of e.valueSpec.expression.parameters)i.delete(p);if(0===i.size)return[];const d=[];return n instanceof $s&&i.has(n.name)?[new mi(e.key,e.value,`["${n.name}"] expression is not supported in a filter for a ${e.object.type} layer with id: ${e.object.id}`)]:(n.eachChild(p=>{d.push(...aa(p,e))}),d)}function zs(n){const e=n.key,i=n.value,d=n.valueSpec,p=[];return Array.isArray(d.values)?-1===d.values.indexOf(Jo(i))&&p.push(new mi(e,i,`expected one of [${d.values.join(", ")}], ${JSON.stringify(i)} found`)):-1===Object.keys(d.values).indexOf(Jo(i))&&p.push(new mi(e,i,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(i)} found`)),p}function Eu(n){if(!0===n||!1===n)return!0;if(!Array.isArray(n)||0===n.length)return!1;switch(n[0]){case"has":return n.length>=2&&"$id"!==n[1]&&"$type"!==n[1];case"in":return n.length>=3&&("string"!=typeof n[1]||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==n.length||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(const e of n.slice(1))if(!Eu(e)&&"boolean"!=typeof e)return!1;return!0;default:return!0}}function Wc(n,e="fill"){if(null==n)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Eu(n)||(n=Kc(n));const i=n;let d=!0;try{d=function(N){if(!Ol(N))return N;let Z=Eo(N);return Xl(Z),Z=au(Z),Z}(i)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(i,null,2)}\n        `)}const p=Dn[`filter_${e}`],m=Pa(d,p);let w=null;if("error"===m.result)throw new Error(m.value.map(N=>`${N.key}: ${N.message}`).join(", "));w=(N,Z,q)=>m.value.evaluate(N,Z,{},q);let P=null,k=null;if(d!==i){const N=Pa(i,p);if("error"===N.result)throw new Error(N.value.map(Z=>`${Z.key}: ${Z.message}`).join(", "));P=(Z,q,ce,xe,Ee)=>N.value.evaluate(Z,q,{},ce,void 0,void 0,xe,Ee),k=!ss(N.value.expression)}return{filter:w,dynamicFilter:P||void 0,needGeometry:kc(d),needFeature:!!k}}function au(n){if(!Array.isArray(n))return n;const e=function(i){if(va.has(i[0]))for(let d=1;d<i.length;d++)if(Ol(i[d]))return!0;return i}(n);return!0===e?e:e.map(i=>au(i))}function Xl(n){let e=!1;const i=[];if("case"===n[0]){for(let d=1;d<n.length-1;d+=2)e=e||Ol(n[d]),i.push(n[d+1]);i.push(n[n.length-1])}else if("match"===n[0]){e=e||Ol(n[1]);for(let d=2;d<n.length-1;d+=2)i.push(n[d+1]);i.push(n[n.length-1])}else if("step"===n[0]){e=e||Ol(n[1]);for(let d=1;d<n.length-1;d+=2)i.push(n[d+1])}e&&(n.length=0,n.push("any",...i));for(let d=1;d<n.length;d++)Xl(n[d])}function Ol(n){if(!Array.isArray(n))return!1;if("pitch"===(e=n[0])||"distance-from-center"===e)return!0;var e;for(let i=1;i<n.length;i++)if(Ol(n[i]))return!0;return!1}const va=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Iu(n,e){return n<e?-1:n>e?1:0}function kc(n){if(!Array.isArray(n))return!1;if("within"===n[0])return!0;for(let e=1;e<n.length;e++)if(kc(n[e]))return!0;return!1}function Kc(n){if(!n)return!0;const e=n[0];return n.length<=1?"any"!==e:"=="===e?lu(n[1],n[2],"=="):"!="===e?Cc(lu(n[1],n[2],"==")):"<"===e||">"===e||"<="===e||">="===e?lu(n[1],n[2],e):"any"===e?(i=n.slice(1),["any"].concat(i.map(Kc))):"all"===e?["all"].concat(n.slice(1).map(Kc)):"none"===e?["all"].concat(n.slice(1).map(Kc).map(Cc)):"in"===e?To(n[1],n.slice(2)):"!in"===e?Cc(To(n[1],n.slice(2))):"has"===e?Fl(n[1]):"!has"===e?Cc(Fl(n[1])):"within"!==e||n;var i}function lu(n,e,i){switch(n){case"$type":return[`filter-type-${i}`,e];case"$id":return[`filter-id-${i}`,e];default:return[`filter-${i}`,n,e]}}function To(n,e){if(0===e.length)return!1;switch(n){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(i=>typeof i!=typeof e[0])?["filter-in-large",n,["literal",e.sort(Iu)]]:["filter-in-small",n,["literal",e]]}}function Fl(n){switch(n){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",n]}}function Cc(n){return["!",n]}function ld(n){return Eu(Eo(n.value))?Cs(Tr({},n,{expressionContext:"filter",valueSpec:n.styleSpec[`filter_${n.layerType||"fill"}`]})):cd(n)}function cd(n){const e=n.value,i=n.key;if("array"!==Un(e))return[new mi(i,e,`array expected, ${Un(e)} found`)];const d=n.styleSpec;let p,m=[];if(e.length<1)return[new mi(i,e,"filter array must have at least 1 element")];switch(m=m.concat(zs({key:`${i}[0]`,value:e[0],valueSpec:d.filter_operator,style:n.style,styleSpec:n.styleSpec})),Jo(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===Jo(e[1])&&m.push(new mi(i,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":3!==e.length&&m.push(new mi(i,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(p=Un(e[1]),"string"!==p&&m.push(new mi(`${i}[1]`,e[1],`string expected, ${p} found`)));for(let w=2;w<e.length;w++)p=Un(e[w]),"$type"===Jo(e[1])?m=m.concat(zs({key:`${i}[${w}]`,value:e[w],valueSpec:d.geometry_type,style:n.style,styleSpec:n.styleSpec})):"string"!==p&&"number"!==p&&"boolean"!==p&&m.push(new mi(`${i}[${w}]`,e[w],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let w=1;w<e.length;w++)m=m.concat(cd({key:`${i}[${w}]`,value:e[w],style:n.style,styleSpec:n.styleSpec}));break;case"has":case"!has":p=Un(e[1]),2!==e.length?m.push(new mi(i,e,`filter array for "${e[0]}" operator must have 2 elements`)):"string"!==p&&m.push(new mi(`${i}[1]`,e[1],`string expected, ${p} found`));break;case"within":p=Un(e[1]),2!==e.length?m.push(new mi(i,e,`filter array for "${e[0]}" operator must have 2 elements`)):"object"!==p&&m.push(new mi(`${i}[1]`,e[1],`object expected, ${p} found`))}return m}function Hh(n,e){const i=n.key,d=n.style,p=n.styleSpec,m=n.value,w=n.objectKey,P=p[`${e}_${n.layerType}`];if(!P)return[];const k=w.match(/^(.*)-transition$/);if("paint"===e&&k&&P[k[1]]&&P[k[1]].transition)return Br({key:i,value:m,valueSpec:p.transition,style:d,styleSpec:p});const N=n.valueSpec||P[w];if(!N)return[new mi(i,m,`unknown property "${w}"`)];let Z;if("string"===Un(m)&&ze(N)&&!N.tokens&&(Z=/^{([^}]+)}$/.exec(m))){const ce=`\`{ "type": "identity", "property": ${Z?JSON.stringify(Z[1]):'"_"'} }\``;return[new mi(i,m,`"${w}" does not support interpolation syntax\nUse an identity property function instead: ${ce}.`)]}const q=[];return"symbol"===n.layerType&&("text-field"===w&&d&&!d.glyphs&&q.push(new mi(i,m,'use of "text-field" requires a style "glyphs" property')),"text-font"===w&&Qi(Eo(m))&&"identity"===Jo(m.type)&&q.push(new mi(i,m,'"text-font" does not support identity functions'))),q.concat(Br({key:n.key,value:m,valueSpec:N,style:d,styleSpec:p,expressionContext:"property",propertyType:e,propertyKey:w}))}function dd(n){return Hh(n,"paint")}function Rc(n){return Hh(n,"layout")}function Au(n){let e=[];const i=n.value,d=n.key,p=n.style,m=n.styleSpec;i.type||i.ref||e.push(new mi(d,i,'either "type" or "ref" is required'));let w=Jo(i.type);const P=Jo(i.ref);if(i.id){const k=Jo(i.id);for(let N=0;N<n.arrayIndex;N++){const Z=p.layers[N];Jo(Z.id)===k&&e.push(new mi(d,i.id,`duplicate layer id "${i.id}", previously used at line ${Z.id.__line__}`))}}if("ref"in i){let k;["type","source","source-layer","filter","layout"].forEach(N=>{N in i&&e.push(new mi(d,i[N],`"${N}" is prohibited for ref layers`))}),p.layers.forEach(N=>{Jo(N.id)===P&&(k=N)}),k?k.ref?e.push(new mi(d,i.ref,"ref cannot reference another ref layer")):w=Jo(k.type):"string"==typeof P&&e.push(new mi(d,i.ref,`ref layer "${P}" not found`))}else if("background"!==w&&"sky"!==w)if(i.source){const k=p.sources&&p.sources[i.source],N=k&&Jo(k.type);k?"vector"===N&&"raster"===w?e.push(new mi(d,i.source,`layer "${i.id}" requires a raster source`)):"raster"===N&&"raster"!==w?e.push(new mi(d,i.source,`layer "${i.id}" requires a vector source`)):"vector"!==N||i["source-layer"]?"raster-dem"===N&&"hillshade"!==w?e.push(new mi(d,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==w||!i.paint||!i.paint["line-gradient"]&&!i.paint["line-trim-offset"]||"geojson"===N&&k.lineMetrics||e.push(new mi(d,i,`layer "${i.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new mi(d,i,`layer "${i.id}" must specify a "source-layer"`)):e.push(new mi(d,i.source,`source "${i.source}" not found`))}else e.push(new mi(d,i,'missing required property "source"'));return e=e.concat(sa({key:d,value:i,valueSpec:m.layer,style:n.style,styleSpec:n.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Br({key:`${d}.type`,value:i.type,valueSpec:m.layer.type,style:n.style,styleSpec:n.styleSpec,object:i,objectKey:"type"}),filter:k=>ld(Tr({layerType:w},k)),layout:k=>sa({layer:i,key:k.key,value:k.value,valueSpec:{},style:k.style,styleSpec:k.styleSpec,objectElementValidators:{"*":N=>Rc(Tr({layerType:w},N))}}),paint:k=>sa({layer:i,key:k.key,value:k.value,valueSpec:{},style:k.style,styleSpec:k.styleSpec,objectElementValidators:{"*":N=>dd(Tr({layerType:w},N))}})}})),e}function wc(n){const e=n.value,i=n.key,d=Un(e);return"string"!==d?[new mi(i,e,`string expected, ${d} found`)]:[]}const ku={promoteId:function({key:n,value:e}){if("string"===Un(e))return wc({key:n,value:e});{const i=[];for(const d in e)i.push(...wc({key:`${n}.${d}`,value:e[d]}));return i}}};function Yc(n){const e=n.value,i=n.key,d=n.styleSpec,p=n.style;if(!e.type)return[new mi(i,e,'"type" is required')];const m=Jo(e.type);let w;switch(m){case"vector":case"raster":case"raster-dem":return w=sa({key:i,value:e,valueSpec:d[`source_${m.replace("-","_")}`],style:n.style,styleSpec:d,objectElementValidators:ku}),w;case"geojson":if(w=sa({key:i,value:e,valueSpec:d.source_geojson,style:p,styleSpec:d,objectElementValidators:ku}),e.cluster)for(const P in e.clusterProperties){const[k,N]=e.clusterProperties[P],Z="string"==typeof k?[k,["accumulated"],["get",P]]:k;w.push(...Cs({key:`${i}.${P}.map`,value:N,expressionContext:"cluster-map"})),w.push(...Cs({key:`${i}.${P}.reduce`,value:Z,expressionContext:"cluster-reduce"}))}return w;case"video":return sa({key:i,value:e,valueSpec:d.source_video,style:p,styleSpec:d});case"image":return sa({key:i,value:e,valueSpec:d.source_image,style:p,styleSpec:d});case"canvas":return[new mi(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return zs({key:`${i}.type`,value:e.type,valueSpec:{values:Wi(d)},style:p,styleSpec:d})}}function Wi(n){return n.source.reduce((e,i)=>{const d=n[i];return"enum"===d.type.type&&(e=e.concat(Object.keys(d.type.values))),e},[])}function _i(n){const e=n.value,i=n.styleSpec,d=i.light,p=n.style;let m=[];const w=Un(e);if(void 0===e)return m;if("object"!==w)return m=m.concat([new mi("light",e,`object expected, ${w} found`)]),m;for(const P in e){const k=P.match(/^(.*)-transition$/);m=m.concat(k&&d[k[1]]&&d[k[1]].transition?Br({key:P,value:e[P],valueSpec:i.transition,style:p,styleSpec:i}):d[P]?Br({key:P,value:e[P],valueSpec:d[P],style:p,styleSpec:i}):[new mi(P,e[P],`unknown property "${P}"`)])}return m}function vr(n){const e=n.value,i=n.key,d=n.style,p=n.styleSpec,m=p.terrain;let w=[];const P=Un(e);if(void 0===e)return w;if("object"!==P)return w=w.concat([new mi("terrain",e,`object expected, ${P} found`)]),w;for(const k in e){const N=k.match(/^(.*)-transition$/);w=w.concat(N&&m[N[1]]&&m[N[1]].transition?Br({key:k,value:e[k],valueSpec:p.transition,style:d,styleSpec:p}):m[k]?Br({key:k,value:e[k],valueSpec:m[k],style:d,styleSpec:p}):[new mi(k,e[k],`unknown property "${k}"`)])}if(e.source){const k=d.sources&&d.sources[e.source],N=k&&Jo(k.type);k?"raster-dem"!==N&&w.push(new mi(i,e.source,`terrain cannot be used with a source of type ${String(N)}, it only be used with a "raster-dem" source type`)):w.push(new mi(i,e.source,`source "${e.source}" not found`))}else w.push(new mi(i,e,'terrain is missing required property "source"'));return w}function Ru(n){const e=n.value,i=n.style,d=n.styleSpec,p=d.fog;let m=[];const w=Un(e);if(void 0===e)return m;if("object"!==w)return m=m.concat([new mi("fog",e,`object expected, ${w} found`)]),m;for(const P in e){const k=P.match(/^(.*)-transition$/);m=m.concat(k&&p[k[1]]&&p[k[1]].transition?Br({key:P,value:e[P],valueSpec:d.transition,style:i,styleSpec:d}):p[P]?Br({key:P,value:e[P],valueSpec:p[P],style:i,styleSpec:d}):[new mi(P,e[P],`unknown property "${P}"`)])}return m}const Lu={"*":()=>[],array:Jl,boolean:function(n){const e=n.value,i=n.key,d=Un(e);return"boolean"!==d?[new mi(i,e,`boolean expected, ${d} found`)]:[]},number:Js,color:function(n){const e=n.key,i=n.value,d=Un(i);return"string"!==d?[new mi(e,i,`color expected, ${d} found`)]:null===Rn(i)?[new mi(e,i,`color expected, "${i}" found`)]:[]},enum:zs,filter:ld,function:zi,layer:Au,object:sa,source:Yc,light:_i,terrain:vr,fog:Ru,string:wc,formatted:function(n){return 0===wc(n).length?[]:Cs(n)},resolvedImage:function(n){return 0===wc(n).length?[]:Cs(n)},projection:function(n){const e=n.value,i=n.styleSpec,d=i.projection,p=n.style;let m=[];const w=Un(e);if("object"===w)for(const P in e)m=m.concat(Br({key:P,value:e[P],valueSpec:d[P],style:p,styleSpec:i}));else"string"!==w&&(m=m.concat([new mi("projection",e,`object or string expected, ${w} found`)]));return m}};function Br(n){const e=n.value,i=n.valueSpec,d=n.styleSpec;return i.expression&&Qi(Jo(e))?zi(n):i.expression&&Ts(Eo(e))?Cs(n):i.type&&Lu[i.type]?Lu[i.type](n):sa(Tr({},n,{valueSpec:i.type?d[i.type]:i}))}function Nu(n){const e=n.value,i=n.key,d=wc(n);return d.length||(-1===e.indexOf("{fontstack}")&&d.push(new mi(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&d.push(new mi(i,e,'"glyphs" url must include a "{range}" token'))),d}function Lc(n,e=Dn){return xr(Br({key:"",value:n,valueSpec:e.$root,styleSpec:e,style:n,objectElementValidators:{glyphs:Nu,"*":()=>[]}}))}const Ta=n=>xr(dd(n)),Ql=n=>xr(Rc(n));function xr(n){return n.slice().sort((e,i)=>e.line&&i.line?e.line-i.line:0)}function ec(n,e){let i=!1;if(e&&e.length)for(const d of e)n.fire(new Ko(new Error(d.message))),i=!0;return i}var jh=ws,Pl=3;function ws(n,e,i){var d=this.cells=[];if(n instanceof ArrayBuffer){this.arrayBuffer=n;var p=new Int32Array(this.arrayBuffer);n=p[0],this.d=(e=p[1])+2*(i=p[2]);for(var m=0;m<this.d*this.d;m++){var w=p[Pl+m],P=p[Pl+m+1];d.push(w===P?null:p.subarray(w,P))}var k=p[Pl+d.length+1];this.keys=p.subarray(p[Pl+d.length],k),this.bboxes=p.subarray(k),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var N=0;N<this.d*this.d;N++)d.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=n,this.padding=i,this.scale=e/n,this.uid=0;var Z=i/e*n;this.min=-Z,this.max=n+Z}ws.prototype.insert=function(n,e,i,d,p){this._forEachCell(e,i,d,p,this._insertCell,this.uid++),this.keys.push(n),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(d),this.bboxes.push(p)},ws.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ws.prototype._insertCell=function(n,e,i,d,p,m){this.cells[p].push(m)},ws.prototype.query=function(n,e,i,d,p){var m=this.min,w=this.max;if(n<=m&&e<=m&&w<=i&&w<=d&&!p)return Array.prototype.slice.call(this.keys);var P=[];return this._forEachCell(n,e,i,d,this._queryCell,P,{},p),P},ws.prototype._queryCell=function(n,e,i,d,p,m,w,P){var k=this.cells[p];if(null!==k)for(var N=this.keys,Z=this.bboxes,q=0;q<k.length;q++){var ce=k[q];if(void 0===w[ce]){var xe=4*ce;(P?P(Z[xe+0],Z[xe+1],Z[xe+2],Z[xe+3]):n<=Z[xe+2]&&e<=Z[xe+3]&&i>=Z[xe+0]&&d>=Z[xe+1])?(w[ce]=!0,m.push(N[ce])):w[ce]=!1}}},ws.prototype._forEachCell=function(n,e,i,d,p,m,w,P){for(var k=this._convertToCellCoord(n),N=this._convertToCellCoord(e),Z=this._convertToCellCoord(i),q=this._convertToCellCoord(d),ce=k;ce<=Z;ce++)for(var xe=N;xe<=q;xe++){var Ee=this.d*xe+ce;if((!P||P(this._convertFromCellCoord(ce),this._convertFromCellCoord(xe),this._convertFromCellCoord(ce+1),this._convertFromCellCoord(xe+1)))&&p.call(this,n,e,i,d,Ee,m,w,P))return}},ws.prototype._convertFromCellCoord=function(n){return(n-this.padding)/this.scale},ws.prototype._convertToCellCoord=function(n){return Math.max(0,Math.min(this.d-1,Math.floor(n*this.scale)+this.padding))},ws.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var n=this.cells,e=Pl+this.cells.length+1+1,i=0,d=0;d<this.cells.length;d++)i+=this.cells[d].length;var p=new Int32Array(e+i+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;for(var m=e,w=0;w<n.length;w++){var P=n[w];p[Pl+w]=m,p.set(P,m),m+=P.length}return p[Pl+n.length]=m,p.set(this.keys,m),p[Pl+n.length+1]=m+=this.keys.length,p.set(this.bboxes,m),m+=this.bboxes.length,p.buffer};var la=ke(jh);const qc={};function Vi(n,e,i={}){Object.defineProperty(n,"_classRegistryKey",{value:e,writeable:!1}),qc[e]={klass:n,omit:i.omit||[]}}Vi(Object,"Object"),la.serialize=function(n,e){const i=n.toArrayBuffer();return e&&e.push(i),{buffer:i}},la.deserialize=function(n){return new la(n.buffer)},Object.defineProperty(la,"name",{value:"Grid"}),Vi(la,"Grid"),Vi(Ni,"Color"),Vi(Error,"Error"),Vi(Ji,"AJAXError"),Vi(Rr,"ResolvedImage"),Vi(xl,"StylePropertyFunction"),Vi(za,"StyleExpression",{omit:["_evaluator"]}),Vi(oa,"ZoomDependentExpression"),Vi(qs,"ZoomConstantExpression"),Vi($s,"CompoundExpression",{omit:["_evaluate"]});for(const n in K)qc[K[n]._classRegistryKey]||Vi(K[n],`Expression${n}`);function $(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&"ArrayBuffer"===n.constructor.name)}function ee(n){return T.ImageBitmap&&n instanceof T.ImageBitmap}function j(n,e){if(null==n||"boolean"==typeof n||"number"==typeof n||"string"==typeof n||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp)return n;if($(n)||ee(n))return e&&e.push(n),n;if(ArrayBuffer.isView(n)){const i=n;return e&&e.push(i.buffer),i}if(n instanceof T.ImageData)return e&&e.push(n.data.buffer),n;if(Array.isArray(n)){const i=[];for(const d of n)i.push(j(d,e));return i}if("object"==typeof n){const i=n.constructor,d=i._classRegistryKey;if(!d)throw new Error(`can't serialize object of unregistered class ${d}`);const p=i.serialize?i.serialize(n,e):{};if(!i.serialize){for(const m in n)n.hasOwnProperty(m)&&(qc[d].omit.indexOf(m)>=0||(p[m]=j(n[m],e)));n instanceof Error&&(p.message=n.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==d&&(p.$name=d),p}throw new Error("can't serialize object of type "+typeof n)}function te(n){if(null==n||"boolean"==typeof n||"number"==typeof n||"string"==typeof n||n instanceof Boolean||n instanceof Number||n instanceof String||n instanceof Date||n instanceof RegExp||$(n)||ee(n)||ArrayBuffer.isView(n)||n instanceof T.ImageData)return n;if(Array.isArray(n))return n.map(te);if("object"==typeof n){const e=n.$name||"Object",{klass:i}=qc[e];if(!i)throw new Error(`can't deserialize unregistered class ${e}`);if(i.deserialize)return i.deserialize(n);const d=Object.create(i.prototype);for(const p of Object.keys(n))"$name"!==p&&(d[p]=te(n[p]));return d}throw new Error("can't deserialize object of type "+typeof n)}const ne={"Latin-1 Supplement":n=>n>=128&&n<=255,Arabic:n=>n>=1536&&n<=1791,"Arabic Supplement":n=>n>=1872&&n<=1919,"Arabic Extended-A":n=>n>=2208&&n<=2303,"Hangul Jamo":n=>n>=4352&&n<=4607,"Unified Canadian Aboriginal Syllabics":n=>n>=5120&&n<=5759,Khmer:n=>n>=6016&&n<=6143,"Unified Canadian Aboriginal Syllabics Extended":n=>n>=6320&&n<=6399,"General Punctuation":n=>n>=8192&&n<=8303,"Letterlike Symbols":n=>n>=8448&&n<=8527,"Number Forms":n=>n>=8528&&n<=8591,"Miscellaneous Technical":n=>n>=8960&&n<=9215,"Control Pictures":n=>n>=9216&&n<=9279,"Optical Character Recognition":n=>n>=9280&&n<=9311,"Enclosed Alphanumerics":n=>n>=9312&&n<=9471,"Geometric Shapes":n=>n>=9632&&n<=9727,"Miscellaneous Symbols":n=>n>=9728&&n<=9983,"Miscellaneous Symbols and Arrows":n=>n>=11008&&n<=11263,"CJK Radicals Supplement":n=>n>=11904&&n<=12031,"Kangxi Radicals":n=>n>=12032&&n<=12255,"Ideographic Description Characters":n=>n>=12272&&n<=12287,"CJK Symbols and Punctuation":n=>n>=12288&&n<=12351,Hiragana:n=>n>=12352&&n<=12447,Katakana:n=>n>=12448&&n<=12543,Bopomofo:n=>n>=12544&&n<=12591,"Hangul Compatibility Jamo":n=>n>=12592&&n<=12687,Kanbun:n=>n>=12688&&n<=12703,"Bopomofo Extended":n=>n>=12704&&n<=12735,"CJK Strokes":n=>n>=12736&&n<=12783,"Katakana Phonetic Extensions":n=>n>=12784&&n<=12799,"Enclosed CJK Letters and Months":n=>n>=12800&&n<=13055,"CJK Compatibility":n=>n>=13056&&n<=13311,"CJK Unified Ideographs Extension A":n=>n>=13312&&n<=19903,"Yijing Hexagram Symbols":n=>n>=19904&&n<=19967,"CJK Unified Ideographs":n=>n>=19968&&n<=40959,"Yi Syllables":n=>n>=40960&&n<=42127,"Yi Radicals":n=>n>=42128&&n<=42191,"Hangul Jamo Extended-A":n=>n>=43360&&n<=43391,"Hangul Syllables":n=>n>=44032&&n<=55215,"Hangul Jamo Extended-B":n=>n>=55216&&n<=55295,"Private Use Area":n=>n>=57344&&n<=63743,"CJK Compatibility Ideographs":n=>n>=63744&&n<=64255,"Arabic Presentation Forms-A":n=>n>=64336&&n<=65023,"Vertical Forms":n=>n>=65040&&n<=65055,"CJK Compatibility Forms":n=>n>=65072&&n<=65103,"Small Form Variants":n=>n>=65104&&n<=65135,"Arabic Presentation Forms-B":n=>n>=65136&&n<=65279,"Halfwidth and Fullwidth Forms":n=>n>=65280&&n<=65519};function dt(n){for(const e of n)if(Wn(e.charCodeAt(0)))return!0;return!1}function Xt(n){for(const e of n)if(!Yn(e.charCodeAt(0)))return!1;return!0}function Yn(n){return!(ne.Arabic(n)||ne["Arabic Supplement"](n)||ne["Arabic Extended-A"](n)||ne["Arabic Presentation Forms-A"](n)||ne["Arabic Presentation Forms-B"](n))}function Wn(n){return!(746!==n&&747!==n&&(n<4352||!(ne["Bopomofo Extended"](n)||ne.Bopomofo(n)||ne["CJK Compatibility Forms"](n)&&!(n>=65097&&n<=65103)||ne["CJK Compatibility Ideographs"](n)||ne["CJK Compatibility"](n)||ne["CJK Radicals Supplement"](n)||ne["CJK Strokes"](n)||!(!ne["CJK Symbols and Punctuation"](n)||n>=12296&&n<=12305||n>=12308&&n<=12319||12336===n)||ne["CJK Unified Ideographs Extension A"](n)||ne["CJK Unified Ideographs"](n)||ne["Enclosed CJK Letters and Months"](n)||ne["Hangul Compatibility Jamo"](n)||ne["Hangul Jamo Extended-A"](n)||ne["Hangul Jamo Extended-B"](n)||ne["Hangul Jamo"](n)||ne["Hangul Syllables"](n)||ne.Hiragana(n)||ne["Ideographic Description Characters"](n)||ne.Kanbun(n)||ne["Kangxi Radicals"](n)||ne["Katakana Phonetic Extensions"](n)||ne.Katakana(n)&&12540!==n||!(!ne["Halfwidth and Fullwidth Forms"](n)||65288===n||65289===n||65293===n||n>=65306&&n<=65310||65339===n||65341===n||65343===n||n>=65371&&n<=65503||65507===n||n>=65512&&n<=65519)||!(!ne["Small Form Variants"](n)||n>=65112&&n<=65118||n>=65123&&n<=65126)||ne["Unified Canadian Aboriginal Syllabics"](n)||ne["Unified Canadian Aboriginal Syllabics Extended"](n)||ne["Vertical Forms"](n)||ne["Yijing Hexagram Symbols"](n)||ne["Yi Syllables"](n)||ne["Yi Radicals"](n))))}function Ki(n){return!(Wn(n)||(e=n,ne["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||ne["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||ne["Letterlike Symbols"](e)||ne["Number Forms"](e)||ne["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||ne["Control Pictures"](e)&&9251!==e||ne["Optical Character Recognition"](e)||ne["Enclosed Alphanumerics"](e)||ne["Geometric Shapes"](e)||ne["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||ne["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||ne["CJK Symbols and Punctuation"](e)||ne.Katakana(e)||ne["Private Use Area"](e)||ne["CJK Compatibility Forms"](e)||ne["Small Form Variants"](e)||ne["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e));var e}function Go(n){return n>=1424&&n<=2303||ne["Arabic Presentation Forms-A"](n)||ne["Arabic Presentation Forms-B"](n)}function is(n,e){return!(!e&&Go(n)||n>=2304&&n<=3583||n>=3840&&n<=4255||ne.Khmer(n))}function Yo(n){for(const e of n)if(Go(e.charCodeAt(0)))return!0;return!1}const fl="deferred",Bl="loading",Tl="loaded";let zl=null,f="unavailable",o=null;const u=function(n){n&&"string"==typeof n&&n.indexOf("NetworkError")>-1&&(f="error"),zl&&zl(n)};function y(){O.fire(new dr("pluginStateChange",{pluginStatus:f,pluginURL:o}))}const O=new jo,I=function(){return f},z=function(){if(f!==fl||!o)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");f=Bl,y(),o&&no({url:o},n=>{n?u(n):(f=Tl,y())})},H={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>f===Tl||null!=H.applyArabicShaping,isLoading:()=>f===Bl,setState(n){f=n.pluginStatus,o=n.pluginURL},isParsed:()=>null!=H.applyArabicShaping&&null!=H.processBidirectionalText&&null!=H.processStyledBidirectionalText,getPluginURL:()=>o};class Y{constructor(e,i){this.zoom=e,i?(this.now=i.now,this.fadeDuration=i.fadeDuration,this.transition=i.transition,this.pitch=i.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(e){return function(i,d){for(const p of i)if(!is(p.charCodeAt(0),d))return!1;return!0}(e,H.isLoaded())}}class ue{constructor(e,i){this.property=e,this.value=i,this.expression=function(d,p){if(Qi(d))return new xl(d,p);if(Ts(d)){const m=yr(d,p);if("error"===m.result)throw new Error(m.value.map(w=>`${w.key}: ${w.message}`).join(", "));return m.value}{let m=d;return"string"==typeof d&&"color"===p.type&&(m=Ni.parse(d)),{kind:"constant",evaluate:()=>m}}}(void 0===i?e.specification.default:i,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,i,d){return this.property.possiblyEvaluate(this,e,i,d)}}class de{constructor(e){this.property=e,this.value=new ue(e,void 0)}transitioned(e,i){return new it(this.property,this.value,i,Qe({},e.transition,this.transition),e.now)}untransitioned(){return new it(this.property,this.value,null,{},0)}}class Re{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return wn(this._values[e].value.value)}setValue(e,i){this._values.hasOwnProperty(e)||(this._values[e]=new de(this._values[e].property)),this._values[e].value=new ue(this._values[e].property,null===i?void 0:wn(i))}getTransition(e){return wn(this._values[e].transition)}setTransition(e,i){this._values.hasOwnProperty(e)||(this._values[e]=new de(this._values[e].property)),this._values[e].transition=wn(i)||void 0}serialize(){const e={};for(const i of Object.keys(this._values)){const d=this.getValue(i);void 0!==d&&(e[i]=d);const p=this.getTransition(i);void 0!==p&&(e[`${i}-transition`]=p)}return e}transitioned(e,i){const d=new vt(this._properties);for(const p of Object.keys(this._values))d._values[p]=this._values[p].transitioned(e,i._values[p]);return d}untransitioned(){const e=new vt(this._properties);for(const i of Object.keys(this._values))e._values[i]=this._values[i].untransitioned();return e}}class it{constructor(e,i,d,p,m){const w=p.delay||0,P=p.duration||0;m=m||0,this.property=e,this.value=i,this.begin=m+w,this.end=this.begin+P,e.specification.transition&&(p.delay||p.duration)&&(this.prior=d)}possiblyEvaluate(e,i,d){const p=e.now||0,m=this.value.possiblyEvaluate(e,i,d),w=this.prior;if(w){if(p>this.end)return this.prior=null,m;if(this.value.isDataDriven())return this.prior=null,m;if(p<this.begin)return w.possiblyEvaluate(e,i,d);{const P=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(w.possiblyEvaluate(e,i,d),m,It(P))}}return m}}class vt{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,i,d){const p=new Pt(this._properties);for(const m of Object.keys(this._values))p._values[m]=this._values[m].possiblyEvaluate(e,i,d);return p}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class xt{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return wn(this._values[e].value)}setValue(e,i){this._values[e]=new ue(this._values[e].property,null===i?void 0:wn(i))}serialize(){const e={};for(const i of Object.keys(this._values)){const d=this.getValue(i);void 0!==d&&(e[i]=d)}return e}possiblyEvaluate(e,i,d){const p=new Pt(this._properties);for(const m of Object.keys(this._values))p._values[m]=this._values[m].possiblyEvaluate(e,i,d);return p}}class Mt{constructor(e,i,d){this.property=e,this.value=i,this.parameters=d}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,i,d,p){return this.property.evaluate(this.value,this.parameters,e,i,d,p)}}class Pt{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class Fe{constructor(e){this.specification=e}possiblyEvaluate(e,i){return e.expression.evaluate(i)}interpolate(e,i,d){const p=gc[this.specification.type];return p?p(e,i,d):e}}class _t{constructor(e,i){this.specification=e,this.overrides=i}possiblyEvaluate(e,i,d,p){return new Mt(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(i,null,{},d,p)}:e.expression,i)}interpolate(e,i,d){if("constant"!==e.value.kind||"constant"!==i.value.kind)return e;if(void 0===e.value.value||void 0===i.value.value)return new Mt(this,{kind:"constant",value:void 0},e.parameters);const p=gc[this.specification.type];return p?new Mt(this,{kind:"constant",value:p(e.value.value,i.value.value,d)},e.parameters):e}evaluate(e,i,d,p,m,w){return"constant"===e.kind?e.value:e.evaluate(i,d,p,m,w)}}class Ut{constructor(e){this.specification=e}possiblyEvaluate(e,i,d,p){return!!e.expression.evaluate(i,null,{},d,p)}interpolate(){return!1}}class Gt{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const i=new Y(0,{});for(const d in e){const p=e[d];p.specification.overridable&&this.overridableProperties.push(d);const m=this.defaultPropertyValues[d]=new ue(p,void 0),w=this.defaultTransitionablePropertyValues[d]=new de(p);this.defaultTransitioningPropertyValues[d]=w.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=m.possiblyEvaluate(i)}}}function hn(n,e){return 256*(n=Oe(Math.floor(n),0,255))+Oe(Math.floor(e),0,255)}Vi(_t,"DataDrivenProperty"),Vi(Fe,"DataConstantProperty"),Vi(Ut,"ColorRampProperty");const fn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class mn{constructor(e,i){this._structArray=e,this._pos1=i*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Sn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,i){return e._trim(),i&&(e.isTransferred=!0,i.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const i=Object.create(this.prototype);return i.arrayBuffer=e.arrayBuffer,i.length=e.length,i.capacity=e.arrayBuffer.byteLength/i.bytesPerElement,i._refreshViews(),i}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const i=this.uint8;this._refreshViews(),i&&this.uint8.set(i)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Mn(n,e=1){let i=0,d=0;return{members:n.map(p=>{const m=fn[p.type].BYTES_PER_ELEMENT,w=i=zn(i,Math.max(e,m)),P=p.components||1;return d=Math.max(d,m),i+=m*P,{name:p.name,type:p.type,components:P,offset:w}}),size:zn(i,Math.max(d,e)),alignment:e}}function zn(n,e){return Math.ceil(n/e)*e}class yi extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i){const d=this.length;return this.resize(d+1),this.emplace(d,e,i)}emplace(e,i,d){const p=2*e;return this.int16[p+0]=i,this.int16[p+1]=d,e}}yi.prototype.bytesPerElement=4,Vi(yi,"StructArrayLayout2i4");class kn extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,d){const p=this.length;return this.resize(p+1),this.emplace(p,e,i,d)}emplace(e,i,d,p){const m=3*e;return this.int16[m+0]=i,this.int16[m+1]=d,this.int16[m+2]=p,e}}kn.prototype.bytesPerElement=6,Vi(kn,"StructArrayLayout3i6");class ai extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,d,p){const m=this.length;return this.resize(m+1),this.emplace(m,e,i,d,p)}emplace(e,i,d,p,m){const w=4*e;return this.int16[w+0]=i,this.int16[w+1]=d,this.int16[w+2]=p,this.int16[w+3]=m,e}}ai.prototype.bytesPerElement=8,Vi(ai,"StructArrayLayout4i8");class Vn extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,d,p,m,w,P){const k=this.length;return this.resize(k+1),this.emplace(k,e,i,d,p,m,w,P)}emplace(e,i,d,p,m,w,P,k){const N=6*e,Z=12*e,q=3*e;return this.int16[N+0]=i,this.int16[N+1]=d,this.uint8[Z+4]=p,this.uint8[Z+5]=m,this.uint8[Z+6]=w,this.uint8[Z+7]=P,this.float32[q+2]=k,e}}Vn.prototype.bytesPerElement=12,Vi(Vn,"StructArrayLayout2i4ub1f12");class pi extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,d,p){const m=this.length;return this.resize(m+1),this.emplace(m,e,i,d,p)}emplace(e,i,d,p,m){const w=4*e;return this.float32[w+0]=i,this.float32[w+1]=d,this.float32[w+2]=p,this.float32[w+3]=m,e}}pi.prototype.bytesPerElement=16,Vi(pi,"StructArrayLayout4f16");class An extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,d,p,m){const w=this.length;return this.resize(w+1),this.emplace(w,e,i,d,p,m)}emplace(e,i,d,p,m,w){const P=6*e,k=3*e;return this.uint16[P+0]=i,this.uint16[P+1]=d,this.uint16[P+2]=p,this.uint16[P+3]=m,this.float32[k+2]=w,e}}An.prototype.bytesPerElement=12,Vi(An,"StructArrayLayout4ui1f12");class oi extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,d,p){const m=this.length;return this.resize(m+1),this.emplace(m,e,i,d,p)}emplace(e,i,d,p,m){const w=4*e;return this.uint16[w+0]=i,this.uint16[w+1]=d,this.uint16[w+2]=p,this.uint16[w+3]=m,e}}oi.prototype.bytesPerElement=8,Vi(oi,"StructArrayLayout4ui8");class gi extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,d,p,m,w){const P=this.length;return this.resize(P+1),this.emplace(P,e,i,d,p,m,w)}emplace(e,i,d,p,m,w,P){const k=6*e;return this.int16[k+0]=i,this.int16[k+1]=d,this.int16[k+2]=p,this.int16[k+3]=m,this.int16[k+4]=w,this.int16[k+5]=P,e}}gi.prototype.bytesPerElement=12,Vi(gi,"StructArrayLayout6i12");class ci extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,d,p,m,w,P,k,N,Z,q,ce){const xe=this.length;return this.resize(xe+1),this.emplace(xe,e,i,d,p,m,w,P,k,N,Z,q,ce)}emplace(e,i,d,p,m,w,P,k,N,Z,q,ce,xe){const Ee=12*e;return this.int16[Ee+0]=i,this.int16[Ee+1]=d,this.int16[Ee+2]=p,this.int16[Ee+3]=m,this.uint16[Ee+4]=w,this.uint16[Ee+5]=P,this.uint16[Ee+6]=k,this.uint16[Ee+7]=N,this.int16[Ee+8]=Z,this.int16[Ee+9]=q,this.int16[Ee+10]=ce,this.int16[Ee+11]=xe,e}}ci.prototype.bytesPerElement=24,Vi(ci,"StructArrayLayout4i4ui4i24");class vi extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,d,p,m,w){const P=this.length;return this.resize(P+1),this.emplace(P,e,i,d,p,m,w)}emplace(e,i,d,p,m,w,P){const k=10*e,N=5*e;return this.int16[k+0]=i,this.int16[k+1]=d,this.int16[k+2]=p,this.float32[N+2]=m,this.float32[N+3]=w,this.float32[N+4]=P,e}}vi.prototype.bytesPerElement=20,Vi(vi,"StructArrayLayout3i3f20");class so extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const i=this.length;return this.resize(i+1),this.emplace(i,e)}emplace(e,i){return this.uint32[1*e+0]=i,e}}so.prototype.bytesPerElement=4,Vi(so,"StructArrayLayout1ul4");class So extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,d,p,m,w,P,k,N,Z,q,ce,xe){const Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,e,i,d,p,m,w,P,k,N,Z,q,ce,xe)}emplace(e,i,d,p,m,w,P,k,N,Z,q,ce,xe,Ee){const He=20*e,ht=10*e;return this.int16[He+0]=i,this.int16[He+1]=d,this.int16[He+2]=p,this.int16[He+3]=m,this.int16[He+4]=w,this.float32[ht+3]=P,this.float32[ht+4]=k,this.float32[ht+5]=N,this.float32[ht+6]=Z,this.int16[He+14]=q,this.uint32[ht+8]=ce,this.uint16[He+18]=xe,this.uint16[He+19]=Ee,e}}So.prototype.bytesPerElement=40,Vi(So,"StructArrayLayout5i4f1i1ul2ui40");class Yi extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,d,p,m,w,P){const k=this.length;return this.resize(k+1),this.emplace(k,e,i,d,p,m,w,P)}emplace(e,i,d,p,m,w,P,k){const N=8*e;return this.int16[N+0]=i,this.int16[N+1]=d,this.int16[N+2]=p,this.int16[N+4]=m,this.int16[N+5]=w,this.int16[N+6]=P,this.int16[N+7]=k,e}}Yi.prototype.bytesPerElement=16,Vi(Yi,"StructArrayLayout3i2i2i16");class po extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,d,p,m){const w=this.length;return this.resize(w+1),this.emplace(w,e,i,d,p,m)}emplace(e,i,d,p,m,w){const P=4*e,k=8*e;return this.float32[P+0]=i,this.float32[P+1]=d,this.float32[P+2]=p,this.int16[k+6]=m,this.int16[k+7]=w,e}}po.prototype.bytesPerElement=16,Vi(po,"StructArrayLayout2f1f2i16");class Io extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,d,p){const m=this.length;return this.resize(m+1),this.emplace(m,e,i,d,p)}emplace(e,i,d,p,m){const w=12*e,P=3*e;return this.uint8[w+0]=i,this.uint8[w+1]=d,this.float32[P+1]=p,this.float32[P+2]=m,e}}Io.prototype.bytesPerElement=12,Vi(Io,"StructArrayLayout2ub2f12");class qo extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,d){const p=this.length;return this.resize(p+1),this.emplace(p,e,i,d)}emplace(e,i,d,p){const m=3*e;return this.float32[m+0]=i,this.float32[m+1]=d,this.float32[m+2]=p,e}}qo.prototype.bytesPerElement=12,Vi(qo,"StructArrayLayout3f12");class eo extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,d){const p=this.length;return this.resize(p+1),this.emplace(p,e,i,d)}emplace(e,i,d,p){const m=3*e;return this.uint16[m+0]=i,this.uint16[m+1]=d,this.uint16[m+2]=p,e}}eo.prototype.bytesPerElement=6,Vi(eo,"StructArrayLayout3ui6");class Nr extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,i,d,p,m,w,P,k,N,Z,q,ce,xe,Ee,He,ht,Rt,tn,Ft,Qt,pn){const un=this.length;return this.resize(un+1),this.emplace(un,e,i,d,p,m,w,P,k,N,Z,q,ce,xe,Ee,He,ht,Rt,tn,Ft,Qt,pn)}emplace(e,i,d,p,m,w,P,k,N,Z,q,ce,xe,Ee,He,ht,Rt,tn,Ft,Qt,pn,un){const Hn=30*e,Ln=15*e,ri=60*e;return this.int16[Hn+0]=i,this.int16[Hn+1]=d,this.int16[Hn+2]=p,this.float32[Ln+2]=m,this.float32[Ln+3]=w,this.uint16[Hn+8]=P,this.uint16[Hn+9]=k,this.uint32[Ln+5]=N,this.uint32[Ln+6]=Z,this.uint32[Ln+7]=q,this.uint16[Hn+16]=ce,this.uint16[Hn+17]=xe,this.uint16[Hn+18]=Ee,this.float32[Ln+10]=He,this.float32[Ln+11]=ht,this.uint8[ri+48]=Rt,this.uint8[ri+49]=tn,this.uint8[ri+50]=Ft,this.uint32[Ln+13]=Qt,this.int16[Hn+28]=pn,this.uint8[ri+58]=un,e}}Nr.prototype.bytesPerElement=60,Vi(Nr,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Kr extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,i,d,p,m,w,P,k,N,Z,q,ce,xe,Ee,He,ht,Rt,tn,Ft,Qt,pn,un,Hn,Ln,ri,wi,$n,di,li,fi){const Pi=this.length;return this.resize(Pi+1),this.emplace(Pi,e,i,d,p,m,w,P,k,N,Z,q,ce,xe,Ee,He,ht,Rt,tn,Ft,Qt,pn,un,Hn,Ln,ri,wi,$n,di,li,fi)}emplace(e,i,d,p,m,w,P,k,N,Z,q,ce,xe,Ee,He,ht,Rt,tn,Ft,Qt,pn,un,Hn,Ln,ri,wi,$n,di,li,fi,Pi){const ii=38*e,ji=19*e;return this.int16[ii+0]=i,this.int16[ii+1]=d,this.int16[ii+2]=p,this.float32[ji+2]=m,this.float32[ji+3]=w,this.int16[ii+8]=P,this.int16[ii+9]=k,this.int16[ii+10]=N,this.int16[ii+11]=Z,this.int16[ii+12]=q,this.int16[ii+13]=ce,this.uint16[ii+14]=xe,this.uint16[ii+15]=Ee,this.uint16[ii+16]=He,this.uint16[ii+17]=ht,this.uint16[ii+18]=Rt,this.uint16[ii+19]=tn,this.uint16[ii+20]=Ft,this.uint16[ii+21]=Qt,this.uint16[ii+22]=pn,this.uint16[ii+23]=un,this.uint16[ii+24]=Hn,this.uint16[ii+25]=Ln,this.uint16[ii+26]=ri,this.uint16[ii+27]=wi,this.uint16[ii+28]=$n,this.uint32[ji+15]=di,this.float32[ji+16]=li,this.float32[ji+17]=fi,this.float32[ji+18]=Pi,e}}Kr.prototype.bytesPerElement=76,Vi(Kr,"StructArrayLayout3i2f6i15ui1ul3f76");class Hr extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const i=this.length;return this.resize(i+1),this.emplace(i,e)}emplace(e,i){return this.float32[1*e+0]=i,e}}Hr.prototype.bytesPerElement=4,Vi(Hr,"StructArrayLayout1f4");class $r extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,d,p,m){const w=this.length;return this.resize(w+1),this.emplace(w,e,i,d,p,m)}emplace(e,i,d,p,m,w){const P=5*e;return this.float32[P+0]=i,this.float32[P+1]=d,this.float32[P+2]=p,this.float32[P+3]=m,this.float32[P+4]=w,e}}$r.prototype.bytesPerElement=20,Vi($r,"StructArrayLayout5f20");class el extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,d,p){const m=this.length;return this.resize(m+1),this.emplace(m,e,i,d,p)}emplace(e,i,d,p,m){const w=6*e;return this.uint32[3*e+0]=i,this.uint16[w+2]=d,this.uint16[w+3]=p,this.uint16[w+4]=m,e}}el.prototype.bytesPerElement=12,Vi(el,"StructArrayLayout1ul3ui12");class ba extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i){const d=this.length;return this.resize(d+1),this.emplace(d,e,i)}emplace(e,i,d){const p=2*e;return this.uint16[p+0]=i,this.uint16[p+1]=d,e}}ba.prototype.bytesPerElement=4,Vi(ba,"StructArrayLayout2ui4");class Ul extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const i=this.length;return this.resize(i+1),this.emplace(i,e)}emplace(e,i){return this.uint16[1*e+0]=i,e}}Ul.prototype.bytesPerElement=2,Vi(Ul,"StructArrayLayout1ui2");class tc extends Sn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i){const d=this.length;return this.resize(d+1),this.emplace(d,e,i)}emplace(e,i,d){const p=2*e;return this.float32[p+0]=i,this.float32[p+1]=d,e}}tc.prototype.bytesPerElement=8,Vi(tc,"StructArrayLayout2f8");class gs extends mn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}gs.prototype.size=40;class Xr extends So{get(e){return new gs(this,e)}}Vi(Xr,"CollisionBoxArray");class br extends mn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}br.prototype.size=60;class fs extends Nr{get(e){return new br(this,e)}}Vi(fs,"PlacedSymbolArray");class tl extends mn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}tl.prototype.size=76;class cs extends Kr{get(e){return new tl(this,e)}}Vi(cs,"SymbolInstanceArray");class Ua extends Hr{getoffsetX(e){return this.float32[1*e+0]}}Vi(Ua,"GlyphOffsetArray");class ud extends yi{getx(e){return this.int16[2*e+0]}gety(e){return this.int16[2*e+1]}}Vi(ud,"SymbolLineVertexArray");class Sa extends mn{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Sa.prototype.size=12;class er extends el{get(e){return new Sa(this,e)}}Vi(er,"FeatureIndexArray");class nc extends ba{geta_centroid_pos0(e){return this.uint16[2*e+0]}geta_centroid_pos1(e){return this.uint16[2*e+1]}}Vi(nc,"FillExtrusionCentroidArray");const Mc=Mn([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Hl=Mn([{name:"a_dash",components:4,type:"Uint16"}]);var hd={exports:{}},xc=function(n,e){var i,d,p,m,w,P,k,N;for(d=n.length-(i=3&n.length),p=e,w=3432918353,P=461845907,N=0;N<d;)k=255&n.charCodeAt(N)|(255&n.charCodeAt(++N))<<8|(255&n.charCodeAt(++N))<<16|(255&n.charCodeAt(++N))<<24,++N,p=27492+(65535&(m=5*(65535&(p=(p^=k=(65535&(k=(k=(65535&k)*w+(((k>>>16)*w&65535)<<16)&4294967295)<<15|k>>>17))*P+(((k>>>16)*P&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(m>>>16)&65535)<<16);switch(k=0,i){case 3:k^=(255&n.charCodeAt(N+2))<<16;case 2:k^=(255&n.charCodeAt(N+1))<<8;case 1:p^=k=(65535&(k=(k=(65535&(k^=255&n.charCodeAt(N)))*w+(((k>>>16)*w&65535)<<16)&4294967295)<<15|k>>>17))*P+(((k>>>16)*P&65535)<<16)&4294967295}return p^=n.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0},Jc=function(n,e){for(var i,d=n.length,p=e^d,m=0;d>=4;)i=1540483477*(65535&(i=255&n.charCodeAt(m)|(255&n.charCodeAt(++m))<<8|(255&n.charCodeAt(++m))<<16|(255&n.charCodeAt(++m))<<24))+((1540483477*(i>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),d-=4,++m;switch(d){case 3:p^=(255&n.charCodeAt(m+2))<<16;case 2:p^=(255&n.charCodeAt(m+1))<<8;case 1:p=1540483477*(65535&(p^=255&n.charCodeAt(m)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};hd.exports=xc,hd.exports.murmur3=xc,hd.exports.murmur2=Jc;var ih=ke(hd.exports);class Bu{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,i,d,p){this.ids.push(cu(e)),this.positions.push(i,d,p)}getPositions(e){const i=cu(e);let d=0,p=this.ids.length-1;for(;d<p;){const w=d+p>>1;this.ids[w]>=i?p=w:d=w+1}const m=[];for(;this.ids[d]===i;)m.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return m}static serialize(e,i){const d=new Float64Array(e.ids),p=new Uint32Array(e.positions);return Lp(d,p,0,d.length-1),i&&i.push(d.buffer,p.buffer),{ids:d,positions:p}}static deserialize(e){const i=new Bu;return i.ids=e.ids,i.positions=e.positions,i.indexed=!0,i}}function cu(n){const e=+n;return!isNaN(e)&&Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:ih(String(n))}function Lp(n,e,i,d){for(;i<d;){const p=n[i+d>>1];let m=i-1,w=d+1;for(;;){do{m++}while(n[m]<p);do{w--}while(n[w]>p);if(m>=w)break;Vh(n,m,w),Vh(e,3*m,3*w),Vh(e,3*m+1,3*w+1),Vh(e,3*m+2,3*w+2)}w-i<d-w?(Lp(n,e,i,w),i=w+1):(Lp(n,e,w+1,d),d=w)}}function Vh(n,e,i){const d=n[e];n[e]=n[i],n[i]=d}Vi(Bu,"FeaturePositionMap");class ic{constructor(e){this.gl=e.gl,this.initialized=!1}fetchUniformLocation(e,i){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,i),this.initialized=!0),!!this.location}}class Nc extends ic{constructor(e){super(e),this.current=0}set(e,i,d){this.fetchUniformLocation(e,i)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class oh extends ic{constructor(e){super(e),this.current=[0,0,0,0]}set(e,i,d){this.fetchUniformLocation(e,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class Gh extends ic{constructor(e){super(e),this.current=Ni.transparent}set(e,i,d){this.fetchUniformLocation(e,i)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const mg=new Float32Array(16),$h=new Float32Array(9),Oc=new Float32Array(4);function Zh(n){return[hn(255*n.r,255*n.g),hn(255*n.b,255*n.a)]}class rh{constructor(e,i,d){this.value=e,this.uniformNames=i.map(p=>`u_${p}`),this.type=d}setUniform(e,i,d,p,m){i.set(e,m,p.constantOr(this.value))}getBinding(e,i){return"color"===this.type?new Gh(e):new Nc(e)}}class Us{constructor(e,i){this.uniformNames=i.map(d=>`u_${d}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br)}setUniform(e,i,d,p,m){const w="u_pattern"===m||"u_dash"===m?this.pattern:"u_pixel_ratio"===m?this.pixelRatio:null;w&&i.set(e,m,w)}getBinding(e,i){return"u_pattern"===i||"u_dash"===i?new oh(e):new Nc(e)}}class gd{constructor(e,i,d,p){this.expression=e,this.type=d,this.maxValue=0,this.paintVertexAttributes=i.map(m=>({name:`a_${m}`,type:"Float32",components:"color"===d?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(e,i,d,p,m,w){const P=this.paintVertexArray.length,k=this.expression.evaluate(new Y(0),i,{},m,p,w);this.paintVertexArray.resize(e),this._setPaintValue(P,e,k)}updatePaintArray(e,i,d,p,m){const w=this.expression.evaluate({zoom:0},d,p,void 0,m);this._setPaintValue(e,i,w)}_setPaintValue(e,i,d){if("color"===this.type){const p=Zh(d);for(let m=e;m<i;m++)this.paintVertexArray.emplace(m,p[0],p[1])}else{for(let p=e;p<i;p++)this.paintVertexArray.emplace(p,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ml{constructor(e,i,d,p,m,w){this.expression=e,this.uniformNames=i.map(P=>`u_${P}_t`),this.type=d,this.useIntegerZoom=p,this.zoom=m,this.maxValue=0,this.paintVertexAttributes=i.map(P=>({name:`a_${P}`,type:"Float32",components:"color"===d?4:2,offset:0})),this.paintVertexArray=new w}populatePaintArray(e,i,d,p,m,w){const P=this.expression.evaluate(new Y(this.zoom),i,{},m,p,w),k=this.expression.evaluate(new Y(this.zoom+1),i,{},m,p,w),N=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(N,e,P,k)}updatePaintArray(e,i,d,p,m){const w=this.expression.evaluate({zoom:this.zoom},d,p,void 0,m),P=this.expression.evaluate({zoom:this.zoom+1},d,p,void 0,m);this._setPaintValue(e,i,w,P)}_setPaintValue(e,i,d,p){if("color"===this.type){const m=Zh(d),w=Zh(p);for(let P=e;P<i;P++)this.paintVertexArray.emplace(P,m[0],m[1],w[0],w[1])}else{for(let m=e;m<i;m++)this.paintVertexArray.emplace(m,d,p);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(p))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,i,d,p,m){const w=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,P=Oe(this.expression.interpolationFactor(w,this.zoom,this.zoom+1),0,1);i.set(e,m,P)}getBinding(e,i){return new Nc(e)}}class du{constructor(e,i,d,p,m){this.expression=e,this.layerId=m,this.paintVertexAttributes=("array"===d?Hl:Mc).members;for(let w=0;w<i.length;++w);this.paintVertexArray=new p}populatePaintArray(e,i,d){const p=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(p,e,i.patterns&&i.patterns[this.layerId],d)}updatePaintArray(e,i,d,p,m,w){this._setPaintValues(e,i,d.patterns&&d.patterns[this.layerId],w)}_setPaintValues(e,i,d,p){if(!p||!d)return;const m=p[d];if(!m)return;const{tl:w,br:P,pixelRatio:k}=m;for(let N=e;N<i;N++)this.paintVertexArray.emplace(N,w[0],w[1],P[0],P[1],k)}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ha{constructor(e,i,d=(()=>!0)){this.binders={},this._buffers=[];const p=[];for(const m in e.paint._values){if(!d(m))continue;const w=e.paint.get(m);if(!(w instanceof Mt&&ze(w.property.specification)))continue;const P=Np(m,e.type),k=w.value,N=w.property.specification.type,Z=!!w.property.useIntegerZoom,q="line-dasharray"===m||m.endsWith("pattern"),ce="line-dasharray"===m&&"constant"!==e.layout.get("line-cap").value.kind;if("constant"!==k.kind||ce)if("source"===k.kind||ce||q){const xe=Fp(m,N,"source");this.binders[m]=q?new du(k,P,N,xe,e.id):new gd(k,P,N,xe),p.push(`/a_${m}`)}else{const xe=Fp(m,N,"composite");this.binders[m]=new ml(k,P,N,Z,i,xe),p.push(`/z_${m}`)}else this.binders[m]=q?new Us(k.value,P):new rh(k.value,P,N),p.push(`/u_${m}`)}this.cacheKey=p.sort().join("")}getMaxValue(e){const i=this.binders[e];return i instanceof gd||i instanceof ml?i.maxValue:0}populatePaintArrays(e,i,d,p,m,w){for(const P in this.binders){const k=this.binders[P];(k instanceof gd||k instanceof ml||k instanceof du)&&k.populatePaintArray(e,i,d,p,m,w)}}setConstantPatternPositions(e){for(const i in this.binders){const d=this.binders[i];d instanceof Us&&d.setConstantPatternPositions(e)}}updatePaintArrays(e,i,d,p,m,w){let P=!1;for(const k in e){const N=i.getPositions(k);for(const Z of N){const q=d.feature(Z.index);for(const ce in this.binders){const xe=this.binders[ce];if((xe instanceof gd||xe instanceof ml||xe instanceof du)&&!0===xe.expression.isStateDependent){const Ee=p.paint.get(ce);xe.expression=Ee.value,xe.updatePaintArray(Z.start,Z.end,q,e[k],m,w),P=!0}}}}return P}defines(){const e=[];for(const i in this.binders){const d=this.binders[i];(d instanceof rh||d instanceof Us)&&e.push(...d.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return e}getBinderAttributes(){const e=[];for(const i in this.binders){const d=this.binders[i];if(d instanceof gd||d instanceof ml||d instanceof du)for(let p=0;p<d.paintVertexAttributes.length;p++)e.push(d.paintVertexAttributes[p].name)}return e}getBinderUniforms(){const e=[];for(const i in this.binders){const d=this.binders[i];if(d instanceof rh||d instanceof Us||d instanceof ml)for(const p of d.uniformNames)e.push(p)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const i=[];for(const d in this.binders){const p=this.binders[d];if(p instanceof rh||p instanceof Us||p instanceof ml)for(const m of p.uniformNames)i.push({name:m,property:d,binding:p.getBinding(e,m)})}return i}setUniforms(e,i,d,p,m){for(const{name:w,property:P,binding:k}of d)this.binders[P].setUniform(e,k,m,p.get(P),w)}updatePaintBuffers(){this._buffers=[];for(const e in this.binders){const i=this.binders[e];(i instanceof gd||i instanceof ml||i instanceof du)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}}upload(e){for(const i in this.binders){const d=this.binders[i];(d instanceof gd||d instanceof ml||d instanceof du)&&d.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const i=this.binders[e];(i instanceof gd||i instanceof ml||i instanceof du)&&i.destroy()}}}class _l{constructor(e,i,d=(()=>!0)){this.programConfigurations={};for(const p of e)this.programConfigurations[p.id]=new Ha(p,i,d);this.needsUpload=!1,this._featureMap=new Bu,this._bufferOffset=0}populatePaintArrays(e,i,d,p,m,w,P){for(const k in this.programConfigurations)this.programConfigurations[k].populatePaintArrays(e,i,p,m,w,P);void 0!==i.id&&this._featureMap.add(i.id,d,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,i,d,p,m){for(const w of d)this.needsUpload=this.programConfigurations[w.id].updatePaintArrays(e,this._featureMap,i,w,p,m)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const i in this.programConfigurations)this.programConfigurations[i].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const sh={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Np(n,e){return sh[n]||[n.replace(`${e}-`,"").replace(/-/g,"_")]}const ah={"line-pattern":{source:An,composite:An},"fill-pattern":{source:An,composite:An},"fill-extrusion-pattern":{source:An,composite:An},"line-dasharray":{source:oi,composite:oi}},Qg={color:{source:tc,composite:pi},number:{source:Hr,composite:tc}};function Fp(n,e,i){const d=ah[n];return d&&d[i]||Qg[e][i]}Vi(rh,"ConstantBinder"),Vi(Us,"PatternConstantBinder"),Vi(gd,"SourceExpressionBinder"),Vi(du,"PatternCompositeBinder"),Vi(ml,"CompositeExpressionBinder"),Vi(Ha,"ProgramConfiguration",{omit:["_buffers"]}),Vi(_l,"ProgramConfigurationSet");const ef="-transition";class fd extends jo{constructor(e,i){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),i.layout&&(this._unevaluatedLayout=new xt(i.layout)),i.paint)){this._transitionablePaint=new Re(i.paint);for(const d in e.paint)this.setPaintProperty(d,e.paint[d],{validate:!1});for(const d in e.layout)this.setLayoutProperty(d,e.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Pt(i.paint)}}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,i,d={}){null!=i&&this._validate(Ql,`layers.${this.id}.layout.${e}`,e,i,d)||("visibility"!==e?this._unevaluatedLayout.setValue(e,i):this.visibility=i)}getPaintProperty(e){return ve(e,ef)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,i,d={}){if(null!=i&&this._validate(Ta,`layers.${this.id}.paint.${e}`,e,i,d))return!1;if(ve(e,ef))return this._transitionablePaint.setTransition(e.slice(0,-11),i||void 0),!1;{const p=this._transitionablePaint._values[e],m=p.value.isDataDriven(),w=p.value;this._transitionablePaint.setValue(e,i),this._handleSpecialPaintPropertyUpdate(e);const P=this._transitionablePaint._values[e].value,k=P.isDataDriven(),N=ve(e,"pattern")||"line-dasharray"===e;return k||m||N||this._handleOverridablePaintPropertyUpdate(e,w,P)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,i,d){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,i){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,i)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,i)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),St(e,(i,d)=>!(void 0===i||"layout"===d&&!Object.keys(i).length||"paint"===d&&!Object.keys(i).length))}_validate(e,i,d,p,m={}){return(!m||!1!==m.validate)&&ec(this,e.call(Lc,{key:i,layerType:this.type,objectKey:d,value:p,styleSpec:Dn,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const i=this.paint.get(e);if(i instanceof Mt&&ze(i.property.specification)&&("source"===i.value.kind||"composite"===i.value.kind)&&i.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Wc(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Pc=Mn([{name:"a_pos",components:2,type:"Int16"}],4),_g=Mn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class os{constructor(e=[]){this.segments=e}prepareSegment(e,i,d,p){let m=this.segments[this.segments.length-1];return e>os.MAX_VERTEX_ARRAY_LENGTH&&Cn(`Max vertices per segment is ${os.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!m||m.vertexLength+e>os.MAX_VERTEX_ARRAY_LENGTH||m.sortKey!==p)&&(m={vertexOffset:i.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},void 0!==p&&(m.sortKey=p),this.segments.push(m)),m}get(){return this.segments}destroy(){for(const e of this.segments)for(const i in e.vaos)e.vaos[i].destroy()}static simpleSegment(e,i,d,p){return new os([{vertexOffset:e,primitiveOffset:i,vertexLength:d,primitiveLength:p,vaos:{},sortKey:0}])}}os.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Vi(os,"SegmentVector");var oo=8192;class md{constructor(e,i){e&&(i?this.setSouthWest(e).setNorthEast(i):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof Zr?new Zr(e.lng,e.lat):Zr.convert(e),this}setSouthWest(e){return this._sw=e instanceof Zr?new Zr(e.lng,e.lat):Zr.convert(e),this}extend(e){const i=this._sw,d=this._ne;let p,m;if(e instanceof Zr)p=e,m=e;else{if(!(e instanceof md))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(md.convert(e)):this.extend(Zr.convert(e)):"object"==typeof e&&null!==e&&e.hasOwnProperty("lat")&&(e.hasOwnProperty("lon")||e.hasOwnProperty("lng"))?this.extend(Zr.convert(e)):this;if(p=e._sw,m=e._ne,!p||!m)return this}return i||d?(i.lng=Math.min(p.lng,i.lng),i.lat=Math.min(p.lat,i.lat),d.lng=Math.max(m.lng,d.lng),d.lat=Math.max(m.lat,d.lat)):(this._sw=new Zr(p.lng,p.lat),this._ne=new Zr(m.lng,m.lat)),this}getCenter(){return new Zr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Zr(this.getWest(),this.getNorth())}getSouthEast(){return new Zr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:i,lat:d}=Zr.convert(e);let p=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&p}static convert(e){return!e||e instanceof md?e:new md(e)}}var uu=1e-6,nl=typeof Float32Array<"u"?Float32Array:Array;function lh(){var n=new nl(9);return nl!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function Bp(n,e,i){var d=e[0],p=e[1],m=e[2],w=e[3],P=e[4],k=e[5],N=e[6],Z=e[7],q=e[8],ce=i[0],xe=i[1],Ee=i[2],He=i[3],ht=i[4],Rt=i[5],tn=i[6],Ft=i[7],Qt=i[8];return n[0]=ce*d+xe*w+Ee*N,n[1]=ce*p+xe*P+Ee*Z,n[2]=ce*m+xe*k+Ee*q,n[3]=He*d+ht*w+Rt*N,n[4]=He*p+ht*P+Rt*Z,n[5]=He*m+ht*k+Rt*q,n[6]=tn*d+Ft*w+Qt*N,n[7]=tn*p+Ft*P+Qt*Z,n[8]=tn*m+Ft*k+Qt*q,n}function Sl(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function yg(n,e){var i=e[0],d=e[1],p=e[2],m=e[3],w=e[4],P=e[5],k=e[6],N=e[7],Z=e[8],q=e[9],ce=e[10],xe=e[11],Ee=e[12],He=e[13],ht=e[14],Rt=e[15],tn=i*P-d*w,Ft=i*k-p*w,Qt=i*N-m*w,pn=d*k-p*P,un=d*N-m*P,Hn=p*N-m*k,Ln=Z*He-q*Ee,ri=Z*ht-ce*Ee,wi=Z*Rt-xe*Ee,$n=q*ht-ce*He,di=q*Rt-xe*He,li=ce*Rt-xe*ht,fi=tn*li-Ft*di+Qt*$n+pn*wi-un*ri+Hn*Ln;return fi?(n[0]=(P*li-k*di+N*$n)*(fi=1/fi),n[1]=(p*di-d*li-m*$n)*fi,n[2]=(He*Hn-ht*un+Rt*pn)*fi,n[3]=(ce*un-q*Hn-xe*pn)*fi,n[4]=(k*wi-w*li-N*ri)*fi,n[5]=(i*li-p*wi+m*ri)*fi,n[6]=(ht*Qt-Ee*Hn-Rt*Ft)*fi,n[7]=(Z*Hn-ce*Qt+xe*Ft)*fi,n[8]=(w*di-P*wi+N*Ln)*fi,n[9]=(d*wi-i*di-m*Ln)*fi,n[10]=(Ee*un-He*Qt+Rt*tn)*fi,n[11]=(q*Qt-Z*un-xe*tn)*fi,n[12]=(P*ri-w*$n-k*Ln)*fi,n[13]=(i*$n-d*ri+p*Ln)*fi,n[14]=(He*Ft-Ee*pn-ht*tn)*fi,n[15]=(Z*pn-q*Ft+ce*tn)*fi,n):null}function Tc(n,e,i){var d=e[0],p=e[1],m=e[2],w=e[3],P=e[4],k=e[5],N=e[6],Z=e[7],q=e[8],ce=e[9],xe=e[10],Ee=e[11],He=e[12],ht=e[13],Rt=e[14],tn=e[15],Ft=i[0],Qt=i[1],pn=i[2],un=i[3];return n[0]=Ft*d+Qt*P+pn*q+un*He,n[1]=Ft*p+Qt*k+pn*ce+un*ht,n[2]=Ft*m+Qt*N+pn*xe+un*Rt,n[3]=Ft*w+Qt*Z+pn*Ee+un*tn,n[4]=(Ft=i[4])*d+(Qt=i[5])*P+(pn=i[6])*q+(un=i[7])*He,n[5]=Ft*p+Qt*k+pn*ce+un*ht,n[6]=Ft*m+Qt*N+pn*xe+un*Rt,n[7]=Ft*w+Qt*Z+pn*Ee+un*tn,n[8]=(Ft=i[8])*d+(Qt=i[9])*P+(pn=i[10])*q+(un=i[11])*He,n[9]=Ft*p+Qt*k+pn*ce+un*ht,n[10]=Ft*m+Qt*N+pn*xe+un*Rt,n[11]=Ft*w+Qt*Z+pn*Ee+un*tn,n[12]=(Ft=i[12])*d+(Qt=i[13])*P+(pn=i[14])*q+(un=i[15])*He,n[13]=Ft*p+Qt*k+pn*ce+un*ht,n[14]=Ft*m+Qt*N+pn*xe+un*Rt,n[15]=Ft*w+Qt*Z+pn*Ee+un*tn,n}function oc(n,e,i){var d,p,m,w,P,k,N,Z,q,ce,xe,Ee,He=i[0],ht=i[1],Rt=i[2];return e===n?(n[12]=e[0]*He+e[4]*ht+e[8]*Rt+e[12],n[13]=e[1]*He+e[5]*ht+e[9]*Rt+e[13],n[14]=e[2]*He+e[6]*ht+e[10]*Rt+e[14],n[15]=e[3]*He+e[7]*ht+e[11]*Rt+e[15]):(p=e[1],m=e[2],w=e[3],P=e[4],k=e[5],N=e[6],Z=e[7],q=e[8],ce=e[9],xe=e[10],Ee=e[11],n[0]=d=e[0],n[1]=p,n[2]=m,n[3]=w,n[4]=P,n[5]=k,n[6]=N,n[7]=Z,n[8]=q,n[9]=ce,n[10]=xe,n[11]=Ee,n[12]=d*He+P*ht+q*Rt+e[12],n[13]=p*He+k*ht+ce*Rt+e[13],n[14]=m*He+N*ht+xe*Rt+e[14],n[15]=w*He+Z*ht+Ee*Rt+e[15]),n}function zu(n,e,i){var d=i[0],p=i[1],m=i[2];return n[0]=e[0]*d,n[1]=e[1]*d,n[2]=e[2]*d,n[3]=e[3]*d,n[4]=e[4]*p,n[5]=e[5]*p,n[6]=e[6]*p,n[7]=e[7]*p,n[8]=e[8]*m,n[9]=e[9]*m,n[10]=e[10]*m,n[11]=e[11]*m,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function ch(n,e,i){var d=Math.sin(i),p=Math.cos(i),m=e[4],w=e[5],P=e[6],k=e[7],N=e[8],Z=e[9],q=e[10],ce=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=m*p+N*d,n[5]=w*p+Z*d,n[6]=P*p+q*d,n[7]=k*p+ce*d,n[8]=N*p-m*d,n[9]=Z*p-w*d,n[10]=q*p-P*d,n[11]=ce*p-k*d,n}function dh(n,e,i){var d=Math.sin(i),p=Math.cos(i),m=e[0],w=e[1],P=e[2],k=e[3],N=e[8],Z=e[9],q=e[10],ce=e[11];return e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=m*p-N*d,n[1]=w*p-Z*d,n[2]=P*p-q*d,n[3]=k*p-ce*d,n[8]=m*d+N*p,n[9]=w*d+Z*p,n[10]=P*d+q*p,n[11]=k*d+ce*p,n}function Wh(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function zp(n,e,i){var d,p,m,w=i[0],P=i[1],k=i[2],N=Math.hypot(w,P,k);return N<uu?null:(w*=N=1/N,P*=N,k*=N,d=Math.sin(e),p=Math.cos(e),n[0]=w*w*(m=1-p)+p,n[1]=P*w*m+k*d,n[2]=k*w*m-P*d,n[3]=0,n[4]=w*P*m-k*d,n[5]=P*P*m+p,n[6]=k*P*m+w*d,n[7]=0,n[8]=w*k*m+P*d,n[9]=P*k*m-w*d,n[10]=k*k*m+p,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n)}Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});var vg=Tc;function hu(){var n=new nl(3);return nl!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function Kh(n){var e=new nl(3);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e}function uh(n){return Math.hypot(n[0],n[1],n[2])}function hh(n,e,i){var d=new nl(3);return d[0]=n,d[1]=e,d[2]=i,d}function Fd(n,e,i){return n[0]=e[0]+i[0],n[1]=e[1]+i[1],n[2]=e[2]+i[2],n}function Bd(n,e,i){return n[0]=e[0]-i[0],n[1]=e[1]-i[1],n[2]=e[2]-i[2],n}function pu(n,e,i){return n[0]=e[0]*i[0],n[1]=e[1]*i[1],n[2]=e[2]*i[2],n}function ph(n,e,i){return n[0]=Math.min(e[0],i[0]),n[1]=Math.min(e[1],i[1]),n[2]=Math.min(e[2],i[2]),n}function Yh(n,e,i){return n[0]=Math.max(e[0],i[0]),n[1]=Math.max(e[1],i[1]),n[2]=Math.max(e[2],i[2]),n}function rc(n,e,i){return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n}function _d(n,e,i,d){return n[0]=e[0]+i[0]*d,n[1]=e[1]+i[1]*d,n[2]=e[2]+i[2]*d,n}function il(n,e){var i=e[0],d=e[1],p=e[2],m=i*i+d*d+p*p;return m>0&&(m=1/Math.sqrt(m)),n[0]=e[0]*m,n[1]=e[1]*m,n[2]=e[2]*m,n}function ol(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function yd(n,e,i){var d=e[0],p=e[1],m=e[2],w=i[0],P=i[1],k=i[2];return n[0]=p*k-m*P,n[1]=m*w-d*k,n[2]=d*P-p*w,n}function ms(n,e,i){var d=e[0],p=e[1],m=e[2],w=i[3]*d+i[7]*p+i[11]*m+i[15];return n[0]=(i[0]*d+i[4]*p+i[8]*m+i[12])/(w=w||1),n[1]=(i[1]*d+i[5]*p+i[9]*m+i[13])/w,n[2]=(i[2]*d+i[6]*p+i[10]*m+i[14])/w,n}function gh(n,e,i){var d=i[0],p=i[1],m=i[2],w=e[0],P=e[1],k=e[2],N=p*k-m*P,Z=m*w-d*k,q=d*P-p*w,ce=p*q-m*Z,xe=m*N-d*q,Ee=d*Z-p*N,He=2*i[3];return Z*=He,q*=He,xe*=2,Ee*=2,n[0]=w+(N*=He)+(ce*=2),n[1]=P+Z+xe,n[2]=k+q+Ee,n}var gu,jl=Bd,bg=pu,Cg=uh;function qh(n,e,i){return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n}function Sc(n,e){var i=e[0],d=e[1],p=e[2],m=e[3],w=i*i+d*d+p*p+m*m;return w>0&&(w=1/Math.sqrt(w)),n[0]=i*w,n[1]=d*w,n[2]=p*w,n[3]=m*w,n}function Xc(n,e,i){var d=e[0],p=e[1],m=e[2],w=e[3];return n[0]=i[0]*d+i[4]*p+i[8]*m+i[12]*w,n[1]=i[1]*d+i[5]*p+i[9]*m+i[13]*w,n[2]=i[2]*d+i[6]*p+i[10]*m+i[14]*w,n[3]=i[3]*d+i[7]*p+i[11]*m+i[15]*w,n}function wg(){var n=new nl(4);return nl!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function Vl(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function Up(n,e,i){i*=.5;var d=e[0],p=e[1],m=e[2],w=e[3],P=Math.sin(i),k=Math.cos(i);return n[0]=d*k+w*P,n[1]=p*k+m*P,n[2]=m*k-p*P,n[3]=w*k-d*P,n}function Jh(n,e,i){i*=.5;var d=e[0],p=e[1],m=e[2],w=e[3],P=Math.sin(i),k=Math.cos(i);return n[0]=d*k-m*P,n[1]=p*k+w*P,n[2]=m*k+d*P,n[3]=w*k-p*P,n}hu(),gu=new nl(4),nl!=Float32Array&&(gu[0]=0,gu[1]=0,gu[2]=0,gu[3]=0);var fu=Sc;hu(),hh(1,0,0),hh(0,1,0),wg(),wg(),lh();const tf=Mn([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Hp}=tf,Mg=Mn([{name:"a_pos_3",components:3,type:"Int16"}]);var vd=Mn([{name:"a_pos",type:"Int16",components:2}]);class Qc{constructor(e,i){this.pos=e,this.dir=i}intersectsPlane(e,i,d){const p=ol(i,this.dir);if(Math.abs(p)<1e-6)return!1;const m=((e[0]-this.pos[0])*i[0]+(e[1]-this.pos[1])*i[1]+(e[2]-this.pos[2])*i[2])/p;return d[0]=this.pos[0]+this.dir[0]*m,d[1]=this.pos[1]+this.dir[1]*m,d[2]=this.pos[2]+this.dir[2]*m,!0}closestPointOnSphere(e,i,d){if(He=(xe=this.pos)[0],ht=xe[1],Rt=xe[2],tn=(Ee=e)[0],Ft=Ee[1],Qt=Ee[2],Math.abs(He-tn)<=uu*Math.max(1,Math.abs(He),Math.abs(tn))&&Math.abs(ht-Ft)<=uu*Math.max(1,Math.abs(ht),Math.abs(Ft))&&Math.abs(Rt-Qt)<=uu*Math.max(1,Math.abs(Rt),Math.abs(Qt))||0===i)return d[0]=d[1]=d[2]=0,!1;var xe,Ee,He,ht,Rt,tn,Ft,Qt;const[p,m,w]=this.dir,P=this.pos[0]-e[0],k=this.pos[1]-e[1],N=this.pos[2]-e[2],Z=p*p+m*m+w*w,q=2*(P*p+k*m+N*w),ce=q*q-4*Z*(P*P+k*k+N*N-i*i);if(ce<0){const xe=Math.max(-q/2,0),Ee=P+p*xe,He=k+m*xe,ht=N+w*xe,Rt=Math.hypot(Ee,He,ht);return d[0]=Ee*i/Rt,d[1]=He*i/Rt,d[2]=ht*i/Rt,!1}{const xe=(-q-Math.sqrt(ce))/(2*Z);if(xe<0){const Ee=Math.hypot(P,k,N);return d[0]=P*i/Ee,d[1]=k*i/Ee,d[2]=N*i/Ee,!1}return d[0]=P+p*xe,d[1]=k+m*xe,d[2]=N+w*xe,!0}}}class Xh{constructor(e,i,d,p,m){this.TL=e,this.TR=i,this.BR=d,this.BL=p,this.horizon=m}static fromInvProjectionMatrix(e,i,d){const p=[-1,1,1],m=[1,1,1],w=[1,-1,1],P=[-1,-1,1],k=ms(p,p,e),N=ms(m,m,e),Z=ms(w,w,e),q=ms(P,P,e);return new Xh(k,N,Z,q,i/d)}}class Uu{constructor(e,i){this.points=e,this.planes=i}static fromInvProjectionMatrix(e,i,d,p){const m=Math.pow(2,d),w=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(k=>{const N=Xc([],k,e),Z=1/N[3]/i*m;return(q=N)[0]=(ce=N)[0]*(xe=[Z,Z,p?1/N[3]:Z,Z])[0],q[1]=ce[1]*xe[1],q[2]=ce[2]*xe[2],q[3]=ce[3]*xe[3],q;var q,ce,xe}),P=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(k=>{const N=il([],yd([],jl([],w[k[0]],w[k[1]]),jl([],w[k[2]],w[k[1]]))),Z=-ol(N,w[k[1]]);return N.concat(Z)});return new Uu(w,P)}}class Da{static fromPoints(e){const i=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0];for(const p of e)ph(i,i,p),Yh(d,d,p);return new Da(i,d)}static applyTransform(e,i){const d=e.getCorners();for(let p=0;p<d.length;++p)ms(d[p],d[p],i);return Da.fromPoints(d)}constructor(e,i){this.min=e,this.max=i,this.center=rc([],Fd([],this.min,this.max),.5)}quadrant(e){const i=[e%2==0,e<2],d=Kh(this.min),p=Kh(this.max);for(let m=0;m<i.length;m++)d[m]=i[m]?this.min[m]:this.center[m],p[m]=i[m]?this.center[m]:this.max[m];return p[2]=this.max[2],new Da(d,p)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,i=this.max;return[[e[0],e[1],e[2]],[i[0],e[1],e[2]],[i[0],i[1],e[2]],[e[0],i[1],e[2]],[e[0],e[1],i[2]],[i[0],e[1],i[2]],[i[0],i[1],i[2]],[e[0],i[1],i[2]]]}intersects(e){const i=this.getCorners();let d=!0;for(let p=0;p<e.planes.length;p++){const m=e.planes[p];let w=0;for(let P=0;P<i.length;P++)w+=ol(m,i[P])+m[3]>=0;if(0===w)return 0;w!==i.length&&(d=!1)}if(d)return 2;for(let p=0;p<3;p++){let m=Number.MAX_VALUE,w=-Number.MAX_VALUE;for(let P=0;P<e.points.length;P++){const k=e.points[P][p]-this.min[p];m=Math.min(m,k),w=Math.max(w,k)}if(w<0||m>this.max[p]-this.min[p])return 0}return 1}}const jp=5,fh=6,Dl=oo/Math.PI/2,Gl=16383,bd=[64,32,16],Ea=-Dl,Ia=Dl,Hu=[new Da([Ea,Ea,Ea],[Ia,Ia,Ia]),new Da([Ea,Ea,Ea],[0,0,Ia]),new Da([0,Ea,Ea],[Ia,0,Ia]),new Da([Ea,0,Ea],[0,Ia,Ia]),new Da([0,0,Ea],[Ia,Ia,Ia])];function Vp(n){return n*Dl/Qh}function Cd(n,e,i,d=!0){const p=rc([],n._camera.position,n.worldSize),m=[e,i,1,1];Xc(m,m,n.pixelMatrixInverse),qh(m,m,1/m[3]);const w=il([],jl([],m,p)),P=n.globeMatrix,k=[P[12],P[13],P[14]],N=jl([],k,p),Z=uh(N),q=il([],N),ce=n.worldSize/(2*Math.PI),xe=ol(q,w),Ee=Math.asin(ce/Z);if(Ee<Math.acos(xe)){if(!d)return null;const wi=[],$n=[];rc(wi,w,Z/xe),il($n,jl($n,wi,N)),il(w,Fd(w,N,rc(w,$n,Math.tan(Ee)*Z)))}const He=[];new Qc(p,w).closestPointOnSphere(k,ce,He);const ht=il([],jn(P,0)),Rt=il([],jn(P,1)),tn=il([],jn(P,2)),Ft=ol(ht,He),Qt=ol(Rt,He),pn=ol(tn,He),un=rt(Math.asin(-Qt/ce));let Hn=rt(Math.atan2(Ft,pn));Hn=n.center.lng+function(wi,$n){const di=($n-wi+180)%360-180;return di<-180?di+360:di}(n.center.lng,Hn);const Ln=vl(Hn),ri=Oe(Md(un),0,1);return new ju(Ln,ri)}class Gp{constructor(e,i,d){this.a=jl([],e,d),this.b=jl([],i,d),this.center=d;const p=il([],this.a),m=il([],this.b);this.angle=Math.acos(ol(p,m))}}function Ud(n,e){if(0===n.angle)return null;let i;return i=0===n.a[e]?1/n.angle*.5*Math.PI:1/n.angle*Math.atan(n.b[e]/n.a[e]/Math.sin(n.angle)-1/Math.tan(n.angle)),i<0||i>1?null:function(d,p,m,w){const P=Math.sin(m);return d*(Math.sin((1-w)*m)/P)+p*(Math.sin(w*m)/P)}(n.a[e],n.b[e],n.angle,Oe(i,0,1))+n.center[e]}function sc(n){if(n.z<=1)return Hu[n.z+2*n.y+n.x];const e=Og($p(n));return Da.fromPoints(e)}function mu(n,e,i){return rc(n,n,1-i),_d(n,n,e,i)}function xg(n,e){const i=_h(e.zoom);if(0===i)return sc(n);const d=$p(n),p=Og(d),m=vl(d.getWest())*e.worldSize,w=vl(d.getEast())*e.worldSize,P=Md(d.getNorth())*e.worldSize,k=Md(d.getSouth())*e.worldSize,N=[m,P,0],Z=[w,P,0],q=[m,k,0],ce=[w,k,0],xe=yg([],e.globeMatrix);return ms(N,N,xe),ms(Z,Z,xe),ms(q,q,xe),ms(ce,ce,xe),p[0]=mu(p[0],q,i),p[1]=mu(p[1],ce,i),p[2]=mu(p[2],Z,i),p[3]=mu(p[3],N,i),Da.fromPoints(p)}function nf(n,e,i){for(const d of n)ms(d,d,e),rc(d,d,i)}function $p({x:n,y:e,z:i}){const d=1/(1<<i),p=new Zr(ac(n*d),Va((e+1)*d)),m=new Zr(ac((n+1)*d),Va(e*d));return new md(p,m)}function Og(n){const e=Be(n.getNorth()),i=Be(n.getSouth()),d=Math.cos(e),p=Math.cos(i),m=Math.sin(e),w=Math.sin(i),P=n.getWest(),k=n.getEast();return[ja(p,w,P),ja(p,w,k),ja(d,m,k),ja(d,m,P)]}function ja(n,e,i,d=Dl){return i=Be(i),[n*Math.sin(i)*d,-e*d,n*Math.cos(i)*d]}function _u(n,e,i){return ja(Math.cos(Be(n)),Math.sin(Be(n)),e,i)}function yu(n,e,i,d){const p=1<<i.z,m=(n/oo+i.x)/p;return _u(Va((e/oo+i.y)/p),ac(m),d)}function mh({min:n,max:e}){return Gl/Math.max(e[0]-n[0],e[1]-n[1],e[2]-n[2])}const yl=new Float64Array(16);function Hd(n){const e=mh(n),i=Wh(yl,[e,e,e]);return oc(i,i,((d=[])[0]=-(p=n.min)[0],d[1]=-p[1],d[2]=-p[2],d));var d,p}function Zp(n){const e=(d=n.min,(i=yl)[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=d[0],i[13]=d[1],i[14]=d[2],i[15]=1,i);var i,d;const p=1/mh(n);return zu(e,e,[p,p,p])}function Wp(n,e,i,d,p){const m=function(k){const N=oo/(2*Math.PI);return k/(2*Math.PI)/N}(i),w=[n,e,-i/(2*Math.PI)],P=Sl(new Float64Array(16));return oc(P,P,w),zu(P,P,[m,m,m]),ch(P,P,Be(-p)),dh(P,P,Be(-d)),P}function _h(n){return ut(jp,fh,n)}function Pg(n,e){const i=_u(e.lat,e.lng);return w=(p=Bd([],function(Ee){const He=_u(Ee._center.lat,Ee._center.lng);let ht=yd([],hh(0,1,0),He);const Rt=zp([],-Ee.angle,He);ht=ms(ht,ht,Rt),zp(Rt,-Ee._pitch,ht);const tn=il([],He);return rc(tn,tn,Vp(Ee.cameraToCenterDistance/Ee.pixelsPerMeter)),ms(tn,tn,Rt),Fd([],He,tn)}(n),i))[0],P=p[1],k=p[2],N=(m=i)[0],Z=m[1],q=m[2],xe=(ce=Math.sqrt(w*w+P*P+k*k)*Math.sqrt(N*N+Z*Z+q*q))&&ol(p,m)/ce,Math.acos(Math.min(Math.max(xe,-1),1));var p,m,w,P,k,N,Z,q,ce,xe}function Aa(n,e){return Pg(n,e)>Math.PI/2*1.01}const Tg=Be(85),Kf=Math.cos(Tg),Kp=Math.sin(Tg),Qh=6371008.8,sf=2*Math.PI*Qh;class wd{constructor(e,i){if(isNaN(e)||isNaN(i))throw new Error(`Invalid LngLat object: (${e}, ${i})`);if(this.lng=+e,this.lat=+i,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new wd(Nt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const i=Math.PI/180,d=this.lat*i,p=e.lat*i,m=Math.sin(d)*Math.sin(p)+Math.cos(d)*Math.cos(p)*Math.cos((e.lng-this.lng)*i);return Qh*Math.acos(Math.min(m,1))}toBounds(e=0){const i=360*e/40075017,d=i/Math.cos(Math.PI/180*this.lat);return new md(new wd(this.lng-d,this.lat-i),new wd(this.lng+d,this.lat+i))}toEcef(e){const i=Vp(e);return _u(this.lat,this.lng,Dl+i)}static convert(e){if(e instanceof wd)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new wd(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new wd(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var Zr=wd;function Yp(n){return sf*Math.cos(n*Math.PI/180)}function vl(n){return(180+n)/360}function Md(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function ed(n,e){return n/Yp(e)}function ac(n){return 360*n-180}function Va(n){return 360/Math.PI*Math.atan(Math.exp((180-360*n)*Math.PI/180))-90}function ep(n,e){return n*Yp(Va(e))}const Xs=85.051129;function tp(n){return 1/Math.cos(n*Math.PI/180)}class ju{constructor(e,i,d=0){this.x=+e,this.y=+i,this.z=+d}static fromLngLat(e,i=0){const d=Zr.convert(e);return new ju(vl(d.lng),Md(d.lat),ed(i,d.lat))}toLngLat(){return new Zr(ac(this.x),Va(this.y))}toAltitude(){return ep(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/sf*tp(Va(this.y))}}function np(n,e,i,d,p,m,w,P,k){const N=(e+d)/2,Z=(i+p)/2,q=new ge(N,Z);P(q),function(ce,xe,Ee,He,ht,Rt){const tn=Ee-ht,Ft=He-Rt;return Math.abs((He-xe)*tn-(Ee-ce)*Ft)/Math.hypot(tn,Ft)}(q.x,q.y,m.x,m.y,w.x,w.y)>=k?(np(n,e,i,N,Z,m,q,P,k),np(n,N,Z,d,p,q,w,P,k)):n.push(w)}function yh(n,e,i){let d=n[0],p=d.x,m=d.y;e(d);const w=[d];for(let P=1;P<n.length;P++){const k=n[P],{x:N,y:Z}=k;e(k),np(w,p,m,N,Z,d,k,e,i),p=N,m=Z,d=k}return w}function qp(n,e,i,d){if(d(e,i)){const p=e.add(i)._mult(.5);qp(n,e,p,d),qp(n,p,i,d)}else n.push(i)}function Sg(n,e){let i=n[0];const d=[i];for(let p=1;p<n.length;p++){const m=n[p];qp(d,i,m,e),i=m}return d}const Dg=Math.pow(2,14)-1,Yf=-Dg-1;function af(n,e){const i=Math.round(n.x*e),d=Math.round(n.y*e);return n.x=Oe(i,Yf,Dg),n.y=Oe(d,Yf,Dg),(i<n.x||i>n.x+1||d<n.y||d>n.y+1)&&Cn("Geometry exceeds allowed extent, reduce your vector tile buffer size"),n}function vu(n,e,i){const d=n.loadGeometry(),p=n.extent,m=oo/p;if(e&&i&&i.projection.isReprojectedInTileSpace){const w=1<<e.z,{scale:P,x:k,y:N,projection:Z}=i,q=ce=>{const xe=ac((e.x+ce.x/p)/w),Ee=Va((e.y+ce.y/p)/w),He=Z.project(xe,Ee);ce.x=(He.x*P-k)*p,ce.y=(He.y*P-N)*p};for(let ce=0;ce<d.length;ce++)if(1!==n.type)d[ce]=yh(d[ce],q,1);else{const xe=[];for(const Ee of d[ce])Ee.x<0||Ee.x>=p||Ee.y<0||Ee.y>=p||(q(Ee),xe.push(Ee));d[ce]=xe}}for(const w of d)for(const P of w)af(P,m);return d}function bu(n,e){return{type:n.type,id:n.id,properties:n.properties,geometry:e?vu(n):[]}}function Cu(n,e,i,d,p){n.emplaceBack(2*e+(d+1)/2,2*i+(p+1)/2)}function vh(n,e,i){n.emplaceBack(e.x,e.y,e.z,16384*i[0],16384*i[1],16384*i[2])}class ip{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new yi,this.indexArray=new eo,this.segments=new os,this.programConfigurations=new _l(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}populate(e,i,d,p){const m=this.layers[0],w=[];let P=null;"circle"===m.type&&(P=m.layout.get("circle-sort-key"));for(const{feature:N,id:Z,index:q,sourceLayerIndex:ce}of e){const xe=this.layers[0]._featureFilter.needGeometry,Ee=bu(N,xe);if(!this.layers[0]._featureFilter.filter(new Y(this.zoom),Ee,d))continue;const He=P?P.evaluate(Ee,{},d):void 0,ht={id:Z,properties:N.properties,type:N.type,sourceLayerIndex:ce,index:q,geometry:xe?Ee.geometry:vu(N,d,p),patterns:{},sortKey:He};w.push(ht)}P&&w.sort((N,Z)=>N.sortKey-Z.sortKey);let k=null;"globe"===p.projection.name&&(this.globeExtVertexArray=new gi,k=p.projection);for(const N of w){const{geometry:Z,index:q,sourceLayerIndex:ce}=N,xe=e[q].feature;this.addFeature(N,Z,q,i.availableImages,d,k),i.featureIndex.insert(xe,Z,q,ce,this.index)}}update(e,i,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,d,p)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Pc.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,_g.members))),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(e,i,d,p,m,w){for(const P of i)for(const k of P){const N=k.x,Z=k.y;if(N<0||N>=oo||Z<0||Z>=oo)continue;if(w){const xe=w.projectTilePoint(N,Z,m),Ee=w.upVector(m,N,Z),He=this.globeExtVertexArray;vh(He,xe,Ee),vh(He,xe,Ee),vh(He,xe,Ee),vh(He,xe,Ee)}const q=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),ce=q.vertexLength;Cu(this.layoutVertexArray,N,Z,-1,-1),Cu(this.layoutVertexArray,N,Z,1,-1),Cu(this.layoutVertexArray,N,Z,1,1),Cu(this.layoutVertexArray,N,Z,-1,1),this.indexArray.emplaceBack(ce,ce+1,ce+2),this.indexArray.emplaceBack(ce,ce+2,ce+3),q.vertexLength+=4,q.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,d,{},p,m)}}function lf(n,e){for(let i=0;i<n.length;i++)if(E(e,n[i]))return!0;for(let i=0;i<e.length;i++)if(E(n,e[i]))return!0;return!!td(n,e)}function qf(n,e,i){return!!E(n,e)||!!x(e,n,i)}function op(n,e){if(1===n.length)return v(e,n[0]);for(let i=0;i<e.length;i++){const d=e[i];for(let p=0;p<d.length;p++)if(E(n,d[p]))return!0}for(let i=0;i<n.length;i++)if(v(e,n[i]))return!0;for(let i=0;i<e.length;i++)if(td(n,e[i]))return!0;return!1}function Jp(n,e,i){if(n.length>1){if(td(n,e))return!0;for(let d=0;d<e.length;d++)if(x(e[d],n,i))return!0}for(let d=0;d<n.length;d++)if(x(n[d],e,i))return!0;return!1}function td(n,e){if(0===n.length||0===e.length)return!1;for(let i=0;i<n.length-1;i++){const d=n[i],p=n[i+1];for(let m=0;m<e.length-1;m++)if(Eg(d,p,e[m],e[m+1]))return!0}return!1}function Eg(n,e,i,d){return Ot(n,i,d)!==Ot(e,i,d)&&Ot(n,e,i)!==Ot(n,e,d)}function x(n,e,i){const d=i*i;if(1===e.length)return n.distSqr(e[0])<d;for(let p=1;p<e.length;p++)if(W(n,e[p-1],e[p])<d)return!0;return!1}function W(n,e,i){const d=e.distSqr(i);if(0===d)return n.distSqr(e);const p=((n.x-e.x)*(i.x-e.x)+(n.y-e.y)*(i.y-e.y))/d;return n.distSqr(p<0?e:p>1?i:i.sub(e)._mult(p)._add(e))}function v(n,e){let i,d,p,m=!1;for(let w=0;w<n.length;w++){i=n[w];for(let P=0,k=i.length-1;P<i.length;k=P++)d=i[P],p=i[k],d.y>e.y!=p.y>e.y&&e.x<(p.x-d.x)*(e.y-d.y)/(p.y-d.y)+d.x&&(m=!m)}return m}function E(n,e){let i=!1;for(let d=0,p=n.length-1;d<n.length;p=d++){const m=n[d],w=n[p];m.y>e.y!=w.y>e.y&&e.x<(w.x-m.x)*(e.y-m.y)/(w.y-m.y)+m.x&&(i=!i)}return i}function B(n,e,i,d,p){for(const w of n)if(e<=w.x&&i<=w.y&&d>=w.x&&p>=w.y)return!0;const m=[new ge(e,i),new ge(e,p),new ge(d,p),new ge(d,i)];if(n.length>2)for(const w of m)if(E(n,w))return!0;for(let w=0;w<n.length-1;w++)if(De(n[w],n[w+1],m))return!0;return!1}function De(n,e,i){const d=i[0],p=i[2];if(n.x<d.x&&e.x<d.x||n.x>p.x&&e.x>p.x||n.y<d.y&&e.y<d.y||n.y>p.y&&e.y>p.y)return!1;const m=Ot(n,e,i[0]);return m!==Ot(n,e,i[1])||m!==Ot(n,e,i[2])||m!==Ot(n,e,i[3])}function Ke(n,e,i){const d=e.paint.get(n).value;return"constant"===d.kind?d.value:i.programConfigurations.get(e.id).getMaxValue(n)}function _n(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function En(n,e,i,d,p){if(!e[0]&&!e[1])return n;const m=ge.convert(e)._mult(p);"viewport"===i&&m._rotate(-d);const w=[];for(let P=0;P<n.length;P++)w.push(n[P].sub(m));return w}function Qn(n,e,i,d){const p=ge.convert(n)._mult(d);return"viewport"===e&&p._rotate(-i),p}Vi(ip,"CircleBucket",{omit:["layers"]});const Kn=new Gt({"circle-sort-key":new _t(Dn.layout_circle["circle-sort-key"])});var Hi={paint:new Gt({"circle-radius":new _t(Dn.paint_circle["circle-radius"]),"circle-color":new _t(Dn.paint_circle["circle-color"]),"circle-blur":new _t(Dn.paint_circle["circle-blur"]),"circle-opacity":new _t(Dn.paint_circle["circle-opacity"]),"circle-translate":new Fe(Dn.paint_circle["circle-translate"]),"circle-translate-anchor":new Fe(Dn.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Fe(Dn.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Fe(Dn.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new _t(Dn.paint_circle["circle-stroke-width"]),"circle-stroke-color":new _t(Dn.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new _t(Dn.paint_circle["circle-stroke-opacity"])}),layout:Kn};function Ai(n,e,i,d,p,m,w,P,k){if(m&&n.queryGeometry.isAboveHorizon)return!1;m&&(k*=n.pixelToTileUnitsFactor);const N=n.tileID.canonical,Z=i.projection.upVectorScale(N,i.center.lat,i.worldSize).metersToTile;for(const q of e)for(const ce of q){const xe=ce.add(P),Ee=p&&i.elevation?i.elevation.exaggeration()*p.getElevationAt(xe.x,xe.y,!0):0,He=i.projection.projectTilePoint(xe.x,xe.y,N);if(Ee>0){const Ft=i.projection.upVector(N,xe.x,xe.y);He.x+=Ft[0]*Z*Ee,He.y+=Ft[1]*Z*Ee,He.z+=Ft[2]*Z*Ee}const ht=m?xe:Ui(He.x,He.y,He.z,d),Rt=m?n.tilespaceRays.map(Ft=>bo(Ft,Ee)):n.queryGeometry.screenGeometry,tn=Xc([],[He.x,He.y,He.z,1],d);if(!w&&m?k*=tn[3]/i.cameraToCenterDistance:w&&!m&&(k*=i.cameraToCenterDistance/tn[3]),m){const Ft=Va((ce.y/oo+N.y)/(1<<N.z));k/=i.projection.pixelsPerMeter(Ft,1)/ed(1,Ft)}if(qf(Rt,ht,k))return!0}return!1}function Ui(n,e,i,d){const p=Xc([],[n,e,i,1],d);return new ge(p[0]/p[3],p[1]/p[3])}const No=hh(0,0,0),rr=hh(0,0,1);function bo(n,e){const i=hu();return No[2]=e,n.intersectsPlane(No,rr,i),new ge(i[0],i[1])}class sr extends ip{}function Or(n,{width:e,height:i},d,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==e*i*d)throw new RangeError("mismatched image size")}else p=new Uint8Array(e*i*d);return n.width=e,n.height=i,n.data=p,n}function Ms(n,e,i){const{width:d,height:p}=e;d===n.width&&p===n.height||(ar(n,e,{x:0,y:0},{x:0,y:0},{width:Math.min(n.width,d),height:Math.min(n.height,p)},i),n.width=d,n.height=p,n.data=e.data)}function ar(n,e,i,d,p,m){if(0===p.width||0===p.height)return e;if(p.width>n.width||p.height>n.height||i.x>n.width-p.width||i.y>n.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>e.width||p.height>e.height||d.x>e.width-p.width||d.y>e.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const w=n.data,P=e.data;for(let k=0;k<p.height;k++){const N=((i.y+k)*n.width+i.x)*m,Z=((d.y+k)*e.width+d.x)*m;for(let q=0;q<p.width*m;q++)P[Z+q]=w[N+q]}return e}Vi(sr,"HeatmapBucket",{omit:["layers"]});class lr{constructor(e,i){Or(this,e,1,i)}resize(e){Ms(this,new lr(e),1)}clone(){return new lr({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,i,d,p,m){ar(e,i,d,p,m,1)}}class tr{constructor(e,i){Or(this,e,4,i)}resize(e){Ms(this,new tr(e),4)}replace(e,i){i?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new tr({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,i,d,p,m){ar(e,i,d,p,m,4)}}Vi(lr,"AlphaImage"),Vi(tr,"RGBAImage");var Ss={paint:new Gt({"heatmap-radius":new _t(Dn.paint_heatmap["heatmap-radius"]),"heatmap-weight":new _t(Dn.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Fe(Dn.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ut(Dn.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Fe(Dn.paint_heatmap["heatmap-opacity"])})};function ds(n){const e={},i=n.resolution||256,d=n.clips?n.clips.length:1,p=n.image||new tr({width:i,height:d}),m=(w,P,k)=>{e[n.evaluationKey]=k;const N=n.expression.evaluate(e);p.data[w+P+0]=Math.floor(255*N.r/N.a),p.data[w+P+1]=Math.floor(255*N.g/N.a),p.data[w+P+2]=Math.floor(255*N.b/N.a),p.data[w+P+3]=Math.floor(255*N.a)};if(n.clips)for(let w=0,P=0;w<d;++w,P+=4*i)for(let k=0,N=0;k<i;k++,N+=4){const Z=k/(i-1),{start:q,end:ce}=n.clips[w];m(P,N,q*(1-Z)+ce*Z)}else for(let w=0,P=0;w<i;w++,P+=4)m(0,P,w/(i-1));return p}var ca={paint:new Gt({"hillshade-illumination-direction":new Fe(Dn.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Fe(Dn.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Fe(Dn.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Fe(Dn.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Fe(Dn.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Fe(Dn.paint_hillshade["hillshade-accent-color"])})};const da=Mn([{name:"a_pos",components:2,type:"Int16"}],4),{members:ua}=da;var lc={exports:{}};function Ga(n,e,i){i=i||2;var d,p,m,w,P,k,N,Z=e&&e.length,q=Z?e[0]*i:n.length,ce=wu(n,0,q,i,!0),xe=[];if(!ce||ce.next===ce.prev)return xe;if(Z&&(ce=function(He,ht,Rt,tn){var Ft,Qt,pn,un=[];for(Ft=0,Qt=ht.length;Ft<Qt;Ft++)(pn=wu(He,ht[Ft]*tn,Ft<Qt-1?ht[Ft+1]*tn:He.length,tn,!1))===pn.next&&(pn.steiner=!0),un.push(jd(pn));for(un.sort(rp),Ft=0;Ft<un.length;Ft++)Rt=Mu(un[Ft],Rt);return Rt}(n,e,ce,i)),n.length>80*i){d=m=n[0],p=w=n[1];for(var Ee=i;Ee<q;Ee+=i)(P=n[Ee])<d&&(d=P),(k=n[Ee+1])<p&&(p=k),P>m&&(m=P),k>w&&(w=k);N=0!==(N=Math.max(m-d,w-p))?32767/N:0}return ka(ce,xe,i,d,p,N,0),xe}function wu(n,e,i,d,p){var m,w;if(p===lp(n,e,i,d)>0)for(m=e;m<i;m+=d)w=Ag(m,n[m],n[m+1],w);else for(m=i-d;m>=e;m-=d)w=Ag(m,n[m],n[m+1],w);return w&&Gu(w,w.next)&&(Zu(w),w=w.next),w}function cc(n,e){if(!n)return n;e||(e=n);var i,d=n;do{if(i=!1,d.steiner||!Gu(d,d.next)&&0!==us(d.prev,d,d.next))d=d.next;else{if(Zu(d),(d=e=d.prev)===d.next)break;i=!0}}while(i||d!==e);return e}function ka(n,e,i,d,p,m,w){if(n){!w&&m&&function(Z,q,ce,xe){var Ee=Z;do{0===Ee.z&&(Ee.z=$l(Ee.x,Ee.y,q,ce,xe)),Ee.prevZ=Ee.prev,Ee.nextZ=Ee.next,Ee=Ee.next}while(Ee!==Z);Ee.prevZ.nextZ=null,Ee.prevZ=null,function(He){var ht,Rt,tn,Ft,Qt,pn,un,Hn,Ln=1;do{for(Rt=He,He=null,Qt=null,pn=0;Rt;){for(pn++,tn=Rt,un=0,ht=0;ht<Ln&&(un++,tn=tn.nextZ);ht++);for(Hn=Ln;un>0||Hn>0&&tn;)0!==un&&(0===Hn||!tn||Rt.z<=tn.z)?(Ft=Rt,Rt=Rt.nextZ,un--):(Ft=tn,tn=tn.nextZ,Hn--),Qt?Qt.nextZ=Ft:He=Ft,Ft.prevZ=Qt,Qt=Ft;Rt=tn}Qt.nextZ=null,Ln*=2}while(pn>1)}(Ee)}(n,d,p,m);for(var P,k,N=n;n.prev!==n.next;)if(P=n.prev,k=n.next,m?xd(n,d,p,m):Fc(n))e.push(P.i/i|0),e.push(n.i/i|0),e.push(k.i/i|0),Zu(n),n=k.next,N=k.next;else if((n=k)===N){w?1===w?ka(n=Od(cc(n),e,i),e,i,d,p,m,2):2===w&&Vu(n,e,i,d,p,m):ka(cc(n),e,i,d,p,m,1);break}}}function Fc(n){var e=n.prev,i=n,d=n.next;if(us(e,i,d)>=0)return!1;for(var p=e.x,m=i.x,w=d.x,P=e.y,k=i.y,N=d.y,Z=p<m?p<w?p:w:m<w?m:w,q=P<k?P<N?P:N:k<N?k:N,ce=p>m?p>w?p:w:m>w?m:w,xe=P>k?P>N?P:N:k>N?k:N,Ee=d.next;Ee!==e;){if(Ee.x>=Z&&Ee.x<=ce&&Ee.y>=q&&Ee.y<=xe&&Bc(p,P,m,k,w,N,Ee.x,Ee.y)&&us(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.next}return!0}function xd(n,e,i,d){var p=n.prev,m=n,w=n.next;if(us(p,m,w)>=0)return!1;for(var P=p.x,k=m.x,N=w.x,Z=p.y,q=m.y,ce=w.y,xe=P<k?P<N?P:N:k<N?k:N,Ee=Z<q?Z<ce?Z:ce:q<ce?q:ce,He=P>k?P>N?P:N:k>N?k:N,ht=Z>q?Z>ce?Z:ce:q>ce?q:ce,Rt=$l(xe,Ee,e,i,d),tn=$l(He,ht,e,i,d),Ft=n.prevZ,Qt=n.nextZ;Ft&&Ft.z>=Rt&&Qt&&Qt.z<=tn;){if(Ft.x>=xe&&Ft.x<=He&&Ft.y>=Ee&&Ft.y<=ht&&Ft!==p&&Ft!==w&&Bc(P,Z,k,q,N,ce,Ft.x,Ft.y)&&us(Ft.prev,Ft,Ft.next)>=0||(Ft=Ft.prevZ,Qt.x>=xe&&Qt.x<=He&&Qt.y>=Ee&&Qt.y<=ht&&Qt!==p&&Qt!==w&&Bc(P,Z,k,q,N,ce,Qt.x,Qt.y)&&us(Qt.prev,Qt,Qt.next)>=0))return!1;Qt=Qt.nextZ}for(;Ft&&Ft.z>=Rt;){if(Ft.x>=xe&&Ft.x<=He&&Ft.y>=Ee&&Ft.y<=ht&&Ft!==p&&Ft!==w&&Bc(P,Z,k,q,N,ce,Ft.x,Ft.y)&&us(Ft.prev,Ft,Ft.next)>=0)return!1;Ft=Ft.prevZ}for(;Qt&&Qt.z<=tn;){if(Qt.x>=xe&&Qt.x<=He&&Qt.y>=Ee&&Qt.y<=ht&&Qt!==p&&Qt!==w&&Bc(P,Z,k,q,N,ce,Qt.x,Qt.y)&&us(Qt.prev,Qt,Qt.next)>=0)return!1;Qt=Qt.nextZ}return!0}function Od(n,e,i){var d=n;do{var p=d.prev,m=d.next.next;!Gu(p,m)&&zc(p,d,d.next,m)&&$u(p,m)&&$u(m,p)&&(e.push(p.i/i|0),e.push(d.i/i|0),e.push(m.i/i|0),Zu(d),Zu(d.next),d=n=m),d=d.next}while(d!==n);return cc(d)}function Vu(n,e,i,d,p,m){var w=n;do{for(var P=w.next.next;P!==w.prev;){if(w.i!==P.i&&Ch(w,P)){var k=Ig(w,P);return w=cc(w,w.next),k=cc(k,k.next),ka(w,e,i,d,p,m,0),void ka(k,e,i,d,p,m,0)}P=P.next}w=w.next}while(w!==n)}function rp(n,e){return n.x-e.x}function Mu(n,e){var i=function(p,m){var w,P=m,k=p.x,N=p.y,Z=-1/0;do{if(N<=P.y&&N>=P.next.y&&P.next.y!==P.y){var q=P.x+(N-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(q<=k&&q>Z&&(Z=q,w=P.x<P.next.x?P:P.next,q===k))return w}P=P.next}while(P!==m);if(!w)return null;var ce,xe=w,Ee=w.x,He=w.y,ht=1/0;P=w;do{k>=P.x&&P.x>=Ee&&k!==P.x&&Bc(N<He?k:Z,N,Ee,He,N<He?Z:k,N,P.x,P.y)&&(ce=Math.abs(N-P.y)/(k-P.x),$u(P,p)&&(ce<ht||ce===ht&&(P.x>w.x||P.x===w.x&&bh(w,P)))&&(w=P,ht=ce)),P=P.next}while(P!==xe);return w}(n,e);if(!i)return e;var d=Ig(i,n);return cc(d,d.next),cc(i,i.next)}function bh(n,e){return us(n.prev,n,e.prev)<0&&us(e.next,n,n.next)<0}function $l(n,e,i,d,p){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-i)*p|0)|n<<8))|n<<4))|n<<2))|n<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-d)*p|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function jd(n){var e=n,i=n;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==n);return i}function Bc(n,e,i,d,p,m,w,P){return(p-w)*(e-P)>=(n-w)*(m-P)&&(n-w)*(d-P)>=(i-w)*(e-P)&&(i-w)*(m-P)>=(p-w)*(d-P)}function Ch(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!function(i,d){var p=i;do{if(p.i!==i.i&&p.next.i!==i.i&&p.i!==d.i&&p.next.i!==d.i&&zc(p,p.next,i,d))return!0;p=p.next}while(p!==i);return!1}(n,e)&&($u(n,e)&&$u(e,n)&&function(i,d){var p=i,m=!1,w=(i.x+d.x)/2,P=(i.y+d.y)/2;do{p.y>P!=p.next.y>P&&p.next.y!==p.y&&w<(p.next.x-p.x)*(P-p.y)/(p.next.y-p.y)+p.x&&(m=!m),p=p.next}while(p!==i);return m}(n,e)&&(us(n.prev,n,e.prev)||us(n,e.prev,e))||Gu(n,e)&&us(n.prev,n,n.next)>0&&us(e.prev,e,e.next)>0)}function us(n,e,i){return(e.y-n.y)*(i.x-e.x)-(e.x-n.x)*(i.y-e.y)}function Gu(n,e){return n.x===e.x&&n.y===e.y}function zc(n,e,i,d){var p=sp(us(n,e,i)),m=sp(us(n,e,d)),w=sp(us(i,d,n)),P=sp(us(i,d,e));return p!==m&&w!==P||!(0!==p||!Uc(n,i,e))||!(0!==m||!Uc(n,d,e))||!(0!==w||!Uc(i,n,d))||!(0!==P||!Uc(i,e,d))}function Uc(n,e,i){return e.x<=Math.max(n.x,i.x)&&e.x>=Math.min(n.x,i.x)&&e.y<=Math.max(n.y,i.y)&&e.y>=Math.min(n.y,i.y)}function sp(n){return n>0?1:n<0?-1:0}function $u(n,e){return us(n.prev,n,n.next)<0?us(n,e,n.next)>=0&&us(n,n.prev,e)>=0:us(n,e,n.prev)<0||us(n,n.next,e)<0}function Ig(n,e){var i=new ap(n.i,n.x,n.y),d=new ap(e.i,e.x,e.y),p=n.next,m=e.prev;return n.next=e,e.prev=n,i.next=p,p.prev=i,d.next=i,i.prev=d,m.next=d,d.prev=m,d}function Ag(n,e,i,d){var p=new ap(n,e,i);return d?(p.next=d.next,p.prev=d,d.next.prev=p,d.next=p):(p.prev=p,p.next=p),p}function Zu(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function ap(n,e,i){this.i=n,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lp(n,e,i,d){for(var p=0,m=e,w=i-d;m<i;m+=d)p+=(n[w]-n[m])*(n[m+1]+n[w+1]),w=m;return p}lc.exports=Ga,lc.exports.default=Ga,Ga.deviation=function(n,e,i,d){var p=e&&e.length,m=Math.abs(lp(n,0,p?e[0]*i:n.length,i));if(p)for(var w=0,P=e.length;w<P;w++)m-=Math.abs(lp(n,e[w]*i,w<P-1?e[w+1]*i:n.length,i));var k=0;for(w=0;w<d.length;w+=3){var N=d[w]*i,Z=d[w+1]*i,q=d[w+2]*i;k+=Math.abs((n[N]-n[q])*(n[Z+1]-n[N+1])-(n[N]-n[Z])*(n[q+1]-n[N+1]))}return 0===m&&0===k?0:Math.abs((k-m)/m)},Ga.flatten=function(n){for(var e=n[0][0].length,i={vertices:[],holes:[],dimensions:e},d=0,p=0;p<n.length;p++){for(var m=0;m<n[p].length;m++)for(var w=0;w<e;w++)i.vertices.push(n[p][m][w]);p>0&&i.holes.push(d+=n[p-1].length)}return i};var Xp=ke(lc.exports);function xu(n,e,i,d,p){wh(n,e,i||0,d||n.length-1,p||Mh)}function wh(n,e,i,d,p){for(;d>i;){if(d-i>600){var m=d-i+1,w=e-i+1,P=Math.log(m),k=.5*Math.exp(2*P/3),N=.5*Math.sqrt(P*k*(m-k)/m)*(w-m/2<0?-1:1);wh(n,e,Math.max(i,Math.floor(e-w*k/m+N)),Math.min(d,Math.floor(e+(m-w)*k/m+N)),p)}var Z=n[e],q=i,ce=d;for(Ou(n,i,e),p(n[d],Z)>0&&Ou(n,i,d);q<ce;){for(Ou(n,q,ce),q++,ce--;p(n[q],Z)<0;)q++;for(;p(n[ce],Z)>0;)ce--}0===p(n[i],Z)?Ou(n,i,ce):Ou(n,++ce,d),ce<=e&&(i=ce+1),e<=ce&&(d=ce-1)}}function Ou(n,e,i){var d=n[e];n[e]=n[i],n[i]=d}function Mh(n,e){return n<e?-1:n>e?1:0}function dc(n,e){const i=n.length;if(i<=1)return[n];const d=[];let p,m;for(let w=0;w<i;w++){const P=Wt(n[w]);0!==P&&(n[w].area=Math.abs(P),void 0===m&&(m=P<0),m===P<0?(p&&d.push(p),p=[n[w]]):p.push(n[w]))}if(p&&d.push(p),e>1)for(let w=0;w<d.length;w++)d[w].length<=e||(xu(d[w],e,1,d[w].length-1,Vd),d[w]=d[w].slice(0,e));return d}function Vd(n,e){return e.area-n.area}function xh(n,e,i){const d=i.patternDependencies;let p=!1;for(const m of e){const w=m.paint.get(`${n}-pattern`);w.isConstant()||(p=!0);const P=w.constantOr(null);P&&(p=!0,d[P]=!0)}return p}function Oh(n,e,i,d,p){const m=p.patternDependencies;for(const w of e){const P=w.paint.get(`${n}-pattern`).value;if("constant"!==P.kind){let k=P.evaluate({zoom:d},i,{},p.availableImages);k=k&&k.name?k.name:k,m[k]=!0,i.patterns[w.id]=k}}return i}class Wu{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new yi,this.indexArray=new eo,this.indexArray2=new ba,this.programConfigurations=new _l(e.layers,e.zoom),this.segments=new os,this.segments2=new os,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.projection=e.projection}populate(e,i,d,p){this.hasPattern=xh("fill",this.layers,i);const m=this.layers[0].layout.get("fill-sort-key"),w=[];for(const{feature:P,id:k,index:N,sourceLayerIndex:Z}of e){const q=this.layers[0]._featureFilter.needGeometry,ce=bu(P,q);if(!this.layers[0]._featureFilter.filter(new Y(this.zoom),ce,d))continue;const xe=m?m.evaluate(ce,{},d,i.availableImages):void 0,Ee={id:k,properties:P.properties,type:P.type,sourceLayerIndex:Z,index:N,geometry:q?ce.geometry:vu(P,d,p),patterns:{},sortKey:xe};w.push(Ee)}m&&w.sort((P,k)=>P.sortKey-k.sortKey);for(const P of w){const{geometry:k,index:N,sourceLayerIndex:Z}=P;if(this.hasPattern){const q=Oh("fill",this.layers,P,this.zoom,i);this.patternFeatures.push(q)}else this.addFeature(P,k,N,d,{},i.availableImages);i.featureIndex.insert(e[N].feature,k,N,Z,this.index)}}update(e,i,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,d,p)}addFeatures(e,i,d,p,m){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,i,d,p)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ua),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,i,d,p,m,w=[]){for(const P of dc(i,500)){let k=0;for(const Ee of P)k+=Ee.length;const N=this.segments.prepareSegment(k,this.layoutVertexArray,this.indexArray),Z=N.vertexLength,q=[],ce=[];for(const Ee of P){if(0===Ee.length)continue;Ee!==P[0]&&ce.push(q.length/2);const He=this.segments2.prepareSegment(Ee.length,this.layoutVertexArray,this.indexArray2),ht=He.vertexLength;this.layoutVertexArray.emplaceBack(Ee[0].x,Ee[0].y),this.indexArray2.emplaceBack(ht+Ee.length-1,ht),q.push(Ee[0].x),q.push(Ee[0].y);for(let Rt=1;Rt<Ee.length;Rt++)this.layoutVertexArray.emplaceBack(Ee[Rt].x,Ee[Rt].y),this.indexArray2.emplaceBack(ht+Rt-1,ht+Rt),q.push(Ee[Rt].x),q.push(Ee[Rt].y);He.vertexLength+=Ee.length,He.primitiveLength+=Ee.length}const xe=Xp(q,ce);for(let Ee=0;Ee<xe.length;Ee+=3)this.indexArray.emplaceBack(Z+xe[Ee],Z+xe[Ee+1],Z+xe[Ee+2]);N.vertexLength+=k,N.primitiveLength+=xe.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,d,m,w,p)}}Vi(Wu,"FillBucket",{omit:["layers","patternFeatures"]});const E_=new Gt({"fill-sort-key":new _t(Dn.layout_fill["fill-sort-key"])});var I_={paint:new Gt({"fill-antialias":new Fe(Dn.paint_fill["fill-antialias"]),"fill-opacity":new _t(Dn.paint_fill["fill-opacity"]),"fill-color":new _t(Dn.paint_fill["fill-color"]),"fill-outline-color":new _t(Dn.paint_fill["fill-outline-color"]),"fill-translate":new Fe(Dn.paint_fill["fill-translate"]),"fill-translate-anchor":new Fe(Dn.paint_fill["fill-translate-anchor"]),"fill-pattern":new _t(Dn.paint_fill["fill-pattern"])}),layout:E_};const A_=Mn([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),cf=Mn([{name:"a_centroid_pos",components:2,type:"Uint16"}]),df=Mn([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:k_}=A_;var uf={},Jf=A,Xf=cp;function cp(n,e,i,d,p){this.properties={},this.extent=i,this.type=0,this._pbf=n,this._geometry=-1,this._keys=d,this._values=p,n.readFields(Rm,this,e)}function Rm(n,e,i){1==n?e.id=i.readVarint():2==n?function(d,p){for(var m=d.readVarint()+d.pos;d.pos<m;){var w=p._keys[d.readVarint()],P=p._values[d.readVarint()];p.properties[w]=P}}(i,e):3==n?e.type=i.readVarint():4==n&&(e._geometry=i.pos)}function Qp(n){for(var e,i,d=0,p=0,m=n.length,w=m-1;p<m;w=p++)d+=((i=n[w]).x-(e=n[p]).x)*(e.y+i.y);return d}cp.types=["Unknown","Point","LineString","Polygon"],cp.prototype.loadGeometry=function(){var n=this._pbf;n.pos=this._geometry;for(var e,i=n.readVarint()+n.pos,d=1,p=0,m=0,w=0,P=[];n.pos<i;){if(p<=0){var k=n.readVarint();d=7&k,p=k>>3}if(p--,1===d||2===d)m+=n.readSVarint(),w+=n.readSVarint(),1===d&&(e&&P.push(e),e=[]),e.push(new Jf(m,w));else{if(7!==d)throw new Error("unknown command "+d);e&&e.push(e[0].clone())}}return e&&P.push(e),P},cp.prototype.bbox=function(){var n=this._pbf;n.pos=this._geometry;for(var e=n.readVarint()+n.pos,i=1,d=0,p=0,m=0,w=1/0,P=-1/0,k=1/0,N=-1/0;n.pos<e;){if(d<=0){var Z=n.readVarint();i=7&Z,d=Z>>3}if(d--,1===i||2===i)(p+=n.readSVarint())<w&&(w=p),p>P&&(P=p),(m+=n.readSVarint())<k&&(k=m),m>N&&(N=m);else if(7!==i)throw new Error("unknown command "+i)}return[w,k,P,N]},cp.prototype.toGeoJSON=function(n,e,i){var d,p,m=this.extent*Math.pow(2,i),w=this.extent*n,P=this.extent*e,k=this.loadGeometry(),N=cp.types[this.type];function Z(xe){for(var Ee=0;Ee<xe.length;Ee++){var He=xe[Ee];xe[Ee]=[360*(He.x+w)/m-180,360/Math.PI*Math.atan(Math.exp((180-360*(He.y+P)/m)*Math.PI/180))-90]}}switch(this.type){case 1:var q=[];for(d=0;d<k.length;d++)q[d]=k[d][0];Z(k=q);break;case 2:for(d=0;d<k.length;d++)Z(k[d]);break;case 3:for(k=function(xe){var Ee=xe.length;if(Ee<=1)return[xe];for(var He,ht,Rt=[],tn=0;tn<Ee;tn++){var Ft=Qp(xe[tn]);0!==Ft&&(void 0===ht&&(ht=Ft<0),ht===Ft<0?(He&&Rt.push(He),He=[xe[tn]]):He.push(xe[tn]))}return He&&Rt.push(He),Rt}(k),d=0;d<k.length;d++)for(p=0;p<k[d].length;p++)Z(k[d][p])}1===k.length?k=k[0]:N="Multi"+N;var ce={type:"Feature",geometry:{type:N,coordinates:k},properties:this.properties};return"id"in this&&(ce.id=this.id),ce};var Qf=Xf,$o=dp;function dp(n,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=n,this._keys=[],this._values=[],this._features=[],n.readFields(hf,this,e),this.length=this._features.length}function hf(n,e,i){15===n?e.version=i.readVarint():1===n?e.name=i.readString():5===n?e.extent=i.readVarint():2===n?e._features.push(i.pos):3===n?e._keys.push(i.readString()):4===n&&e._values.push(function(d){for(var p=null,m=d.readVarint()+d.pos;d.pos<m;){var w=d.readVarint()>>3;p=1===w?d.readString():2===w?d.readFloat():3===w?d.readDouble():4===w?d.readVarint64():5===w?d.readVarint():6===w?d.readSVarint():7===w?d.readBoolean():null}return p}(i))}dp.prototype.feature=function(n){if(n<0||n>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[n];var e=this._pbf.readVarint()+this._pbf.pos;return new Qf(this._pbf,e,this.extent,this._keys,this._values)};var pf=$o;function Gd(n,e,i){if(3===n){var d=new pf(i,i.readVarint()+i.pos);d.length&&(e[d.name]=d)}}var eg=uf.VectorTile=function(n,e){this.layers=n.readFields(Gd,{},e)},tg=uf.VectorTileFeature=Xf;function up(n,e,i,d){const p=[],m=0===d?(w,P,k,N,Z,q)=>{w.push(new ge(q,k+(q-P)/(N-P)*(Z-k)))}:(w,P,k,N,Z,q)=>{w.push(new ge(P+(q-k)/(Z-k)*(N-P),q))};for(const w of n){const P=[];for(const k of w){if(k.length<=2)continue;const N=[];for(let ce=0;ce<k.length-1;ce++){const xe=k[ce].x,Ee=k[ce].y,He=k[ce+1].x,ht=k[ce+1].y,Rt=0===d?xe:Ee,tn=0===d?He:ht;Rt<e?tn>e&&m(N,xe,Ee,He,ht,e):Rt>i?tn<i&&m(N,xe,Ee,He,ht,i):N.push(k[ce]),tn<e&&Rt>=e&&m(N,xe,Ee,He,ht,e),tn>i&&Rt<=i&&m(N,xe,Ee,He,ht,i)}let Z=k[k.length-1];const q=0===d?Z.x:Z.y;q>=e&&q<=i&&N.push(Z),N.length&&(Z=N[N.length-1],N[0].x===Z.x&&N[0].y===Z.y||N.push(N[0]),P.push(N))}P.length&&p.push(P)}return p}uf.VectorTileLayer=$o;const hp=tg.types,gf=Math.pow(2,13);function Ph(n,e,i,d,p,m,w,P){n.emplaceBack((e<<1)+w,(i<<1)+m,(Math.floor(d*gf)<<1)+p,Math.round(P))}function Th(n,e,i){n.emplaceBack(e.x,e.y,e.z,16384*i[0],16384*i[1],16384*i[2])}class ff{constructor(){this.acc=new ge(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new ge(e.x,e.y),this.max=new ge(e.x,e.y))}append(e,i){this.currentPolyCount.edges++,this.acc._add(e);const d=this.min,p=this.max;e.x<d.x?d.x=e.x:e.x>p.x&&(p.x=e.x),e.y<d.y?d.y=e.y:e.y>p.y&&(p.y=e.y),((0===e.x||e.x===oo)&&e.x===i.x)!=((0===e.y||e.y===oo)&&e.y===i.y)&&this.processBorderOverlap(e,i),i.x<0!=e.x<0&&this.addBorderIntersection(0,nr(i.y,e.y,(0-i.x)/(e.x-i.x))),i.x>oo!=e.x>oo&&this.addBorderIntersection(1,nr(i.y,e.y,(oo-i.x)/(e.x-i.x))),i.y<0!=e.y<0&&this.addBorderIntersection(2,nr(i.x,e.x,(0-i.y)/(e.y-i.y))),i.y>oo!=e.y>oo&&this.addBorderIntersection(3,nr(i.x,e.x,(oo-i.y)/(e.y-i.y)))}addBorderIntersection(e,i){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[e];i<d[0]&&(d[0]=i),i>d[1]&&(d[1]=i)}processBorderOverlap(e,i){if(e.x===i.x){if(e.y===i.y)return;const d=0===e.x?0:1;this.addBorderIntersection(d,i.y),this.addBorderIntersection(d,e.y)}else{const d=0===e.y?2:3;this.addBorderIntersection(d,i.x),this.addBorderIntersection(d,e.x)}}centroid(){const e=this.polyCount.reduce((i,d)=>i+d.edges,0);return 0!==e?this.acc.div(e)._round():new ge(0,0)}span(){return new ge(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,i)=>e+ +(i[0]!==Number.MAX_VALUE),0)}}class pp{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.layoutVertexArray=new ai,this.centroidVertexArray=new nc,this.indexArray=new eo,this.programConfigurations=new _l(e.layers,e.zoom),this.segments=new os,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.enableTerrain=e.enableTerrain}populate(e,i,d,p){this.features=[],this.hasPattern=xh("fill-extrusion",this.layers,i),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(m){const w=Math.exp(Math.PI*(1-m.y/(1<<m.z)*2));return 80150034*w/(w*w+1)/oo/(1<<m.z)}(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:m,id:w,index:P,sourceLayerIndex:k}of e){const N=this.layers[0]._featureFilter.needGeometry,Z=bu(m,N);if(!this.layers[0]._featureFilter.filter(new Y(this.zoom),Z,d))continue;const q={id:w,sourceLayerIndex:k,index:P,geometry:N?Z.geometry:vu(m,d,p),properties:m.properties,type:m.type,patterns:{}},ce=this.layoutVertexArray.length;this.hasPattern?this.features.push(Oh("fill-extrusion",this.layers,q,this.zoom,i)):this.addFeature(q,q.geometry,P,d,{},i.availableImages,p),i.featureIndex.insert(m,q.geometry,P,k,this.index,ce)}this.sortBorders()}addFeatures(e,i,d,p,m){for(const w of this.features){const{geometry:P}=w;this.addFeature(w,P,w.index,i,d,p,m)}this.sortBorders()}update(e,i,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,d,p)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,k_),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,df.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,cf.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,i,d,p,m,w,P){const k=[new ge(0,0),new ge(oo,oo)],N=P.projection,Z="globe"===N.name,q=this.enableTerrain&&!Z?new ff:null,ce="Polygon"===hp[e.type];Z&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new gi);const xe=dc(i,500);for(let Rt=xe.length-1;Rt>=0;Rt--){const tn=xe[Rt];(0===tn.length||(Ee=tn[0]).every(Ft=>Ft.x<=0)||Ee.every(Ft=>Ft.x>=oo)||Ee.every(Ft=>Ft.y<=0)||Ee.every(Ft=>Ft.y>=oo))&&xe.splice(Rt,1)}var Ee;let He;if(Z)He=yf(xe,k,p);else{He=[];for(const Rt of xe)He.push({polygon:Rt,bounds:k})}const ht=ce?this.edgeRadius:0;for(const{polygon:Rt,bounds:tn}of He){let Ft=0,Qt=0;for(const un of Rt)ce&&!un[0].equals(un[un.length-1])&&un.push(un[0]),Qt+=ce?un.length-1:un.length;const pn=this.segments.prepareSegment((ce?5:4)*Qt,this.layoutVertexArray,this.indexArray);if(ce){const un=[],Hn=[];Ft=pn.vertexLength;for(const ri of Rt){let wi,$n;ri.length&&ri!==Rt[0]&&Hn.push(un.length/2),wi=ri[1].sub(ri[0])._perp()._unit();for(let di=1;di<ri.length;di++){const li=ri[di],fi=ri[di===ri.length-1?1:di+1];let{x:Pi,y:ii}=li;if(ht){$n=fi.sub(li)._perp()._unit();const ji=wi.add($n)._unit(),Xi=ht*Math.min(4,1/(wi.x*ji.x+wi.y*ji.y));Pi+=Xi*ji.x,ii+=Xi*ji.y,wi=$n}Ph(this.layoutVertexArray,Pi,ii,0,0,1,1,0),pn.vertexLength++,un.push(li.x,li.y),Z&&Th(this.layoutVertexExtArray,N.projectTilePoint(Pi,ii,p),N.upVector(p,Pi,ii))}}const Ln=Xp(un,Hn);for(let ri=0;ri<Ln.length;ri+=3)this.indexArray.emplaceBack(Ft+Ln[ri],Ft+Ln[ri+2],Ft+Ln[ri+1]),pn.primitiveLength++}for(const un of Rt){q&&un.length&&q.startRing(un[0]);let Hn,Ln,ri,wi=un.length>4&&mf(un[un.length-2],un[0],un[1]),$n=ht?R_(un[un.length-2],un[0],un[1],ht):0;Ln=un[1].sub(un[0])._perp()._unit();let di=!0;for(let li=1,fi=0;li<un.length;li++){let Pi=un[li-1],ii=un[li];const ji=un[li===un.length-1?1:li+1];if(q&&ce&&q.currentPolyCount.top++,fp(ii,Pi,tn)){ht&&(Ln=ji.sub(ii)._perp()._unit(),di=!di);continue}q&&q.append(ii,Pi);const Xi=ii.sub(Pi)._perp(),$i=Xi.x/(Math.abs(Xi.x)+Math.abs(Xi.y)),Bo=Xi.y>0?1:0,Ti=Pi.dist(ii);if(fi+Ti>32768&&(fi=0),ht){ri=ji.sub(ii)._perp()._unit();let zo=gp(Pi,ii,ji,em(Ln,ri),ht);isNaN(zo)&&(zo=0);const Co=ii.sub(Pi)._unit();Pi=Pi.add(Co.mult($n))._round(),ii=ii.add(Co.mult(-zo))._round(),$n=zo,Ln=ri}const co=pn.vertexLength,Uo=un.length>4&&mf(Pi,ii,ji);let Wr=mp(fi,wi,di);if(Ph(this.layoutVertexArray,Pi.x,Pi.y,$i,Bo,0,0,Wr),Ph(this.layoutVertexArray,Pi.x,Pi.y,$i,Bo,0,1,Wr),fi+=Ti,Wr=mp(fi,Uo,!di),wi=Uo,Ph(this.layoutVertexArray,ii.x,ii.y,$i,Bo,0,0,Wr),Ph(this.layoutVertexArray,ii.x,ii.y,$i,Bo,0,1,Wr),pn.vertexLength+=4,this.indexArray.emplaceBack(co+0,co+1,co+2),this.indexArray.emplaceBack(co+1,co+3,co+2),pn.primitiveLength+=2,ht){const zo=Ft+(1===li?un.length-2:li-2),Co=1===li?Ft:zo+1;if(this.indexArray.emplaceBack(co+1,zo,co+3),this.indexArray.emplaceBack(zo,Co,co+3),pn.primitiveLength+=2,void 0===Hn&&(Hn=co),!fp(ji,un[li],tn)){const ks=li===un.length-1?Hn:pn.vertexLength;this.indexArray.emplaceBack(co+2,co+3,ks),this.indexArray.emplaceBack(co+3,ks+1,ks),this.indexArray.emplaceBack(co+3,Co,ks+1),pn.primitiveLength+=3}di=!di}if(Z){const zo=this.layoutVertexExtArray,Co=N.projectTilePoint(Pi.x,Pi.y,p),ks=N.projectTilePoint(ii.x,ii.y,p),Fo=N.upVector(p,Pi.x,Pi.y),Zo=N.upVector(p,ii.x,ii.y);Th(zo,Co,Fo),Th(zo,Co,Fo),Th(zo,ks,Zo),Th(zo,ks,Zo)}}ce&&(Ft+=un.length-1)}}if(q&&q.polyCount.length>0){if(q.borders){q.vertexArrayOffset=this.centroidVertexArray.length;const Rt=q.borders,tn=this.featuresOnBorder.push(q)-1;for(let Ft=0;Ft<4;Ft++)Rt[Ft][0]!==Number.MAX_VALUE&&this.borders[Ft].push(tn)}this.encodeCentroid(q.borders?void 0:q.centroid(),q)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,d,m,w,p)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((i,d)=>this.featuresOnBorder[i].borders[e][0]-this.featuresOnBorder[d].borders[e][0])}encodeCentroid(e,i,d=!0){let p,m;if(e)if(0!==e.y){const P=i.span()._mult(this.tileToMeter);p=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(P.x/10)),m=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(P.y/10))}else p=Math.ceil(7*(e.x+450)),m=0;else p=0,m=+d;let w=d?this.centroidVertexArray.length:i.vertexArrayOffset;for(const P of i.polyCount){d&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*P.edges+P.top);for(let k=0;k<P.top;k++)this.centroidVertexArray.emplace(w++,p,m);for(let k=0;k<2*P.edges;k++)this.centroidVertexArray.emplace(w++,0,m),this.centroidVertexArray.emplace(w++,p,m)}}}function em(n,e){const i=n.add(e)._unit();return n.x*i.x+n.y*i.y}function R_(n,e,i,d){const p=e.sub(n)._perp()._unit(),m=i.sub(e)._perp()._unit();return gp(n,e,i,em(p,m),d)}function gp(n,e,i,d,p){const m=Math.sqrt(1-d*d);return Math.min(n.dist(e)/3,e.dist(i)/3,p*m/d)}function fp(n,e,i){return n.x<i[0].x&&e.x<i[0].x||n.x>i[1].x&&e.x>i[1].x||n.y<i[0].y&&e.y<i[0].y||n.y>i[1].y&&e.y>i[1].y}function mf(n,e,i){if(n.x<0||n.x>=oo||e.x<0||e.x>=oo||i.x<0||i.x>=oo)return!1;const d=i.sub(e),p=d.perp(),m=n.sub(e);return(d.x*m.x+d.y*m.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(m.x*m.x+m.y*m.y))>-.866&&p.x*m.x+p.y*m.y<0}function mp(n,e,i){const d=e?2|n:-3&n;return i?1|d:-2&d}function _f(){const n=Math.PI/32,e=Math.tan(n),i=Qh;return i*Math.sqrt(1+2*e*e)-i}function yf(n,e,i){const d=1<<i.z,p=ac(i.x/d),m=ac((i.x+1)/d),w=Va(i.y/d),P=Va((i.y+1)/d);return function(k,N,Z,q,ce=0,xe){const Ee=[];if(!k.length||!Z||!q)return Ee;const He=(un,Hn)=>{for(const Ln of un)Ee.push({polygon:Ln,bounds:Hn})},ht=Math.ceil(Math.log2(Z)),Rt=Math.ceil(Math.log2(q)),tn=ht-Rt,Ft=[];for(let un=0;un<Math.abs(tn);un++)Ft.push(tn>0?0:1);for(let un=0;un<Math.min(ht,Rt);un++)Ft.push(0),Ft.push(1);let Qt=k;if(Qt=up(Qt,N[0].y-ce,N[1].y+ce,1),Qt=up(Qt,N[0].x-ce,N[1].x+ce,0),!Qt.length)return Ee;const pn=[];for(Ft.length?pn.push({polygons:Qt,bounds:N,depth:0}):He(Qt,N);pn.length;){const un=pn.pop(),Hn=un.depth,Ln=Ft[Hn],ri=un.bounds[0],wi=un.bounds[1],$n=0===Ln?ri.x:ri.y,di=0===Ln?wi.x:wi.y,li=xe?xe(Ln,$n,di):.5*($n+di),fi=up(un.polygons,$n-ce,li+ce,Ln),Pi=up(un.polygons,li-ce,di+ce,Ln);if(fi.length){const ii=[ri,new ge(0===Ln?li:wi.x,1===Ln?li:wi.y)];Ft.length>Hn+1?pn.push({polygons:fi,bounds:ii,depth:Hn+1}):He(fi,ii)}if(Pi.length){const ii=[new ge(0===Ln?li:ri.x,1===Ln?li:ri.y),wi];Ft.length>Hn+1?pn.push({polygons:Pi,bounds:ii,depth:Hn+1}):He(Pi,ii)}}return Ee}(n,e,Math.ceil((m-p)/11.25),Math.ceil((w-P)/11.25),1,(k,N,Z)=>{if(0===k)return.5*(N+Z);{const q=Va((i.y+N/oo)/d);return(Md(.5*(Va((i.y+Z/oo)/d)+q))*d-i.y)*oo}})}Vi(pp,"FillExtrusionBucket",{omit:["layers","features"]}),Vi(ff,"PartMetadata");const L_=new Gt({"fill-extrusion-edge-radius":new Fe(Dn["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Pu={paint:new Gt({"fill-extrusion-opacity":new Fe(Dn["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new _t(Dn["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Fe(Dn["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Fe(Dn["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new _t(Dn["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new _t(Dn["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new _t(Dn["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Fe(Dn["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Fe(Dn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Fe(Dn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new Fe(Dn["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:L_};function vf(n,e,i){var d=2*Math.PI*6378137/256/Math.pow(2,i);return[n*d-2*Math.PI*6378137/2,e*d-2*Math.PI*6378137/2]}class _p{constructor(e,i,d){this.z=e,this.x=i,this.y=d,this.key=Tu(0,e,e,i,d)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,i){const d=(w=this.y,P=this.z,k=vf(256*(m=this.x),256*(w=Math.pow(2,P)-w-1),P),N=vf(256*(m+1),256*(w+1),P),k[0]+","+k[1]+","+N[0]+","+N[1]),p=function(m,w,P){let k,N="";for(let Z=m;Z>0;Z--)k=1<<Z-1,N+=(w&k?1:0)+(P&k?2:0);return N}(this.z,this.x,this.y);var m,w,P,k,N;return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===i?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",p).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class N_{constructor(e,i){this.wrap=e,this.canonical=i,this.key=Tu(e,i.z,i.z,i.x,i.y)}}class rl{constructor(e,i,d,p,m){this.overscaledZ=e,this.wrap=i,this.canonical=new _p(d,+p,+m),this.key=0===i&&e===d?this.canonical.key:Tu(i,e,d,p,m)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const i=this.canonical.z-e;return e>this.canonical.z?new rl(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new rl(e,this.wrap,e,this.canonical.x>>i,this.canonical.y>>i)}calculateScaledKey(e,i=!0){if(this.overscaledZ===e&&i)return this.key;if(e>this.canonical.z)return Tu(this.wrap*+i,e,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-e;return Tu(this.wrap*+i,e,e,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const i=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>i&&e.canonical.y===this.canonical.y>>i}children(e){if(this.overscaledZ>=e)return[new rl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const i=this.canonical.z+1,d=2*this.canonical.x,p=2*this.canonical.y;return[new rl(i,this.wrap,i,d,p),new rl(i,this.wrap,i,d+1,p),new rl(i,this.wrap,i,d,p+1),new rl(i,this.wrap,i,d+1,p+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new rl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new rl(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new N_(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Tu(n,e,i,d,p){const m=1<<Math.min(i,22);let w=m*(p%m)+d%m;return n&&i<22&&(w+=m*m*((n<0?-2*n-1:2*n)%(1<<2*(22-i)))),16*(32*w+i)+(e-i)}Vi(_p,"CanonicalTileID"),Vi(rl,"OverscaledTileID",{omit:["projMatrix"]});class $d extends ge{constructor(e,i,d){super(e,i),this.z=d}}function yp(n,e){return n.x*e.x+n.y*e.y}function bf(n,e){if(1===n.length){let i=0;const d=e[i++];let p;for(;!p||d.equals(p);)if(p=e[i++],!p)return 1/0;for(;i<e.length;i++){const m=e[i],w=n[0],P=p.sub(d),k=m.sub(d),N=w.sub(d),Z=yp(P,P),q=yp(P,k),ce=yp(k,k),xe=yp(N,P),Ee=yp(N,k),He=Z*ce-q*q,ht=(ce*xe-q*Ee)/He,Rt=(Z*Ee-q*xe)/He,tn=d.z*(1-ht-Rt)+p.z*ht+m.z*Rt;if(isFinite(tn))return tn}return 1/0}{let i=1/0;for(const d of e)i=Math.min(i,d.z);return i}}function Ku(n,e,i,d,p,m,w,P){const k=w*p.getElevationAt(n,e,!0,!0),N=0!==m[0],Z=N?0===m[1]?w*(m[0]/7-450):w*function(q,ce,xe){const Ee=Math.floor(ce[0]/8),He=Math.floor(ce[1]/8),ht=10*(ce[0]-8*Ee),Rt=10*(ce[1]-8*He),tn=q.getElevationAt(Ee,He,!0,!0),Ft=q.getMeterToDEM(xe),Qt=Math.floor(.5*(ht*Ft-1)),pn=Math.floor(.5*(Rt*Ft-1)),un=q.tileCoordToPixel(Ee,He),Hn=2*Qt+1,Ln=2*pn+1,ri=(Xi=Hn,$i=Ln,[(Pi=q).getElevationAtPixel(ii=un.x-Qt,ji=un.y-pn,!0),Pi.getElevationAtPixel(ii+$i,ji,!0),Pi.getElevationAtPixel(ii,ji+$i,!0),Pi.getElevationAtPixel(ii+Xi,ji+$i,!0)]),wi=Math.abs(ri[0]-ri[1]),$n=Math.abs(ri[2]-ri[3]),di=Math.abs(ri[0]-ri[2])+Math.abs(ri[1]-ri[3]),li=Math.min(.25,.5*Ft*(wi+$n)/Hn),fi=Math.min(.25,.5*Ft*di/Ln);var Pi,ii,ji,Xi,$i;return tn+Math.max(li*ht,fi*Rt)}(p,m,P):k;return{base:k+(0===i)?-1:i,top:N?Math.max(Z+d,k+i+2):k+d}}const Lm=Mn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Cf}=Lm,ng=Mn([{name:"a_packed",components:4,type:"Float32"}]),{members:Nm}=ng,wf=tg.types,kg=Math.cos(Math.PI/180*37.5);class Hc{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(i=>{this.gradients[i.id]={}}),this.layoutVertexArray=new Vn,this.layoutVertexArray2=new pi,this.indexArray=new eo,this.programConfigurations=new _l(e.layers,e.zoom),this.segments=new os,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}populate(e,i,d,p){this.hasPattern=xh("line",this.layers,i);const m=this.layers[0].layout.get("line-sort-key"),w=[];for(const{feature:Z,id:q,index:ce,sourceLayerIndex:xe}of e){const Ee=this.layers[0]._featureFilter.needGeometry,He=bu(Z,Ee);if(!this.layers[0]._featureFilter.filter(new Y(this.zoom),He,d))continue;const ht=m?m.evaluate(He,{},d):void 0,Rt={id:q,properties:Z.properties,type:Z.type,sourceLayerIndex:xe,index:ce,geometry:Ee?He.geometry:vu(Z,d,p),patterns:{},sortKey:ht};w.push(Rt)}m&&w.sort((Z,q)=>Z.sortKey-q.sortKey);const{lineAtlas:P,featureIndex:k}=i,N=this.addConstantDashes(P);for(const Z of w){const{geometry:q,index:ce,sourceLayerIndex:xe}=Z;if(N&&this.addFeatureDashes(Z,P),this.hasPattern){const Ee=Oh("line",this.layers,Z,this.zoom,i);this.patternFeatures.push(Ee)}else this.addFeature(Z,q,ce,d,P.positions,i.availableImages);k.insert(e[ce].feature,q,ce,xe,this.index)}}addConstantDashes(e){let i=!1;for(const d of this.layers){const p=d.paint.get("line-dasharray").value,m=d.layout.get("line-cap").value;if("constant"!==p.kind||"constant"!==m.kind)i=!0;else{const w=m.value,P=p.value;if(!P)continue;e.addDash(P,w)}}return i}addFeatureDashes(e,i){const d=this.zoom;for(const p of this.layers){const m=p.paint.get("line-dasharray").value,w=p.layout.get("line-cap").value;if("constant"===m.kind&&"constant"===w.kind)continue;let P,k;if("constant"===m.kind){if(P=m.value,!P)continue}else P=m.evaluate({zoom:d},e);k="constant"===w.kind?w.value:w.evaluate({zoom:d},e),i.addDash(P,k),e.patterns[p.id]=i.getKey(P,k)}}update(e,i,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,d,p)}addFeatures(e,i,d,p,m){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,i,d,p)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Nm)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Cf),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,i,d,p,m,w){const P=this.layers[0].layout,k=P.get("line-join").evaluate(e,{}),N=P.get("line-cap").evaluate(e,{}),Z=P.get("line-miter-limit"),q=P.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const ce of i)this.addLine(ce,e,k,N,Z,q);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,d,m,w,p)}addLine(e,i,d,p,m,w){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Rt=0;Rt<e.length-1;Rt++)this.totalDistance+=e[Rt].dist(e[Rt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const P="Polygon"===wf[i.type];let k=e.length;for(;k>=2&&e[k-1].equals(e[k-2]);)k--;let N=0;for(;N<k-1&&e[N].equals(e[N+1]);)N++;if(k<(P?3:2))return;"bevel"===d&&(m=1.05);const Z=this.overscaling<=16?15*oo/(512*this.overscaling):0,q=this.segments.prepareSegment(10*k,this.layoutVertexArray,this.indexArray);let ce,xe,Ee,He,ht;this.e1=this.e2=-1,P&&(ce=e[k-2],ht=e[N].sub(ce)._unit()._perp());for(let Rt=N;Rt<k;Rt++){if(Ee=Rt===k-1?P?e[N+1]:void 0:e[Rt+1],Ee&&e[Rt].equals(Ee))continue;ht&&(He=ht),ce&&(xe=ce),ce=e[Rt],ht=Ee?Ee.sub(ce)._unit()._perp():He,He=He||ht;let tn=He.add(ht);0===tn.x&&0===tn.y||tn._unit();const Ft=He.x*ht.x+He.y*ht.y,Qt=tn.x*ht.x+tn.y*ht.y,pn=0!==Qt?1/Qt:1/0,un=2*Math.sqrt(2-2*Qt),Hn=Qt<kg&&xe&&Ee,Ln=He.x*ht.y-He.y*ht.x>0;if(Hn&&Rt>N){const $n=ce.dist(xe);if($n>2*Z){const di=ce.sub(ce.sub(xe)._mult(Z/$n)._round());this.updateDistance(xe,di),this.addCurrentVertex(di,He,0,0,q),xe=di}}const ri=xe&&Ee;let wi=ri?d:P?"butt":p;if(ri&&"round"===wi&&(pn<w?wi="miter":pn<=2&&(wi="fakeround")),"miter"===wi&&pn>m&&(wi="bevel"),"bevel"===wi&&(pn>2&&(wi="flipbevel"),pn<m&&(wi="miter")),xe&&this.updateDistance(xe,ce),"miter"===wi)tn._mult(pn),this.addCurrentVertex(ce,tn,0,0,q);else if("flipbevel"===wi){if(pn>100)tn=ht.mult(-1);else{const $n=pn*He.add(ht).mag()/He.sub(ht).mag();tn._perp()._mult($n*(Ln?-1:1))}this.addCurrentVertex(ce,tn,0,0,q),this.addCurrentVertex(ce,tn.mult(-1),0,0,q)}else if("bevel"===wi||"fakeround"===wi){const $n=-Math.sqrt(pn*pn-1),di=Ln?$n:0,li=Ln?0:$n;if(xe&&this.addCurrentVertex(ce,He,di,li,q),"fakeround"===wi){const fi=Math.round(180*un/Math.PI/20);for(let Pi=1;Pi<fi;Pi++){let ii=Pi/fi;if(.5!==ii){const Xi=ii-.5;ii+=ii*Xi*(ii-1)*((1.0904+Ft*(Ft*(3.55645-1.43519*Ft)-3.2452))*Xi*Xi+(.848013+Ft*(.215638*Ft-1.06021)))}const ji=ht.sub(He)._mult(ii)._add(He)._unit()._mult(Ln?-1:1);this.addHalfVertex(ce,ji.x,ji.y,!1,Ln,0,q)}}Ee&&this.addCurrentVertex(ce,ht,-di,-li,q)}else if("butt"===wi)this.addCurrentVertex(ce,tn,0,0,q);else if("square"===wi){const $n=xe?1:-1;xe||this.addCurrentVertex(ce,tn,$n,$n,q),this.addCurrentVertex(ce,tn,0,0,q),xe&&this.addCurrentVertex(ce,tn,$n,$n,q)}else"round"===wi&&(xe&&(this.addCurrentVertex(ce,He,0,0,q),this.addCurrentVertex(ce,He,1,1,q,!0)),Ee&&(this.addCurrentVertex(ce,ht,-1,-1,q,!0),this.addCurrentVertex(ce,ht,0,0,q)));if(Hn&&Rt<k-1){const $n=ce.dist(Ee);if($n>2*Z){const di=ce.add(Ee.sub(ce)._mult(Z/$n)._round());this.updateDistance(ce,di),this.addCurrentVertex(di,ht,0,0,q),ce=di}}}}addCurrentVertex(e,i,d,p,m,w=!1){const P=i.y*p-i.x,k=-i.y-i.x*p;this.addHalfVertex(e,i.x+i.y*d,i.y-i.x*d,w,!1,d,m),this.addHalfVertex(e,P,k,w,!0,-p,m)}addHalfVertex({x:e,y:i},d,p,m,w,P,k){this.layoutVertexArray.emplaceBack((e<<1)+(m?1:0),(i<<1)+(w?1:0),Math.round(63*d)+128,Math.round(63*p)+128,1+(0===P?0:P<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const N=k.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,N),k.primitiveLength++),w?this.e2=N:this.e1=N}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,i){this.distance+=e.dist(i),this.updateScaledDistance()}}Vi(Hc,"LineBucket",{omit:["layers","patternFeatures"]});const vp=new Gt({"line-cap":new _t(Dn.layout_line["line-cap"]),"line-join":new _t(Dn.layout_line["line-join"]),"line-miter-limit":new Fe(Dn.layout_line["line-miter-limit"]),"line-round-limit":new Fe(Dn.layout_line["line-round-limit"]),"line-sort-key":new _t(Dn.layout_line["line-sort-key"])});var ig={paint:new Gt({"line-opacity":new _t(Dn.paint_line["line-opacity"]),"line-color":new _t(Dn.paint_line["line-color"]),"line-translate":new Fe(Dn.paint_line["line-translate"]),"line-translate-anchor":new Fe(Dn.paint_line["line-translate-anchor"]),"line-width":new _t(Dn.paint_line["line-width"]),"line-gap-width":new _t(Dn.paint_line["line-gap-width"]),"line-offset":new _t(Dn.paint_line["line-offset"]),"line-blur":new _t(Dn.paint_line["line-blur"]),"line-dasharray":new _t(Dn.paint_line["line-dasharray"]),"line-pattern":new _t(Dn.paint_line["line-pattern"]),"line-gradient":new Ut(Dn.paint_line["line-gradient"]),"line-trim-offset":new Fe(Dn.paint_line["line-trim-offset"])}),layout:vp};const Rg=new class extends _t{possiblyEvaluate(n,e){return e=new Y(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,transition:e.transition}),super.possiblyEvaluate(n,e)}evaluate(n,e,i,d){return e=Qe({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(n,e,i,d)}}(ig.paint.properties["line-width"].specification);function Mf(n,e){return e>0?e+2*n:n}Rg.useIntegerZoom=!0;const xf=Mn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),bp=Mn([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Fm=Mn([{name:"a_projected_pos",components:4,type:"Float32"}],4);Mn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Bm=Mn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),tm=Mn([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Mn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Hs=Mn([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),jc=Mn([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Mn([{name:"triangle",components:3,type:"Uint16"}]),Mn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Mn([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Mn([{type:"Float32",name:"offsetX"}]),Mn([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Ca=24;const uc=128;function Sh(n,e){const{expression:i}=e;if("constant"===i.kind)return{kind:"constant",layoutSize:i.evaluate(new Y(n+1))};if("source"===i.kind)return{kind:"source"};{const{zoomStops:d,interpolationType:p}=i;let m=0;for(;m<d.length&&d[m]<=n;)m++;m=Math.max(0,m-1);let w=m;for(;w<d.length&&d[w]<n+1;)w++;w=Math.min(d.length-1,w);const P=d[m],k=d[w];return"composite"===i.kind?{kind:"composite",minZoom:P,maxZoom:k,interpolationType:p}:{kind:"camera",minZoom:P,maxZoom:k,minSize:i.evaluate(new Y(P)),maxSize:i.evaluate(new Y(k)),interpolationType:p}}}function Of(n,{uSize:e,uSizeT:i},{lowerSize:d,upperSize:p}){return"source"===n.kind?d/uc:"composite"===n.kind?nr(d/uc,p/uc,i):e}function Cp(n,e){let i=0,d=0;if("constant"===n.kind)d=n.layoutSize;else if("source"!==n.kind){const{interpolationType:p,minZoom:m,maxZoom:w}=n,P=p?Oe(Er.interpolationFactor(p,e,m,w),0,1):0;"camera"===n.kind?d=nr(n.minSize,n.maxSize,P):i=P}return{uSizeT:i,uSize:d}}var zm=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:uc,evaluateSizeForFeature:Of,evaluateSizeForZoom:Cp,getSizeData:Sh});function nm(n,e,i){return n.sections.forEach(d=>{d.text=function(p,m,w){const P=m.layout.get("text-transform").evaluate(w,{});return"uppercase"===P?p=p.toLocaleUpperCase():"lowercase"===P&&(p=p.toLocaleLowerCase()),H.applyArabicShaping&&(p=H.applyArabicShaping(p)),p}(d.text,e,i)}),n}const Lg={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42","\u2190":"\u2191","\u2192":"\u2193"};function im(n){return"\ufe36"===n||"\ufe48"===n||"\ufe38"===n||"\ufe44"===n||"\ufe42"===n||"\ufe3e"===n||"\ufe3c"===n||"\ufe3a"===n||"\ufe18"===n||"\ufe40"===n||"\ufe10"===n||"\ufe13"===n||"\ufe14"===n||"\uff40"===n||"\uffe3"===n||"\ufe11"===n||"\ufe12"===n}function Ng(n){return"\ufe35"===n||"\ufe47"===n||"\ufe37"===n||"\ufe43"===n||"\ufe41"===n||"\ufe3d"===n||"\ufe3b"===n||"\ufe39"===n||"\ufe17"===n||"\ufe3f"===n}var Fg=zr,Dh=function(n,e,i,d,p){var m,w,P=8*p-d-1,k=(1<<P)-1,N=k>>1,Z=-7,q=i?p-1:0,ce=i?-1:1,xe=n[e+q];for(q+=ce,m=xe&(1<<-Z)-1,xe>>=-Z,Z+=P;Z>0;m=256*m+n[e+q],q+=ce,Z-=8);for(w=m&(1<<-Z)-1,m>>=-Z,Z+=d;Z>0;w=256*w+n[e+q],q+=ce,Z-=8);if(0===m)m=1-N;else{if(m===k)return w?NaN:1/0*(xe?-1:1);w+=Math.pow(2,d),m-=N}return(xe?-1:1)*w*Math.pow(2,m-d)},og=function(n,e,i,d,p,m){var w,P,k,N=8*m-p-1,Z=(1<<N)-1,q=Z>>1,ce=23===p?Math.pow(2,-24)-Math.pow(2,-77):0,xe=d?0:m-1,Ee=d?1:-1,He=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(P=isNaN(e)?1:0,w=Z):(w=Math.floor(Math.log(e)/Math.LN2),e*(k=Math.pow(2,-w))<1&&(w--,k*=2),(e+=w+q>=1?ce/k:ce*Math.pow(2,1-q))*k>=2&&(w++,k/=2),w+q>=Z?(P=0,w=Z):w+q>=1?(P=(e*k-1)*Math.pow(2,p),w+=q):(P=e*Math.pow(2,q-1)*Math.pow(2,p),w=0));p>=8;n[i+xe]=255&P,xe+=Ee,P/=256,p-=8);for(w=w<<p|P,N+=p;N>0;n[i+xe]=255&w,xe+=Ee,w/=256,N-=8);n[i+xe-Ee]|=128*He};function zr(n){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(n)?n:new Uint8Array(n||0),this.pos=0,this.type=0,this.length=this.buf.length}zr.Varint=0,zr.Fixed64=1,zr.Bytes=2,zr.Fixed32=5;var rg=4294967296,Bg=1/rg,Yu=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function nd(n){return n.type===zr.Bytes?n.readVarint()+n.pos:n.pos+1}function sg(n,e,i){var d=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(d);for(var p=i.pos-1;p>=n;p--)i.buf[p+d]=i.buf[p]}function Pf(n,e){for(var i=0;i<n.length;i++)e.writeVarint(n[i])}function zg(n,e){for(var i=0;i<n.length;i++)e.writeSVarint(n[i])}function om(n,e){for(var i=0;i<n.length;i++)e.writeFloat(n[i])}function Tf(n,e){for(var i=0;i<n.length;i++)e.writeDouble(n[i])}function ag(n,e){for(var i=0;i<n.length;i++)e.writeBoolean(n[i])}function rm(n,e){for(var i=0;i<n.length;i++)e.writeFixed32(n[i])}function sm(n,e){for(var i=0;i<n.length;i++)e.writeSFixed32(n[i])}function Um(n,e){for(var i=0;i<n.length;i++)e.writeFixed64(n[i])}function Hm(n,e){for(var i=0;i<n.length;i++)e.writeSFixed64(n[i])}function wp(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16)+16777216*n[e+3]}function Eh(n,e,i){n[i]=e,n[i+1]=e>>>8,n[i+2]=e>>>16,n[i+3]=e>>>24}function am(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16)+(n[e+3]<<24)}zr.prototype={destroy:function(){this.buf=null},readFields:function(n,e,i){for(i=i||this.length;this.pos<i;){var d=this.readVarint(),p=d>>3,m=this.pos;this.type=7&d,n(p,e,this),this.pos===m&&this.skip(d)}return e},readMessage:function(n,e){return this.readFields(n,e,this.readVarint()+this.pos)},readFixed32:function(){var n=wp(this.buf,this.pos);return this.pos+=4,n},readSFixed32:function(){var n=am(this.buf,this.pos);return this.pos+=4,n},readFixed64:function(){var n=wp(this.buf,this.pos)+wp(this.buf,this.pos+4)*rg;return this.pos+=8,n},readSFixed64:function(){var n=wp(this.buf,this.pos)+am(this.buf,this.pos+4)*rg;return this.pos+=8,n},readFloat:function(){var n=Dh(this.buf,this.pos,!0,23,4);return this.pos+=4,n},readDouble:function(){var n=Dh(this.buf,this.pos,!0,52,8);return this.pos+=8,n},readVarint:function(n){var e,i,d=this.buf;return e=127&(i=d[this.pos++]),i<128?e:(e|=(127&(i=d[this.pos++]))<<7,i<128?e:(e|=(127&(i=d[this.pos++]))<<14,i<128?e:(e|=(127&(i=d[this.pos++]))<<21,i<128?e:function(p,m,w){var P,k,N=w.buf;if(P=(112&(k=N[w.pos++]))>>4,k<128||(P|=(127&(k=N[w.pos++]))<<3,k<128)||(P|=(127&(k=N[w.pos++]))<<10,k<128)||(P|=(127&(k=N[w.pos++]))<<17,k<128)||(P|=(127&(k=N[w.pos++]))<<24,k<128)||(P|=(1&(k=N[w.pos++]))<<31,k<128))return function Pd(n,e,i){return i?4294967296*e+(n>>>0):4294967296*(e>>>0)+(n>>>0)}(p,P,m);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=d[this.pos]))<<28,n,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var n=this.readVarint();return n%2==1?(n+1)/-2:n/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var n=this.readVarint()+this.pos,e=this.pos;return this.pos=n,n-e>=12&&Yu?Yu.decode(this.buf.subarray(e,n)):function(i,d,p){for(var m="",w=d;w<p;){var P,k,N,Z=i[w],q=null,ce=Z>239?4:Z>223?3:Z>191?2:1;if(w+ce>p)break;1===ce?Z<128&&(q=Z):2===ce?128==(192&(P=i[w+1]))&&(q=(31&Z)<<6|63&P)<=127&&(q=null):3===ce?(k=i[w+2],128==(192&(P=i[w+1]))&&128==(192&k)&&((q=(15&Z)<<12|(63&P)<<6|63&k)<=2047||q>=55296&&q<=57343)&&(q=null)):4===ce&&(k=i[w+2],N=i[w+3],128==(192&(P=i[w+1]))&&128==(192&k)&&128==(192&N)&&((q=(15&Z)<<18|(63&P)<<12|(63&k)<<6|63&N)<=65535||q>=1114112)&&(q=null)),null===q?(q=65533,ce=1):q>65535&&(q-=65536,m+=String.fromCharCode(q>>>10&1023|55296),q=56320|1023&q),m+=String.fromCharCode(q),w+=ce}return m}(this.buf,e,n)},readBytes:function(){var n=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,n);return this.pos=n,e},readPackedVarint:function(n,e){if(this.type!==zr.Bytes)return n.push(this.readVarint(e));var i=nd(this);for(n=n||[];this.pos<i;)n.push(this.readVarint(e));return n},readPackedSVarint:function(n){if(this.type!==zr.Bytes)return n.push(this.readSVarint());var e=nd(this);for(n=n||[];this.pos<e;)n.push(this.readSVarint());return n},readPackedBoolean:function(n){if(this.type!==zr.Bytes)return n.push(this.readBoolean());var e=nd(this);for(n=n||[];this.pos<e;)n.push(this.readBoolean());return n},readPackedFloat:function(n){if(this.type!==zr.Bytes)return n.push(this.readFloat());var e=nd(this);for(n=n||[];this.pos<e;)n.push(this.readFloat());return n},readPackedDouble:function(n){if(this.type!==zr.Bytes)return n.push(this.readDouble());var e=nd(this);for(n=n||[];this.pos<e;)n.push(this.readDouble());return n},readPackedFixed32:function(n){if(this.type!==zr.Bytes)return n.push(this.readFixed32());var e=nd(this);for(n=n||[];this.pos<e;)n.push(this.readFixed32());return n},readPackedSFixed32:function(n){if(this.type!==zr.Bytes)return n.push(this.readSFixed32());var e=nd(this);for(n=n||[];this.pos<e;)n.push(this.readSFixed32());return n},readPackedFixed64:function(n){if(this.type!==zr.Bytes)return n.push(this.readFixed64());var e=nd(this);for(n=n||[];this.pos<e;)n.push(this.readFixed64());return n},readPackedSFixed64:function(n){if(this.type!==zr.Bytes)return n.push(this.readSFixed64());var e=nd(this);for(n=n||[];this.pos<e;)n.push(this.readSFixed64());return n},skip:function(n){var e=7&n;if(e===zr.Varint)for(;this.buf[this.pos++]>127;);else if(e===zr.Bytes)this.pos=this.readVarint()+this.pos;else if(e===zr.Fixed32)this.pos+=4;else{if(e!==zr.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(n,e){this.writeVarint(n<<3|e)},realloc:function(n){for(var e=this.length||16;e<this.pos+n;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(n){this.realloc(4),Eh(this.buf,n,this.pos),this.pos+=4},writeSFixed32:function(n){this.realloc(4),Eh(this.buf,n,this.pos),this.pos+=4},writeFixed64:function(n){this.realloc(8),Eh(this.buf,-1&n,this.pos),Eh(this.buf,Math.floor(n*Bg),this.pos+4),this.pos+=8},writeSFixed64:function(n){this.realloc(8),Eh(this.buf,-1&n,this.pos),Eh(this.buf,Math.floor(n*Bg),this.pos+4),this.pos+=8},writeVarint:function(n){(n=+n||0)>268435455||n<0?function(e,i){var d,p,m,P;if(e>=0?(d=e%4294967296|0,p=e/4294967296|0):(p=~(-e/4294967296),4294967295^(d=~(-e%4294967296))?d=d+1|0:(d=0,p=p+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");i.realloc(10),m=d,(P=i).buf[P.pos++]=127&m|128,m>>>=7,P.buf[P.pos++]=127&m|128,m>>>=7,P.buf[P.pos++]=127&m|128,m>>>=7,P.buf[P.pos++]=127&m|128,P.buf[P.pos]=127&(m>>>=7),function(m,w){var P=(7&m)<<4;w.buf[w.pos++]|=P|((m>>>=3)?128:0),m&&(w.buf[w.pos++]=127&m|((m>>>=7)?128:0),m&&(w.buf[w.pos++]=127&m|((m>>>=7)?128:0),m&&(w.buf[w.pos++]=127&m|((m>>>=7)?128:0),m&&(w.buf[w.pos++]=127&m|((m>>>=7)?128:0),m&&(w.buf[w.pos++]=127&m)))))}(p,i)}(n,this):(this.realloc(4),this.buf[this.pos++]=127&n|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=127&(n>>>=7)|(n>127?128:0),n<=127||(this.buf[this.pos++]=n>>>7&127))))},writeSVarint:function(n){this.writeVarint(n<0?2*-n-1:2*n)},writeBoolean:function(n){this.writeVarint(!!n)},writeString:function(n){n=String(n),this.realloc(4*n.length),this.pos++;var e=this.pos;this.pos=function(d,p,m){for(var w,P,k=0;k<p.length;k++){if((w=p.charCodeAt(k))>55295&&w<57344){if(!P){w>56319||k+1===p.length?(d[m++]=239,d[m++]=191,d[m++]=189):P=w;continue}if(w<56320){d[m++]=239,d[m++]=191,d[m++]=189,P=w;continue}w=P-55296<<10|w-56320|65536,P=null}else P&&(d[m++]=239,d[m++]=191,d[m++]=189,P=null);w<128?d[m++]=w:(w<2048?d[m++]=w>>6|192:(w<65536?d[m++]=w>>12|224:(d[m++]=w>>18|240,d[m++]=w>>12&63|128),d[m++]=w>>6&63|128),d[m++]=63&w|128)}return m}(this.buf,n,this.pos);var i=this.pos-e;i>=128&&sg(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(n){this.realloc(4),og(this.buf,n,this.pos,!0,23,4),this.pos+=4},writeDouble:function(n){this.realloc(8),og(this.buf,n,this.pos,!0,52,8),this.pos+=8},writeBytes:function(n){var e=n.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=n[i]},writeRawMessage:function(n,e){this.pos++;var i=this.pos;n(e,this);var d=this.pos-i;d>=128&&sg(i,d,this),this.pos=i-1,this.writeVarint(d),this.pos+=d},writeMessage:function(n,e,i){this.writeTag(n,zr.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(n,e){e.length&&this.writeMessage(n,Pf,e)},writePackedSVarint:function(n,e){e.length&&this.writeMessage(n,zg,e)},writePackedBoolean:function(n,e){e.length&&this.writeMessage(n,ag,e)},writePackedFloat:function(n,e){e.length&&this.writeMessage(n,om,e)},writePackedDouble:function(n,e){e.length&&this.writeMessage(n,Tf,e)},writePackedFixed32:function(n,e){e.length&&this.writeMessage(n,rm,e)},writePackedSFixed32:function(n,e){e.length&&this.writeMessage(n,sm,e)},writePackedFixed64:function(n,e){e.length&&this.writeMessage(n,Um,e)},writePackedSFixed64:function(n,e){e.length&&this.writeMessage(n,Hm,e)},writeBytesField:function(n,e){this.writeTag(n,zr.Bytes),this.writeBytes(e)},writeFixed32Field:function(n,e){this.writeTag(n,zr.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(n,e){this.writeTag(n,zr.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(n,e){this.writeTag(n,zr.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(n,e){this.writeTag(n,zr.Fixed64),this.writeSFixed64(e)},writeVarintField:function(n,e){this.writeTag(n,zr.Varint),this.writeVarint(e)},writeSVarintField:function(n,e){this.writeTag(n,zr.Varint),this.writeSVarint(e)},writeStringField:function(n,e){this.writeTag(n,zr.Bytes),this.writeString(e)},writeFloatField:function(n,e){this.writeTag(n,zr.Fixed32),this.writeFloat(e)},writeDoubleField:function(n,e){this.writeTag(n,zr.Fixed64),this.writeDouble(e)},writeBooleanField:function(n,e){this.writeVarintField(n,!!e)}};var Ug=ke(Fg);const lm=3;function jm(n,e,i){e.glyphs=[],1===n&&i.readMessage(Hg,e)}function Hg(n,e,i){if(3===n){const{id:d,bitmap:p,width:m,height:w,left:P,top:k,advance:N}=i.readMessage(cm,{});e.glyphs.push({id:d,bitmap:new lr({width:m+2*lm,height:w+2*lm},p),metrics:{width:m,height:w,left:P,top:k,advance:N}})}else 4===n?e.ascender=i.readSVarint():5===n&&(e.descender=i.readSVarint())}function cm(n,e,i){1===n?e.id=i.readVarint():2===n?e.bitmap=i.readBytes():3===n?e.width=i.readVarint():4===n?e.height=i.readVarint():5===n?e.left=i.readSVarint():6===n?e.top=i.readSVarint():7===n&&(e.advance=i.readVarint())}const dm=lm;function Sf(n){let e=0,i=0;for(const w of n)e+=w.w*w.h,i=Math.max(i,w.w);n.sort((w,P)=>P.h-w.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),i),h:1/0}];let p=0,m=0;for(const w of n)for(let P=d.length-1;P>=0;P--){const k=d[P];if(!(w.w>k.w||w.h>k.h)){if(w.x=k.x,w.y=k.y,m=Math.max(m,w.y+w.h),p=Math.max(p,w.x+w.w),w.w===k.w&&w.h===k.h){const N=d.pop();P<d.length&&(d[P]=N)}else w.h===k.h?(k.x+=w.w,k.w-=w.w):w.w===k.w?(k.y+=w.h,k.h-=w.h):(d.push({x:k.x+w.w,y:k.y,w:k.w-w.w,h:w.h}),k.y+=w.h,k.h-=w.h);break}}return{w:p,h:m,fill:e/(p*m)||0}}const $a=1;class Mp{constructor(e,{pixelRatio:i,version:d,stretchX:p,stretchY:m,content:w}){this.paddedRect=e,this.pixelRatio=i,this.stretchX=p,this.stretchY=m,this.content=w,this.version=d}get tl(){return[this.paddedRect.x+$a,this.paddedRect.y+$a]}get br(){return[this.paddedRect.x+this.paddedRect.w-$a,this.paddedRect.y+this.paddedRect.h-$a]}get displaySize(){return[(this.paddedRect.w-2*$a)/this.pixelRatio,(this.paddedRect.h-2*$a)/this.pixelRatio]}}class Df{constructor(e,i){const d={},p={};this.haveRenderCallbacks=[];const m=[];this.addImages(e,d,m),this.addImages(i,p,m);const{w,h:P}=Sf(m),k=new tr({width:w||1,height:P||1});for(const N in e){const Z=e[N],q=d[N].paddedRect;tr.copy(Z.data,k,{x:0,y:0},{x:q.x+$a,y:q.y+$a},Z.data)}for(const N in i){const Z=i[N],q=p[N].paddedRect,ce=q.x+$a,xe=q.y+$a,Ee=Z.data.width,He=Z.data.height;tr.copy(Z.data,k,{x:0,y:0},{x:ce,y:xe},Z.data),tr.copy(Z.data,k,{x:0,y:He-1},{x:ce,y:xe-1},{width:Ee,height:1}),tr.copy(Z.data,k,{x:0,y:0},{x:ce,y:xe+He},{width:Ee,height:1}),tr.copy(Z.data,k,{x:Ee-1,y:0},{x:ce-1,y:xe},{width:1,height:He}),tr.copy(Z.data,k,{x:0,y:0},{x:ce+Ee,y:xe},{width:1,height:He})}this.image=k,this.iconPositions=d,this.patternPositions=p}addImages(e,i,d){for(const p in e){const m=e[p],w={x:0,y:0,w:m.data.width+2*$a,h:m.data.height+2*$a};d.push(w),i[p]=new Mp(w,m),m.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(e,i){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(d=>e.hasImage(d)),e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in e.updatedImages)this.patchUpdatedImage(this.iconPositions[d],e.getImage(d),i),this.patchUpdatedImage(this.patternPositions[d],e.getImage(d),i)}patchUpdatedImage(e,i,d){if(!e||!i||e.version===i.version)return;e.version=i.version;const[p,m]=e.tl;d.update(i.data,void 0,{x:p,y:m})}}Vi(Mp,"ImagePosition"),Vi(Df,"ImageAtlas");const hc={horizontal:1,vertical:2,horizontalOnly:3},Td=-17;class xp{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,i){const d=new xp;return d.scale=e||1,d.fontStack=i,d}static forImage(e){const i=new xp;return i.imageName=e,i}}class Dc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,i){const d=new Dc;for(let p=0;p<e.sections.length;p++){const m=e.sections[p];m.image?d.addImageSection(m):d.addTextSection(m,i)}return d}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(i,d){let p="";for(let m=0;m<i.length;m++){const w=i.charCodeAt(m+1)||null,P=i.charCodeAt(m-1)||null;p+=!d&&(w&&Ki(w)&&!Lg[i[m+1]]||P&&Ki(P)&&!Lg[i[m-1]])||!Lg[i[m]]?i[m]:Lg[i[m]]}return p}(this.text,e)}trim(){let e=0;for(let d=0;d<this.text.length&&Zd[this.text.charCodeAt(d)];d++)e++;let i=this.text.length;for(let d=this.text.length-1;d>=0&&d>=e&&Zd[this.text.charCodeAt(d)];d--)i--;this.text=this.text.substring(e,i),this.sectionIndex=this.sectionIndex.slice(e,i)}substring(e,i){const d=new Dc;return d.text=this.text.substring(e,i),d.sectionIndex=this.sectionIndex.slice(e,i),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,i)=>Math.max(e,this.sections[i].scale),0)}addTextSection(e,i){this.text+=e.text,this.sections.push(xp.forText(e.scale,e.fontStack||i));const d=this.sections.length-1;for(let p=0;p<e.text.length;++p)this.sectionIndex.push(d)}addImageSection(e){const i=e.image?e.image.name:"";if(0===i.length)return void Cn("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(xp.forImage(i)),this.sectionIndex.push(this.sections.length-1)):Cn("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function jg(n,e,i,d,p,m,w,P,k,N,Z,q,ce,xe,Ee){const He=Dc.fromFeature(n,p);q===hc.vertical&&He.verticalizePunctuation(ce);let ht=[];const Rt=function(un,Hn,Ln,ri,wi,$n){if(!un)return[];const di=[],li=function(ji,Xi,$i,Bo,Ti,co){let Uo=0;for(let Wr=0;Wr<ji.length();Wr++){const zo=ji.getSection(Wr);Uo+=Op(ji.getCharCode(Wr),zo,Bo,Ti,Xi,co)}return Uo/Math.max(1,Math.ceil(Uo/$i))}(un,Hn,Ln,ri,wi,$n),fi=un.text.indexOf("\u200b")>=0;let Pi=0;for(let ji=0;ji<un.length();ji++){const Xi=un.getSection(ji),$i=un.getCharCode(ji);if(Zd[$i]||(Pi+=Op($i,Xi,ri,wi,Hn,$n)),ji<un.length()-1){const Bo=!((ii=$i)<11904||!(ne["Bopomofo Extended"](ii)||ne.Bopomofo(ii)||ne["CJK Compatibility Forms"](ii)||ne["CJK Compatibility Ideographs"](ii)||ne["CJK Compatibility"](ii)||ne["CJK Radicals Supplement"](ii)||ne["CJK Strokes"](ii)||ne["CJK Symbols and Punctuation"](ii)||ne["CJK Unified Ideographs Extension A"](ii)||ne["CJK Unified Ideographs"](ii)||ne["Enclosed CJK Letters and Months"](ii)||ne["Halfwidth and Fullwidth Forms"](ii)||ne.Hiragana(ii)||ne["Ideographic Description Characters"](ii)||ne["Kangxi Radicals"](ii)||ne["Katakana Phonetic Extensions"](ii)||ne.Katakana(ii)||ne["Vertical Forms"](ii)||ne["Yi Radicals"](ii)||ne["Yi Syllables"](ii)));(Vm[$i]||Bo||Xi.imageName)&&di.push(qu(ji+1,Pi,li,di,Gm($i,un.getCharCode(ji+1),Bo&&fi),!1))}}var ii;return $m(qu(un.length(),Pi,li,di,0,!0))}(He,N,m,e,d,xe),{processBidirectionalText:tn,processStyledBidirectionalText:Ft}=H;if(tn&&1===He.sections.length){const un=tn(He.toString(),Rt);for(const Hn of un){const Ln=new Dc;Ln.text=Hn,Ln.sections=He.sections;for(let ri=0;ri<Hn.length;ri++)Ln.sectionIndex.push(0);ht.push(Ln)}}else if(Ft){const un=Ft(He.text,He.sectionIndex,Rt);for(const Hn of un){const Ln=new Dc;Ln.text=Hn[0],Ln.sectionIndex=Hn[1],Ln.sections=He.sections,ht.push(Ln)}}else ht=function(un,Hn){const Ln=[],ri=un.text;let wi=0;for(const $n of Hn)Ln.push(un.substring(wi,$n)),wi=$n;return wi<ri.length&&Ln.push(un.substring(wi,ri.length)),Ln}(He,Rt);const Qt=[],pn={positionedLines:Qt,text:He.toString(),top:Z[1],bottom:Z[1],left:Z[0],right:Z[0],writingMode:q,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(un,Hn,Ln,ri,wi,$n,di,li,fi,Pi,ii,ji){let Xi=0,$i=0,Bo=0;const Ti="right"===li?1:"left"===li?0:.5;let co=!1;for(const Fo of wi){const Zo=Fo.getSections();for(const _s of Zo){if(_s.imageName)continue;const hs=Hn[_s.fontStack];if(hs&&(co=void 0!==hs.ascender&&void 0!==hs.descender,!co))break}if(!co)break}let Uo=0;for(const Fo of wi){Fo.trim();const Zo=Fo.getMaxScale(),_s=(Zo-1)*Ca,hs={positionedGlyphs:[],lineOffset:0};un.positionedLines[Uo]=hs;const xs=hs.positionedGlyphs;let Ar=0;if(!Fo.length()){$i+=$n,++Uo;continue}let Os=0,Fr=0;for(let es=0;es<Fo.length();es++){const ps=Fo.getSection(es),ha=Fo.getSectionIndex(es),Ps=Fo.getCharCode(es);let Pr=ps.scale,Vs=null,Yr=null,al=null,Gs=Ca,xa=0;const pa=!(fi===hc.horizontal||!ii&&!Wn(Ps)||ii&&(Zd[Ps]||(Wr=Ps,ne.Arabic(Wr)||ne["Arabic Supplement"](Wr)||ne["Arabic Extended-A"](Wr)||ne["Arabic Presentation Forms-A"](Wr)||ne["Arabic Presentation Forms-B"](Wr))));if(ps.imageName){const ll=ri[ps.imageName];if(!ll)continue;al=ps.imageName,un.iconsInText=un.iconsInText||!0,Yr=ll.paddedRect;const Wa=ll.displaySize;Pr=Pr*Ca/ji,Vs={width:Wa[0],height:Wa[1],left:$a,top:-dm,advance:pa?Wa[1]:Wa[0],localGlyph:!1},xa=co?-Vs.height*Pr:Td+Zo*Ca-Wa[1]*Pr,Gs=Vs.advance;const Jd=(pa?Wa[0]:Wa[1])*Pr-Ca*Zo;Jd>0&&Jd>Ar&&(Ar=Jd)}else{const ll=Ln[ps.fontStack];if(!ll)continue;ll[Ps]&&(Yr=ll[Ps]);const Wa=Hn[ps.fontStack];if(!Wa)continue;const Jd=Wa.glyphs[Ps];if(!Jd)continue;if(Vs=Jd.metrics,Gs=8203!==Ps?Ca:0,co){const ug=void 0!==Wa.ascender?Math.abs(Wa.ascender):0,Yg=void 0!==Wa.descender?Math.abs(Wa.descender):0,qg=(ug+Yg)*Pr;Os<qg&&(Os=qg,Fr=(ug-Yg)/2*Pr),xa=-ug*Pr}else xa=Td+(Zo-Pr)*Ca}pa?(un.verticalizable=!0,xs.push({glyph:Ps,imageName:al,x:Xi,y:$i+xa,vertical:pa,scale:Pr,localGlyph:Vs.localGlyph,fontStack:ps.fontStack,sectionIndex:ha,metrics:Vs,rect:Yr}),Xi+=Gs*Pr+Pi):(xs.push({glyph:Ps,imageName:al,x:Xi,y:$i+xa,vertical:pa,scale:Pr,localGlyph:Vs.localGlyph,fontStack:ps.fontStack,sectionIndex:ha,metrics:Vs,rect:Yr}),Xi+=Vs.advance*Pr+Pi)}0!==xs.length&&(Bo=Math.max(Xi-Pi,Bo),co?Ih(xs,Ti,Ar,Fr,$n*Zo/2):Ih(xs,Ti,Ar,0,$n/2)),Xi=0;const Rs=$n*Zo+Ar;hs.lineOffset=Math.max(Ar,_s),$i+=Rs,++Uo}var Wr;const zo=$i,{horizontalAlign:Co,verticalAlign:ks}=Ef(di);(function(Fo,Zo,_s,hs,xs,Ar){const Os=(Zo-_s)*xs,Fr=-Ar*hs;for(const Rs of Fo)for(const es of Rs.positionedGlyphs)es.x+=Os,es.y+=Fr})(un.positionedLines,Ti,Co,ks,Bo,zo),un.top+=-ks*zo,un.bottom=un.top+zo,un.left+=-Co*Bo,un.right=un.left+Bo,un.hasBaseline=co}(pn,e,i,d,ht,w,P,k,q,N,ce,Ee),!function(un){for(const Hn of un)if(0!==Hn.positionedGlyphs.length)return!1;return!0}(Qt)&&pn}const Zd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Vm={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Op(n,e,i,d,p,m){if(e.imageName){const w=d[e.imageName];return w?w.displaySize[0]*e.scale*Ca/m+p:0}{const w=i[e.fontStack],P=w&&w.glyphs[n];return P?P.metrics.advance*e.scale+p:0}}function Pp(n,e,i,d){const p=Math.pow(n-e,2);return d?n<e?p/2:2*p:p+Math.abs(i)*i}function Gm(n,e,i){let d=0;return 10===n&&(d-=1e4),i&&(d+=150),40!==n&&65288!==n||(d+=50),41!==e&&65289!==e||(d+=50),d}function qu(n,e,i,d,p,m){let w=null,P=Pp(e,i,p,m);for(const k of d){const N=Pp(e-k.x,i,p,m)+k.badness;N<=P&&(w=k,P=N)}return{index:n,x:e,priorBreak:w,badness:P}}function $m(n){return n?$m(n.priorBreak).concat(n.index):[]}function Ef(n){let e=.5,i=.5;switch(n){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(n){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function Ih(n,e,i,d,p){if(!(e||i||d||p))return;const m=n.length-1,w=n[m],P=(w.x+w.metrics.advance*w.scale)*e;for(let k=0;k<=m;k++)n[k].x-=P,n[k].y+=i+d+p}function um(n,e,i){const{horizontalAlign:d,verticalAlign:p}=Ef(i),m=e[0]-n.displaySize[0]*d,w=e[1]-n.displaySize[1]*p;return{image:n,top:w,bottom:w+n.displaySize[1],left:m,right:m+n.displaySize[0]}}function If(n,e,i,d,p,m){const w=n.image;let P;if(w.content){const ht=w.content,Rt=w.pixelRatio||1;P=[ht[0]/Rt,ht[1]/Rt,w.displaySize[0]-ht[2]/Rt,w.displaySize[1]-ht[3]/Rt]}const k=e.left*m,N=e.right*m;let Z,q,ce,xe;"width"===i||"both"===i?(xe=p[0]+k-d[3],q=p[0]+N+d[1]):(xe=p[0]+(k+N-w.displaySize[0])/2,q=xe+w.displaySize[0]);const Ee=e.top*m,He=e.bottom*m;return"height"===i||"both"===i?(Z=p[1]+Ee-d[0],ce=p[1]+He+d[2]):(Z=p[1]+(Ee+He-w.displaySize[1])/2,ce=Z+w.displaySize[1]),{image:w,top:Z,right:q,bottom:ce,left:xe,collisionPadding:P}}class _ extends ge{constructor(e,i,d,p,m){super(e,i),this.angle=p,this.z=d,void 0!==m&&(this.segment=m)}clone(){return new _(this.x,this.y,this.z,this.angle,this.segment)}}function b(n,e,i,d,p){if(void 0===e.segment)return!0;let m=e,w=e.segment+1,P=0;for(;P>-i/2;){if(w--,w<0)return!1;P-=n[w].dist(m),m=n[w]}P+=n[w].dist(n[w+1]),w++;const k=[];let N=0;for(;P<i/2;){const Z=n[w],q=n[w+1];if(!q)return!1;let ce=n[w-1].angleTo(Z)-Z.angleTo(q);for(ce=Math.abs((ce+3*Math.PI)%(2*Math.PI)-Math.PI),k.push({distance:P,angleDelta:ce}),N+=ce;P-k[0].distance>d;)N-=k.shift().angleDelta;if(N>p)return!1;w++,P+=Z.dist(q)}return!0}function h(n){let e=0;for(let i=0;i<n.length-1;i++)e+=n[i].dist(n[i+1]);return e}function M(n,e,i){return n?.6*e*i:0}function R(n,e){return Math.max(n?n.right-n.left:0,e?e.right-e.left:0)}function se(n,e,i,d,p,m){const w=M(i,p,m),P=R(i,d)*m;let k=0;const N=h(n)/2;for(let Z=0;Z<n.length-1;Z++){const q=n[Z],ce=n[Z+1],xe=q.dist(ce);if(k+xe>N){const Ee=(N-k)/xe,He=nr(q.x,ce.x,Ee),ht=nr(q.y,ce.y,Ee),Rt=new _(He,ht,0,ce.angleTo(q),Z);return!w||b(n,Rt,P,w,e)?Rt:void 0}k+=xe}}function qe(n,e,i,d,p,m,w,P,k){const N=M(d,m,w),Z=R(d,p),q=Z*w,ce=0===n[0].x||n[0].x===k||0===n[0].y||n[0].y===k;return e-q<e/4&&(e=q+e/4),Ct(n,ce?e/2*P%e:(Z/2+2*m)*w*P%e,e,N,i,q,ce,!1,k)}function Ct(n,e,i,d,p,m,w,P,k){const N=m/2,Z=h(n);let q=0,ce=e-i,xe=[];for(let Ee=0;Ee<n.length-1;Ee++){const He=n[Ee],ht=n[Ee+1],Rt=He.dist(ht),tn=ht.angleTo(He);for(;ce+i<q+Rt;){ce+=i;const Ft=(ce-q)/Rt,Qt=nr(He.x,ht.x,Ft),pn=nr(He.y,ht.y,Ft);if(Qt>=0&&Qt<k&&pn>=0&&pn<k&&ce-N>=0&&ce+N<=Z){const un=new _(Qt,pn,0,tn,Ee);un._round(),d&&!b(n,un,m,d,p)||xe.push(un)}}q+=Rt}return P||xe.length||w||(xe=Ct(n,q/2,i,d,p,m,w,!0,k)),xe}function qt(n,e,i,d,p){const m=[];for(let w=0;w<n.length;w++){const P=n[w];let k;for(let N=0;N<P.length-1;N++){let Z=P[N],q=P[N+1];Z.x<e&&q.x<e||(Z.x<e?Z=new ge(e,Z.y+(e-Z.x)/(q.x-Z.x)*(q.y-Z.y))._round():q.x<e&&(q=new ge(e,Z.y+(e-Z.x)/(q.x-Z.x)*(q.y-Z.y))._round()),Z.y<i&&q.y<i||(Z.y<i?Z=new ge(Z.x+(i-Z.y)/(q.y-Z.y)*(q.x-Z.x),i)._round():q.y<i&&(q=new ge(Z.x+(i-Z.y)/(q.y-Z.y)*(q.x-Z.x),i)._round()),Z.x>=d&&q.x>=d||(Z.x>=d?Z=new ge(d,Z.y+(d-Z.x)/(q.x-Z.x)*(q.y-Z.y))._round():q.x>=d&&(q=new ge(d,Z.y+(d-Z.x)/(q.x-Z.x)*(q.y-Z.y))._round()),Z.y>=p&&q.y>=p||(Z.y>=p?Z=new ge(Z.x+(p-Z.y)/(q.y-Z.y)*(q.x-Z.x),p)._round():q.y>=p&&(q=new ge(Z.x+(p-Z.y)/(q.y-Z.y)*(q.x-Z.x),p)._round()),k&&Z.equals(k[k.length-1])||(k=[Z],m.push(k)),k.push(q)))))}}return m}Vi(_,"Anchor");const In=1e20;function bi(n,e,i,d,p,m,w,P,k){for(let N=e;N<e+d;N++)Oi(n,i*m+N,m,p,w,P,k);for(let N=i;N<i+p;N++)Oi(n,N*m+e,1,d,w,P,k)}function Oi(n,e,i,d,p,m,w){m[0]=0,w[0]=-In,w[1]=In,p[0]=n[e];for(let P=1,k=0,N=0;P<d;P++){p[P]=n[e+P*i];const Z=P*P;do{const q=m[k];N=(p[P]-p[q]+Z-q*q)/(P-q)/2}while(N<=w[k]&&--k>-1);k++,m[k]=P,w[k]=N,w[k+1]=In}for(let P=0,k=0;P<d;P++){for(;w[k+1]<P;)k++;const N=m[k],Z=P-N;n[e+P*i]=p[N]+Z*Z}}const ro=2,go={none:0,ideographs:1,all:2};class Gi{constructor(e,i,d){this.requestManager=e,this.localGlyphMode=i,this.localFontFamily=d,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,i){const d=[];for(const p in e)for(const m of e[p])d.push({stack:p,id:m});an(d,({stack:p,id:m},w)=>{let P=this.entries[p];P||(P=this.entries[p]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let k=P.glyphs[m];if(void 0!==k)return void w(null,{stack:p,id:m,glyph:k});if(k=this._tinySDF(P,p,m),k)return P.glyphs[m]=k,void w(null,{stack:p,id:m,glyph:k});const N=Math.floor(m/256);if(256*N>65535)return void w(new Error("glyphs > 65535 not supported"));if(P.ranges[N])return void w(null,{stack:p,id:m,glyph:k});let Z=P.requests[N];Z||(Z=P.requests[N]=[],Gi.loadGlyphRange(p,N,this.url,this.requestManager,(q,ce)=>{if(ce){P.ascender=ce.ascender,P.descender=ce.descender;for(const xe in ce.glyphs)this._doesCharSupportLocalGlyph(+xe)||(P.glyphs[+xe]=ce.glyphs[+xe]);P.ranges[N]=!0}for(const xe of Z)xe(q,ce);delete P.requests[N]})),Z.push((q,ce)=>{q?w(q):ce&&w(null,{stack:p,id:m,glyph:ce.glyphs[m]||null})})},(p,m)=>{if(p)i(p);else if(m){const w={};for(const{stack:P,id:k,glyph:N}of m)void 0===w[P]&&(w[P]={}),void 0===w[P].glyphs&&(w[P].glyphs={}),w[P].glyphs[k]=N&&{id:N.id,bitmap:N.bitmap.clone(),metrics:N.metrics},w[P].ascender=this.entries[P].ascender,w[P].descender=this.entries[P].descender;i(null,w)}})}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==go.none&&(this.localGlyphMode===go.all?!!this.localFontFamily:!!this.localFontFamily&&(ne["CJK Unified Ideographs"](e)||ne["Hangul Syllables"](e)||ne.Hiragana(e)||ne.Katakana(e)||ne["CJK Symbols and Punctuation"](e)))}_tinySDF(e,i,d){const p=this.localFontFamily;if(!p||!this._doesCharSupportLocalGlyph(d))return;let m=e.tinySDF;if(!m){let He="400";/bold/i.test(i)?He="900":/medium/i.test(i)?He="500":/light/i.test(i)&&(He="200"),m=e.tinySDF=new Gi.TinySDF({fontFamily:p,fontWeight:He,fontSize:24*ro,buffer:3*ro,radius:8*ro}),m.fontWeight=He}if(this.localGlyphs[m.fontWeight][d])return this.localGlyphs[m.fontWeight][d];const w=String.fromCharCode(d),{data:P,width:k,height:N,glyphWidth:Z,glyphHeight:q,glyphLeft:ce,glyphTop:xe,glyphAdvance:Ee}=m.draw(w);return this.localGlyphs[m.fontWeight][d]={id:d,bitmap:new lr({width:k,height:N},P),metrics:{width:Z/ro,height:q/ro,left:ce/ro,top:xe/ro-27,advance:Ee/ro,localGlyph:!0}}}}Gi.loadGlyphRange=function(n,e,i,d,p){const m=256*e,w=m+255,P=d.transformRequest(d.normalizeGlyphsURL(i).replace("{fontstack}",n).replace("{range}",`${m}-${w}`),yo.Glyphs);no(P,(k,N)=>{if(k)p(k);else if(N){const Z={},q=new Ug(N).readFields(jm,{});for(const ce of q.glyphs)Z[ce.id]=ce;p(null,{glyphs:Z,ascender:q.ascender,descender:q.descender})}})},Gi.TinySDF=class{constructor({fontSize:n=24,buffer:e=3,radius:i=8,cutoff:d=.25,fontFamily:p="sans-serif",fontWeight:m="normal",fontStyle:w="normal"}={}){this.buffer=e,this.cutoff=d,this.radius=i;const P=this.size=n+4*e,k=this._createCanvas(P),N=this.ctx=k.getContext("2d",{willReadFrequently:!0});N.font=`${w} ${m} ${n}px ${p}`,N.textBaseline="alphabetic",N.textAlign="left",N.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(n){const e=document.createElement("canvas");return e.width=e.height=n,e}draw(n){const{width:e,actualBoundingBoxAscent:i,actualBoundingBoxDescent:d,actualBoundingBoxLeft:p,actualBoundingBoxRight:m}=this.ctx.measureText(n),w=Math.ceil(i),P=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(m-p))),k=Math.min(this.size-this.buffer,w+Math.ceil(d)),N=P+2*this.buffer,Z=k+2*this.buffer,q=Math.max(N*Z,0),ce=new Uint8ClampedArray(q),xe={data:ce,width:N,height:Z,glyphWidth:P,glyphHeight:k,glyphTop:w,glyphLeft:0,glyphAdvance:e};if(0===P||0===k)return xe;const{ctx:Ee,buffer:He,gridInner:ht,gridOuter:Rt}=this;Ee.clearRect(He,He,P,k),Ee.fillText(n,He,He+w);const tn=Ee.getImageData(He,He,P,k);Rt.fill(In,0,q),ht.fill(0,0,q);for(let Ft=0;Ft<k;Ft++)for(let Qt=0;Qt<P;Qt++){const pn=tn.data[4*(Ft*P+Qt)+3]/255;if(0===pn)continue;const un=(Ft+He)*N+Qt+He;if(1===pn)Rt[un]=0,ht[un]=In;else{const Hn=.5-pn;Rt[un]=Hn>0?Hn*Hn:0,ht[un]=Hn<0?Hn*Hn:0}}bi(Rt,0,0,N,Z,N,this.f,this.v,this.z),bi(ht,He,He,P,k,N,this.f,this.v,this.z);for(let Ft=0;Ft<q;Ft++){const Qt=Math.sqrt(Rt[Ft])-Math.sqrt(ht[Ft]);ce[Ft]=Math.round(255-255*(Qt/this.radius+this.cutoff))}return xe}};const wo=$a;function Qr(n,e,i,d){const p=[],m=n.image,w=m.pixelRatio,P=m.paddedRect.w-2*wo,k=m.paddedRect.h-2*wo,N=n.right-n.left,Z=n.bottom-n.top,q=m.stretchX||[[0,P]],ce=m.stretchY||[[0,k]],xe=($n,di)=>$n+di[1]-di[0],Ee=q.reduce(xe,0),He=ce.reduce(xe,0),ht=P-Ee,Rt=k-He;let tn=0,Ft=Ee,Qt=0,pn=He,un=0,Hn=ht,Ln=0,ri=Rt;if(m.content&&d){const $n=m.content;tn=Qs(q,0,$n[0]),Qt=Qs(ce,0,$n[1]),Ft=Qs(q,$n[0],$n[2]),pn=Qs(ce,$n[1],$n[3]),un=$n[0]-tn,Ln=$n[1]-Qt,Hn=$n[2]-$n[0]-Ft,ri=$n[3]-$n[1]-pn}const wi=($n,di,li,fi)=>{const Pi=wa($n.stretch-tn,Ft,N,n.left),ii=Za($n.fixed-un,Hn,$n.stretch,Ee),ji=wa(di.stretch-Qt,pn,Z,n.top),Xi=Za(di.fixed-Ln,ri,di.stretch,He),$i=wa(li.stretch-tn,Ft,N,n.left),Bo=Za(li.fixed-un,Hn,li.stretch,Ee),Ti=wa(fi.stretch-Qt,pn,Z,n.top),co=Za(fi.fixed-Ln,ri,fi.stretch,He),Uo=new ge(Pi,ji),Wr=new ge($i,ji),zo=new ge($i,Ti),Co=new ge(Pi,Ti),ks=new ge(ii/w,Xi/w),Fo=new ge(Bo/w,co/w),Zo=e*Math.PI/180;if(Zo){const xs=Math.sin(Zo),Ar=Math.cos(Zo),Os=[Ar,-xs,xs,Ar];Uo._matMult(Os),Wr._matMult(Os),Co._matMult(Os),zo._matMult(Os)}const _s=$n.stretch+$n.fixed,hs=di.stretch+di.fixed;return{tl:Uo,tr:Wr,bl:Co,br:zo,tex:{x:m.paddedRect.x+wo+_s,y:m.paddedRect.y+wo+hs,w:li.stretch+li.fixed-_s,h:fi.stretch+fi.fixed-hs},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ks,pixelOffsetBR:Fo,minFontScaleX:Hn/w/N,minFontScaleY:ri/w/Z,isSDF:i}};if(d&&(m.stretchX||m.stretchY)){const $n=js(q,ht,Ee),di=js(ce,Rt,He);for(let li=0;li<$n.length-1;li++){const fi=$n[li],Pi=$n[li+1];for(let ii=0;ii<di.length-1;ii++)p.push(wi(fi,di[ii],Pi,di[ii+1]))}}else p.push(wi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:P+1},{fixed:0,stretch:k+1}));return p}function Qs(n,e,i){let d=0;for(const p of n)d+=Math.max(e,Math.min(i,p[1]))-Math.max(e,Math.min(i,p[0]));return d}function js(n,e,i){const d=[{fixed:-wo,stretch:0}];for(const[p,m]of n){const w=d[d.length-1];d.push({fixed:p-w.stretch,stretch:w.stretch}),d.push({fixed:p-w.stretch,stretch:w.stretch+(m-p)})}return d.push({fixed:e+wo,stretch:i}),d}function wa(n,e,i,d){return n/e*i+d}function Za(n,e,i,d){return n-e*i/d}function Tp(n,e,i,d){const p=e+n.positionedLines[d].lineOffset;return 0===d?i+p/2:i+(p+(e+n.positionedLines[d-1].lineOffset))/2}class Wd{constructor(e=[],i=El){if(this.data=e,this.length=this.data.length,this.compare=i,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:i,compare:d}=this,p=i[e];for(;e>0;){const m=e-1>>1,w=i[m];if(d(p,w)>=0)break;i[e]=w,e=m}i[e]=p}_down(e){const{data:i,compare:d}=this,p=this.length>>1,m=i[e];for(;e<p;){let w=1+(e<<1),P=i[w];const k=w+1;if(k<this.length&&d(i[k],P)<0&&(w=k,P=i[k]),d(P,m)>=0)break;i[e]=P,e=w}i[e]=m}}function El(n,e){return n<e?-1:n>e?1:0}function bl(n,e=1,i=!1){let d=1/0,p=1/0,m=-1/0,w=-1/0;const P=n[0];for(let xe=0;xe<P.length;xe++){const Ee=P[xe];(!xe||Ee.x<d)&&(d=Ee.x),(!xe||Ee.y<p)&&(p=Ee.y),(!xe||Ee.x>m)&&(m=Ee.x),(!xe||Ee.y>w)&&(w=Ee.y)}const k=Math.min(m-d,w-p);let N=k/2;const Z=new Wd([],Kd);if(0===k)return new ge(d,p);for(let xe=d;xe<m;xe+=k)for(let Ee=p;Ee<w;Ee+=k)Z.push(new Ec(xe+N,Ee+N,N,n));let q=function(xe){let Ee=0,He=0,ht=0;const Rt=xe[0];for(let tn=0,Ft=Rt.length,Qt=Ft-1;tn<Ft;Qt=tn++){const pn=Rt[tn],un=Rt[Qt],Hn=pn.x*un.y-un.x*pn.y;He+=(pn.x+un.x)*Hn,ht+=(pn.y+un.y)*Hn,Ee+=3*Hn}return new Ec(He/Ee,ht/Ee,0,xe)}(n),ce=Z.length;for(;Z.length;){const xe=Z.pop();(xe.d>q.d||!q.d)&&(q=xe,i&&console.log("found best %d after %d probes",Math.round(1e4*xe.d)/1e4,ce)),xe.max-q.d<=e||(N=xe.h/2,Z.push(new Ec(xe.p.x-N,xe.p.y-N,N,n)),Z.push(new Ec(xe.p.x+N,xe.p.y-N,N,n)),Z.push(new Ec(xe.p.x-N,xe.p.y+N,N,n)),Z.push(new Ec(xe.p.x+N,xe.p.y+N,N,n)),ce+=4)}return i&&(console.log(`num probes: ${ce}`),console.log(`best distance: ${q.d}`)),q.p}function Kd(n,e){return e.max-n.max}class Ec{constructor(e,i,d,p){this.p=new ge(e,i),this.h=d,this.d=function(m,w){let P=!1,k=1/0;for(let N=0;N<w.length;N++){const Z=w[N];for(let q=0,ce=Z.length,xe=ce-1;q<ce;xe=q++){const Ee=Z[q],He=Z[xe];Ee.y>m.y!=He.y>m.y&&m.x<(He.x-Ee.x)*(m.y-Ee.y)/(He.y-Ee.y)+Ee.x&&(P=!P),k=Math.min(k,W(m,Ee,He))}}return(P?1:-1)*Math.sqrt(k)}(this.p,p),this.max=this.d+this.h*Math.SQRT2}}const Sp=7,ea=Number.POSITIVE_INFINITY,Ah=Math.sqrt(2);function lg(n,[e,i]){let d=0,p=0;if(i===ea){e<0&&(e=0);const m=e/Ah;switch(n){case"top-right":case"top-left":p=m-Sp;break;case"bottom-right":case"bottom-left":p=-m+Sp;break;case"bottom":p=-e+Sp;break;case"top":p=e-Sp}switch(n){case"top-right":case"bottom-right":d=-m;break;case"top-left":case"bottom-left":d=m;break;case"left":d=e;break;case"right":d=-e}}else{switch(e=Math.abs(e),i=Math.abs(i),n){case"top-right":case"top-left":case"top":p=i-Sp;break;case"bottom-right":case"bottom-left":case"bottom":p=-i+Sp}switch(n){case"top-right":case"bottom-right":case"right":d=-e;break;case"top-left":case"bottom-left":case"left":d=e}}return[d,p]}function hm(n,e,i,d,p,m,w,P,k,N){n.createArrays(),n.tilePixelRatio=oo/(512*n.overscaling),n.compareText={},n.iconsNeedLinear=!1;const Z=n.layers[0].layout,q=n.layers[0]._unevaluatedLayout._values,ce={};if("composite"===n.textSizeData.kind){const{minZoom:He,maxZoom:ht}=n.textSizeData;ce.compositeTextSizes=[q["text-size"].possiblyEvaluate(new Y(He),P),q["text-size"].possiblyEvaluate(new Y(ht),P)]}if("composite"===n.iconSizeData.kind){const{minZoom:He,maxZoom:ht}=n.iconSizeData;ce.compositeIconSizes=[q["icon-size"].possiblyEvaluate(new Y(He),P),q["icon-size"].possiblyEvaluate(new Y(ht),P)]}ce.layoutTextSize=q["text-size"].possiblyEvaluate(new Y(k+1),P),ce.layoutIconSize=q["icon-size"].possiblyEvaluate(new Y(k+1),P),ce.textMaxSize=q["text-size"].possiblyEvaluate(new Y(18),P);const xe="map"===Z.get("text-rotation-alignment")&&"point"!==Z.get("symbol-placement"),Ee=Z.get("text-size");for(const He of n.features){const ht=Z.get("text-font").evaluate(He,{},P).join(","),Rt=Ee.evaluate(He,{},P),tn=ce.layoutTextSize.evaluate(He,{},P),Ft=(ce.layoutIconSize.evaluate(He,{},P),{horizontal:{},vertical:void 0}),Qt=He.text;let pn,un=[0,0];if(Qt){const ri=Qt.toString(),wi=Z.get("text-letter-spacing").evaluate(He,{},P)*Ca,$n=Z.get("text-line-height").evaluate(He,{},P)*Ca,di=Xt(ri)?wi:0,li=Z.get("text-anchor").evaluate(He,{},P),fi=Z.get("text-variable-anchor");if(!fi){const $i=Z.get("text-radial-offset").evaluate(He,{},P);un=$i?lg(li,[$i*Ca,ea]):Z.get("text-offset").evaluate(He,{},P).map(Bo=>Bo*Ca)}let Pi=xe?"center":Z.get("text-justify").evaluate(He,{},P);const ii="point"===Z.get("symbol-placement"),ji=ii?Z.get("text-max-width").evaluate(He,{},P)*Ca:1/0,Xi=$i=>{n.allowVerticalPlacement&&dt(ri)&&(Ft.vertical=jg(Qt,e,i,p,ht,ji,$n,li,$i,di,un,hc.vertical,!0,tn,Rt))};if(!xe&&fi){const $i="auto"===Pi?fi.map(Ti=>fo(Ti)):[Pi];let Bo=!1;for(let Ti=0;Ti<$i.length;Ti++){const co=$i[Ti];if(!Ft.horizontal[co])if(Bo)Ft.horizontal[co]=Ft.horizontal[0];else{const Uo=jg(Qt,e,i,p,ht,ji,$n,"center",co,di,un,hc.horizontal,!1,tn,Rt);Uo&&(Ft.horizontal[co]=Uo,Bo=1===Uo.positionedLines.length)}}Xi("left")}else{if("auto"===Pi&&(Pi=fo(li)),ii||Z.get("text-writing-mode").indexOf("horizontal")>=0||!dt(ri)){const $i=jg(Qt,e,i,p,ht,ji,$n,li,Pi,di,un,hc.horizontal,!1,tn,Rt);$i&&(Ft.horizontal[Pi]=$i)}Xi(ii?"left":Pi)}}let Hn=!1;if(He.icon&&He.icon.name){const ri=d[He.icon.name];ri&&(pn=um(p[He.icon.name],Z.get("icon-offset").evaluate(He,{},P),Z.get("icon-anchor").evaluate(He,{},P)),Hn=ri.sdf,void 0===n.sdfIcons?n.sdfIcons=ri.sdf:n.sdfIcons!==ri.sdf&&Cn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ri.pixelRatio!==n.pixelRatio||0!==Z.get("icon-rotate").constantOr(1))&&(n.iconsNeedLinear=!0))}const Ln=id(Ft.horizontal)||Ft.vertical;n.iconsInText||(n.iconsInText=!!Ln&&Ln.iconsInText),(Ln||pn)&&Ao(n,He,Ft,pn,d,ce,tn,0,un,Hn,w,P,N)}m&&n.generateCollisionDebugBuffers(k,n.collisionBoxArray)}function fo(n){switch(n){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Ao(n,e,i,d,p,m,w,P,k,N,Z,q,ce){let xe=m.textMaxSize.evaluate(e,{},q);void 0===xe&&(xe=w);const Ee=n.layers[0].layout,He=Ee.get("icon-offset").evaluate(e,{},q),ht=id(i.horizontal)||i.vertical,Rt="globe"===ce.name,tn=Ca,Ft=w/tn,Qt=n.tilePixelRatio*xe/tn,pn=(li=n.overscaling,n.zoom>18&&li>2&&(li>>=1),Math.max(oo/(512*li),1)*Ee.get("symbol-spacing")),un=Ee.get("text-padding")*n.tilePixelRatio,Hn=Ee.get("icon-padding")*n.tilePixelRatio,Ln=Be(Ee.get("text-max-angle")),ri="map"===Ee.get("text-rotation-alignment")&&"point"!==Ee.get("symbol-placement"),wi="map"===Ee.get("icon-rotation-alignment")&&"point"!==Ee.get("symbol-placement"),$n=Ee.get("symbol-placement"),di=pn/2;var li;const fi=Ee.get("icon-text-fit");let Pi;d&&"none"!==fi&&(n.allowVerticalPlacement&&i.vertical&&(Pi=If(d,i.vertical,fi,Ee.get("icon-text-fit-padding"),He,Ft)),ht&&(d=If(d,ht,fi,Ee.get("icon-text-fit-padding"),He,Ft)));const ii=(ji,Xi,$i)=>{if(Xi.x<0||Xi.x>=oo||Xi.y<0||Xi.y>=oo)return;let Bo=null;if(Rt){const{x:Ti,y:co,z:Uo}=ce.projectTilePoint(Xi.x,Xi.y,$i);Bo={anchor:new _(Ti,co,Uo,0,void 0),up:ce.upVector($i,Xi.x,Xi.y)}}!function(Ti,co,Uo,Wr,zo,Co,ks,Fo,Zo,_s,hs,xs,Ar,Os,Fr,Rs,es,ps,ha,Ps,Pr,Vs,Yr,al,Gs){const xa=Ti.addToLineVertexArray(co,Wr);let pa,ll,Wa,Jd,ug,Yg,qg,u_=0,h_=0,p_=0,g_=0,Vf=-1,f_=-1;const Fh={};let B0=ih("");const hg=Uo?Uo.anchor:co;let m_=0,n0=0;if(void 0===Zo._unevaluatedLayout.getValue("text-radial-offset")?[m_,n0]=Zo.layout.get("text-offset").evaluate(Pr,{},Gs).map(rd=>rd*Ca):(m_=Zo.layout.get("text-radial-offset").evaluate(Pr,{},Gs)*Ca,n0=ea),Ti.allowVerticalPlacement&&zo.vertical){const rd=zo.vertical;if(Fr)Yg=Yd(rd),Fo&&(qg=Yd(Fo));else{const sd=Zo.layout.get("text-rotate").evaluate(Pr,{},Gs)+90;Wa=Il(_s,hg,co,hs,xs,Ar,rd,Os,sd,Rs),Fo&&(Jd=Il(_s,hg,co,hs,xs,Ar,Fo,ps,sd))}}if(Co){const rd=Zo.layout.get("icon-rotate").evaluate(Pr,{},Gs),sd="none"!==Zo.layout.get("icon-text-fit"),pg=Qr(Co,rd,Yr,sd),gg=Fo?Qr(Fo,rd,Yr,sd):void 0;ll=Il(_s,hg,co,hs,xs,Ar,Co,ps,rd),u_=4*pg.length;const Om=Ti.iconSizeData;let nh=null;"source"===Om.kind?(nh=[uc*Zo.layout.get("icon-size").evaluate(Pr,{},Gs)],nh[0]>Cr&&Cn(`${Ti.layerIds[0]}: Value for "icon-size" is >= ${Lo}. Reduce your "icon-size".`)):"composite"===Om.kind&&(nh=[uc*Vs.compositeIconSizes[0].evaluate(Pr,{},Gs),uc*Vs.compositeIconSizes[1].evaluate(Pr,{},Gs)],(nh[0]>Cr||nh[1]>Cr)&&Cn(`${Ti.layerIds[0]}: Value for "icon-size" is >= ${Lo}. Reduce your "icon-size".`)),Ti.addSymbols(Ti.icon,pg,nh,Ps,ha,Pr,!1,Uo,co,xa.lineStartIndex,xa.lineLength,-1,al,Gs),Vf=Ti.icon.placedSymbolArray.length-1,gg&&(h_=4*gg.length,Ti.addSymbols(Ti.icon,gg,nh,Ps,ha,Pr,hc.vertical,Uo,co,xa.lineStartIndex,xa.lineLength,-1,al,Gs),f_=Ti.icon.placedSymbolArray.length-1)}for(const rd in zo.horizontal){const sd=zo.horizontal[rd];pa||(B0=ih(sd.text),Fr?ug=Yd(sd):pa=Il(_s,hg,co,hs,xs,Ar,sd,Os,Zo.layout.get("text-rotate").evaluate(Pr,{},Gs),Rs));const pg=1===sd.positionedLines.length;if(p_+=sl(Ti,Uo,co,sd,ks,Zo,Fr,Pr,Rs,xa,zo.vertical?hc.horizontal:hc.horizontalOnly,pg?Object.keys(zo.horizontal):[rd],Fh,Vf,Vs,al,Gs),pg)break}zo.vertical&&(g_+=sl(Ti,Uo,co,zo.vertical,ks,Zo,Fr,Pr,Rs,xa,hc.vertical,["vertical"],Fh,f_,Vs,al,Gs));let kp=-1;const o0=(rd,sd)=>rd?Math.max(rd,sd):sd;kp=o0(ug,kp),kp=o0(Yg,kp),kp=o0(qg,kp);const z0=kp>-1?1:0;Ti.glyphOffsetArray.length>=Rh.MAX_GLYPHS&&Cn("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Pr.sortKey&&Ti.addToSortKeyRanges(Ti.symbolInstances.length,Pr.sortKey),Ti.symbolInstances.emplaceBack(hg.x,hg.y,hg.z,co.x,co.y,Fh.right>=0?Fh.right:-1,Fh.center>=0?Fh.center:-1,Fh.left>=0?Fh.left:-1,Fh.vertical>=0?Fh.vertical:-1,Vf,f_,B0,void 0!==pa?pa:Ti.collisionBoxArray.length,void 0!==pa?pa+1:Ti.collisionBoxArray.length,void 0!==Wa?Wa:Ti.collisionBoxArray.length,void 0!==Wa?Wa+1:Ti.collisionBoxArray.length,void 0!==ll?ll:Ti.collisionBoxArray.length,void 0!==ll?ll+1:Ti.collisionBoxArray.length,Jd||Ti.collisionBoxArray.length,Jd?Jd+1:Ti.collisionBoxArray.length,hs,p_,g_,u_,h_,z0,0,m_,n0,kp)}(n,Xi,Bo,ji,i,d,p,Pi,n.layers[0],n.collisionBoxArray,e.index,e.sourceLayerIndex,n.index,un,ri,k,0,Hn,wi,He,e,m,N,Z,q)};if("line"===$n)for(const ji of qt(e.geometry,0,0,oo,oo)){const Xi=qe(ji,pn,Ln,i.vertical||ht,d,tn,Qt,n.overscaling,oo);for(const $i of Xi)ht&&ta(n,ht.text,di,$i)||ii(ji,$i,q)}else if("line-center"===$n){for(const ji of e.geometry)if(ji.length>1){const Xi=se(ji,Ln,i.vertical||ht,d,tn,Qt);Xi&&ii(ji,Xi,q)}}else if("Polygon"===e.type)for(const ji of dc(e.geometry,0)){const Xi=bl(ji,16);ii(ji[0],new _(Xi.x,Xi.y,0,0,void 0),q)}else if("LineString"===e.type)for(const ji of e.geometry)ii(ji,new _(ji[0].x,ji[0].y,0,0,void 0),q);else if("Point"===e.type)for(const ji of e.geometry)for(const Xi of ji)ii([Xi],new _(Xi.x,Xi.y,0,0,void 0),q)}const Lo=255,Cr=Lo*uc;function sl(n,e,i,d,p,m,w,P,k,N,Z,q,ce,xe,Ee,He,ht){const Rt=function(Qt,pn,un,Hn,Ln,ri,wi,$n){const di=[];if(0===pn.positionedLines.length)return di;const li=Hn.layout.get("text-rotate").evaluate(ri,{})*Math.PI/180,fi=function($i){const Bo=$i[0],Ti=$i[1],co=Bo*Ti;return co>0?[Bo,-Ti]:co<0?[-Bo,Ti]:0===Bo?[Ti,Bo]:[Ti,-Bo]}(un);let Pi=Math.abs(pn.top-pn.bottom);for(const $i of pn.positionedLines)Pi-=$i.lineOffset;const ii=pn.positionedLines.length,ji=Pi/ii;let Xi=pn.top-un[1];for(let $i=0;$i<ii;++$i){const Bo=pn.positionedLines[$i];Xi=Tp(pn,ji,Xi,$i);for(const Ti of Bo.positionedGlyphs){if(!Ti.rect)continue;const co=Ti.rect||{};let Uo=dm+1,Wr=!0,zo=1,Co=0;if(Ti.imageName){const Yr=wi[Ti.imageName];if(!Yr)continue;if(Yr.sdf){Cn("SDF images are not supported in formatted text and will be ignored.");continue}Wr=!1,zo=Yr.pixelRatio,Uo=$a/zo}const ks=(Ln||$n)&&Ti.vertical,Fo=Ti.metrics.advance*Ti.scale/2,Zo=Ti.metrics,_s=Ti.rect;if(null===_s)continue;$n&&pn.verticalizable&&(Co=Ti.imageName?Fo-Ti.metrics.width*Ti.scale/2:0);const hs=Ln?[Ti.x+Fo,Ti.y]:[0,0];let xs=[0,0],Ar=[0,0],Os=!1;Ln||(ks?(Ar=[Ti.x+Fo+fi[0],Ti.y+fi[1]-Co],Os=!0):xs=[Ti.x+Fo+un[0],Ti.y+un[1]-Co]);const Fr=_s.w*Ti.scale/(zo*(Ti.localGlyph?ro:1)),Rs=_s.h*Ti.scale/(zo*(Ti.localGlyph?ro:1));let es,ps,ha,Ps;if(ks){const Yr=Ti.y-Xi,al=new ge(-Fo,Fo-Yr),Gs=-Math.PI/2,xa=new ge(...Ar);es=new ge(-Fo+xs[0],xs[1]),es._rotateAround(Gs,al)._add(xa),es.x+=-Yr+Fo,es.y-=(Zo.left-Uo)*Ti.scale;const pa=Ti.imageName?Zo.advance*Ti.scale:Ca*Ti.scale,ll=String.fromCharCode(Ti.glyph);im(ll)?es.x+=(1-Uo)*Ti.scale:Ng(ll)?es.x+=pa-Zo.height*Ti.scale+(-Uo-1)*Ti.scale:es.x+=Ti.imageName||Zo.width+2*Uo===_s.w&&Zo.height+2*Uo===_s.h?(pa-Rs)/2:(pa-(Zo.height+2*Uo)*Ti.scale)/2,ps=new ge(es.x,es.y-Fr),ha=new ge(es.x+Rs,es.y),Ps=new ge(es.x+Rs,es.y-Fr)}else{const Yr=(Zo.left-Uo)*Ti.scale-Fo+xs[0],al=(-Zo.top-Uo)*Ti.scale+xs[1],Gs=Yr+Fr,xa=al+Rs;es=new ge(Yr,al),ps=new ge(Gs,al),ha=new ge(Yr,xa),Ps=new ge(Gs,xa)}if(li){let Yr;Yr=Ln?new ge(0,0):Os?new ge(fi[0],fi[1]):new ge(un[0],un[1]),es._rotateAround(li,Yr),ps._rotateAround(li,Yr),ha._rotateAround(li,Yr),Ps._rotateAround(li,Yr)}const Pr=new ge(0,0),Vs=new ge(0,0);di.push({tl:es,tr:ps,bl:ha,br:Ps,tex:co,writingMode:pn.writingMode,glyphOffset:hs,sectionIndex:Ti.sectionIndex,isSDF:Wr,pixelOffsetTL:Pr,pixelOffsetBR:Vs,minFontScaleX:0,minFontScaleY:0})}}return di}(0,d,k,m,w,P,p,n.allowVerticalPlacement),tn=n.textSizeData;let Ft=null;"source"===tn.kind?(Ft=[uc*m.layout.get("text-size").evaluate(P,{},ht)],Ft[0]>Cr&&Cn(`${n.layerIds[0]}: Value for "text-size" is >= ${Lo}. Reduce your "text-size".`)):"composite"===tn.kind&&(Ft=[uc*Ee.compositeTextSizes[0].evaluate(P,{},ht),uc*Ee.compositeTextSizes[1].evaluate(P,{},ht)],(Ft[0]>Cr||Ft[1]>Cr)&&Cn(`${n.layerIds[0]}: Value for "text-size" is >= ${Lo}. Reduce your "text-size".`)),n.addSymbols(n.text,Rt,Ft,k,w,P,Z,e,i,N.lineStartIndex,N.lineLength,xe,He,ht);for(const Qt of q)ce[Qt]=n.text.placedSymbolArray.length-1;return 4*Rt.length}function id(n){for(const e in n)return n[e];return null}function Il(n,e,i,d,p,m,w,P,k,N){let Z=w.top,q=w.bottom,ce=w.left,xe=w.right;const Ee=w.collisionPadding;if(Ee&&(ce-=Ee[0],Z-=Ee[1],xe+=Ee[2],q+=Ee[3]),k){const He=new ge(ce,Z),ht=new ge(xe,Z),Rt=new ge(ce,q),tn=new ge(xe,q),Ft=Be(k);let Qt=new ge(0,0);N&&(Qt=new ge(N[0],N[1])),He._rotateAround(Ft,Qt),ht._rotateAround(Ft,Qt),Rt._rotateAround(Ft,Qt),tn._rotateAround(Ft,Qt),ce=Math.min(He.x,ht.x,Rt.x,tn.x),xe=Math.max(He.x,ht.x,Rt.x,tn.x),Z=Math.min(He.y,ht.y,Rt.y,tn.y),q=Math.max(He.y,ht.y,Rt.y,tn.y)}return n.emplaceBack(e.x,e.y,e.z,i.x,i.y,ce,Z,xe,q,P,d,p,m),n.length-1}function Yd(n){n.collisionPadding&&(n.top-=n.collisionPadding[1],n.bottom+=n.collisionPadding[3]);const e=n.bottom-n.top;return e>0?Math.max(10,e):null}function ta(n,e,i,d){const p=n.compareText;if(e in p){const m=p[e];for(let w=m.length-1;w>=0;w--)if(d.dist(m[w])<i)return!0}else p[e]=[];return p[e].push(d),!1}function Af(n,e){const i=n.fovAboveCenter,d=n.elevation?n.elevation.getMinElevationBelowMSL()*e:0,p=(n._camera.position[2]*n.worldSize-d)/Math.cos(n._pitch),m=Math.sin(i)*p/Math.sin(Math.max(Math.PI/2-n._pitch-i,.01)),w=Math.sin(n._pitch)*m+p;return Math.min(1.01*w,p*(1/n._horizonShift))}function Ju(n,e){if(!e.isReprojectedInTileSpace)return{scale:1<<n.z,x:n.x,y:n.y,x2:n.x+1,y2:n.y+1,projection:e};const i=Math.pow(2,-n.z),d=n.x*i,p=(n.x+1)*i,m=n.y*i,w=(n.y+1)*i,P=ac(d),k=ac(p),N=Va(m),Z=Va(w),q=e.project(P,N),ce=e.project(k,N),xe=e.project(k,Z),Ee=e.project(P,Z);let He=Math.min(q.x,ce.x,xe.x,Ee.x),ht=Math.min(q.y,ce.y,xe.y,Ee.y),Rt=Math.max(q.x,ce.x,xe.x,Ee.x),tn=Math.max(q.y,ce.y,xe.y,Ee.y);const Ft=i/16;function Qt(un,Hn,Ln,ri,wi,$n){const di=(Ln+wi)/2,li=(ri+$n)/2,fi=e.project(ac(di),Va(li)),Pi=Math.max(0,He-fi.x,ht-fi.y,fi.x-Rt,fi.y-tn);He=Math.min(He,fi.x),Rt=Math.max(Rt,fi.x),ht=Math.min(ht,fi.y),tn=Math.max(tn,fi.y),Pi>Ft&&(Qt(un,fi,Ln,ri,di,li),Qt(fi,Hn,di,li,wi,$n))}Qt(q,ce,d,m,p,m),Qt(ce,xe,p,m,p,w),Qt(xe,Ee,p,w,d,w),Qt(Ee,q,d,w,d,m),He-=Ft,ht-=Ft,Rt+=Ft,tn+=Ft;const pn=1/Math.max(Rt-He,tn-ht);return{scale:pn,x:He*pn,y:ht*pn,x2:Rt*pn,y2:tn*pn,projection:e}}const Ra=Sl(new Float32Array(16));class Ma{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(e,i){return{x:0,y:0,z:0}}unproject(e,i){return new Zr(0,0)}projectTilePoint(e,i,d){return{x:e,y:i,z:0}}locationPoint(e,i,d=!0){return e._coordinatePoint(e.locationCoordinate(i),d)}pixelsPerMeter(e,i){return ed(1,e)*i}pixelSpaceConversion(e,i,d){return 1}farthestPixelDistance(e){return Af(e,e.pixelsPerMeter)}pointCoordinate(e,i,d,p){const m=e.horizonLineFromTop(!1),w=new ge(i,Math.max(m,d));return e.rayIntersectionCoordinate(e.pointRayIntersection(w,p))}pointCoordinate3D(e,i,d){const p=new ge(i,d);if(e.elevation)return e.elevation.pointCoordinate(p);{const m=this.pointCoordinate(e,p.x,p.y,0);return[m.x,m.y,m.z]}}isPointAboveHorizon(e,i){if(e.elevation)return!this.pointCoordinate3D(e,i.x,i.y);const d=e.horizonLineFromTop();return i.y<d}createInversionMatrix(e,i){return Ra}createTileMatrix(e,i,d){let p,m,w;const P=d.canonical,k=Sl(new Float64Array(16));if(this.isReprojectedInTileSpace){const N=Ju(P,this);p=1,m=N.x+d.wrap*N.scale,w=N.y,zu(k,k,[p/N.scale,p/N.scale,e.pixelsPerMeter/i])}else p=i/e.zoomScale(P.z),m=(P.x+Math.pow(2,P.z)*d.wrap)*p,w=P.y*p;return oc(k,k,[m,w,0]),zu(k,k,[p/oo,p/oo,1]),k}upVector(e,i,d){return[0,0,1]}upVectorScale(e,i,d){return{metersToTile:1}}}class Al extends Ma{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[i,d]=this.parallels=e.parallels||[29.5,45.5],p=Math.sin(Be(i));this.n=(p+Math.sin(Be(d)))/2,this.c=1+p*(2*this.n-p),this.r0=Math.sqrt(this.c)/this.n}project(e,i){const{n:d,c:p,r0:m}=this,w=Be(e-this.center[0]),P=Be(i),k=Math.sqrt(p-2*d*Math.sin(P))/d;return{x:k*Math.sin(w*d),y:k*Math.cos(w*d)-m,z:0}}unproject(e,i){const{n:d,c:p,r0:m}=this,w=m+i;let P=Math.atan2(e,Math.abs(w))*Math.sign(w);w*d<0&&(P-=Math.PI*Math.sign(e)*Math.sign(w));const k=Be(this.center[0])*d;P=Nt(P,-Math.PI-k,Math.PI-k);const N=Oe(rt(P/d)+this.center[0],-180,180),Z=Math.asin(Oe((p-(e*e+w*w)*d*d)/(2*d),-1,1)),q=Oe(rt(Z),-Xs,Xs);return new Zr(N,q)}}const Xu=1.340264,kh=-.081106,Vg=893e-6,Gg=.003796,$g=Math.sqrt(3)/2;class kf extends Ma{project(e,i){i=i/180*Math.PI,e=e/180*Math.PI;const d=Math.asin($g*Math.sin(i)),p=d*d,m=p*p*p;return{x:.5*(e*Math.cos(d)/($g*(Xu+3*kh*p+m*(7*Vg+9*Gg*p)))/Math.PI+.5),y:1-.5*(d*(Xu+kh*p+m*(Vg+Gg*p))/Math.PI+1),z:0}}unproject(e,i){e=(2*e-.5)*Math.PI;let d=i=(2*(1-i)-1)*Math.PI,p=d*d,m=p*p*p;for(let Z,q,ce,xe=0;xe<12&&(q=d*(Xu+kh*p+m*(Vg+Gg*p))-i,ce=Xu+3*kh*p+m*(7*Vg+9*Gg*p),Z=q/ce,d=Oe(d-Z,-Math.PI/3,Math.PI/3),p=d*d,m=p*p*p,!(Math.abs(Z)<1e-12));++xe);const w=$g*e*(Xu+3*kh*p+m*(7*Vg+9*Gg*p))/Math.cos(d),P=Math.asin(Math.sin(d)/$g),k=Oe(180*w/Math.PI,-180,180),N=Oe(180*P/Math.PI,-Xs,Xs);return new Zr(k,N)}}class pm extends Ma{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0}project(e,i){return{x:.5+e/360,y:.5-i/360,z:0}}unproject(e,i){const d=360*(e-.5),p=Oe(360*(.5-i),-Xs,Xs);return new Zr(d,p)}}const cg=Math.PI/2;function Rf(n){return Math.tan((cg+n)/2)}class D0 extends Ma{constructor(e){super(e),this.center=e.center||[0,30];const[i,d]=this.parallels=e.parallels||[30,30];let p=Be(i),m=Be(d);this.southernCenter=p+m<0,this.southernCenter&&(p=-p,m=-m);const w=Math.cos(p),P=Rf(p);this.n=p===m?Math.sin(p):Math.log(w/Math.cos(m))/Math.log(Rf(m)/P),this.f=w*Math.pow(Rf(p),this.n)/this.n}project(e,i){i=Be(i),this.southernCenter&&(i=-i),e=Be(e-this.center[0]);const d=1e-6,{n:p,f:m}=this;m>0?i<-cg+d&&(i=-cg+d):i>cg-d&&(i=cg-d);const w=m/Math.pow(Rf(i),p);let P=w*Math.sin(p*e),k=m-w*Math.cos(p*e);return P=.5*(P/Math.PI+.5),k=.5*(k/Math.PI+.5),{x:P,y:this.southernCenter?k:1-k,z:0}}unproject(e,i){e=(2*e-.5)*Math.PI,this.southernCenter&&(i=1-i),i=(2*(1-i)-.5)*Math.PI;const{n:d,f:p}=this,m=p-i,w=Math.sign(m),P=Math.sign(d)*Math.sqrt(e*e+m*m);let k=Math.atan2(e,Math.abs(m))*w;m*d<0&&(k-=Math.PI*Math.sign(e)*w);const N=Oe(rt(k/d)+this.center[0],-180,180),Z=Oe(rt(2*Math.atan(Math.pow(p/P,1/d))-cg),-Xs,Xs);return new Zr(N,this.southernCenter?-Z:Z)}}class F_ extends Ma{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(e,i){return{x:vl(e),y:Md(i),z:0}}unproject(e,i){const d=ac(e),p=Va(i);return new Zr(d,p)}}const B_=Be(Xs);class E0 extends Ma{project(e,i){const d=(i=Be(i))*i,p=d*d;return{x:.5*((e=Be(e))*(.8707-.131979*d+p*(p*(.003971*d-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(i*(1.007226+d*(.015085+p*(.028874*d-.044475-.005916*p)))/Math.PI+1),z:0}}unproject(e,i){e=(2*e-.5)*Math.PI;let d=i=(2*(1-i)-1)*Math.PI,p=25,m=0,w=d*d;do{w=d*d;const N=w*w;m=(d*(1.007226+w*(.015085+N*(.028874*w-.044475-.005916*N)))-i)/(1.007226+w*(.045255+N*(.259866*w-.311325-.005916*11*N))),d=Oe(d-m,-B_,B_)}while(Math.abs(m)>1e-6&&--p>0);w=d*d;const P=Oe(rt(e/(.8707+w*(w*(w*w*w*(.003971-.001529*w)-.013791)-.131979))),-180,180),k=rt(d);return new Zr(P,k)}}const Zm=Be(Xs);class G1 extends Ma{project(e,i){i=Be(i),e=Be(e);const d=Math.cos(i),p=2/Math.PI,m=Math.acos(d*Math.cos(e/2)),w=Math.sin(m)/m,P=.5*(e*p+2*d*Math.sin(e/2)/w)||0,k=.5*(i+Math.sin(i)/w)||0;return{x:.5*(P/Math.PI+.5),y:1-.5*(k/Math.PI+1),z:0}}unproject(e,i){let d=e=(2*e-.5)*Math.PI,p=i=(2*(1-i)-1)*Math.PI,m=25;const w=1e-6;let P=0,k=0;do{const N=Math.cos(p),Z=Math.sin(p),q=2*Z*N,ce=Z*Z,xe=N*N,Ee=Math.cos(d/2),He=Math.sin(d/2),ht=2*Ee*He,Rt=He*He,tn=1-xe*Ee*Ee,Ft=tn?1/tn:0,Qt=tn?Math.acos(N*Ee)*Math.sqrt(1/tn):0,pn=.5*(2*Qt*N*He+2*d/Math.PI)-e,un=.5*(Qt*Z+p)-i,Hn=.5*Ft*(xe*Rt+Qt*N*Ee*ce)+1/Math.PI,Ln=Ft*(ht*q/4-Qt*Z*He),ri=.125*Ft*(q*He-Qt*Z*xe*ht),wi=.5*Ft*(ce*Ee+Qt*Rt*N)+.5,$n=Ln*ri-wi*Hn;P=(un*Ln-pn*wi)/$n,k=(pn*ri-un*Hn)/$n,d=Oe(d-P,-Math.PI,Math.PI),p=Oe(p-k,-Zm,Zm)}while((Math.abs(P)>w||Math.abs(k)>w)&&--m>0);return new Zr(rt(d),rt(p))}}class z_ extends Ma{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Be(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(e,i){const{scale:d,cosPhi:p}=this;return{x:Be(e)*p*d+.5,y:-Math.sin(Be(i))/p*d+.5,z:0}}unproject(e,i){const{scale:d,cosPhi:p}=this,m=-(i-.5)/d,w=Oe(rt((e-.5)/d)/p,-180,180),P=Math.asin(Oe(m*p,-1,1)),k=Oe(rt(P),-Xs,Xs);return new Zr(w,k)}}class $1 extends F_{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(e,i,d){const p=yu(e,i,d);return ms(p,p,Hd(sc(d))),{x:p[0],y:p[1],z:p[2]}}locationPoint(e,i){const d=_u(i.lat,i.lng),p=il([],d),m=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(i),e._centerAltitude):e._centerAltitude;_d(d,d,p,ed(1,0)*oo*m);const w=Sl(new Float64Array(16));return Tc(w,e.pixelMatrix,e.globeMatrix),ms(d,d,w),new ge(d[0],d[1])}pixelsPerMeter(e,i){return ed(1,0)*i}pixelSpaceConversion(e,i,d){const p=ed(1,e)*i,m=nr(ed(1,45)*i,p,d);return this.pixelsPerMeter(e,i)/m}createTileMatrix(e,i,d){const p=Zp(sc(d.canonical));return Tc(new Float64Array(16),e.globeMatrix,p)}createInversionMatrix(e,i){const{center:d}=e,p=Hd(sc(i));return dh(p,p,Be(d.lng)),ch(p,p,Be(d.lat)),zu(p,p,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(p)}pointCoordinate(e,i,d,p){return Cd(e,i,d,!0)||new ju(0,0)}pointCoordinate3D(e,i,d){const p=this.pointCoordinate(e,i,d,0);return[p.x,p.y,p.z]}isPointAboveHorizon(e,i){return!Cd(e,i.x,i.y,!1)}farthestPixelDistance(e){const i=function(p,m){const w=p.cameraToCenterDistance,P=p._centerAltitude*m,k=p._camera,N=p._camera.forward(),Z=Fd([],rc([],N,-w),[0,0,P]),q=p.worldSize/(2*Math.PI),ce=[0,0,-q],xe=p.width/p.height,Ee=Math.tan(p.fovAboveCenter),He=rc([],k.up(),Ee),ht=rc([],k.right(),Ee*xe),Rt=il([],Fd([],Fd([],N,He),ht)),tn=[];let Ft;if(new Qc(Z,Rt).closestPointOnSphere(ce,q,tn)){const Qt=Fd([],tn,ce),pn=jl([],Qt,Z);Ft=Math.cos(p.fovAboveCenter)*uh(pn)}else{const Qt=jl([],Z,ce),pn=jl([],ce,Z);il(pn,pn);const un=uh(Qt)-q;Ft=Math.sqrt(un*(un+2*q));const Hn=Math.acos(Ft/(q+un))-Math.acos(ol(N,pn));Ft*=Math.cos(Hn)}return 1.01*Ft}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),d=_h(e.zoom);if(d>0){const p=Af(e,ed(1,e.center.lat)*e.worldSize),m=e.worldSize/(2*Math.PI),w=Math.max(e.width,e.height)/e.worldSize*Math.PI;return nr(i,p+m*(1-Math.cos(w)),Math.pow(d,10))}return i}upVector(e,i,d){return yu(i,d,e,1)}upVectorScale(e){return{metersToTile:Vp(mh(sc(e)))}}}function I0(n){const e=n.parallels,i=!!e&&Math.abs(e[0]+e[1])<.01;switch(n.name){case"mercator":return new F_(n);case"equirectangular":return new pm(n);case"naturalEarth":return new E0(n);case"equalEarth":return new kf(n);case"winkelTripel":return new G1(n);case"albers":return i?new z_(n):new Al(n);case"lambertConformalConic":return i?new z_(n):new D0(n);case"globe":return new $1(n)}throw new Error(`Invalid projection name: ${n.name}`)}const U_=tg.types,H_=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Wm(n,e,i,d,p,m,w,P,k,N,Z,q,ce){const xe=P?Math.min(Cr,Math.round(P[0])):0,Ee=P?Math.min(Cr,Math.round(P[1])):0;n.emplaceBack(e,i,Math.round(32*d),Math.round(32*p),m,w,(xe<<1)+(k?1:0),Ee,16*N,16*Z,256*q,256*ce)}function dg(n,e,i,d,p,m,w){n.emplaceBack(e,i,d,p,m,w)}function Lf(n,e,i,d,p){n.emplaceBack(e,i,d,p),n.emplaceBack(e,i,d,p),n.emplaceBack(e,i,d,p),n.emplaceBack(e,i,d,p)}function j_(n){for(const e of n.sections)if(Yo(e.text))return!0;return!1}class Km{constructor(e){this.layoutVertexArray=new ci,this.indexArray=new eo,this.programConfigurations=e,this.segments=new os,this.dynamicLayoutVertexArray=new pi,this.opacityVertexArray=new so,this.placedSymbolArray=new fs,this.globeExtVertexArray=new vi}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,i,d,p){this.isEmpty()||(d&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,xf.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,i),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Fm.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,H_,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,bp.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||p)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Vi(Km,"SymbolBuffers");class gm{constructor(e,i,d){this.layoutVertexArray=new e,this.layoutAttributes=i,this.indexArray=new d,this.segments=new os,this.collisionVertexArray=new Io,this.collisionVertexArrayExt=new qo}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Bm.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,tm.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Vi(gm,"CollisionBuffers");class Rh{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(w=>w.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Sl([]),this.placementViewportMatrix=Sl([]);const i=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Sh(this.zoom,i["text-size"]),this.iconSizeData=Sh(this.zoom,i["icon-size"]);const d=this.layers[0].layout,p=d.get("symbol-sort-key"),m=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==m&&void 0!==p.constantOr(1),this.sortFeaturesByY=("viewport-y"===m||"auto"===m&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(w=>hc[w]),this.stateDependentLayerIds=this.layers.filter(w=>w.isStateDependent()).map(w=>w.id),this.sourceID=e.sourceID,this.projection=e.projection}createArrays(){this.text=new Km(new _l(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new Km(new _l(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new Ua,this.lineVertexArray=new ud,this.symbolInstances=new cs}calculateGlyphDependencies(e,i,d,p,m){for(let w=0;w<e.length;w++)if(i[e.charCodeAt(w)]=!0,p&&m){const P=Lg[e.charAt(w)];P&&(i[P.charCodeAt(0)]=!0)}}populate(e,i,d,p){const m=this.layers[0],w=m.layout,P="globe"===this.projection.name,k=w.get("text-font"),N=w.get("text-field"),Z=w.get("icon-image"),q=("constant"!==N.value.kind||N.value.value instanceof qr&&!N.value.value.isEmpty()||N.value.value.toString().length>0)&&("constant"!==k.value.kind||k.value.value.length>0),ce="constant"!==Z.value.kind||!!Z.value.value||Object.keys(Z.parameters).length>0,xe=w.get("symbol-sort-key");if(this.features=[],!q&&!ce)return;const Ee=i.iconDependencies,He=i.glyphDependencies,ht=i.availableImages,Rt=new Y(this.zoom);for(const{feature:tn,id:Ft,index:Qt,sourceLayerIndex:pn}of e){const un=m._featureFilter.needGeometry,Hn=bu(tn,un);if(!m._featureFilter.filter(Rt,Hn,d))continue;if(un||(Hn.geometry=vu(tn,d,p)),P&&1!==tn.type&&d.z<=5){const $n=Hn.geometry,di=.98078528056,li=(fi,Pi)=>ol(yu(fi.x,fi.y,d,1),yu(Pi.x,Pi.y,d,1))<di;for(let fi=0;fi<$n.length;fi++)$n[fi]=Sg($n[fi],li)}let Ln,ri;if(q){const $n=m.getValueAndResolveTokens("text-field",Hn,d,ht),di=qr.factory($n);j_(di)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===I()||this.hasRTLText&&H.isParsed())&&(Ln=nm(di,m,Hn))}if(ce){const $n=m.getValueAndResolveTokens("icon-image",Hn,d,ht);ri=$n instanceof Rr?$n:Rr.fromString($n)}if(!Ln&&!ri)continue;const wi=this.sortFeaturesByKey?xe.evaluate(Hn,{},d):void 0;if(this.features.push({id:Ft,text:Ln,icon:ri,index:Qt,sourceLayerIndex:pn,geometry:Hn.geometry,properties:tn.properties,type:U_[tn.type],sortKey:wi}),ri&&(Ee[ri.name]=!0),Ln){const $n=k.evaluate(Hn,{},d).join(","),di="map"===w.get("text-rotation-alignment")&&"point"!==w.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(hc.vertical)>=0;for(const li of Ln.sections)if(li.image)Ee[li.image.name]=!0;else{const fi=dt(Ln.toString()),Pi=li.fontStack||$n,ii=He[Pi]=He[Pi]||{};this.calculateGlyphDependencies(li.text,ii,di,this.allowVerticalPlacement,fi)}}}"line"===w.get("symbol-placement")&&(this.features=function(tn){const Ft={},Qt={},pn=[];let un=0;function Hn($n){pn.push(tn[$n]),un++}function Ln($n,di,li){const fi=Qt[$n];return delete Qt[$n],Qt[di]=fi,pn[fi].geometry[0].pop(),pn[fi].geometry[0]=pn[fi].geometry[0].concat(li[0]),fi}function ri($n,di,li){const fi=Ft[di];return delete Ft[di],Ft[$n]=fi,pn[fi].geometry[0].shift(),pn[fi].geometry[0]=li[0].concat(pn[fi].geometry[0]),fi}function wi($n,di,li){const fi=li?di[0][di[0].length-1]:di[0][0];return`${$n}:${fi.x}:${fi.y}`}for(let $n=0;$n<tn.length;$n++){const di=tn[$n],li=di.geometry,fi=di.text?di.text.toString():null;if(!fi){Hn($n);continue}const Pi=wi(fi,li),ii=wi(fi,li,!0);if(Pi in Qt&&ii in Ft&&Qt[Pi]!==Ft[ii]){const ji=ri(Pi,ii,li),Xi=Ln(Pi,ii,pn[ji].geometry);delete Ft[Pi],delete Qt[ii],Qt[wi(fi,pn[Xi].geometry,!0)]=Xi,pn[ji].geometry=null}else Pi in Qt?Ln(Pi,ii,li):ii in Ft?ri(Pi,ii,li):(Hn($n),Ft[Pi]=un-1,Qt[ii]=un-1)}return pn.filter($n=>$n.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((tn,Ft)=>tn.sortKey-Ft.sortKey)}update(e,i,d,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,i,this.layers,d,p),this.icon.programConfigurations.updatePaintArrays(e,i,this.layers,d,p))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=I0(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,i){const d=this.lineVertexArray.length;if(void 0!==e.segment)for(const{x:p,y:m}of i)this.lineVertexArray.emplaceBack(p,m);return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(e,i,d,p,m,w,P,k,N,Z,q,ce,xe,Ee){const He=e.indexArray,ht=e.layoutVertexArray,Rt=e.globeExtVertexArray,tn=e.segments.prepareSegment(4*i.length,ht,He,this.canOverlap?w.sortKey:void 0),Ft=this.glyphOffsetArray.length,Qt=tn.vertexLength,pn=this.allowVerticalPlacement&&P===hc.vertical?Math.PI/2:0,un=w.text&&w.text.sections;for(let Ln=0;Ln<i.length;Ln++){const{tl:ri,tr:wi,bl:$n,br:di,tex:li,pixelOffsetTL:fi,pixelOffsetBR:Pi,minFontScaleX:ii,minFontScaleY:ji,glyphOffset:Xi,isSDF:$i,sectionIndex:Bo}=i[Ln],Ti=tn.vertexLength,co=Xi[1];if(Wm(ht,N.x,N.y,ri.x,co+ri.y,li.x,li.y,d,$i,fi.x,fi.y,ii,ji),Wm(ht,N.x,N.y,wi.x,co+wi.y,li.x+li.w,li.y,d,$i,Pi.x,fi.y,ii,ji),Wm(ht,N.x,N.y,$n.x,co+$n.y,li.x,li.y+li.h,d,$i,fi.x,Pi.y,ii,ji),Wm(ht,N.x,N.y,di.x,co+di.y,li.x+li.w,li.y+li.h,d,$i,Pi.x,Pi.y,ii,ji),k){const{x:Uo,y:Wr,z:zo}=k.anchor,[Co,ks,Fo]=k.up;dg(Rt,Uo,Wr,zo,Co,ks,Fo),dg(Rt,Uo,Wr,zo,Co,ks,Fo),dg(Rt,Uo,Wr,zo,Co,ks,Fo),dg(Rt,Uo,Wr,zo,Co,ks,Fo),Lf(e.dynamicLayoutVertexArray,Uo,Wr,zo,pn)}else Lf(e.dynamicLayoutVertexArray,N.x,N.y,N.z,pn);He.emplaceBack(Ti,Ti+1,Ti+2),He.emplaceBack(Ti+1,Ti+2,Ti+3),tn.vertexLength+=4,tn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Xi[0]),Ln!==i.length-1&&Bo===i[Ln+1].sectionIndex||e.programConfigurations.populatePaintArrays(ht.length,w,w.index,{},xe,Ee,un&&un[Bo])}const Hn=k?k.anchor:N;e.placedSymbolArray.emplaceBack(Hn.x,Hn.y,Hn.z,N.x,N.y,Ft,this.glyphOffsetArray.length-Ft,Qt,Z,q,N.segment,d?d[0]:0,d?d[1]:0,p[0],p[1],P,0,!1,0,ce,0)}_commitLayoutVertex(e,i,d,p,m,w,P){e.emplaceBack(i,d,p,m,w,Math.round(P.x),Math.round(P.y))}_addCollisionDebugVertices(e,i,d,p,m,w,P){const k=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),N=k.vertexLength,Z=P.tileAnchorX,q=P.tileAnchorY;for(let xe=0;xe<4;xe++)d.collisionVertexArray.emplaceBack(0,0,0,0);d.collisionVertexArrayExt.emplaceBack(i,-e.padding,-e.padding),d.collisionVertexArrayExt.emplaceBack(i,e.padding,-e.padding),d.collisionVertexArrayExt.emplaceBack(i,e.padding,e.padding),d.collisionVertexArrayExt.emplaceBack(i,-e.padding,e.padding),this._commitLayoutVertex(d.layoutVertexArray,p,m,w,Z,q,new ge(e.x1,e.y1)),this._commitLayoutVertex(d.layoutVertexArray,p,m,w,Z,q,new ge(e.x2,e.y1)),this._commitLayoutVertex(d.layoutVertexArray,p,m,w,Z,q,new ge(e.x2,e.y2)),this._commitLayoutVertex(d.layoutVertexArray,p,m,w,Z,q,new ge(e.x1,e.y2)),k.vertexLength+=4;const ce=d.indexArray;ce.emplaceBack(N,N+1),ce.emplaceBack(N+1,N+2),ce.emplaceBack(N+2,N+3),ce.emplaceBack(N+3,N),k.primitiveLength+=4}_addTextDebugCollisionBoxes(e,i,d,p,m,w){for(let P=p;P<m;P++){const k=d.get(P),N=this.getSymbolInstanceTextSize(e,w,i,P);this._addCollisionDebugVertices(k,N,this.textCollisionBox,k.projectedAnchorX,k.projectedAnchorY,k.projectedAnchorZ,w)}}_addIconDebugCollisionBoxes(e,i,d,p,m,w){for(let P=p;P<m;P++){const k=d.get(P),N=this.getSymbolInstanceIconSize(e,i,w.placedIconSymbolIndex);this._addCollisionDebugVertices(k,N,this.iconCollisionBox,k.projectedAnchorX,k.projectedAnchorY,k.projectedAnchorZ,w)}}generateCollisionDebugBuffers(e,i){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new gm(Yi,Hs.members,ba),this.iconCollisionBox=new gm(Yi,Hs.members,ba);const d=Cp(this.iconSizeData,e),p=Cp(this.textSizeData,e);for(let m=0;m<this.symbolInstances.length;m++){const w=this.symbolInstances.get(m);this._addTextDebugCollisionBoxes(p,e,i,w.textBoxStartIndex,w.textBoxEndIndex,w),this._addTextDebugCollisionBoxes(p,e,i,w.verticalTextBoxStartIndex,w.verticalTextBoxEndIndex,w),this._addIconDebugCollisionBoxes(d,e,i,w.iconBoxStartIndex,w.iconBoxEndIndex,w),this._addIconDebugCollisionBoxes(d,e,i,w.verticalIconBoxStartIndex,w.verticalIconBoxEndIndex,w)}}getSymbolInstanceTextSize(e,i,d,p){const m=this.text.placedSymbolArray.get(i.rightJustifiedTextSymbolIndex>=0?i.rightJustifiedTextSymbolIndex:i.centerJustifiedTextSymbolIndex>=0?i.centerJustifiedTextSymbolIndex:i.leftJustifiedTextSymbolIndex>=0?i.leftJustifiedTextSymbolIndex:i.verticalPlacedTextSymbolIndex>=0?i.verticalPlacedTextSymbolIndex:p),w=Of(this.textSizeData,e,m)/Ca;return this.tilePixelRatio*w}getSymbolInstanceIconSize(e,i,d){const p=this.icon.placedSymbolArray.get(d),m=Of(this.iconSizeData,e,p);return this.tilePixelRatio*m}_commitDebugCollisionVertexUpdate(e,i,d){e.emplaceBack(i,-d,-d),e.emplaceBack(i,d,-d),e.emplaceBack(i,d,d),e.emplaceBack(i,-d,d)}_updateTextDebugCollisionBoxes(e,i,d,p,m,w){for(let P=p;P<m;P++){const k=d.get(P),N=this.getSymbolInstanceTextSize(e,w,i,P);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,N,k.padding)}}_updateIconDebugCollisionBoxes(e,i,d,p,m,w){for(let P=p;P<m;P++){const k=d.get(P),N=this.getSymbolInstanceIconSize(e,i,w);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,N,k.padding)}}updateCollisionDebugBuffers(e,i){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const d=Cp(this.iconSizeData,e),p=Cp(this.textSizeData,e);for(let m=0;m<this.symbolInstances.length;m++){const w=this.symbolInstances.get(m);this._updateTextDebugCollisionBoxes(p,e,i,w.textBoxStartIndex,w.textBoxEndIndex,w),this._updateTextDebugCollisionBoxes(p,e,i,w.verticalTextBoxStartIndex,w.verticalTextBoxEndIndex,w),this._updateIconDebugCollisionBoxes(d,e,i,w.iconBoxStartIndex,w.iconBoxEndIndex,w.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(d,e,i,w.verticalIconBoxStartIndex,w.verticalIconBoxEndIndex,w.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,i,d,p,m,w,P,k,N){const Z={};if(i<d){const{x1:q,y1:ce,x2:xe,y2:Ee,padding:He,projectedAnchorX:ht,projectedAnchorY:Rt,projectedAnchorZ:tn,tileAnchorX:Ft,tileAnchorY:Qt,featureIndex:pn}=e.get(i);Z.textBox={x1:q,y1:ce,x2:xe,y2:Ee,padding:He,projectedAnchorX:ht,projectedAnchorY:Rt,projectedAnchorZ:tn,tileAnchorX:Ft,tileAnchorY:Qt},Z.textFeatureIndex=pn}if(p<m){const{x1:q,y1:ce,x2:xe,y2:Ee,padding:He,projectedAnchorX:ht,projectedAnchorY:Rt,projectedAnchorZ:tn,tileAnchorX:Ft,tileAnchorY:Qt,featureIndex:pn}=e.get(p);Z.verticalTextBox={x1:q,y1:ce,x2:xe,y2:Ee,padding:He,projectedAnchorX:ht,projectedAnchorY:Rt,projectedAnchorZ:tn,tileAnchorX:Ft,tileAnchorY:Qt},Z.verticalTextFeatureIndex=pn}if(w<P){const{x1:q,y1:ce,x2:xe,y2:Ee,padding:He,projectedAnchorX:ht,projectedAnchorY:Rt,projectedAnchorZ:tn,tileAnchorX:Ft,tileAnchorY:Qt,featureIndex:pn}=e.get(w);Z.iconBox={x1:q,y1:ce,x2:xe,y2:Ee,padding:He,projectedAnchorX:ht,projectedAnchorY:Rt,projectedAnchorZ:tn,tileAnchorX:Ft,tileAnchorY:Qt},Z.iconFeatureIndex=pn}if(k<N){const{x1:q,y1:ce,x2:xe,y2:Ee,padding:He,projectedAnchorX:ht,projectedAnchorY:Rt,projectedAnchorZ:tn,tileAnchorX:Ft,tileAnchorY:Qt,featureIndex:pn}=e.get(k);Z.verticalIconBox={x1:q,y1:ce,x2:xe,y2:Ee,padding:He,projectedAnchorX:ht,projectedAnchorY:Rt,projectedAnchorZ:tn,tileAnchorX:Ft,tileAnchorY:Qt},Z.verticalIconFeatureIndex=pn}return Z}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let i=0;i<this.symbolInstances.length;i++){const d=this.symbolInstances.get(i);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,i){const d=e.placedSymbolArray.get(i),p=d.vertexStartIndex+4*d.numGlyphs;for(let m=d.vertexStartIndex;m<p;m+=4)e.indexArray.emplaceBack(m,m+1,m+2),e.indexArray.emplaceBack(m+1,m+2,m+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const i=Math.sin(e),d=Math.cos(e),p=[],m=[],w=[];for(let P=0;P<this.symbolInstances.length;++P){w.push(P);const k=this.symbolInstances.get(P);p.push(0|Math.round(i*k.tileAnchorX+d*k.tileAnchorY)),m.push(k.featureIndex)}return w.sort((P,k)=>p[P]-p[k]||m[k]-m[P]),w}addToSortKeyRanges(e,i){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===i?d.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:i,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const i of this.symbolInstanceIndexes){const d=this.symbolInstances.get(i);this.featureSortOrder.push(d.featureIndex);const{rightJustifiedTextSymbolIndex:p,centerJustifiedTextSymbolIndex:m,leftJustifiedTextSymbolIndex:w,verticalPlacedTextSymbolIndex:P,placedIconSymbolIndex:k,verticalPlacedIconSymbolIndex:N}=d;p>=0&&this.addIndicesForPlacedSymbol(this.text,p),m>=0&&m!==p&&this.addIndicesForPlacedSymbol(this.text,m),w>=0&&w!==m&&w!==p&&this.addIndicesForPlacedSymbol(this.text,w),P>=0&&this.addIndicesForPlacedSymbol(this.text,P),k>=0&&this.addIndicesForPlacedSymbol(this.icon,k),N>=0&&this.addIndicesForPlacedSymbol(this.icon,N)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Vi(Rh,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Rh.MAX_GLYPHS=65535,Rh.addDynamicAttributes=Lf;const pr=new Gt({"symbol-placement":new Fe(Dn.layout_symbol["symbol-placement"]),"symbol-spacing":new Fe(Dn.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Fe(Dn.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new _t(Dn.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Fe(Dn.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Fe(Dn.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Fe(Dn.layout_symbol["icon-ignore-placement"]),"icon-optional":new Fe(Dn.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Fe(Dn.layout_symbol["icon-rotation-alignment"]),"icon-size":new _t(Dn.layout_symbol["icon-size"]),"icon-text-fit":new Fe(Dn.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Fe(Dn.layout_symbol["icon-text-fit-padding"]),"icon-image":new _t(Dn.layout_symbol["icon-image"]),"icon-rotate":new _t(Dn.layout_symbol["icon-rotate"]),"icon-padding":new Fe(Dn.layout_symbol["icon-padding"]),"icon-keep-upright":new Fe(Dn.layout_symbol["icon-keep-upright"]),"icon-offset":new _t(Dn.layout_symbol["icon-offset"]),"icon-anchor":new _t(Dn.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Fe(Dn.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Fe(Dn.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Fe(Dn.layout_symbol["text-rotation-alignment"]),"text-field":new _t(Dn.layout_symbol["text-field"]),"text-font":new _t(Dn.layout_symbol["text-font"]),"text-size":new _t(Dn.layout_symbol["text-size"]),"text-max-width":new _t(Dn.layout_symbol["text-max-width"]),"text-line-height":new _t(Dn.layout_symbol["text-line-height"]),"text-letter-spacing":new _t(Dn.layout_symbol["text-letter-spacing"]),"text-justify":new _t(Dn.layout_symbol["text-justify"]),"text-radial-offset":new _t(Dn.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Fe(Dn.layout_symbol["text-variable-anchor"]),"text-anchor":new _t(Dn.layout_symbol["text-anchor"]),"text-max-angle":new Fe(Dn.layout_symbol["text-max-angle"]),"text-writing-mode":new Fe(Dn.layout_symbol["text-writing-mode"]),"text-rotate":new _t(Dn.layout_symbol["text-rotate"]),"text-padding":new Fe(Dn.layout_symbol["text-padding"]),"text-keep-upright":new Fe(Dn.layout_symbol["text-keep-upright"]),"text-transform":new _t(Dn.layout_symbol["text-transform"]),"text-offset":new _t(Dn.layout_symbol["text-offset"]),"text-allow-overlap":new Fe(Dn.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Fe(Dn.layout_symbol["text-ignore-placement"]),"text-optional":new Fe(Dn.layout_symbol["text-optional"])});var fm={paint:new Gt({"icon-opacity":new _t(Dn.paint_symbol["icon-opacity"]),"icon-color":new _t(Dn.paint_symbol["icon-color"]),"icon-halo-color":new _t(Dn.paint_symbol["icon-halo-color"]),"icon-halo-width":new _t(Dn.paint_symbol["icon-halo-width"]),"icon-halo-blur":new _t(Dn.paint_symbol["icon-halo-blur"]),"icon-translate":new Fe(Dn.paint_symbol["icon-translate"]),"icon-translate-anchor":new Fe(Dn.paint_symbol["icon-translate-anchor"]),"text-opacity":new _t(Dn.paint_symbol["text-opacity"]),"text-color":new _t(Dn.paint_symbol["text-color"],{runtimeType:Gn,getOverride:n=>n.textColor,hasOverride:n=>!!n.textColor}),"text-halo-color":new _t(Dn.paint_symbol["text-halo-color"]),"text-halo-width":new _t(Dn.paint_symbol["text-halo-width"]),"text-halo-blur":new _t(Dn.paint_symbol["text-halo-blur"]),"text-translate":new Fe(Dn.paint_symbol["text-translate"]),"text-translate-anchor":new Fe(Dn.paint_symbol["text-translate-anchor"])}),layout:pr};class Ym{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:et,this.defaultValue=e}evaluate(e){if(e.formattedSection){const i=this.defaultValue.property.overrides;if(i&&i.hasOverride(e.formattedSection))return i.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Vi(Ym,"FormatSectionOverride",{omit:["defaultValue"]});class Lh extends fd{constructor(e){super(e,fm)}recalculate(e,i){super.recalculate(e,i),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const p=[];for(const m of d)p.indexOf(m)<0&&p.push(m);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,i,d,p){const m=this.layout.get(e).evaluate(i,{},d,p),w=this._unevaluatedLayout._values[e];return w.isDataDriven()||Ts(w.value)||!m?m:(P=i.properties,m.replace(/{([^{}]+)}/g,(N,Z)=>Z in P?String(P[Z]):""));var P}createBucket(e){return new Rh(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of fm.paint.overridableProperties){if(!Lh.hasPaintOverride(this.layout,e))continue;const i=this.paint.get(e),d=new Ym(i),p=new za(d,i.property.specification);let m=null;m="constant"===i.value.kind||"source"===i.value.kind?new qs("source",p):new oa("composite",p,i.value.zoomStops,i.value._interpolationType),this.paint._values[e]=new Mt(i.property,m,i.parameters)}}_handleOverridablePaintPropertyUpdate(e,i,d){return!(!this.layout||i.isDataDriven()||d.isDataDriven())&&Lh.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,i){const d=e.get("text-field"),p=fm.paint.properties[i];let m=!1;const w=P=>{for(const k of P)if(p.overrides&&p.overrides.hasOverride(k))return void(m=!0)};if("constant"===d.value.kind&&d.value.value instanceof qr)w(d.value.value.sections);else if("source"===d.value.kind){const P=N=>{m||(N instanceof Mr&&Lr(N.value)===ni?w(N.value.sections):N instanceof Ws?w(N.sections):N.eachChild(P))},k=d.value;k._styleExpression&&P(k._styleExpression.expression)}return m}getProgramConfiguration(e){return new Ha(this,e)}}var V_={paint:new Gt({"background-color":new Fe(Dn.paint_background["background-color"]),"background-pattern":new Fe(Dn.paint_background["background-pattern"]),"background-opacity":new Fe(Dn.paint_background["background-opacity"])})},A0={paint:new Gt({"raster-opacity":new Fe(Dn.paint_raster["raster-opacity"]),"raster-hue-rotate":new Fe(Dn.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Fe(Dn.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Fe(Dn.paint_raster["raster-brightness-max"]),"raster-saturation":new Fe(Dn.paint_raster["raster-saturation"]),"raster-contrast":new Fe(Dn.paint_raster["raster-contrast"]),"raster-resampling":new Fe(Dn.paint_raster["raster-resampling"]),"raster-fade-duration":new Fe(Dn.paint_raster["raster-fade-duration"])})};class mm extends fd{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}isLayerDraped(){return void 0!==this.implementation.renderToTile}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var Zg={paint:new Gt({"sky-type":new Fe(Dn.paint_sky["sky-type"]),"sky-atmosphere-sun":new Fe(Dn.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Fe(Dn.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Fe(Dn.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Fe(Dn.paint_sky["sky-gradient-radius"]),"sky-gradient":new Ut(Dn.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Fe(Dn.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Fe(Dn.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Fe(Dn.paint_sky["sky-opacity"])})};function Nf(n,e,i){const d=[0,0,1],p=Vl([]);return Jh(p,p,i?-Be(n)+Math.PI:Be(n)),Up(p,p,-Be(e)),gh(d,d,p),il(d,d)}const Ff={circle:class extends fd{constructor(n){super(n,Hi)}createBucket(n){return new ip(n)}queryRadius(n){const e=n;return Ke("circle-radius",this,e)+Ke("circle-stroke-width",this,e)+_n(this.paint.get("circle-translate"))}queryIntersectsFeature(n,e,i,d,p,m,w,P){const k=Qn(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),m.angle,n.pixelToTileUnitsFactor),N=this.paint.get("circle-radius").evaluate(e,i)+this.paint.get("circle-stroke-width").evaluate(e,i);return Ai(n,d,m,w,P,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),k,N)}getProgramIds(){return["circle"]}getProgramConfiguration(n){return new Ha(this,n)}},heatmap:class extends fd{createBucket(n){return new sr(n)}constructor(n){super(n,Ss),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(n){"heatmap-color"===n&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=ds({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(n){return Ke("heatmap-radius",this,n)}queryIntersectsFeature(n,e,i,d,p,m,w,P){const k=this.paint.get("heatmap-radius").evaluate(e,i);return Ai(n,d,m,w,P,!0,!0,new ge(0,0),k)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(n){return new Ha(this,n)}},hillshade:class extends fd{constructor(n){super(n,ca)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends fd{constructor(n){super(n,I_)}getProgramIds(){const n=this.paint.get("fill-pattern"),e=n&&n.constantOr(1),i=[e?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&i.push(e&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),i}getProgramConfiguration(n){return new Ha(this,n)}recalculate(n,e){super.recalculate(n,e);const i=this.paint._values["fill-outline-color"];"constant"===i.value.kind&&void 0===i.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(n){return new Wu(n)}queryRadius(){return _n(this.paint.get("fill-translate"))}queryIntersectsFeature(n,e,i,d,p,m){return!n.queryGeometry.isAboveHorizon&&op(En(n.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),m.angle,n.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}},"fill-extrusion":class extends fd{constructor(n){super(n,Pu)}createBucket(n){return new pp(n)}queryRadius(){return _n(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(n){return new Ha(this,n)}queryIntersectsFeature(n,e,i,d,p,m,w,P,k){const N=Qn(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),m.angle,n.pixelToTileUnitsFactor),Z=this.paint.get("fill-extrusion-height").evaluate(e,i),q=this.paint.get("fill-extrusion-base").evaluate(e,i),ce=[0,0],xe=P&&m.elevation,Ee=m.elevation?m.elevation.exaggeration():1,He=n.tile.getBucket(this);if(xe&&He instanceof pp){const Qt=He.centroidVertexArray,pn=k+1;pn<Qt.length&&(ce[0]=Qt.geta_centroid_pos0(pn),ce[1]=Qt.geta_centroid_pos1(pn))}if(0===ce[0]&&1===ce[1])return!1;"globe"===m.projection.name&&(d=yf([d],[new ge(0,0),new ge(oo,oo)],n.tileID.canonical).map(Qt=>Qt.polygon).flat());const ht=xe?P:null,[Rt,tn]=(pn=d,un=q,Hn=Z,Ln=N,ri=w,wi=ht,$n=ce,di=Ee,li=m.center.lat,"globe"===(Qt=m).projection.name?function(Pi,ii,ji,Xi,$i,Bo,Ti,co,Uo,Wr,zo){const Co=[],ks=[],Fo=Pi.projection.upVectorScale(zo,Pi.center.lat,Pi.worldSize).metersToTile,Zo=[0,0,0,1],_s=[0,0,0,1],hs=(Ar,Os,Fr,Rs)=>{Ar[0]=Os,Ar[1]=Fr,Ar[2]=Rs,Ar[3]=1},xs=_f();ji>0&&(ji+=xs),Xi+=xs;for(const Ar of ii){const Os=[],Fr=[];for(const Rs of Ar){const es=Rs.x+$i.x,ps=Rs.y+$i.y,ha=Pi.projection.projectTilePoint(es,ps,zo),Ps=Pi.projection.upVector(zo,Rs.x,Rs.y);let Pr=ji,Vs=Xi;if(Ti){const Yr=Ku(es,ps,ji,Xi,Ti,co,Uo,Wr);Pr+=Yr.base,Vs+=Yr.top}0!==ji?hs(Zo,ha.x+Ps[0]*Fo*Pr,ha.y+Ps[1]*Fo*Pr,ha.z+Ps[2]*Fo*Pr):hs(Zo,ha.x,ha.y,ha.z),hs(_s,ha.x+Ps[0]*Fo*Vs,ha.y+Ps[1]*Fo*Vs,ha.z+Ps[2]*Fo*Vs),ms(Zo,Zo,Bo),ms(_s,_s,Bo),Os.push(new $d(Zo[0],Zo[1],Zo[2])),Fr.push(new $d(_s[0],_s[1],_s[2]))}Co.push(Os),ks.push(Fr)}return[Co,ks]}(Qt,pn,un,Hn,Ln,ri,wi,$n,di,li,n.tileID.canonical):wi?function(Pi,ii,ji,Xi,$i,Bo,Ti,co,Uo){const Wr=[],zo=[],Co=[0,0,0,1];for(const ks of Pi){const Fo=[],Zo=[];for(const _s of ks){const hs=_s.x+Xi.x,xs=_s.y+Xi.y,Ar=Ku(hs,xs,ii,ji,Bo,Ti,co,Uo);Co[0]=hs,Co[1]=xs,Co[2]=Ar.base,Co[3]=1,Xc(Co,Co,$i),Co[3]=Math.max(Co[3],1e-5);const Os=new $d(Co[0]/Co[3],Co[1]/Co[3],Co[2]/Co[3]);Co[0]=hs,Co[1]=xs,Co[2]=Ar.top,Co[3]=1,Xc(Co,Co,$i),Co[3]=Math.max(Co[3],1e-5);const Fr=new $d(Co[0]/Co[3],Co[1]/Co[3],Co[2]/Co[3]);Fo.push(Os),Zo.push(Fr)}Wr.push(Fo),zo.push(Zo)}return[Wr,zo]}(pn,un,Hn,Ln,ri,wi,$n,di,li):function(Pi,ii,ji,Xi,$i){const Bo=[],Ti=[],co=$i[8]*ii,Uo=$i[9]*ii,Wr=$i[10]*ii,zo=$i[11]*ii,Co=$i[8]*ji,ks=$i[9]*ji,Fo=$i[10]*ji,Zo=$i[11]*ji;for(const _s of Pi){const hs=[],xs=[];for(const Ar of _s){const Os=Ar.x+Xi.x,Fr=Ar.y+Xi.y,Rs=$i[0]*Os+$i[4]*Fr+$i[12],es=$i[1]*Os+$i[5]*Fr+$i[13],ps=$i[2]*Os+$i[6]*Fr+$i[14],ha=$i[3]*Os+$i[7]*Fr+$i[15],Ps=Rs+co,Pr=es+Uo,Vs=ps+Wr,Yr=Math.max(ha+zo,1e-5),al=Rs+Co,Gs=es+ks,xa=ps+Fo,pa=Math.max(ha+Zo,1e-5);hs.push(new $d(Ps/Yr,Pr/Yr,Vs/Yr)),xs.push(new $d(al/pa,Gs/pa,xa/pa))}Bo.push(hs),Ti.push(xs)}return[Bo,Ti]}(pn,un,Hn,Ln,ri)),Ft=n.queryGeometry;var Qt,pn,un,Hn,Ln,ri,wi,$n,di,li;return function(Qt,pn,un){let Hn=1/0;op(un,pn)&&(Hn=bf(un,pn[0]));for(let Ln=0;Ln<pn.length;Ln++){const ri=pn[Ln],wi=Qt[Ln];for(let $n=0;$n<ri.length-1;$n++){const di=ri[$n],li=[di,ri[$n+1],wi[$n+1],wi[$n],di];lf(un,li)&&(Hn=Math.min(Hn,bf(un,li)))}}return Hn!==1/0&&Hn}(Rt,tn,Ft.isPointQuery()?Ft.screenBounds:Ft.screenGeometry)}},line:class extends fd{constructor(n){super(n,ig),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(n){if("line-gradient"===n){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof qa,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(n,e){super.recalculate(n,e),this.paint._values["line-floorwidth"]=Rg.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,n)}createBucket(n){return new Hc(n)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(n){return new Ha(this,n)}queryRadius(n){const e=n,i=Mf(Ke("line-width",this,e),Ke("line-gap-width",this,e)),d=Ke("line-offset",this,e);return i/2+Math.abs(d)+_n(this.paint.get("line-translate"))}queryIntersectsFeature(n,e,i,d,p,m){if(n.queryGeometry.isAboveHorizon)return!1;const w=En(n.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),m.angle,n.pixelToTileUnitsFactor),P=n.pixelToTileUnitsFactor/2*Mf(this.paint.get("line-width").evaluate(e,i),this.paint.get("line-gap-width").evaluate(e,i)),k=this.paint.get("line-offset").evaluate(e,i);return k&&(d=function(N,Z){const q=[],ce=new ge(0,0);for(let xe=0;xe<N.length;xe++){const Ee=N[xe],He=[];for(let ht=0;ht<Ee.length;ht++){const Rt=Ee[ht],tn=Ee[ht+1],Ft=0===ht?ce:Rt.sub(Ee[ht-1])._unit()._perp(),Qt=ht===Ee.length-1?ce:tn.sub(Rt)._unit()._perp(),pn=Ft._add(Qt)._unit();pn._mult(1/(pn.x*Qt.x+pn.y*Qt.y)),He.push(pn._mult(Z)._add(Rt))}q.push(He)}return q}(d,k*n.pixelToTileUnitsFactor)),function(N,Z,q){for(let ce=0;ce<Z.length;ce++){const xe=Z[ce];if(N.length>=3)for(let Ee=0;Ee<xe.length;Ee++)if(E(N,xe[Ee]))return!0;if(Jp(N,xe,q))return!0}return!1}(w,d,P)}isTileClipped(){return!0}},symbol:Lh,background:class extends fd{constructor(n){super(n,V_)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends fd{constructor(n){super(n,A0)}getProgramIds(){return["raster"]}},sky:class extends fd{constructor(n){super(n,Zg),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(n){"sky-gradient"===n?this._updateColorRamp():"sky-atmosphere-sun"!==n&&"sky-atmosphere-halo-color"!==n&&"sky-atmosphere-color"!==n&&"sky-atmosphere-sun-intensity"!==n||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=ds({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(n){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const e=n.style.light.properties.get("position");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}return!1}getCenter(n,e){if("atmosphere"===this.paint.get("sky-type")){const d=this.paint.get("sky-atmosphere-sun"),p=!d,m=n.style.light,w=m.properties.get("position");return p&&"viewport"===m.properties.get("anchor")&&Cn("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),p?Nf(w.azimuthal,90-w.polar,e):Nf(d[0],90-d[1],e)}const i=this.paint.get("sky-gradient-center");return Nf(i[0],90-i[1],e)}is3D(){return!1}isSky(){return!0}markSkyboxValid(n){this._skyboxInvalidated=!1,this._lightPosition=n.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const n=this.paint.get("sky-type");return"atmosphere"===n?["skyboxCapture","skybox"]:"gradient"===n?["skyboxGradient"]:null}}};class Wg{constructor(e,i,d,p){this.context=e,this.format=d,this.texture=e.gl.createTexture(),this.update(i,p)}update(e,i,d){const{width:p,height:m}=e,{context:w}=this,{gl:P}=w,{HTMLImageElement:k,HTMLCanvasElement:N,HTMLVideoElement:Z,ImageData:q,ImageBitmap:ce}=T;if(P.bindTexture(P.TEXTURE_2D,this.texture),w.pixelStoreUnpackFlipY.set(!1),w.pixelStoreUnpack.set(1),w.pixelStoreUnpackPremultiplyAlpha.set(this.format===P.RGBA&&(!i||!1!==i.premultiply)),d||this.size&&this.size[0]===p&&this.size[1]===m){const{x:xe,y:Ee}=d||{x:0,y:0};e instanceof k||e instanceof N||e instanceof Z||e instanceof q||ce&&e instanceof ce?P.texSubImage2D(P.TEXTURE_2D,0,xe,Ee,P.RGBA,P.UNSIGNED_BYTE,e):P.texSubImage2D(P.TEXTURE_2D,0,xe,Ee,p,m,P.RGBA,P.UNSIGNED_BYTE,e.data)}else this.size=[p,m],e instanceof k||e instanceof N||e instanceof Z||e instanceof q||ce&&e instanceof ce?P.texImage2D(P.TEXTURE_2D,0,this.format,this.format,P.UNSIGNED_BYTE,e):P.texImage2D(P.TEXTURE_2D,0,this.format,p,m,0,this.format,P.UNSIGNED_BYTE,e.data);this.useMipmap=!!(i&&i.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&P.generateMipmap(P.TEXTURE_2D)}bind(e,i){const{context:d}=this,{gl:p}=d;p.bindTexture(p.TEXTURE_2D,this.texture),e!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,e),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.useMipmap?e===p.NEAREST?p.NEAREST_MIPMAP_NEAREST:p.LINEAR_MIPMAP_NEAREST:e),this.filter=e),i!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,i),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,i),this.wrap=i)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class qm{constructor(e){this._callback=e,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class Jm{constructor(){this.tasks={},this.taskQueue=[],Zt(["process"],this),this.invoker=new qm(this.process),this.nextId=0}add(e,i){const d=this.nextId++,p=function({type:m,isSymbolTile:w,zoom:P}){return P=P||0,"message"===m?0:"maybePrepare"!==m||w?"parseTile"!==m||w?"parseTile"===m&&w?300-P:"maybePrepare"===m&&w?400-P:500:200-P:100-P}(i);if(0===p){st();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[d]={fn:e,metadata:i,priority:p,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){st();try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const i=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!i)return;i.fn()}finally{}}pick(){let e=null,i=1/0;for(let p=0;p<this.taskQueue.length;p++){const m=this.tasks[this.taskQueue[p]];m.priority<i&&(i=m.priority,e=p)}if(null===e)return null;const d=this.taskQueue[e];return this.taskQueue.splice(e,1),d}remove(){this.invoker.remove()}}class _m{constructor(e){this._stringToNumber={},this._numberToString=[];for(let i=0;i<e.length;i++){const d=e[i];this._stringToNumber[d]=i,this._numberToString[i]=d}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}const G_=["tile","layer","source","sourceLayer","state"];class ym{constructor(e,i,d,p,m){this.type="Feature",this._vectorTileFeature=e,this._z=i,this._x=d,this._y=p,this.properties=e.properties,this.id=m}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(const i of G_)void 0!==this[i]&&(e[i]=this[i]);return e}}const Dp=new Uint16Array(8184);for(let n=0;n<2046;n++){let e=n+2,i=0,d=0,p=0,m=0,w=0,P=0;for(1&e?p=m=w=32:i=d=P=32;(e>>=1)>1;){const N=i+p>>1,Z=d+m>>1;1&e?(p=i,m=d,i=w,d=P):(i=p,d=m,p=w,m=P),w=N,P=Z}const k=4*n;Dp[k+0]=i,Dp[k+1]=d,Dp[k+2]=p,Dp[k+3]=m}const Su=new Uint16Array(2178),Ep=new Uint8Array(1089),vm=new Uint16Array(1089);function $_(n){return 0===n?-.03125:32===n?.03125:0}var Z_=Mn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const Xm={type:2,extent:oo,loadGeometry:()=>[[new ge(0,0),new ge(oo+1,0),new ge(oo+1,oo+1),new ge(0,oo+1),new ge(0,0)]]};class bm{constructor(e,i,d,p,m){this.tileID=e,this.uid=gt(),this.uses=0,this.tileSize=i,this.tileZoom=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=m,this.expiredRequestCount=0,this.state="loading",p&&p.transform&&(this.projection=p.transform.projection)}registerFadeDuration(e){const i=e+this.timeAdded;i<ir.now()||this.fadeEndTime&&i<this.fadeEndTime||(this.fadeEndTime=i)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=Ju(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,i,d){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(p,m){const w={};if(!m)return w;for(const P of p){const k=P.layerIds.map(N=>m.getLayer(N)).filter(Boolean);if(0!==k.length){P.layers=k,P.stateDependentLayerIds&&(P.stateDependentLayers=P.stateDependentLayerIds.map(N=>k.filter(Z=>Z.id===N)[0]));for(const N of k)w[N.id]=P}}return w}(e.buckets,i.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const m=this.buckets[p];if(m instanceof Rh){if(this.hasSymbolBuckets=!0,!d)break;m.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const m=this.buckets[p];if(m instanceof Rh&&m.hasRTLText){this.hasRTLText=!0,H.isLoading()||H.isLoaded()||"deferred"!==I()||z();break}}this.queryPadding=0;for(const p in this.buckets){const m=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(p).queryRadius(m))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new Xr}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(const d in this.buckets){const p=this.buckets[d];p.uploadPending()&&p.upload(e)}const i=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Wg(e,this.imageAtlas.image,i.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Wg(e,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Wg(e,this.lineAtlas.image,i.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,i,d,p,m,w,P,k){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:p,pixelPosMatrix:P,transform:w,params:m,tileTransform:this.tileTransform},e,i,d):{}}querySourceFeatures(e,i){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const p=d.loadVTLayers(),m=i?i.sourceLayer:"",w=p._geojsonTileLayer||p[m];if(!w)return;const P=Wc(i&&i.filter),{z:k,x:N,y:Z}=this.tileID.canonical,q={z:k,x:N,y:Z};for(let ce=0;ce<w.length;ce++){const xe=w.feature(ce);if(P.needGeometry){const ht=bu(xe,!0);if(!P.filter(new Y(this.tileID.overscaledZ),ht,this.tileID.canonical))continue}else if(!P.filter(new Y(this.tileID.overscaledZ),xe))continue;const Ee=d.getId(xe,m),He=new ym(xe,k,N,Z,Ee);He.tile=q,e.push(He)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const i=this.expirationTime;if(e.cacheControl){const d=U(e.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const d=Date.now();let p=!1;if(this.expirationTime>d)p=!1;else if(i)if(this.expirationTime<i)p=!0;else{const m=this.expirationTime-i;m?this.expirationTime=d+Math.max(m,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,i){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length||!i)return;const d=this.latestFeatureIndex.loadVTLayers(),p=i.style.listImages();for(const m in this.buckets){if(!i.style.hasLayer(m))continue;const w=this.buckets[m],P=w.layers[0].sourceLayer||"_geojsonTileLayer",k=d[P],N=e[P];if(!k||!N||0===Object.keys(N).length)continue;if(w.update(N,k,p,this.imageAtlas&&this.imageAtlas.patternPositions||{}),w instanceof Hc||w instanceof Wu){const q=i.style._getSourceCache(w.layers[0].source);i._terrain&&i._terrain.enabled&&q&&w.programConfigurations.needsUpload&&i._terrain._clearRenderCacheForTile(q.id,this.tileID)}const Z=i&&i.style&&i.style.getLayer(m);Z&&(this.queryPadding=Math.max(this.queryPadding,Z.queryRadius(w)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ir.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=ir.now()+e}setTexture(e,i){const d=i.context,p=d.gl;this.texture=this.texture||i.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new Wg(d,e,p.RGBA,{useMipmap:!0}),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE))}setDependencies(e,i){const d={};for(const p of i)d[p]=!0;this.dependencies[e]=d}hasDependency(e,i){for(const d of e){const p=this.dependencies[d];if(p)for(const m of i)if(p[m])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,i){if(!i||"mercator"===i.name||this._tileDebugBuffer)return;const d=vu(Xm,this.tileID.canonical,this.tileTransform)[0],p=new yi,m=new Ul;for(let w=0;w<d.length;w++){const{x:P,y:k}=d[w];p.emplaceBack(P,k),m.emplaceBack(w)}m.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(m),this._tileDebugBuffer=e.createVertexBuffer(p,vd.members),this._tileDebugSegments=os.simpleSegment(0,0,p.length,m.length)}_makeTileBoundsBuffers(e,i){if(this._tileBoundsBuffer||!i||"mercator"===i.name)return;const d=vu(Xm,this.tileID.canonical,this.tileTransform)[0];let p,m;if(this.isRaster){const w=function(P,k){const N=Ju(P,k),Z=Math.pow(2,P.z);for(let ht=0;ht<33;ht++)for(let Rt=0;Rt<33;Rt++){const tn=ac((P.x+(Rt+$_(Rt))/32)/Z),Ft=Va((P.y+(ht+$_(ht))/32)/Z),Qt=k.project(tn,Ft),pn=33*ht+Rt;Su[2*pn+0]=Math.round((Qt.x*N.scale-N.x)*oo),Su[2*pn+1]=Math.round((Qt.y*N.scale-N.y)*oo)}Ep.fill(0),vm.fill(0);for(let ht=2045;ht>=0;ht--){const Rt=4*ht,tn=Dp[Rt+0],Ft=Dp[Rt+1],Qt=Dp[Rt+2],pn=Dp[Rt+3],un=tn+Qt>>1,Hn=Ft+pn>>1,Ln=un+Hn-Ft,ri=Hn+tn-un,wi=33*Ft+tn,$n=33*pn+Qt,di=33*Hn+un,li=Math.hypot((Su[2*wi+0]+Su[2*$n+0])/2-Su[2*di+0],(Su[2*wi+1]+Su[2*$n+1])/2-Su[2*di+1])>=16;Ep[di]=Ep[di]||(li?1:0),ht<1022&&(Ep[di]=Ep[di]||Ep[33*(Ft+ri>>1)+(tn+Ln>>1)]||Ep[33*(pn+ri>>1)+(Qt+Ln>>1)])}const q=new ai,ce=new eo;let xe=0;function Ee(ht,Rt){const tn=33*Rt+ht;return 0===vm[tn]&&(q.emplaceBack(Su[2*tn+0],Su[2*tn+1],ht*oo/32,Rt*oo/32),vm[tn]=++xe),vm[tn]-1}function He(ht,Rt,tn,Ft,Qt,pn){const un=ht+tn>>1,Hn=Rt+Ft>>1;if(Math.abs(ht-Qt)+Math.abs(Rt-pn)>1&&Ep[33*Hn+un])He(Qt,pn,ht,Rt,un,Hn),He(tn,Ft,Qt,pn,un,Hn);else{const Ln=Ee(ht,Rt),ri=Ee(tn,Ft),wi=Ee(Qt,pn);ce.emplaceBack(Ln,ri,wi)}}return He(0,0,32,32,32,0),He(32,32,0,0,0,32),{vertices:q,indices:ce}}(this.tileID.canonical,i);p=w.vertices,m=w.indices}else{p=new ai,m=new eo;for(const{x:P,y:k}of d)p.emplaceBack(P,k,0,0);const w=Xp(p.int16,void 0,4);for(let P=0;P<w.length;P+=3)m.emplaceBack(w[P],w[P+1],w[P+2])}this._tileBoundsBuffer=e.createVertexBuffer(p,Z_.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(m),this._tileBoundsSegments=os.simpleSegment(0,0,p.length,m.length)}_makeGlobeTileDebugBuffers(e,i){const d=i.projection;if(!d||"globe"!==d.name||i.freezeTileCoverage)return;const p=this.tileID.canonical,m=Hd(xg(p,i)),w=_h(i.zoom);let P;w>0&&(P=yg(new Float64Array(16),i.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,p,i,m,P,w),this._makeGlobeTileDebugTextBuffer(e,p,i,m,P,w)}_globePoint(e,i,d,p,m,w,P){let k=yu(e,i,d);if(w){const N=1<<d.z,Z=vl(p.center.lng),q=Md(p.center.lat),ce=(d.x+.5)/N-Z;let xe=0;ce>.5?xe=-1:ce<-.5&&(xe=1);let Ee=(e/oo+d.x)/N+xe,He=(i/oo+d.y)/N;Ee=(Ee-Z)*p._pixelsPerMercatorPixel+Z,He=(He-q)*p._pixelsPerMercatorPixel+q;const ht=[Ee*p.worldSize,He*p.worldSize,0];ms(ht,ht,w),k=mu(k,ht,P)}return ms(k,k,m)}_makeGlobeTileDebugBorderBuffer(e,i,d,p,m,w){const P=new yi,k=new Ul,N=new kn,Z=(ce,xe,Ee,He,ht)=>{const Rt=(Ee-ce)/(ht-1),tn=(He-xe)/(ht-1),Ft=P.length;for(let Qt=0;Qt<ht;Qt++){const pn=ce+Qt*Rt,un=xe+Qt*tn;P.emplaceBack(pn,un);const Hn=this._globePoint(pn,un,i,d,p,m,w);N.emplaceBack(Hn[0],Hn[1],Hn[2]),k.emplaceBack(Ft+Qt)}},q=oo;Z(0,0,q,0,16),Z(q,0,q,q,16),Z(q,q,0,q,16),Z(0,q,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(k),this._tileDebugBuffer=e.createVertexBuffer(P,vd.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(N,Mg.members),this._tileDebugSegments=os.simpleSegment(0,0,P.length,k.length)}_makeGlobeTileDebugTextBuffer(e,i,d,p,m,w){const P=oo/4,k=new yi,N=new eo,Z=new kn,q=25;N.reserve(32),k.reserve(q),Z.reserve(q);const ce=(xe,Ee)=>q*xe+Ee;for(let xe=0;xe<q;xe++){const Ee=xe*P;for(let He=0;He<q;He++){const ht=He*P;k.emplaceBack(ht,Ee);const Rt=this._globePoint(ht,Ee,i,d,p,m,w);Z.emplaceBack(Rt[0],Rt[1],Rt[2])}}for(let xe=0;xe<4;xe++)for(let Ee=0;Ee<4;Ee++){const He=ce(xe,Ee),ht=ce(xe,Ee+1),Rt=ce(xe+1,Ee),tn=ce(xe+1,Ee+1);N.emplaceBack(He,ht,Rt),N.emplaceBack(Rt,ht,tn)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(N),this._tileDebugTextBuffer=e.createVertexBuffer(k,vd.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(Z,Mg.members),this._tileDebugTextSegments=os.simpleSegment(0,0,q,32)}}class k0{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,i,d){const p=String(i);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][p]=this.stateChanges[e][p]||{},Qe(this.stateChanges[e][p],d),null===this.deletedStates[e]){this.deletedStates[e]={};for(const m in this.state[e])m!==p&&(this.deletedStates[e][m]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][p]){this.deletedStates[e][p]={};for(const m in this.state[e][p])d[m]||(this.deletedStates[e][p][m]=null)}else for(const m in d)this.deletedStates[e]&&this.deletedStates[e][p]&&null===this.deletedStates[e][p][m]&&delete this.deletedStates[e][p][m]}removeFeatureState(e,i,d){if(null===this.deletedStates[e])return;const p=String(i);if(this.deletedStates[e]=this.deletedStates[e]||{},d&&void 0!==i)null!==this.deletedStates[e][p]&&(this.deletedStates[e][p]=this.deletedStates[e][p]||{},this.deletedStates[e][p][d]=null);else if(void 0!==i)if(this.stateChanges[e]&&this.stateChanges[e][p])for(d in this.deletedStates[e][p]={},this.stateChanges[e][p])this.deletedStates[e][p][d]=null;else this.deletedStates[e][p]=null;else this.deletedStates[e]=null}getState(e,i){const d=String(i),p=Qe({},(this.state[e]||{})[d],(this.stateChanges[e]||{})[d]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const m=this.deletedStates[e][i];if(null===m)return{};for(const w in m)delete p[w]}return p}initializeTileState(e,i){e.setFeatureState(this.state,i)}coalesceChanges(e,i){const d={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const m={};for(const w in this.stateChanges[p])this.state[p][w]||(this.state[p][w]={}),Qe(this.state[p][w],this.stateChanges[p][w]),m[w]=this.state[p][w];d[p]=m}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const m={};if(null===this.deletedStates[p])for(const w in this.state[p])m[w]={},this.state[p][w]={};else for(const w in this.deletedStates[p]){if(null===this.deletedStates[p][w])this.state[p][w]={};else if(this.state[p][w])for(const P of Object.keys(this.deletedStates[p][w]))delete this.state[p][w][P];m[w]=this.state[p][w]}d[p]=d[p]||{},Qe(d[p],m)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(d).length)for(const p in e)e[p].setFeatureState(d,i)}}class W_{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,i){const d=this.toIdx(e,i);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(e,i){return this.leaves[this.toIdx(e,i)]}toIdx(e,i){return i*this.size+e}}function od(n,e,i,d){let p=0,m=Number.MAX_VALUE;for(let w=0;w<3;w++)if(Math.abs(d[w])<1e-15){if(i[w]<n[w]||i[w]>e[w])return null}else{const P=1/d[w];let k=(n[w]-i[w])*P,N=(e[w]-i[w])*P;if(k>N){const Z=k;k=N,N=Z}if(k>p&&(p=k),N<m&&(m=N),p>m)return null}return p}function K_(n,e,i,d,p,m,w,P,k,N,Z){const q=d-n,ce=p-e,xe=m-i,Ee=w-n,He=P-e,ht=k-i,Rt=Z[1]*ht-Z[2]*He,tn=Z[2]*Ee-Z[0]*ht,Ft=Z[0]*He-Z[1]*Ee,Qt=q*Rt+ce*tn+xe*Ft;if(Math.abs(Qt)<1e-15)return null;const pn=1/Qt,un=N[0]-n,Hn=N[1]-e,Ln=N[2]-i,ri=(un*Rt+Hn*tn+Ln*Ft)*pn;if(ri<0||ri>1)return null;const wi=Hn*xe-Ln*ce,$n=Ln*q-un*xe,di=un*ce-Hn*q,li=(Z[0]*wi+Z[1]*$n+Z[2]*di)*pn;return li<0||ri+li>1?null:(Ee*wi+He*$n+ht*di)*pn}function Y_(n,e,i){return(n-e)/(i-e)}function R0(n,e,i,d,p,m,w,P,k){const N=1<<i,Z=m-d,q=w-p,ce=(n+1)/N*Z+d,xe=(e+0)/N*q+p,Ee=(e+1)/N*q+p;P[0]=(n+0)/N*Z+d,P[1]=xe,k[0]=ce,k[1]=Ee}class Cm{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const i=function(m){const w=Math.ceil(Math.log2(m.dim/8)),P=[];let k=Math.ceil(Math.pow(2,w));const N=1/k,Z=(xe,Ee,He,ht,Rt)=>{const tn=ht?1:0,Ft=(xe+1)*He-tn,Qt=Ee*He,pn=(Ee+1)*He-tn;Rt[0]=xe*He,Rt[1]=Qt,Rt[2]=Ft,Rt[3]=pn};let q=new W_(k);const ce=[];for(let xe=0;xe<k*k;xe++){Z(xe%k,Math.floor(xe/k),N,!1,ce);const Ee=Ip(ce[0],ce[1],m),He=Ip(ce[2],ce[1],m),ht=Ip(ce[2],ce[3],m),Rt=Ip(ce[0],ce[3],m);q.minimums.push(Math.min(Ee,He,ht,Rt)),q.maximums.push(Math.max(Ee,He,ht,Rt)),q.leaves.push(1)}for(P.push(q),k/=2;k>=1;k/=2){const xe=P[P.length-1];q=new W_(k);for(let Ee=0;Ee<k*k;Ee++){Z(Ee%k,Math.floor(Ee/k),2,!0,ce);const He=xe.getElevation(ce[0],ce[1]),ht=xe.getElevation(ce[2],ce[1]),Rt=xe.getElevation(ce[2],ce[3]),tn=xe.getElevation(ce[0],ce[3]),Ft=xe.isLeaf(ce[0],ce[1]),Qt=xe.isLeaf(ce[2],ce[1]),pn=xe.isLeaf(ce[2],ce[3]),un=xe.isLeaf(ce[0],ce[3]),Hn=Math.min(He.min,ht.min,Rt.min,tn.min),Ln=Math.max(He.max,ht.max,Rt.max,tn.max),ri=Ft&&Qt&&pn&&un;q.maximums.push(Ln),q.minimums.push(Hn),q.leaves.push(Ln-Hn<=5&&ri?1:0)}P.push(q)}return P}(this.dem),d=i.length-1,p=i[d];this._addNode(p.minimums[0],p.maximums[0],p.leaves[0]),this._construct(i,0,0,d,0)}raycastRoot(e,i,d,p,m,w,P=1){return od([e,i,-100],[d,p,this.maximums[0]*P],m,w)}raycast(e,i,d,p,m,w,P=1){if(!this.nodeCount)return null;const k=this.raycastRoot(e,i,d,p,m,w,P);if(null==k)return null;const N=[],Z=[],q=[],ce=[],xe=[{idx:0,t:k,nodex:0,nodey:0,depth:0}];for(;xe.length>0;){const{idx:Ee,t:He,nodex:ht,nodey:Rt,depth:tn}=xe.pop();if(this.leaves[Ee]){R0(ht,Rt,tn,e,i,d,p,q,ce);const Qt=1<<tn,pn=(ht+0)/Qt,un=(ht+1)/Qt,Hn=(Rt+0)/Qt,Ln=(Rt+1)/Qt,ri=Ip(pn,Hn,this.dem)*P,wi=Ip(un,Hn,this.dem)*P,$n=Ip(un,Ln,this.dem)*P,di=Ip(pn,Ln,this.dem)*P,li=K_(q[0],q[1],ri,ce[0],q[1],wi,ce[0],ce[1],$n,m,w),fi=K_(ce[0],ce[1],$n,q[0],ce[1],di,q[0],q[1],ri,m,w),Pi=Math.min(null!==li?li:Number.MAX_VALUE,null!==fi?fi:Number.MAX_VALUE);if(Pi!==Number.MAX_VALUE)return Pi;{const ii=_d([],m,w,He);if(Qm(ri,wi,di,$n,Y_(ii[0],q[0],ce[0]),Y_(ii[1],q[1],ce[1]))>=ii[2])return He}continue}let Ft=0;for(let Qt=0;Qt<this._siblingOffset.length;Qt++){R0((ht<<1)+this._siblingOffset[Qt][0],(Rt<<1)+this._siblingOffset[Qt][1],tn+1,e,i,d,p,q,ce),q[2]=-100,ce[2]=this.maximums[this.childOffsets[Ee]+Qt]*P;const pn=od(q,ce,m,w);if(null!=pn){const un=pn;N[Qt]=un;let Hn=!1;for(let Ln=0;Ln<Ft&&!Hn;Ln++)un>=N[Z[Ln]]&&(Z.splice(Ln,0,Qt),Hn=!0);Hn||(Z[Ft]=Qt),Ft++}}for(let Qt=0;Qt<Ft;Qt++){const pn=Z[Qt];xe.push({idx:this.childOffsets[Ee]+pn,t:N[pn],nodex:(ht<<1)+this._siblingOffset[pn][0],nodey:(Rt<<1)+this._siblingOffset[pn][1],depth:tn+1})}}return null}_addNode(e,i,d){return this.minimums.push(e),this.maximums.push(i),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(e,i,d,p,m){if(1===e[p].isLeaf(i,d))return;this.childOffsets[m]||(this.childOffsets[m]=this.nodeCount);const w=p-1,P=e[w];let k=0,N=0;for(let Z=0;Z<this._siblingOffset.length;Z++){const q=2*i+this._siblingOffset[Z][0],ce=2*d+this._siblingOffset[Z][1],xe=P.getElevation(q,ce),Ee=P.isLeaf(q,ce),He=this._addNode(xe.min,xe.max,Ee);Ee&&(k|=1<<Z),N||(N=He)}for(let Z=0;Z<this._siblingOffset.length;Z++)k&1<<Z||this._construct(e,2*i+this._siblingOffset[Z][0],2*d+this._siblingOffset[Z][1],w,N+Z)}}function Qm(n,e,i,d,p,m){return nr(nr(n,i,m),nr(e,d,m),p)}function Ip(n,e,i){const d=i.dim,p=Oe(n*d-.5,0,d-1),m=Oe(e*d-.5,0,d-1),w=Math.floor(p),P=Math.floor(m),k=Math.min(w+1,d-1),N=Math.min(P+1,d-1);return Qm(i.get(w,P),i.get(k,P),i.get(w,N),i.get(k,N),p-w,m-P)}const q_={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function L0(n,e,i){return(256*n*256+256*e+i)/10-1e4}function J_(n,e,i){return 256*n+e+i/256-32768}class wm{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,i,d,p=!1,m=!1){if(this.uid=e,i.height!==i.width)throw new RangeError("DEM tiles must be square");if(d&&"mapbox"!==d&&"terrarium"!==d)return Cn(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=i.height;const w=this.dim=i.height-2,P=new Uint32Array(i.data.buffer);if(this.pixels=new Uint8Array(i.data.buffer),this.encoding=d||"mapbox",this.borderReady=p,!p){for(let k=0;k<w;k++)P[this._idx(-1,k)]=P[this._idx(0,k)],P[this._idx(w,k)]=P[this._idx(w-1,k)],P[this._idx(k,-1)]=P[this._idx(k,0)],P[this._idx(k,w)]=P[this._idx(k,w-1)];P[this._idx(-1,-1)]=P[this._idx(0,0)],P[this._idx(w,-1)]=P[this._idx(w-1,0)],P[this._idx(-1,w)]=P[this._idx(0,w-1)],P[this._idx(w,w)]=P[this._idx(w-1,w-1)],m&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Cm(this)}get(e,i,d=!1){d&&(e=Oe(e,-1,this.dim),i=Oe(i,-1,this.dim));const p=4*this._idx(e,i);return("terrarium"===this.encoding?J_:L0)(this.pixels[p],this.pixels[p+1],this.pixels[p+2])}static getUnpackVector(e){return q_[e]}get unpackVector(){return q_[this.encoding]}_idx(e,i){if(e<-1||e>=this.dim+1||i<-1||i>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(i+1)*this.stride+(e+1)}static pack(e,i){const d=[0,0,0,0],p=wm.getUnpackVector(i);let m=Math.floor((e+p[3])/p[2]);return d[2]=m%256,m=Math.floor(m/256),d[1]=m%256,m=Math.floor(m/256),d[0]=m,d}getPixels(){return new tr({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,i,d){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let p=i*this.dim,m=i*this.dim+this.dim,w=d*this.dim,P=d*this.dim+this.dim;switch(i){case-1:p=m-1;break;case 1:m=p+1}switch(d){case-1:w=P-1;break;case 1:P=w+1}const k=-i*this.dim,N=-d*this.dim;for(let Z=w;Z<P;Z++)for(let q=p;q<m;q++){const ce=4*this._idx(q,Z),xe=4*this._idx(q+k,Z+N);this.pixels[ce+0]=e.pixels[xe+0],this.pixels[ce+1]=e.pixels[xe+1],this.pixels[ce+2]=e.pixels[xe+2],this.pixels[ce+3]=e.pixels[xe+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Vi(wm,"DEMData"),Vi(Cm,"DemMinMaxQuadTree",{omit:["dem"]});class N0{constructor(e,i){this.max=e,this.onRemove=i,this.reset()}reset(){for(const e in this.data)for(const i of this.data[e])i.timeout&&clearTimeout(i.timeout),this.onRemove(i.value);return this.data={},this.order=[],this}add(e,i,d){const p=e.wrapped().key;void 0===this.data[p]&&(this.data[p]=[]);const m={value:i,timeout:void 0};if(void 0!==d&&(m.timeout=setTimeout(()=>{this.remove(e,m)},d)),this.data[p].push(m),this.order.push(p),this.order.length>this.max){const w=this._getAndRemoveByKey(this.order[0]);w&&this.onRemove(w)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const i=this.data[e].shift();return i.timeout&&clearTimeout(i.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),i.value}getByKey(e){const i=this.data[e];return i?i[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,i){if(!this.has(e))return this;const d=e.wrapped().key,p=void 0===i?0:this.data[d].indexOf(i),m=this.data[d][p];return this.data[d].splice(p,1),m.timeout&&clearTimeout(m.timeout),0===this.data[d].length&&delete this.data[d],this.onRemove(m.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const i=this._getAndRemoveByKey(this.order[0]);i&&this.onRemove(i)}return this}filter(e){const i=[];for(const d in this.data)for(const p of this.data[d])e(p.value)||i.push(p);for(const d of i)this.remove(d.value.tileID,d)}}class Ap{constructor(e,i,d){this.func=e,this.mask=i,this.range=d}}Ap.ReadOnly=!1,Ap.ReadWrite=!0,Ap.disabled=new Ap(519,Ap.ReadOnly,[0,1]);class t_{constructor(e,i,d,p,m,w){this.test=e,this.ref=i,this.mask=d,this.fail=p,this.depthFail=m,this.pass=w}}t_.disabled=new t_({func:519,mask:0},0,0,7680,7680,7680);class eh{constructor(e,i,d){this.blendFunction=e,this.blendColor=i,this.mask=d}}eh.Replace=[1,0],eh.disabled=new eh(eh.Replace,Ni.transparent,[!1,!1,!1,!1]),eh.unblended=new eh(eh.Replace,Ni.transparent,[!0,!0,!0,!0]),eh.alphaBlended=new eh([1,771],Ni.transparent,[!0,!0,!0,!0]);class Cl{constructor(e,i,d){this.enable=e,this.mode=i,this.frontFace=d}}Cl.disabled=new Cl(!1,1029,2305),Cl.backCCW=new Cl(!0,1029,2305),Cl.backCW=new Cl(!0,1029,2304),Cl.frontCW=new Cl(!0,1028,2304),Cl.frontCCW=new Cl(!0,1028,2305);class Nh extends jo{constructor(e,i,d){super(),this.id=e,this._onlySymbols=d,i.on("data",p=>{"source"===p.dataType&&"metadata"===p.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===p.dataType&&"content"===p.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),i.on("error",()=>{this._sourceErrored=!0}),this._source=i,this._tiles={},this._cache=new N0(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=i.minTileCacheSize,this._maxTileCacheSize=i.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new k0,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const e in this._tiles){const i=this._tiles[e];if("loaded"!==i.state&&"errored"!==i.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,i){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,i)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const i in this._tiles){const d=this._tiles[i];d.upload(e),d.prepare(this.map.style.imageManager)}}getIds(){return bt(this._tiles).map(e=>e.tileID).sort(X_).map(e=>e.key)}getRenderableIds(e){const i=[];for(const d in this._tiles)this._isIdRenderable(+d,e)&&i.push(this._tiles[d]);return e?i.sort((d,p)=>{const m=d.tileID,w=p.tileID,P=new ge(m.canonical.x,m.canonical.y)._rotate(this.transform.angle),k=new ge(w.canonical.x,w.canonical.y)._rotate(this.transform.angle);return m.overscaledZ-w.overscaledZ||k.y-P.y||k.x-P.x}).map(d=>d.tileID.key):i.map(d=>d.tileID).sort(X_).map(d=>d.key)}hasRenderableParent(e){const i=this.findLoadedParent(e,0);return!!i&&this._isIdRenderable(i.tileID.key)}_isIdRenderable(e,i){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(i||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,i){const d=this._tiles[e];d&&("loading"!==d.state&&(d.state=i),this._loadTile(d,this._tileLoaded.bind(this,d,e,i)))}_tileLoaded(e,i,d,p){if(p)if(e.state="errored",404!==p.status)this._source.fire(new Ko(p,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const m=this.map.painter.terrain;this.update(this.transform,m.getScaledDemTileSize(),!0),m.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=ir.now(),"expired"===d&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new dr("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const i=this.getRenderableIds();for(let p=0;p<i.length;p++){const m=i[p];if(e.neighboringTiles&&e.neighboringTiles[m]){const w=this.getTileByID(m);d(e,w),d(w,e)}}function d(p,m){if(!p.dem||p.dem.borderReady)return;p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0;let w=m.tileID.canonical.x-p.tileID.canonical.x;const P=m.tileID.canonical.y-p.tileID.canonical.y,k=Math.pow(2,p.tileID.canonical.z),N=m.tileID.key;0===w&&0===P||Math.abs(P)>1||(Math.abs(w)>1&&(1===Math.abs(w+k)?w+=k:1===Math.abs(w-k)&&(w-=k)),m.dem&&p.dem&&(p.dem.backfillBorder(m.dem,w,P),p.neighboringTiles&&p.neighboringTiles[N]&&(p.neighboringTiles[N].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,i,d,p){for(const m in this._tiles){let w=this._tiles[m];if(p[m]||!w.hasData()||w.tileID.overscaledZ<=i||w.tileID.overscaledZ>d)continue;let P=w.tileID;for(;w&&w.tileID.overscaledZ>i+1;){const N=w.tileID.scaledTo(w.tileID.overscaledZ-1);w=this._tiles[N.key],w&&w.hasData()&&(P=N)}let k=P;for(;k.overscaledZ>i;)if(k=k.scaledTo(k.overscaledZ-1),e[k.key]){p[P.key]=P;break}}}findLoadedParent(e,i){if(e.key in this._loadedParentTiles){const d=this._loadedParentTiles[e.key];return d&&d.tileID.overscaledZ>=i?d:null}for(let d=e.overscaledZ-1;d>=i;d--){const p=e.scaledTo(d),m=this._getLoadedTile(p);if(m)return m}}_getLoadedTile(e){const i=this._tiles[e.key];return i&&i.hasData()?i:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,i){i=i||this._source.tileSize;const d=Math.ceil(e.width/i)+1,p=Math.ceil(e.height/i)+1,m=Math.floor(d*p*5),w="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,m):m,P="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,w):w;this._cache.setMaxSize(P)}handleWrapJump(e){const i=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,i){const d={};for(const p in this._tiles){const m=this._tiles[p];m.tileID=m.tileID.unwrapTo(m.tileID.wrap+i),d[m.tileID.key]=m}this._tiles=d;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(+p,this._tiles[p])}}update(e,i,d){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!d)return;let p;this.updateCacheSize(e,i),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(P=>new rl(P.canonical.z,P.wrap,P.canonical.z,P.canonical.x,P.canonical.y)):(p=e.coveringTiles({tileSize:i||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!d,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(p=p.filter(P=>this._source.hasTile(P)))):p=[];const m=this._updateRetainedTiles(p);if(o_(this._source.type)&&0!==p.length){const P={},k={},N=Object.keys(m);for(const q of N){const ce=m[q],xe=this._tiles[q];if(!xe||xe.fadeEndTime&&xe.fadeEndTime<=ir.now())continue;const Ee=this.findLoadedParent(ce,Math.max(ce.overscaledZ-Nh.maxOverzooming,this._source.minzoom));Ee&&(this._addTile(Ee.tileID),P[Ee.tileID.key]=Ee.tileID),k[q]=ce}const Z=p[p.length-1].overscaledZ;for(const q in this._tiles){const ce=this._tiles[q];if(m[q]||!ce.hasData())continue;let xe=ce.tileID;for(;xe.overscaledZ>Z;){xe=xe.scaledTo(xe.overscaledZ-1);const Ee=this._tiles[xe.key];if(Ee&&Ee.hasData()&&k[xe.key]){m[q]=ce.tileID;break}}}for(const q in P)m[q]||(this._coveredTiles[q]=!0,m[q]=P[q])}for(const P in m)this._tiles[P].clearFadeHold();const w=function(P,k){const N=[];for(const Z in P)Z in k||N.push(Z);return N}(this._tiles,m);for(const P of w){const k=this._tiles[P];k.hasSymbolBuckets&&!k.holdingForFade()?k.setHoldDuration(this.map._fadeDuration):k.hasSymbolBuckets&&!k.symbolFadeFinished()||this._removeTile(+P)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const i={};if(0===e.length)return i;const d={},p=e.reduce((N,Z)=>Math.min(N,Z.overscaledZ),1/0),m=e[0].overscaledZ,w=Math.max(m-Nh.maxOverzooming,this._source.minzoom),P=Math.max(m+Nh.maxUnderzooming,this._source.minzoom),k={};for(const N of e){const Z=this._addTile(N);i[N.key]=N,Z.hasData()||p<this._source.maxzoom&&(k[N.key]=N)}this._retainLoadedChildren(k,p,P,i);for(const N of e){let Z=this._tiles[N.key];if(Z.hasData())continue;if(N.canonical.z>=this._source.maxzoom){const ce=N.children(this._source.maxzoom)[0],xe=this.getTile(ce);if(xe&&xe.hasData()){i[ce.key]=ce;continue}}else{const ce=N.children(this._source.maxzoom);if(i[ce[0].key]&&i[ce[1].key]&&i[ce[2].key]&&i[ce[3].key])continue}let q=Z.wasRequested();for(let ce=N.overscaledZ-1;ce>=w;--ce){const xe=N.scaledTo(ce);if(d[xe.key]||(d[xe.key]=!0,Z=this.getTile(xe),!Z&&q&&(Z=this._addTile(xe)),Z&&(i[xe.key]=xe,q=Z.wasRequested(),Z.hasData())))break}}return i}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const i=[];let d,p=this._tiles[e].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){d=this._loadedParentTiles[p.key];break}i.push(p.key);const m=p.scaledTo(p.overscaledZ-1);if(d=this._getLoadedTile(m),d)break;p=m}for(const m of i)this._loadedParentTiles[m]=d}}_addTile(e){let i=this._tiles[e.key];if(i)return i;i=this._cache.getAndRemove(e),i&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));const d=!!i;if(!d){const p=this.map?this.map.painter:null;i=new bm(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,p,this._isRaster),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))}return i?(i.uses++,this._tiles[e.key]=i,d||this._source.fire(new dr("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null}_setTileReloadTimer(e,i){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const d=i.getExpiryTimeout();d&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},d))}_removeTile(e){const i=this._tiles[e];i&&(i.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),i.uses>0||(i.hasData()&&"reloading"!==i.state?this._cache.add(i.tileID,i,i.getExpiryTimeout()):(i.aborted=!0,this._abortTile(i),this._unloadTile(i))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(e,i,d){const p=[],m=this.transform;if(!m)return p;const w="globe"===m.projection.name,P=vl(m.center.lng);for(const k in this._tiles){const N=this._tiles[k];if(d&&N.clearQueryDebugViz(),N.holdingForFade())continue;let Z;if(w){const q=N.tileID.canonical;if(0===q.z){const ce=[Math.abs(Oe(P,...Bf(q,-1))-P),Math.abs(Oe(P,...Bf(q,1))-P)];Z=[0,2*ce.indexOf(Math.min(...ce))-1]}else{const ce=[Math.abs(Oe(P,...Bf(q,-1))-P),Math.abs(Oe(P,...Bf(q,0))-P),Math.abs(Oe(P,...Bf(q,1))-P)];Z=[ce.indexOf(Math.min(...ce))-1]}}else Z=[0];for(const q of Z){const ce=e.containsTile(N,m,i,q);ce&&p.push(ce)}}return p}getVisibleCoordinates(e){const i=this.getRenderableIds(e).map(d=>this._tiles[d].tileID);for(const d of i)d.projMatrix=this.transform.calculateProjMatrix(d.toUnwrapped());return i}hasTransition(){if(this._source.hasTransition())return!0;if(o_(this._source.type))for(const e in this._tiles){const i=this._tiles[e];if(void 0!==i.fadeEndTime&&i.fadeEndTime>=ir.now())return!0}return!1}setFeatureState(e,i,d){this._state.updateState(e=e||"_geojsonTileLayer",i,d)}removeFeatureState(e,i,d){this._state.removeFeatureState(e=e||"_geojsonTileLayer",i,d)}getFeatureState(e,i){return this._state.getState(e=e||"_geojsonTileLayer",i)}setDependencies(e,i,d){const p=this._tiles[e];p&&p.setDependencies(i,d)}reloadTilesForDependencies(e,i){for(const d in this._tiles)this._tiles[d].hasDependency(e,i)&&this._reloadTile(+d,"reloading");this._cache.filter(d=>!d.hasDependency(e,i))}_preloadTiles(e,i){if(!this._sourceLoaded){const P=()=>{this._sourceLoaded&&(this._source.off("data",P),this._preloadTiles(e,i))};return void this._source.on("data",P)}const d=new Map,p=Array.isArray(e)?e:[e],m=this.map.painter.terrain,w=this.usedForTerrain&&m?m.getScaledDemTileSize():this._source.tileSize;for(const P of p){const k=P.coveringTiles({tileSize:w,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const N of k)d.set(N.key,N);this.usedForTerrain&&P.updateElevation(!1)}an(Array.from(d.values()),(P,k)=>{const N=new bm(P,this._source.tileSize*P.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(N,Z=>{"raster-dem"===this._source.type&&N.dem&&this._backfillDEM(N),k(Z,N)})},i)}}function X_(n,e){const i=Math.abs(2*n.wrap)-+(n.wrap<0),d=Math.abs(2*e.wrap)-+(e.wrap<0);return n.overscaledZ-e.overscaledZ||d-i||e.canonical.y-n.canonical.y||e.canonical.x-n.canonical.x}function o_(n){return"raster"===n||"image"===n||"video"===n||"custom"===n}function Bf(n,e){const i=1<<n.z;return[n.x/i+e,(n.x+1)/i+e]}Nh.maxOverzooming=10,Nh.maxUnderzooming=3;class zf{constructor(e,i,d){this._demTile=e,this._dem=this._demTile.dem,this._scale=i,this._offset=d}static create(e,i,d){const p=d||e.findDEMTileFor(i);if(!p||!p.dem)return;const m=p.dem,w=p.tileID,P=1<<i.canonical.z-w.canonical.z;return new zf(p,p.tileSize/oo/P,[(i.canonical.x/P-w.canonical.x)*m.dim,(i.canonical.y/P-w.canonical.y)*m.dim])}tileCoordToPixel(e,i){const d=i*this._scale+this._offset[1],p=Math.floor(e*this._scale+this._offset[0]),m=Math.floor(d);return new ge(p,m)}getElevationAt(e,i,d,p){const m=e*this._scale+this._offset[0],w=i*this._scale+this._offset[1],P=Math.floor(m),k=Math.floor(w),N=this._dem;return p=!!p,d?nr(nr(N.get(P,k,p),N.get(P,k+1,p),w-k),nr(N.get(P+1,k,p),N.get(P+1,k+1,p),w-k),m-P):N.get(P,k,p)}getElevationAtPixel(e,i,d){return this._dem.get(e,i,!!d)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*ed(1,e)*this._dem.stride}}class r_{constructor(e,i){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new la(oo,16,0),this.featureIndexArray=new er,this.promoteId=i}insert(e,i,d,p,m,w=0){const P=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,p,m,w);const k=this.grid;for(let N=0;N<i.length;N++){const Z=i[N],q=[1/0,1/0,-1/0,-1/0];for(let ce=0;ce<Z.length;ce++){const xe=Z[ce];q[0]=Math.min(q[0],xe.x),q[1]=Math.min(q[1],xe.y),q[2]=Math.max(q[2],xe.x),q[3]=Math.max(q[3],xe.y)}q[0]<oo&&q[1]<oo&&q[2]>=0&&q[3]>=0&&k.insert(P,q[0],q[1],q[2],q[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new eg(new Ug(this.rawTileData)).layers,this.sourceLayerCoder=new _m(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,i,d,p){this.loadVTLayers();const m=e.params||{},w=Wc(m.filter),P=e.tileResult,k=e.transform,N=P.bufferedTilespaceBounds,Z=this.grid.query(N.min.x,N.min.y,N.max.x,N.max.y,(Ee,He,ht,Rt)=>B(P.bufferedTilespaceGeometry,Ee,He,ht,Rt));Z.sort(s_);let q=null;k.elevation&&Z.length>0&&(q=zf.create(k.elevation,this.tileID));const ce={};let xe;for(let Ee=0;Ee<Z.length;Ee++){const He=Z[Ee];if(He===xe)continue;xe=He;const ht=this.featureIndexArray.get(He);let Rt=null;this.loadMatchingFeature(ce,ht,w,m.layers,m.availableImages,i,d,p,(tn,Ft,Qt,pn=0)=>(Rt||(Rt=vu(tn,this.tileID.canonical,e.tileTransform)),Ft.queryIntersectsFeature(P,tn,Qt,Rt,this.z,e.transform,e.pixelPosMatrix,q,pn)))}return ce}loadMatchingFeature(e,i,d,p,m,w,P,k,N){const{featureIndex:Z,bucketIndex:q,sourceLayerIndex:ce,layoutVertexArrayOffset:xe}=i,Ee=this.bucketLayerIDs[q];if(p&&!function(tn,Ft){for(let Qt=0;Qt<tn.length;Qt++)if(Ft.indexOf(tn[Qt])>=0)return!0;return!1}(p,Ee))return;const He=this.sourceLayerCoder.decode(ce),ht=this.vtLayers[He].feature(Z);if(d.needGeometry){const tn=bu(ht,!0);if(!d.filter(new Y(this.tileID.overscaledZ),tn,this.tileID.canonical))return}else if(!d.filter(new Y(this.tileID.overscaledZ),ht))return;const Rt=this.getId(ht,He);for(let tn=0;tn<Ee.length;tn++){const Ft=Ee[tn];if(p&&p.indexOf(Ft)<0)continue;const Qt=w[Ft];if(!Qt)continue;let pn={};void 0!==Rt&&k&&(pn=k.getState(Qt.sourceLayer||"_geojsonTileLayer",Rt));const un=Qe({},P[Ft]);un.paint=Uf(un.paint,Qt.paint,ht,pn,m),un.layout=Uf(un.layout,Qt.layout,ht,pn,m);const Hn=!N||N(ht,Qt,pn,xe);if(!Hn)continue;const Ln=new ym(ht,this.z,this.x,this.y,Rt);Ln.layer=un;let ri=e[Ft];void 0===ri&&(ri=e[Ft]=[]),ri.push({featureIndex:Z,feature:Ln,intersectionZ:Hn})}}lookupSymbolFeatures(e,i,d,p,m,w,P,k){const N={};this.loadVTLayers();const Z=Wc(m);for(const q of e)this.loadMatchingFeature(N,{bucketIndex:d,sourceLayerIndex:p,featureIndex:q,layoutVertexArrayOffset:0},Z,w,P,k,i);return N}loadFeature(e){const{featureIndex:i,sourceLayerIndex:d}=e;this.loadVTLayers();const p=this.sourceLayerCoder.decode(d),m=this.vtFeatures[p];if(m[i])return m[i];const w=this.vtLayers[p].feature(i);return m[i]=w,w}hasLayer(e){for(const i of this.bucketLayerIDs)for(const d of i)if(e===d)return!0;return!1}getId(e,i){let d=e.id;if(this.promoteId){const p="string"==typeof this.promoteId?this.promoteId:this.promoteId[i];null!=p&&(d=e.properties[p]),"boolean"==typeof d&&(d=Number(d))}return d}}function Uf(n,e,i,d,p){return Ve(n,(m,w)=>{const P=e instanceof Pt?e.get(w):null;return P&&P.evaluate?P.evaluate(i,d,p):P})}function s_(n,e){return e-n}Vi(r_,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class F0{constructor(e,i){this.width=e,this.height=i,this.nextRow=0,this.image=new lr({width:e,height:i}),this.positions={},this.uploaded=!1}getDash(e,i){const d=this.getKey(e,i);return this.positions[d]}trim(){const e=this.width,i=this.height=at(this.nextRow);this.image.resize({width:e,height:i})}getKey(e,i){return e.join(",")+i}getDashRanges(e,i,d){const p=[];let m=e.length%2==1?-e[e.length-1]*d:0,w=e[0]*d,P=!0;p.push({left:m,right:w,isDash:P,zeroLength:0===e[0]});let k=e[0];for(let N=1;N<e.length;N++){P=!P;const Z=e[N];m=k*d,k+=Z,w=k*d,p.push({left:m,right:w,isDash:P,zeroLength:0===Z})}return p}addRoundDash(e,i,d){const p=i/2;for(let m=-d;m<=d;m++){const w=this.width*(this.nextRow+d+m);let P=0,k=e[P];for(let N=0;N<this.width;N++){N/k.right>1&&(k=e[++P]);const Z=Math.abs(N-k.left),q=Math.abs(N-k.right),ce=Math.min(Z,q);let xe;const Ee=m/d*(p+1);if(k.isDash){const He=p-Math.abs(Ee);xe=Math.sqrt(ce*ce+He*He)}else xe=p-Math.sqrt(ce*ce+Ee*Ee);this.image.data[w+N]=Math.max(0,Math.min(255,xe+128))}}}addRegularDash(e,i){for(let k=e.length-1;k>=0;--k){const N=e[k],Z=e[k+1];N.zeroLength?e.splice(k,1):Z&&Z.isDash===N.isDash&&(Z.left=N.left,e.splice(k,1))}const d=e[0],p=e[e.length-1];d.isDash===p.isDash&&(d.left=p.left-this.width,p.right=d.right+this.width);const m=this.width*this.nextRow;let w=0,P=e[w];for(let k=0;k<this.width;k++){k/P.right>1&&(P=e[++w]);const N=Math.abs(k-P.left),Z=Math.abs(k-P.right),q=Math.min(N,Z);this.image.data[m+k]=Math.max(0,Math.min(255,(P.isDash?q:-q)+i+128))}}addDash(e,i){const d=this.getKey(e,i);if(this.positions[d])return this.positions[d];const p="round"===i,m=p?7:0,w=2*m+1;if(this.nextRow+w>this.height)return Cn("LineAtlas out of space"),null;0===e.length&&e.push(1);let P=0;for(let Z=0;Z<e.length;Z++)e[Z]<0&&(Cn("Negative value is found in line dasharray, replacing values with 0"),e[Z]=0),P+=e[Z];if(0!==P){const Z=this.width/P,q=this.getDashRanges(e,this.width,Z);p?this.addRoundDash(q,Z,m):this.addRegularDash(q,"square"===i?.5*Z:0)}const k=this.nextRow+m;this.nextRow+=w;const N={tl:[k,m],br:[P,0]};return this.positions[d]=N,N}}Vi(F0,"LineAtlas");const a_=1*ro;class l_{constructor(e){const i={},d=[];for(const P in e){const k=e[P],N=i[P]={};for(const Z in k.glyphs){const q=k.glyphs[+Z];if(!q||0===q.bitmap.width||0===q.bitmap.height)continue;const ce=q.metrics.localGlyph?a_:1,xe={x:0,y:0,w:q.bitmap.width+2*ce,h:q.bitmap.height+2*ce};d.push(xe),N[Z]=xe}}const{w:p,h:m}=Sf(d),w=new lr({width:p||1,height:m||1});for(const P in e){const k=e[P];for(const N in k.glyphs){const Z=k.glyphs[+N];if(!Z||0===Z.bitmap.width||0===Z.bitmap.height)continue;const q=i[P][N],ce=Z.metrics.localGlyph?a_:1;lr.copy(Z.bitmap,w,{x:0,y:0},{x:q.x+ce,y:q.y+ce},Z.bitmap)}}this.image=w,this.positions=i}}Vi(l_,"GlyphAtlas");class Q_{constructor(e){this.tileID=new rl(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,this.tileTransform=Ju(e.tileID.canonical,e.projection),this.projection=e.projection}parse(e,i,d,p,m){this.status="parsing",this.data=e,this.collisionBoxArray=new Xr;const w=new _m(Object.keys(e.layers).sort()),P=new r_(this.tileID,this.promoteId);P.bucketLayerIDs=[];const k={},N=new F0(256,256),Z={featureIndex:P,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:N,availableImages:d},q=i.familiesBySource[this.source];for(const pn in q){const un=e.layers[pn];if(!un)continue;let Hn=!1,Ln=!1;for(const $n of q[pn])"symbol"===$n[0].type?Hn=!0:Ln=!0;if(!0===this.isSymbolTile&&!Hn||!1===this.isSymbolTile&&!Ln)continue;1===un.version&&Cn(`Vector tile source "${this.source}" layer "${pn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ri=w.encode(pn),wi=[];for(let $n=0;$n<un.length;$n++){const di=un.feature($n),li=P.getId(di,pn);wi.push({feature:di,id:li,index:$n,sourceLayerIndex:ri})}for(const $n of q[pn]){const di=$n[0];void 0!==this.isSymbolTile&&"symbol"===di.type!==this.isSymbolTile||di.minzoom&&this.zoom<Math.floor(di.minzoom)||di.maxzoom&&this.zoom>=di.maxzoom||"none"!==di.visibility&&(Mm($n,this.zoom,d),(k[di.id]=di.createBucket({index:P.bucketLayerIDs.length,layers:$n,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ri,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:d})).populate(wi,Z,this.tileID.canonical,this.tileTransform),P.bucketLayerIDs.push($n.map(li=>li.id)))}}let ce,xe,Ee,He;N.trim();const ht={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Rt=()=>{if(ce)return m(ce);if(xe&&Ee&&He){const pn=new l_(xe),un=new Df(Ee,He);for(const Hn in k){const Ln=k[Hn];Ln instanceof Rh?(Mm(Ln.layers,this.zoom,d),hm(Ln,xe,pn.positions,Ee,un.iconPositions,this.showCollisionBoxes,d,this.tileID.canonical,this.tileZoom,this.projection)):Ln.hasPattern&&(Ln instanceof Hc||Ln instanceof Wu||Ln instanceof pp)&&(Mm(Ln.layers,this.zoom,d),Ln.addFeatures(Z,this.tileID.canonical,un.patternPositions,d,this.tileTransform))}this.status="done",m(null,{buckets:bt(k).filter(Hn=>!Hn.isEmpty()),featureIndex:P,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:pn.image,lineAtlas:N,imageAtlas:un,glyphMap:this.returnDependencies?xe:null,iconMap:this.returnDependencies?Ee:null,glyphPositions:this.returnDependencies?pn.positions:null})}},tn=Ve(Z.glyphDependencies,pn=>Object.keys(pn).map(Number));Object.keys(tn).length?p.send("getGlyphs",{uid:this.uid,stacks:tn},(pn,un)=>{ce||(ce=pn,xe=un,Rt())},void 0,!1,ht):xe={};const Ft=Object.keys(Z.iconDependencies);Ft.length?p.send("getImages",{icons:Ft,source:this.source,tileID:this.tileID,type:"icons"},(pn,un)=>{ce||(ce=pn,Ee=un,Rt())},void 0,!1,ht):Ee={};const Qt=Object.keys(Z.patternDependencies);Qt.length?p.send("getImages",{icons:Qt,source:this.source,tileID:this.tileID,type:"patterns"},(pn,un)=>{ce||(ce=pn,He=un,Rt())},void 0,!1,ht):He={},Rt()}}function Mm(n,e,i){const d=new Y(e);for(const p of n)p.recalculate(d,i)}class xm{constructor(e){this.entries={},this.scheduler=e}request(e,i,d,p){const m=this.entries[e]=this.entries[e]||{callbacks:[]};if(m.result){const[w,P]=m.result;return this.scheduler?this.scheduler.add(()=>{p(w,P)},i):p(w,P),()=>{}}return m.callbacks.push(p),m.cancel||(m.cancel=d((w,P)=>{m.result=[w,P];for(const k of m.callbacks)this.scheduler?this.scheduler.add(()=>{k(w,P)},i):k(w,P);setTimeout(()=>delete this.entries[e],3e3)})),()=>{m.result||(m.callbacks=m.callbacks.filter(w=>w!==p),m.callbacks.length||(m.cancel(),delete this.entries[e]))}}}function th(n,e,i){const d=JSON.stringify(n.request);return n.data&&(this.deduped.entries[d]={result:[null,n.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:n.isSymbolTile,zoom:n.tileZoom},p=>{const m=no(n.request,(w,P,k,N)=>{w?p(w):P&&p(null,{vectorTile:i?void 0:new eg(new Ug(P)),rawData:P,cacheControl:k,expires:N})});return()=>{m.cancel(),p()}},e)}const e0=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class c_{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[i,d]=new Uint8Array(e,0,2);if(219!==i)throw new Error("Data does not appear to be in a KDBush format.");const p=d>>4;if(1!==p)throw new Error(`Got v${p} data when expected v1.`);const m=e0[15&d];if(!m)throw new Error("Unrecognized array type.");const[w]=new Uint16Array(e,2,1),[P]=new Uint32Array(e,4,1);return new c_(P,w,m,e)}constructor(e,i=64,d=Float64Array,p){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+i,2),65535),this.ArrayType=d,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const m=e0.indexOf(this.ArrayType),w=2*e*this.ArrayType.BYTES_PER_ELEMENT,P=e*this.IndexArrayType.BYTES_PER_ELEMENT,k=(8-P%8)%8;if(m<0)throw new Error(`Unexpected typed array class: ${d}.`);p&&p instanceof ArrayBuffer?(this.data=p,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+P+k,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+w+P+k),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+P+k,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+m]),new Uint16Array(this.data,2,1)[0]=i,new Uint32Array(this.data,4,1)[0]=e)}add(e,i){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=e,this.coords[this._pos++]=i,d}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Hf(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,i,d,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:m,coords:w,nodeSize:P}=this,k=[0,m.length-1,0],N=[];for(;k.length;){const Z=k.pop()||0,q=k.pop()||0,ce=k.pop()||0;if(q-ce<=P){for(let ht=ce;ht<=q;ht++){const Rt=w[2*ht],tn=w[2*ht+1];Rt>=e&&Rt<=d&&tn>=i&&tn<=p&&N.push(m[ht])}continue}const xe=ce+q>>1,Ee=w[2*xe],He=w[2*xe+1];Ee>=e&&Ee<=d&&He>=i&&He<=p&&N.push(m[xe]),(0===Z?e<=Ee:i<=He)&&(k.push(ce),k.push(xe-1),k.push(1-Z)),(0===Z?d>=Ee:p>=He)&&(k.push(xe+1),k.push(q),k.push(1-Z))}return N}within(e,i,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:p,coords:m,nodeSize:w}=this,P=[0,p.length-1,0],k=[],N=d*d;for(;P.length;){const Z=P.pop()||0,q=P.pop()||0,ce=P.pop()||0;if(q-ce<=w){for(let ht=ce;ht<=q;ht++)jf(m[2*ht],m[2*ht+1],e,i)<=N&&k.push(p[ht]);continue}const xe=ce+q>>1,Ee=m[2*xe],He=m[2*xe+1];jf(Ee,He,e,i)<=N&&k.push(p[xe]),(0===Z?e-d<=Ee:i-d<=He)&&(P.push(ce),P.push(xe-1),P.push(1-Z)),(0===Z?e+d>=Ee:i+d>=He)&&(P.push(xe+1),P.push(q),P.push(1-Z))}return k}}function Hf(n,e,i,d,p,m){if(p-d<=i)return;const w=d+p>>1;t0(n,e,w,d,p,m),Hf(n,e,i,d,w-1,1-m),Hf(n,e,i,w+1,p,1-m)}function t0(n,e,i,d,p,m){for(;p>d;){if(p-d>600){const N=p-d+1,Z=i-d+1,q=Math.log(N),ce=.5*Math.exp(2*q/3),xe=.5*Math.sqrt(q*ce*(N-ce)/N)*(Z-N/2<0?-1:1);t0(n,e,i,Math.max(d,Math.floor(i-Z*ce/N+xe)),Math.min(p,Math.floor(i+(N-Z)*ce/N+xe)),m)}const w=e[2*i+m];let P=d,k=p;for(Kg(n,e,d,i),e[2*p+m]>w&&Kg(n,e,d,p);P<k;){for(Kg(n,e,P,k),P++,k--;e[2*P+m]<w;)P++;for(;e[2*k+m]>w;)k--}e[2*d+m]===w?Kg(n,e,d,k):(k++,Kg(n,e,k,p)),k<=i&&(d=k+1),i<=k&&(p=k-1)}}function Kg(n,e,i,d){d_(n,i,d),d_(e,2*i,2*d),d_(e,2*i+1,2*d+1)}function d_(n,e,i){const d=n[e];n[e]=n[i],n[i]=d}function jf(n,e,i,d){const p=n-i,m=e-d;return p*p+m*m}c.ARRAY_TYPE=nl,c.AUTH_ERR_MSG=Et,c.Aabb=Da,c.Actor=class{constructor(n,e,i){this.target=n,this.parent=e,this.mapId=i,this.callbacks={},this.cancelCallbacks={},Zt(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=st()?n:T,this.scheduler=new Jm}send(n,e,i,d,p=!1,m){const w=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(i.metadata=m,this.callbacks[w]=i);const P=Vt(this.globalScope)?void 0:[];return this.target.postMessage({id:w,type:n,hasCallback:!!i,targetMapId:d,mustQueue:p,sourceMapId:this.mapId,data:j(e,P)},P),{cancel:()=>{i&&delete this.callbacks[w],this.target.postMessage({id:w,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}receive(n){const e=n.data,i=e.id;if(i&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){const d=this.cancelCallbacks[i];delete this.cancelCallbacks[i],d&&d.cancel()}else if(e.mustQueue||st()){const d=this.callbacks[i];this.cancelCallbacks[i]=this.scheduler.add(()=>this.processTask(i,e),d&&d.metadata||{type:"message"})}else this.processTask(i,e)}processTask(n,e){if("<response>"===e.type){const i=this.callbacks[n];delete this.callbacks[n],i&&(e.error?i(te(e.error)):i(null,te(e.data)))}else{const i=Vt(this.globalScope)?void 0:[],d=e.hasCallback?(m,w)=>{delete this.cancelCallbacks[n],this.target.postMessage({id:n,type:"<response>",sourceMapId:this.mapId,error:m?j(m):null,data:j(w,i)},i)}:m=>{},p=te(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,p,d);else if(this.parent.getWorkerSource){const m=e.type.split(".");this.parent.getWorkerSource(e.sourceMapId,m[0],p.source)[m[1]](p,d)}else d(new Error(`Could not find function ${e.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},c.CanonicalTileID=_p,c.Color=Ni,c.ColorMode=eh,c.CullFaceMode=Cl,c.DEMData=wm,c.DataConstantProperty=Fe,c.DedupedRequest=xm,c.DepthMode=Ap,c.EXTENT=oo,c.Elevation=class{isDataAvailableAtPoint(n){const e=this._source();if(this.isUsingMockSource()||!e||n.y<0||n.y>1)return!1;const i=e.getSource().maxzoom,d=1<<i,p=Math.floor(n.x),m=Math.floor((n.x-p)*d),w=Math.floor(n.y*d),P=this.findDEMTileFor(new rl(i,p,i,m,w));return!(!P||!P.dem)}getAtPointOrZero(n,e=0){return this.getAtPoint(n,e)||0}getAtPoint(n,e,i=!0){if(this.isUsingMockSource())return null;null==e&&(e=null);const d=this._source();if(!d||n.y<0||n.y>1)return e;const p=d.getSource().maxzoom,m=1<<p,w=Math.floor(n.x),P=n.x-w,k=new rl(p,w,p,Math.floor(P*m),Math.floor(n.y*m)),N=this.findDEMTileFor(k);if(!N||!N.dem)return e;const Z=N.dem,q=1<<N.tileID.canonical.z,ce=(P*q-N.tileID.canonical.x)*Z.dim,xe=(n.y*q-N.tileID.canonical.y)*Z.dim,Ee=Math.floor(ce),He=Math.floor(xe);return(i?this.exaggeration():1)*nr(nr(Z.get(Ee,He),Z.get(Ee,He+1),xe-He),nr(Z.get(Ee+1,He),Z.get(Ee+1,He+1),xe-He),ce-Ee)}getAtTileOffset(n,e,i){const d=1<<n.canonical.z;return this.getAtPointOrZero(new ju(n.wrap+(n.canonical.x+e/oo)/d,(n.canonical.y+i/oo)/d))}getAtTileOffsetFunc(n,e,i,d){return p=>{const m=this.getAtTileOffset(n,p.x,p.y),w=d.upVector(n.canonical,p.x,p.y);return rc(w,w,m*d.upVectorScale(n.canonical,e,i).metersToTile),w}}getForTilePoints(n,e,i,d){if(this.isUsingMockSource())return!1;const p=zf.create(this,n,d);return!!p&&(e.forEach(m=>{m[2]=this.exaggeration()*p.getElevationAt(m[0],m[1],i)}),!0)}getMinMaxForTile(n){if(this.isUsingMockSource())return null;const e=this.findDEMTileFor(n);if(!e||!e.dem)return null;const i=e.dem.tree,d=e.tileID,p=1<<n.canonical.z-d.canonical.z;let m=n.canonical.x/p-d.canonical.x,w=n.canonical.y/p-d.canonical.y,P=0;for(let k=0;k<n.canonical.z-d.canonical.z&&!i.leaves[P];k++){m*=2,w*=2;const N=2*Math.floor(w)+Math.floor(m);P=i.childOffsets[P]+N,m%=1,w%=1}return{min:this.exaggeration()*i.minimums[P],max:this.exaggeration()*i.maximums[P]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(n,e,i){throw new Error("Pure virtual method called.")}pointCoordinate(n){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(n){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},c.ErrorEvent=Ko,c.EvaluationParameters=Y,c.Event=dr,c.Evented=jo,c.FillExtrusionBucket=pp,c.Frustum=Uu,c.FrustumCorners=Xh,c.GLOBE_RADIUS=Dl,c.GLOBE_SCALE_MATCH_LATITUDE=45,c.GLOBE_ZOOM_THRESHOLD_MAX=fh,c.GLOBE_ZOOM_THRESHOLD_MIN=jp,c.GlobeSharedBuffers=class{constructor(n){this._createGrid(n),this._createPoles(n)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const n of this._poleSegments)n.destroy();for(const n of this._gridSegments)n.withSkirts.destroy(),n.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const n of this._wireframeSegments)n.destroy()}}_fillGridMeshWithLods(n,e){const i=new yi,d=new eo,p=[],m=n+1+2,w=e[0]+1,P=e[0]+1+(1+e.length),k=(N,Z,q)=>{let ce=N===m-1?N-2:0===N?N:N-1;return ce+=q?24575:0,[ce,Z]};for(let N=0;N<m;++N)i.emplaceBack(...k(N,0,!0));for(let N=0;N<w;++N)for(let Z=0;Z<m;++Z)i.emplaceBack(...k(Z,N,(0===Z||Z===m-1)&&!0));for(let N=0;N<e.length;++N){const Z=e[N];for(let q=0;q<m;++q)i.emplaceBack(...k(q,Z,!0))}for(let N=0;N<e.length;++N){const Z=d.length,q=e[N]+1+2,ce=new eo;for(let He=0;He<q-1;He++){const ht=He===q-2,Rt=ht?m*(P-e.length+N-He):m;for(let tn=0;tn<m-1;tn++){const Ft=He*m+tn;0===He||ht||0===tn||tn===m-2?(ce.emplaceBack(Ft+1,Ft,Ft+Rt),ce.emplaceBack(Ft+Rt,Ft+Rt+1,Ft+1)):(d.emplaceBack(Ft+1,Ft,Ft+Rt),d.emplaceBack(Ft+Rt,Ft+Rt+1,Ft+1))}}const xe=os.simpleSegment(0,Z,i.length,d.length-Z);for(let He=0;He<ce.uint16.length;He+=3)d.emplaceBack(ce.uint16[He],ce.uint16[He+1],ce.uint16[He+2]);const Ee=os.simpleSegment(0,Z,i.length,d.length-Z);p.push({withoutSkirts:xe,withSkirts:Ee})}return{vertices:i,indices:d,segments:p}}_createGrid(n){const e=this._fillGridMeshWithLods(64,bd);this._gridSegments=e.segments,this._gridBuffer=n.createVertexBuffer(e.vertices,vd.members),this._gridIndexBuffer=n.createIndexBuffer(e.indices,!0)}_createPoles(n){const e=new eo;for(let p=0;p<=64;p++)e.emplaceBack(0,p+1,p+2);this._poleIndexBuffer=n.createIndexBuffer(e,!0);const i=new $r,d=new $r;this._poleSegments=[];for(let p=0,m=0;p<jp;p++){const w=360/(1<<p);i.emplaceBack(0,-Dl,0,.5,0),d.emplaceBack(0,-Dl,0,.5,1);for(let P=0;P<=64;P++){const k=P/64,N=nr(0,w,k),[Z,q,ce]=ja(Kf,Kp,N,Dl);i.emplaceBack(Z,q,ce,k,0),d.emplaceBack(Z,q,ce,k,1)}this._poleSegments.push(os.simpleSegment(m,0,66,64)),m+=66}this._poleNorthVertexBuffer=n.createVertexBuffer(i,Hp,!1),this._poleSouthVertexBuffer=n.createVertexBuffer(d,Hp,!1)}getGridBuffers(n,e){return[this._gridBuffer,this._gridIndexBuffer,e?this._gridSegments[n].withSkirts:this._gridSegments[n].withoutSkirts]}getPoleBuffers(n){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[n]]}getWirefameBuffers(n,e){if(!this._wireframeSegments){const i=new ba,d=64,p=d+1+2,m=1;this._wireframeSegments=[];for(let w=0,P=0;w<bd.length;w++){const k=bd[w];for(let Z=m;Z<k+m;Z++)for(let q=m;q<d+m;q++){const ce=Z*p+q;i.emplaceBack(ce,ce+1),i.emplaceBack(ce,ce+p),i.emplaceBack(ce,ce+p+1)}const N=k*d*3;this._wireframeSegments.push(os.simpleSegment(0,P,(k+1)*p,N)),P+=N}this._wireframeIndexBuffer=n.createIndexBuffer(i)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[e]]}},c.GlyphManager=Gi,c.ImagePosition=Mp,c.KDBush=c_,c.LivePerformanceUtils=Jt,c.LngLat=Zr,c.LngLatBounds=md,c.LocalGlyphMode=go,c.MAX_MERCATOR_LATITUDE=Xs,c.MercatorCoordinate=ju,c.ONE_EM=Ca,c.OverscaledTileID=rl,c.PerformanceMarkers=At,c.Point=ge,c.Properties=Gt,c.RGBAImage=tr,c.Ray=Qc,c.RequestManager=class{constructor(n,e,i){this._transformRequestFn=n,this._customAccessToken=e,this._silenceAuthErrors=!!i,this._createSkuToken()}_createSkuToken(){const n=function(){let e="";for(let i=0;i<10;i++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",fe,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=n.token,this._skuTokenExpiresAt=n.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(n,e){return this._transformRequestFn&&this._transformRequestFn(n,e)||{url:n}}normalizeStyleURL(n,e){if(!Q(n))return n;const i=Bn(n);return i.path=`/styles/v1${i.path}`,this._makeAPIURL(i,this._customAccessToken||e)}normalizeGlyphsURL(n,e){if(!Q(n))return n;const i=Bn(n);return i.path=`/fonts/v1${i.path}`,this._makeAPIURL(i,this._customAccessToken||e)}normalizeSourceURL(n,e,i,d){if(!Q(n))return n;const p=Bn(n);return p.path=`/v4/${p.authority}.json`,p.params.push("secure"),i&&p.params.push(`language=${i}`),d&&p.params.push(`worldview=${d}`),this._makeAPIURL(p,this._customAccessToken||e)}normalizeSpriteURL(n,e,i,d){const p=Bn(n);return Q(n)?(p.path=`/styles/v1${p.path}/sprite${e}${i}`,this._makeAPIURL(p,this._customAccessToken||d)):(p.path+=`${e}${i}`,kt(p))}normalizeTileURL(n,e,i){if(this._isSkuTokenExpired()&&this._createSkuToken(),n&&!Q(n))return n;const d=Bn(n);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${e||i&&"raster"!==d.authority&&512===i?"@2x":""}${le.supported?".webp":"$1"}`),"raster"===d.authority?d.path=`/${Te.RASTER_URL_PREFIX}${d.path}`:(d.path=d.path.replace(/^.+\/v4\//,"/"),d.path=`/${Te.TILE_URL_VERSION}${d.path}`);const p=this._customAccessToken||function(m){for(const w of m){const P=w.match(/^access_token=(.*)$/);if(P)return P[1]}return null}(d.params)||Te.ACCESS_TOKEN;return Te.REQUIRE_ACCESS_TOKEN&&p&&this._skuToken&&d.params.push(`sku=${this._skuToken}`),this._makeAPIURL(d,p)}canonicalizeTileURL(n,e){const i=Bn(n);if(!i.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!i.path.match(/\.[\w]+$/))return n;let d="mapbox://";i.path.match(/^\/raster\/v1\//)?d+=`raster/${i.path.replace(`/${Te.RASTER_URL_PREFIX}/`,"")}`:d+=`tiles/${i.path.replace(`/${Te.TILE_URL_VERSION}/`,"")}`;let p=i.params;return e&&(p=p.filter(m=>!m.match(/^access_token=/))),p.length&&(d+=`?${p.join("&")}`),d}canonicalizeTileset(n,e){const i=!!e&&Q(e),d=[];for(const p of n.tiles||[])tt(p)?d.push(this.canonicalizeTileURL(p,i)):d.push(p);return d}_makeAPIURL(n,e){const i="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",d=Bn(Te.API_URL);if(n.protocol=d.protocol,n.authority=d.authority,"http"===n.protocol){const p=n.params.indexOf("secure");p>=0&&n.params.splice(p,1)}if("/"!==d.path&&(n.path=`${d.path}${n.path}`),!Te.REQUIRE_ACCESS_TOKEN)return kt(n);if(e=e||Te.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error(`An API access token is required to use Mapbox GL. ${i}`);if("s"===e[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${i}`)}return n.params=n.params.filter(p=>-1===p.indexOf("access_token")),n.params.push(`access_token=${e||""}`),kt(n)}},c.ResourceType=yo,c.SegmentVector=os,c.SourceCache=Nh,c.StencilMode=t_,c.StructArrayLayout1ui2=Ul,c.StructArrayLayout2f1f2i16=po,c.StructArrayLayout2i4=yi,c.StructArrayLayout2ui4=ba,c.StructArrayLayout3f12=qo,c.StructArrayLayout3ui6=eo,c.StructArrayLayout4i8=ai,c.StructArrayLayout5f20=$r,c.Texture=Wg,c.Tile=bm,c.Transitionable=Re,c.Uniform1f=Nc,c.Uniform1i=class extends ic{constructor(n){super(n),this.current=0}set(n,e,i){this.fetchUniformLocation(n,e)&&this.current!==i&&(this.current=i,this.gl.uniform1i(this.location,i))}},c.Uniform2f=class extends ic{constructor(n){super(n),this.current=[0,0]}set(n,e,i){this.fetchUniformLocation(n,e)&&(i[0]===this.current[0]&&i[1]===this.current[1]||(this.current=i,this.gl.uniform2f(this.location,i[0],i[1])))}},c.Uniform3f=class extends ic{constructor(n){super(n),this.current=[0,0,0]}set(n,e,i){this.fetchUniformLocation(n,e)&&(i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]||(this.current=i,this.gl.uniform3f(this.location,i[0],i[1],i[2])))}},c.Uniform4f=oh,c.UniformColor=Gh,c.UniformMatrix2f=class extends ic{constructor(n){super(n),this.current=Oc}set(n,e,i){if(this.fetchUniformLocation(n,e))for(let d=0;d<4;d++)if(i[d]!==this.current[d]){this.current=i,this.gl.uniformMatrix2fv(this.location,!1,i);break}}},c.UniformMatrix3f=class extends ic{constructor(n){super(n),this.current=$h}set(n,e,i){if(this.fetchUniformLocation(n,e))for(let d=0;d<9;d++)if(i[d]!==this.current[d]){this.current=i,this.gl.uniformMatrix3fv(this.location,!1,i);break}}},c.UniformMatrix4f=class extends ic{constructor(n){super(n),this.current=mg}set(n,e,i){if(this.fetchUniformLocation(n,e)){if(i[12]!==this.current[12]||i[0]!==this.current[0])return this.current=i,void this.gl.uniformMatrix4fv(this.location,!1,i);for(let d=1;d<16;d++)if(i[d]!==this.current[d]){this.current=i,this.gl.uniformMatrix4fv(this.location,!1,i);break}}}},c.UnwrappedTileID=N_,c.ValidationError=mi,c.VectorTileFeature=tg,c.VectorTileWorkerSource=class extends jo{constructor(n,e,i,d,p){super(),this.actor=n,this.layerIndex=e,this.availableImages=i,this.loadVectorData=p||th,this.loading={},this.loaded={},this.deduped=new xm(n.scheduler),this.isSpriteLoaded=d,this.scheduler=n.scheduler}loadTile(n,e){const i=n.uid,d=n&&n.request,p=d&&d.collectResourceTiming,m=this.loading[i]=new Q_(n);m.abort=this.loadVectorData(n,(w,P)=>{const k=!this.loading[i];if(delete this.loading[i],k||w||!P)return m.status="done",k||(this.loaded[i]=m),e(w);const N=P.rawData,Z={};P.expires&&(Z.expires=P.expires),P.cacheControl&&(Z.cacheControl=P.cacheControl),m.vectorTile=P.vectorTile||new eg(new Ug(N));const q=()=>{m.parse(m.vectorTile,this.layerIndex,this.availableImages,this.actor,(ce,xe)=>{if(ce||!xe)return e(ce);const Ee={};if(p){const He=Ci(d);He.length>0&&(Ee.resourceTiming=JSON.parse(JSON.stringify(He)))}e(null,Qe({rawTileData:N.slice(0)},xe,Z,Ee))})};this.isSpriteLoaded?q():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(q,{type:"parseTile",isSymbolTile:n.isSymbolTile,zoom:n.tileZoom}):q()}),this.loaded=this.loaded||{},this.loaded[i]=m})}reloadTile(n,e){const i=this.loaded,d=n.uid,p=this;if(i&&i[d]){const m=i[d];m.showCollisionBoxes=n.showCollisionBoxes,m.enableTerrain=!!n.enableTerrain,m.projection=n.projection,m.tileTransform=Ju(n.tileID.canonical,n.projection);const w=(P,k)=>{const N=m.reloadCallback;N&&(delete m.reloadCallback,m.parse(m.vectorTile,p.layerIndex,this.availableImages,p.actor,N)),e(P,k)};"parsing"===m.status?m.reloadCallback=w:"done"===m.status&&(m.vectorTile?m.parse(m.vectorTile,this.layerIndex,this.availableImages,this.actor,w):w())}}abortTile(n,e){const i=n.uid,d=this.loading[i];d&&(d.abort&&d.abort(),delete this.loading[i]),e()}removeTile(n,e){const i=this.loaded,d=n.uid;i&&i[d]&&delete i[d],e()}},c.WritingMode=hc,c.ZoomDependentExpression=oa,c.add=Fd,c.addDynamicAttributes=Lf,c.adjoint=function(n,e){var i=e[0],d=e[1],p=e[2],m=e[3],w=e[4],P=e[5],k=e[6],N=e[7],Z=e[8];return n[0]=w*Z-P*N,n[1]=p*N-d*Z,n[2]=d*P-p*w,n[3]=P*k-m*Z,n[4]=i*Z-p*k,n[5]=p*m-i*P,n[6]=m*N-w*k,n[7]=d*k-i*N,n[8]=i*w-d*m,n},c.asyncAll=an,c.bezier=Ie,c.bindAll=Zt,c.boundsAttributes=Z_,c.bufferConvexPolygon=function(n,e){const i=[];for(let d=0;d<n.length;d++){const p=Nt(d-1,-1,n.length-1),m=Nt(d+1,-1,n.length-1),w=n[d],P=n[m],k=n[p].sub(w).unit(),N=P.sub(w).unit(),Z=N.angleWithSep(k.x,k.y),q=k.add(N).unit().mult(-1*e/Math.sin(Z/2));i.push(w.add(q))}return i},c.cacheEntryPossiblyAdded=function(n){Fi++,Fi>Pn&&(n.getActor().send("enforceCacheSizeLimit",dn),Fi=0)},c.calculateGlobeLabelMatrix=function(n,e){const{x:i,y:d}=n.point,p=Wp(i,d,n.worldSize/n._pixelsPerMercatorPixel,0,0);return Tc(p,p,Zp(sc(e)))},c.calculateGlobeMatrix=function(n){const{x:e,y:i}=n.point,{lng:d,lat:p}=n._center;return Wp(e,i,n.worldSize,d,p)},c.calculateGlobeMercatorMatrix=function(n){const e=n.pixelsPerMeter,i=e/ed(1,n.center.lat),d=Sl(new Float64Array(16));return oc(d,d,[n.point.x,n.point.y,0]),zu(d,d,[i,i,e]),Float32Array.from(d)},c.circumferenceAtLatitude=Yp,c.clamp=Oe,c.clearTileCache=function(n){if(!qi())return;const e=T.caches.delete(Mi);n&&e.catch(n).then(()=>n())},c.clipLine=qt,c.clone=function(n){var e=new nl(16);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e},c.clone$1=wn,c.collisionCircleLayout=jc,c.config=Te,c.conjugate=function(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n},c.create=function(){var n=new nl(16);return nl!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n},c.create$1=lh,c.createExpression=Pa,c.createLayout=Mn,c.createStyleLayer=function(n){return"custom"===n.type?new mm(n):new Ff[n.type](n)},c.cross=yd,c.degToRad=Be,c.distance=function(n,e){return Math.hypot(e[0]-n[0],e[1]-n[1],e[2]-n[2])},c.div=function(n,e,i){return n[0]=e[0]/i[0],n[1]=e[1]/i[1],n[2]=e[2]/i[2],n},c.dot=ol,c.earthRadius=Qh,c.ease=L,c.easeCubicInOut=It,c.ecefToLatLng=function([n,e,i]){const d=Math.hypot(n,e,i),p=Math.atan2(n,i),m=.5*Math.PI-Math.acos(-e/d);return new Zr(rt(p),rt(m))},c.emitValidationErrors=ec,c.endsWith=ve,c.enforceCacheSizeLimit=function(n){to(),qn&&qn.then(e=>{e.keys().then(i=>{for(let d=0;d<i.length-n;d++)e.delete(i[d])})})},c.evaluateSizeForFeature=Of,c.evaluateSizeForZoom=Cp,c.evaluateVariableOffset=lg,c.evented=O,c.exactEquals=function(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]},c.exactEquals$1=function(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]},c.exported=ir,c.exported$1=le,c.extend=Qe,c.extend$1=Tr,c.fillExtrusionHeightLift=_f,c.filterObject=St,c.fromMat4=function(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n},c.fromQuat=function(n,e){var i=e[0],d=e[1],p=e[2],m=e[3],w=i+i,P=d+d,k=p+p,N=i*w,Z=d*w,q=d*P,ce=p*w,xe=p*P,Ee=p*k,He=m*w,ht=m*P,Rt=m*k;return n[0]=1-q-Ee,n[1]=Z+Rt,n[2]=ce-ht,n[3]=0,n[4]=Z-Rt,n[5]=1-N-Ee,n[6]=xe+He,n[7]=0,n[8]=ce+ht,n[9]=xe-He,n[10]=1-N-q,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n},c.fromRotation=function(n,e){var i=Math.sin(e),d=Math.cos(e);return n[0]=d,n[1]=i,n[2]=0,n[3]=-i,n[4]=d,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},c.fromScaling=Wh,c.furthestTileCorner=function(n){const e=Math.round((n+45+360)%360/90)%4;return wt[e]},c.getAABBPointSquareDist=function(n,e,i){let d=0;for(let p=0;p<2;++p){const m=i?i[p]:0;n[p]>m&&(d+=(n[p]-m)*(n[p]-m)),e[p]<m&&(d+=(m-e[p])*(m-e[p]))}return d},c.getAnchorAlignment=Ef,c.getAnchorJustification=fo,c.getBounds=function(n){let e=1/0,i=1/0,d=-1/0,p=-1/0;for(const m of n)e=Math.min(e,m.x),i=Math.min(i,m.y),d=Math.max(d,m.x),p=Math.max(p,m.y);return{min:new ge(e,i),max:new ge(d,p)}},c.getColumn=jn,c.getDefaultExportFromCjs=ke,c.getGridMatrix=function(n,e,i,d){const p=e.getNorth(),m=e.getSouth(),w=e.getWest(),P=e.getEast(),k=1<<n.z,N=P-w,Z=p-m,q=N/64,ce=-Z/bd[i],xe=[0,q,0,ce,0,0,p,w,0];if(n.z>0){const Ee=180/d;Bp(xe,xe,[Ee/N+1,0,0,0,Ee/Z+1,0,-.5*Ee/q,.5*Ee/ce,1])}return xe[2]=k,xe[5]=n.x,xe[8]=n.y,xe},c.getImage=Ge,c.getJSON=function(n,e){return Mo(Qe(n,{type:"json"}),e)},c.getLatitudinalLod=function(n){const e=Xs-5;n=Oe(n,-e,e)/e*90;const i=Math.pow(Math.abs(Math.sin(Be(n))),3);return Math.round(i*(bd.length-1))},c.getMapSessionAPI=yn,c.getPerformanceMeasurement=Ci,c.getProjection=I0,c.getRTLTextPluginStatus=I,c.getReferrer=xi,c.getTilePoint=function(n,{x:e,y:i},d=0){return new ge(((e-d)*n.scale-n.x)*oo,(i*n.scale-n.y)*oo)},c.getTileVec3=function(n,e,i=0){return hh(((e.x-i)*n.scale-n.x)*oo,(e.y*n.scale-n.y)*oo,ep(e.z,e.y))},c.getVideo=function(n,e){const i=T.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(let d=0;d<n.length;d++){const p=T.document.createElement("source");Wo(n[d])||(i.crossOrigin="Anonymous"),p.src=n[d],i.appendChild(p)}return{cancel:()=>{}}},c.globeCenterToScreenPoint=function(n){const e=[0,0,0],i=Sl(new Float64Array(16));return Tc(i,n.pixelMatrix,n.globeMatrix),ms(e,e,i),new ge(e[0],e[1])},c.globeDenormalizeECEF=Zp,c.globeECEFOrigin=function(n,e){const i=[0,0,0];return ms(i,i,Hd(sc(e.canonical))),ms(i,i,n),i},c.globeMetersToEcef=Vp,c.globeNormalizeECEF=Hd,c.globePixelsToTileUnits=function(n,e){return oo/(512*Math.pow(2,n))*mh(sc(e))},c.globePoleMatrixForTile=function(n,e,i){const d=Sl(new Float64Array(16)),p=(e/(1<<n)-.5)*Math.PI*2;return dh(d,i.globeMatrix,p),Float32Array.from(d)},c.globeTileBounds=sc,c.globeTiltAtLngLat=Pg,c.globeToMercatorTransition=_h,c.globeUseCustomAntiAliasing=function(n,e,i){const d=_h(i.zoom),p=n.style.map._antialias,m=!!e.extStandardDerivatives,w=e.extStandardDerivativesForceOff||n.terrain&&n.terrain.exaggeration()>0;return 0===d&&!p&&!w&&m},c.identity=Sl,c.identity$1=Vl,c.invert=yg,c.isFullscreen=function(){return!!T.document.fullscreenElement||!!T.document.webkitFullscreenElement},c.isLngLatBehindGlobe=Aa,c.isMapAuthenticated=function(n){return ct.has(n)},c.isMapboxURL=Q,c.isSafariWithAntialiasingBug=function(n){const e=n.navigator?n.navigator.userAgent:null;return!!Vt(n)&&e&&(e.match("Version/15.4")||e.match("Version/15.5")||e.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},c.latFromMercatorY=Va,c.latLngToECEF=_u,c.len=Cg,c.length=uh,c.length$1=function(n){return Math.hypot(n[0],n[1],n[2],n[3])},c.lngFromMercatorX=ac,c.loadVectorTile=th,c.makeRequest=Mo,c.mapValue=function(n,e,i,d,p){return Oe((n-e)/(i-e)*(p-d)+d,d,p)},c.mercatorScale=tp,c.mercatorXfromLng=vl,c.mercatorYfromLat=Md,c.mercatorZfromAltitude=ed,c.mul=vg,c.mul$1=bg,c.multiply=Tc,c.multiply$1=Bp,c.multiply$2=pu,c.nextPowerOfTwo=at,c.normalize=il,c.normalize$1=fu,c.normalize$2=Sc,c.number=nr,c.ortho=function(n,e,i,d,p,m,w){var P=1/(e-i),k=1/(d-p),N=1/(m-w);return n[0]=-2*P,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*k,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*N,n[11]=0,n[12]=(e+i)*P,n[13]=(p+d)*k,n[14]=(w+m)*N,n[15]=1,n},c.pbf=Fg,c.perspective=function(n,e,i,d,p){var m,w=1/Math.tan(e/2);return n[0]=w/i,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=w,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=p&&p!==1/0?(n[10]=(p+d)*(m=1/(d-p)),n[14]=2*p*d*m):(n[10]=-1,n[14]=-2*d),n},c.pick=function(n,e){const i={};for(let d=0;d<e.length;d++){const p=e[d];p in n&&(i[p]=n[p])}return i},c.plugin=H,c.pointGeometry=A,c.polesInViewport=function(n){const e=Sl(new Float64Array(16));Tc(e,n.pixelMatrix,n.globeMatrix);const i=[0,Ea,0],d=[0,Ia,0];return ms(i,i,e),ms(d,d,e),[i[0]>0&&i[0]<=n.width&&i[1]>0&&i[1]<=n.height&&!Aa(n,new Zr(n.center.lat,90)),d[0]>0&&d[0]<=n.width&&d[1]>0&&d[1]<=n.height&&!Aa(n,new Zr(n.center.lat,-90))]},c.polygonContainsPoint=E,c.polygonIntersectsBox=B,c.polygonIntersectsPolygon=lf,c.polygonizeBounds=function(n,e,i=0,d=!0){const p=new ge(i,i),m=n.sub(p),w=e.add(p),P=[m,new ge(w.x,m.y),w,new ge(m.x,w.y)];return d&&P.push(m.clone()),P},c.posAttributes=vd,c.postMapLoadEvent=gn,c.postPerformanceEvent=Jn,c.postTurnstileEvent=_e,c.potpack=Sf,c.prevPowerOfTwo=function(n){return n<=1?1:Math.pow(2,Math.floor(Math.log(n)/Math.LN2))},c.radToDeg=rt,c.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],c.registerForPluginStateChange=function(n){return n({pluginStatus:f,pluginURL:o}),O.on("pluginStateChange",n),n},c.removeAuthState=function(n){ct.delete(n)},c.renderColorRamp=ds,c.resample=yh,c.rotateX=ch,c.rotateX$1=Up,c.rotateY=dh,c.rotateY$1=Jh,c.rotateZ=function(n,e,i){var d=Math.sin(i),p=Math.cos(i),m=e[0],w=e[1],P=e[2],k=e[3],N=e[4],Z=e[5],q=e[6],ce=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=m*p+N*d,n[1]=w*p+Z*d,n[2]=P*p+q*d,n[3]=k*p+ce*d,n[4]=N*p-m*d,n[5]=Z*p-w*d,n[6]=q*p-P*d,n[7]=ce*p-k*d,n},c.rotateZ$1=function(n,e,i){i*=.5;var d=e[0],p=e[1],m=e[2],w=e[3],P=Math.sin(i),k=Math.cos(i);return n[0]=d*k+p*P,n[1]=p*k-d*P,n[2]=m*k+w*P,n[3]=w*k-m*P,n},c.scale=zu,c.scale$1=qh,c.scale$2=rc,c.scaleAndAdd=_d,c.set=function(n,e,i,d){return n[0]=e,n[1]=i,n[2]=d,n},c.setCacheLimits=function(n,e){dn=n,Pn=e},c.setColumn=function(n,e,i){n[4*e+0]=i[0],n[4*e+1]=i[1],n[4*e+2]=i[2],n[4*e+3]=i[3]},c.setRTLTextPlugin=function(n,e,i=!1){if(f===fl||f===Bl||f===Tl)throw new Error("setRTLTextPlugin cannot be called multiple times.");o=ir.resolveURL(n),f=fl,zl=e,y(),i||z()},c.smoothstep=ut,c.spec=Dn,c.squaredLength=function(n){var e=n[0],i=n[1],d=n[2];return e*e+i*i+d*d},c.storeAuthState=function(n,e){e?ct.add(n):ct.delete(n)},c.sub=jl,c.subtract=Bd,c.symbolSize=zm,c.tileAABB=function(n,e,i,d,p,m,w,P,k){if("globe"===k.name)return function rf(n,e,i){const d=e/n.worldSize,p=n.globeMatrix;if(i.z<=1){const Ln=sc(i).getCorners();return nf(Ln,p,d),Da.fromPoints(Ln)}const m=$p(i),w=Og(m);nf(w,p,d);const P=Number.MAX_VALUE,k=[-P,-P,-P],N=[P,P,P];if(m.contains(n.center)){for(const wi of w)ph(N,N,wi),Yh(k,k,wi);k[2]=0;const Ln=n.point,ri=[Ln.x*d,Ln.y*d,0];return ph(N,N,ri),Yh(k,k,ri),new Da(N,k)}const Z=[p[12]*d,p[13]*d,p[14]*d],q=m.getCenter(),ce=Oe(n.center.lat,-Xs,Xs),xe=Oe(q.lat,-Xs,Xs),Ee=vl(n.center.lng),He=Md(ce);let ht=Ee-vl(q.lng);const Rt=He-Md(xe);ht>.5?ht-=1:ht<-.5&&(ht+=1);let tn=0;Math.abs(ht)>Math.abs(Rt)?tn=ht>=0?1:3:(tn=Rt>=0?0:2,_d(Z,Z,[p[4]*d,p[5]*d,p[6]*d],-Math.sin(Be(Rt>=0?m.getSouth():m.getNorth()))*Dl));const Ft=w[tn],Qt=w[(tn+1)%4],pn=new Gp(Ft,Qt,Z),un=[Ud(pn,0)||Ft[0],Ud(pn,1)||Ft[1],Ud(pn,2)||Ft[2]],Hn=_h(n.zoom);if(Hn>0){const Ln=function({x:wi,y:$n,z:di},li,fi,Pi,ii){const ji=1/(1<<di);let Xi=wi*ji,$i=Xi+ji,Bo=$n*ji,Ti=Bo+ji,co=0;const Uo=(Xi+$i)/2-Pi;return Uo>.5?co=-1:Uo<-.5&&(co=1),Xi=((Xi+co)*li-(Pi*=li))*fi+Pi,$i=(($i+co)*li-Pi)*fi+Pi,Bo=(Bo*li-(ii*=li))*fi+ii,Ti=(Ti*li-ii)*fi+ii,[[Xi,Ti,0],[$i,Ti,0],[$i,Bo,0],[Xi,Bo,0]]}(i,e,n._pixelsPerMercatorPixel,Ee,He);for(let wi=0;wi<w.length;wi++)mu(w[wi],Ln[wi],Hn);const ri=Fd([],Ln[tn],Ln[(tn+1)%4]);rc(ri,ri,.5),mu(un,ri,Hn)}for(const Ln of w)ph(N,N,Ln),Yh(k,k,Ln);return N[2]=Math.min(Ft[2],Qt[2]),ph(N,N,un),Yh(k,k,un),new Da(N,k)}(n,e,new _p(i,d,p));const N=Ju({z:i,x:d,y:p},k);return new Da([(m+N.x/N.scale)*e,e*(N.y/N.scale),w],[(m+N.x2/N.scale)*e,e*(N.y2/N.scale),P])},c.tileCornersToBounds=$p,c.tileTransform=Ju,c.transformMat3=function(n,e,i){var d=e[0],p=e[1],m=e[2];return n[0]=d*i[0]+p*i[3]+m*i[6],n[1]=d*i[1]+p*i[4]+m*i[7],n[2]=d*i[2]+p*i[5]+m*i[8],n},c.transformMat4=ms,c.transformMat4$1=Xc,c.transformQuat=gh,c.transitionTileAABBinECEF=xg,c.translate=oc,c.transpose=function(n,e){if(n===e){var i=e[1],d=e[2],p=e[5];n[1]=e[3],n[2]=e[6],n[3]=i,n[5]=e[7],n[6]=d,n[7]=p}else n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8];return n},c.triggerPluginCompletionEvent=u,c.uniqueId=gt,c.updateGlobeVertexNormal=function(n,e,i,d,p){const m=5*e+2;n.float32[m+0]=i,n.float32[m+1]=d,n.float32[m+2]=p},c.validateCustomStyleLayer=function(n){const e=[],i=n.id;return void 0===i&&e.push({message:`layers.${i}: missing required property "id"`}),void 0===n.render&&e.push({message:`layers.${i}: missing required method "render"`}),n.renderingMode&&"2d"!==n.renderingMode&&"3d"!==n.renderingMode&&e.push({message:`layers.${i}: property "renderingMode" must be either "2d" or "3d"`}),e},c.validateFilter=n=>xr(ld(n)),c.validateFog=n=>xr(Ru(n)),c.validateLayer=n=>xr(Au(n)),c.validateLight=n=>xr(_i(n)),c.validateSource=n=>xr(Yc(n)),c.validateStyle=Lc,c.validateTerrain=n=>xr(vr(n)),c.values=bt,c.vectorTile=uf,c.version=V,c.warnOnce=Cn,c.window=T,c.wrap=Nt}),s(0,function(c){function T(Bt){if("number"==typeof Bt||"boolean"==typeof Bt||"string"==typeof Bt||null==Bt)return JSON.stringify(Bt);if(Array.isArray(Bt)){let We="[";for(const Ge of Bt)We+=`${T(Ge)},`;return`${We}]`}let Ue="{";for(const We of Object.keys(Bt).sort())Ue+=`${We}:${T(Bt[We])},`;return`${Ue}}`}function V(Bt){let Ue="";for(const We of c.refProperties)Ue+=`/${T(Bt[We])}`;return Ue}class ie{constructor(Ue){this.keyCache={},Ue&&this.replace(Ue)}replace(Ue){this._layerConfigs={},this._layers={},this.update(Ue,[])}update(Ue,We){for(const Et of Ue)this._layerConfigs[Et.id]=Et,(this._layers[Et.id]=c.createStyleLayer(Et)).compileFilter(),this.keyCache[Et.id]&&delete this.keyCache[Et.id];for(const Et of We)delete this.keyCache[Et],delete this._layerConfigs[Et],delete this._layers[Et];this.familiesBySource={};const Ge=function(Et,Q){const tt={};for(let lt=0;lt<Et.length;lt++){const nn=Q&&Q[Et[lt].id]||V(Et[lt]);Q&&(Q[Et[lt].id]=nn);let bn=tt[nn];bn||(bn=tt[nn]=[]),bn.push(Et[lt])}const $e=[];for(const lt in tt)$e.push(tt[lt]);return $e}(c.values(this._layerConfigs),this.keyCache);for(const Et of Ge){const Q=Et.map(Bn=>this._layers[Bn.id]),tt=Q[0];if("none"===tt.visibility)continue;const $e=tt.source||"";let lt=this.familiesBySource[$e];lt||(lt=this.familiesBySource[$e]={});const nn=tt.sourceLayer||"_geojsonTileLayer";let bn=lt[nn];bn||(bn=lt[nn]=[]),bn.push(Q)}}}class Te{loadTile(Ue,We){const{uid:Ge,encoding:Et,rawImageData:Q,padding:tt,buildQuadTree:$e}=Ue,lt=c.window.ImageBitmap&&Q instanceof c.window.ImageBitmap?this.getImageData(Q,tt):Q;We(null,new c.DEMData(Ge,lt,Et,tt<1,$e))}getImageData(Ue,We){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ue.width,Ue.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=Ue.width,this.offscreenCanvas.height=Ue.height,this.offscreenCanvasContext.drawImage(Ue,0,0,Ue.width,Ue.height);const Ge=this.offscreenCanvasContext.getImageData(-We,-We,Ue.width+2*We,Ue.height+2*We);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Ge}}function le(Bt,Ue){if(0!==Bt.length){me(Bt[0],Ue);for(var We=1;We<Bt.length;We++)me(Bt[We],!Ue)}}function me(Bt,Ue){for(var We=0,Ge=0,Et=0,Q=Bt.length,tt=Q-1;Et<Q;tt=Et++){var $e=(Bt[Et][0]-Bt[tt][0])*(Bt[tt][1]+Bt[Et][1]),lt=We+$e;Ge+=Math.abs(We)>=Math.abs($e)?We-lt+$e:$e-lt+We,We=lt}We+Ge>=0!=!!Ue&&Bt.reverse()}var ae=c.getDefaultExportFromCjs(function Bt(Ue,We){var Ge,Et=Ue&&Ue.type;if("FeatureCollection"===Et)for(Ge=0;Ge<Ue.features.length;Ge++)Bt(Ue.features[Ge],We);else if("GeometryCollection"===Et)for(Ge=0;Ge<Ue.geometries.length;Ge++)Bt(Ue.geometries[Ge],We);else if("Feature"===Et)Bt(Ue.geometry,We);else if("Polygon"===Et)le(Ue.coordinates,We);else if("MultiPolygon"===Et)for(Ge=0;Ge<Ue.coordinates.length;Ge++)le(Ue.coordinates[Ge],We);return Ue});const be=c.VectorTileFeature.prototype.toGeoJSON;var re={exports:{}},J=c.pointGeometry,fe=c.vectorTile.VectorTileFeature,ke=Ce;function Ce(Bt,Ue){this.options=Ue||{},this.features=Bt,this.length=Bt.length}function we(Bt,Ue){this.id="number"==typeof Bt.id?Bt.id:void 0,this.type=Bt.type,this.rawGeometry=1===Bt.type?[Bt.geometry]:Bt.geometry,this.properties=Bt.tags,this.extent=Ue||4096}Ce.prototype.feature=function(Bt){return new we(this.features[Bt],this.options.extent)},we.prototype.loadGeometry=function(){var Bt=this.rawGeometry;this.geometry=[];for(var Ue=0;Ue<Bt.length;Ue++){for(var We=Bt[Ue],Ge=[],Et=0;Et<We.length;Et++)Ge.push(new J(We[Et][0],We[Et][1]));this.geometry.push(Ge)}return this.geometry},we.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Bt=this.geometry,Ue=1/0,We=-1/0,Ge=1/0,Et=-1/0,Q=0;Q<Bt.length;Q++)for(var tt=Bt[Q],$e=0;$e<tt.length;$e++){var lt=tt[$e];Ue=Math.min(Ue,lt.x),We=Math.max(We,lt.x),Ge=Math.min(Ge,lt.y),Et=Math.max(Et,lt.y)}return[Ue,Ge,We,Et]},we.prototype.toGeoJSON=fe.prototype.toGeoJSON;var he=c.pbf,A=ke;function pe(Bt){var Ue=new he;return function(We,Ge){for(var Et in We.layers)Ge.writeMessage(3,ge,We.layers[Et])}(Bt,Ue),Ue.finish()}function ge(Bt,Ue){var We;Ue.writeVarintField(15,Bt.version||1),Ue.writeStringField(1,Bt.name||""),Ue.writeVarintField(5,Bt.extent||4096);var Ge={keys:[],values:[],keycache:{},valuecache:{}};for(We=0;We<Bt.length;We++)Ge.feature=Bt.feature(We),Ue.writeMessage(2,pt,Ge);var Et=Ge.keys;for(We=0;We<Et.length;We++)Ue.writeStringField(3,Et[We]);var Q=Ge.values;for(We=0;We<Q.length;We++)Ue.writeMessage(4,It,Q[We])}function pt(Bt,Ue){var We=Bt.feature;void 0!==We.id&&Ue.writeVarintField(1,We.id),Ue.writeMessage(2,Pe,Bt),Ue.writeVarintField(3,We.type),Ue.writeMessage(4,wt,We)}function Pe(Bt,Ue){var We=Bt.feature,Ge=Bt.keys,Et=Bt.values,Q=Bt.keycache,tt=Bt.valuecache;for(var $e in We.properties){var lt=We.properties[$e],nn=Q[$e];if(null!==lt){void 0===nn&&(Ge.push($e),Q[$e]=nn=Ge.length-1),Ue.writeVarint(nn);var bn=typeof lt;"string"!==bn&&"boolean"!==bn&&"number"!==bn&&(lt=JSON.stringify(lt));var Bn=bn+":"+lt,kt=tt[Bn];void 0===kt&&(Et.push(lt),tt[Bn]=kt=Et.length-1),Ue.writeVarint(kt)}}}function Be(Bt,Ue){return(Ue<<3)+(7&Bt)}function rt(Bt){return Bt<<1^Bt>>31}function wt(Bt,Ue){for(var We=Bt.loadGeometry(),Ge=Bt.type,Et=0,Q=0,tt=We.length,$e=0;$e<tt;$e++){var lt=We[$e],nn=1;1===Ge&&(nn=lt.length),Ue.writeVarint(Be(1,nn));for(var bn=3===Ge?lt.length-1:lt.length,Bn=0;Bn<bn;Bn++){1===Bn&&1!==Ge&&Ue.writeVarint(Be(2,bn-1));var kt=lt[Bn].x-Et,cn=lt[Bn].y-Q;Ue.writeVarint(rt(kt)),Ue.writeVarint(rt(cn)),Et+=kt,Q+=cn}3===Ge&&Ue.writeVarint(Be(7,1))}}function It(Bt,Ue){var We=typeof Bt;"string"===We?Ue.writeStringField(1,Bt):"boolean"===We?Ue.writeBooleanField(7,Bt):"number"===We&&(Bt%1!=0?Ue.writeDoubleField(3,Bt):Bt<0?Ue.writeSVarintField(6,Bt):Ue.writeVarintField(5,Bt))}re.exports=pe,re.exports.fromVectorTileJs=pe,re.exports.fromGeojsonVt=function(Bt,Ue){Ue=Ue||{};var We={};for(var Ge in Bt)We[Ge]=new A(Bt[Ge].features,Ue),We[Ge].name=Ge,We[Ge].version=Ue.version,We[Ge].extent=Ue.extent;return pe({layers:We})},re.exports.GeoJSONWrapper=A;var Ie=c.getDefaultExportFromCjs(re.exports);const L={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Bt=>Bt},Oe=Math.fround||(ut=new Float32Array(1),Bt=>(ut[0]=+Bt,ut[0]));var ut;const Nt=3,an=5,bt=6;class Qe{constructor(Ue){this.options=Object.assign(Object.create(L),Ue),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(Ue){const{log:We,minZoom:Ge,maxZoom:Et}=this.options;We&&console.time("total time");const Q=`prepare ${Ue.length} points`;We&&console.time(Q),this.points=Ue;const tt=[];for(let lt=0;lt<Ue.length;lt++){const nn=Ue[lt];if(!nn.geometry)continue;const[bn,Bn]=nn.geometry.coordinates,kt=Oe(yt(bn)),cn=Oe(at(Bn));tt.push(kt,cn,1/0,lt,-1,1),this.options.reduce&&tt.push(0)}let $e=this.trees[Et+1]=this._createTree(tt);We&&console.timeEnd(Q);for(let lt=Et;lt>=Ge;lt--){const nn=+Date.now();$e=this.trees[lt]=this._createTree(this._cluster($e,lt)),We&&console.log("z%d: %d clusters in %dms",lt,$e.numItems,+Date.now()-nn)}return We&&console.timeEnd("total time"),this}getClusters(Ue,We){let Ge=((Ue[0]+180)%360+360)%360-180;const Et=Math.max(-90,Math.min(90,Ue[1]));let Q=180===Ue[2]?180:((Ue[2]+180)%360+360)%360-180;const tt=Math.max(-90,Math.min(90,Ue[3]));if(Ue[2]-Ue[0]>=360)Ge=-180,Q=180;else if(Ge>Q){const Bn=this.getClusters([Ge,Et,180,tt],We),kt=this.getClusters([-180,Et,Q,tt],We);return Bn.concat(kt)}const $e=this.trees[this._limitZoom(We)],lt=$e.range(yt(Ge),at(tt),yt(Q),at(Et)),nn=$e.data,bn=[];for(const Bn of lt){const kt=this.stride*Bn;bn.push(nn[kt+an]>1?jt(nn,kt,this.clusterProps):this.points[nn[kt+Nt]])}return bn}getChildren(Ue){const We=this._getOriginId(Ue),Ge=this._getOriginZoom(Ue),Et="No cluster with the specified id.",Q=this.trees[Ge];if(!Q)throw new Error(Et);const tt=Q.data;if(We*this.stride>=tt.length)throw new Error(Et);const $e=this.options.radius/(this.options.extent*Math.pow(2,Ge-1)),lt=Q.within(tt[We*this.stride],tt[We*this.stride+1],$e),nn=[];for(const bn of lt){const Bn=bn*this.stride;tt[Bn+4]===Ue&&nn.push(tt[Bn+an]>1?jt(tt,Bn,this.clusterProps):this.points[tt[Bn+Nt]])}if(0===nn.length)throw new Error(Et);return nn}getLeaves(Ue,We,Ge){const Et=[];return this._appendLeaves(Et,Ue,We=We||10,Ge=Ge||0,0),Et}getTile(Ue,We,Ge){const Et=this.trees[this._limitZoom(Ue)],Q=Math.pow(2,Ue),{extent:tt,radius:$e}=this.options,lt=$e/tt,nn=(Ge-lt)/Q,bn=(Ge+1+lt)/Q,Bn={features:[]};return this._addTileFeatures(Et.range((We-lt)/Q,nn,(We+1+lt)/Q,bn),Et.data,We,Ge,Q,Bn),0===We&&this._addTileFeatures(Et.range(1-lt/Q,nn,1,bn),Et.data,Q,Ge,Q,Bn),We===Q-1&&this._addTileFeatures(Et.range(0,nn,lt/Q,bn),Et.data,-1,Ge,Q,Bn),Bn.features.length?Bn:null}getClusterExpansionZoom(Ue){let We=this._getOriginZoom(Ue)-1;for(;We<=this.options.maxZoom;){const Ge=this.getChildren(Ue);if(We++,1!==Ge.length)break;Ue=Ge[0].properties.cluster_id}return We}_appendLeaves(Ue,We,Ge,Et,Q){const tt=this.getChildren(We);for(const $e of tt){const lt=$e.properties;if(lt&&lt.cluster?Q+lt.point_count<=Et?Q+=lt.point_count:Q=this._appendLeaves(Ue,lt.cluster_id,Ge,Et,Q):Q<Et?Q++:Ue.push($e),Ue.length===Ge)break}return Q}_createTree(Ue){const We=new c.KDBush(Ue.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ge=0;Ge<Ue.length;Ge+=this.stride)We.add(Ue[Ge],Ue[Ge+1]);return We.finish(),We.data=Ue,We}_addTileFeatures(Ue,We,Ge,Et,Q,tt){for(const $e of Ue){const lt=$e*this.stride,nn=We[lt+an]>1;let bn,Bn,kt;if(nn)bn=gt(We,lt,this.clusterProps),Bn=We[lt],kt=We[lt+1];else{const Ze=this.points[We[lt+Nt]];bn=Ze.properties;const[on,_e]=Ze.geometry.coordinates;Bn=yt(on),kt=at(_e)}const cn={type:1,geometry:[[Math.round(this.options.extent*(Bn*Q-Ge)),Math.round(this.options.extent*(kt*Q-Et))]],tags:bn};let ft;ft=nn||this.options.generateId?We[lt+Nt]:this.points[We[lt+Nt]].id,void 0!==ft&&(cn.id=ft),tt.features.push(cn)}}_limitZoom(Ue){return Math.max(this.options.minZoom,Math.min(Math.floor(+Ue),this.options.maxZoom+1))}_cluster(Ue,We){const{radius:Ge,extent:Et,reduce:Q,minPoints:tt}=this.options,$e=Ge/(Et*Math.pow(2,We)),lt=Ue.data,nn=[],bn=this.stride;for(let Bn=0;Bn<lt.length;Bn+=bn){if(lt[Bn+2]<=We)continue;lt[Bn+2]=We;const kt=lt[Bn],cn=lt[Bn+1],ft=Ue.within(lt[Bn],lt[Bn+1],$e),Ze=lt[Bn+an];let on=Ze;for(const _e of ft){const Lt=_e*bn;lt[Lt+2]>We&&(on+=lt[Lt+an])}if(on>Ze&&on>=tt){let _e,Lt=kt*Ze,gn=cn*Ze,Ht=-1;const Jn=((Bn/bn|0)<<5)+(We+1)+this.points.length;for(const Je of ft){const yn=Je*bn;if(lt[yn+2]<=We)continue;lt[yn+2]=We;const ct=lt[yn+an];Lt+=lt[yn]*ct,gn+=lt[yn+1]*ct,lt[yn+4]=Jn,Q&&(_e||(_e=this._map(lt,Bn,!0),Ht=this.clusterProps.length,this.clusterProps.push(_e)),Q(_e,this._map(lt,yn)))}lt[Bn+4]=Jn,nn.push(Lt/on,gn/on,1/0,Jn,-1,on),Q&&nn.push(Ht)}else{for(let _e=0;_e<bn;_e++)nn.push(lt[Bn+_e]);if(on>1)for(const _e of ft){const Lt=_e*bn;if(!(lt[Lt+2]<=We)){lt[Lt+2]=We;for(let gn=0;gn<bn;gn++)nn.push(lt[Lt+gn])}}}}return nn}_getOriginId(Ue){return Ue-this.points.length>>5}_getOriginZoom(Ue){return(Ue-this.points.length)%32}_map(Ue,We,Ge){if(Ue[We+an]>1){const tt=this.clusterProps[Ue[We+bt]];return Ge?Object.assign({},tt):tt}const Et=this.points[Ue[We+Nt]].properties,Q=this.options.map(Et);return Ge&&Q===Et?Object.assign({},Q):Q}}function jt(Bt,Ue,We){return{type:"Feature",id:Bt[Ue+Nt],properties:gt(Bt,Ue,We),geometry:{type:"Point",coordinates:[(Ge=Bt[Ue],360*(Ge-.5)),Xe(Bt[Ue+1])]}};var Ge}function gt(Bt,Ue,We){const Ge=Bt[Ue+an],Et=Ge>=1e4?`${Math.round(Ge/1e3)}k`:Ge>=1e3?Math.round(Ge/100)/10+"k":Ge,Q=Bt[Ue+bt],tt=-1===Q?{}:Object.assign({},We[Q]);return Object.assign(tt,{cluster:!0,cluster_id:Bt[Ue+Nt],point_count:Ge,point_count_abbreviated:Et})}function yt(Bt){return Bt/360+.5}function at(Bt){const Ue=Math.sin(Bt*Math.PI/180),We=.5-.25*Math.log((1+Ue)/(1-Ue))/Math.PI;return We<0?0:We>1?1:We}function Xe(Bt){const Ue=(180-360*Bt)*Math.PI/180;return 360*Math.atan(Math.exp(Ue))/Math.PI-90}function Zt(Bt,Ue,We,Ge){for(var Et,Q=Ge,tt=We-Ue>>1,$e=We-Ue,lt=Bt[Ue],nn=Bt[Ue+1],bn=Bt[We],Bn=Bt[We+1],kt=Ue+3;kt<We;kt+=3){var cn=ve(Bt[kt],Bt[kt+1],lt,nn,bn,Bn);if(cn>Q)Et=kt,Q=cn;else if(cn===Q){var ft=Math.abs(kt-tt);ft<$e&&(Et=kt,$e=ft)}}Q>Ge&&(Et-Ue>3&&Zt(Bt,Ue,Et,Ge),Bt[Et+2]=Q,We-Et>3&&Zt(Bt,Et,We,Ge))}function ve(Bt,Ue,We,Ge,Et,Q){var tt=Et-We,$e=Q-Ge;if(0!==tt||0!==$e){var lt=((Bt-We)*tt+(Ue-Ge)*$e)/(tt*tt+$e*$e);lt>1?(We=Et,Ge=Q):lt>0&&(We+=tt*lt,Ge+=$e*lt)}return(tt=Bt-We)*tt+($e=Ue-Ge)*$e}function Ve(Bt,Ue,We,Ge){var Et={id:void 0===Bt?null:Bt,type:Ue,geometry:We,tags:Ge,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Q){var tt=Q.geometry,$e=Q.type;if("Point"===$e||"MultiPoint"===$e||"LineString"===$e)St(Q,tt);else if("Polygon"===$e||"MultiLineString"===$e)for(var lt=0;lt<tt.length;lt++)St(Q,tt[lt]);else if("MultiPolygon"===$e)for(lt=0;lt<tt.length;lt++)for(var nn=0;nn<tt[lt].length;nn++)St(Q,tt[lt][nn])}(Et),Et}function St(Bt,Ue){for(var We=0;We<Ue.length;We+=3)Bt.minX=Math.min(Bt.minX,Ue[We]),Bt.minY=Math.min(Bt.minY,Ue[We+1]),Bt.maxX=Math.max(Bt.maxX,Ue[We]),Bt.maxY=Math.max(Bt.maxY,Ue[We+1])}function wn(Bt,Ue,We,Ge){if(Ue.geometry){var Et=Ue.geometry.coordinates,Q=Ue.geometry.type,tt=Math.pow(We.tolerance/((1<<We.maxZoom)*We.extent),2),$e=[],lt=Ue.id;if(We.promoteId?lt=Ue.properties[We.promoteId]:We.generateId&&(lt=Ge||0),"Point"===Q)$t(Et,$e);else if("MultiPoint"===Q)for(var nn=0;nn<Et.length;nn++)$t(Et[nn],$e);else if("LineString"===Q)Cn(Et,$e,tt,!1);else if("MultiLineString"===Q){if(We.lineMetrics){for(nn=0;nn<Et.length;nn++)Cn(Et[nn],$e=[],tt,!1),Bt.push(Ve(lt,"LineString",$e,Ue.properties));return}Ot(Et,$e,tt,!1)}else if("Polygon"===Q)Ot(Et,$e,tt,!0);else{if("MultiPolygon"!==Q){if("GeometryCollection"===Q){for(nn=0;nn<Ue.geometry.geometries.length;nn++)wn(Bt,{id:lt,geometry:Ue.geometry.geometries[nn],properties:Ue.properties},We,Ge);return}throw new Error("Input data is not a valid GeoJSON object.")}for(nn=0;nn<Et.length;nn++){var bn=[];Ot(Et[nn],bn,tt,!0),$e.push(bn)}}Bt.push(Ve(lt,Q,$e,Ue.properties))}}function $t(Bt,Ue){Ue.push(Wt(Bt[0])),Ue.push(st(Bt[1])),Ue.push(0)}function Cn(Bt,Ue,We,Ge){for(var Et,Q,tt=0,$e=0;$e<Bt.length;$e++){var lt=Wt(Bt[$e][0]),nn=st(Bt[$e][1]);Ue.push(lt),Ue.push(nn),Ue.push(0),$e>0&&(tt+=Ge?(Et*nn-lt*Q)/2:Math.sqrt(Math.pow(lt-Et,2)+Math.pow(nn-Q,2))),Et=lt,Q=nn}var bn=Ue.length-3;Ue[2]=1,Zt(Ue,0,bn,We),Ue[bn+2]=1,Ue.size=Math.abs(tt),Ue.start=0,Ue.end=Ue.size}function Ot(Bt,Ue,We,Ge){for(var Et=0;Et<Bt.length;Et++){var Q=[];Cn(Bt[Et],Q,We,Ge),Ue.push(Q)}}function Wt(Bt){return Bt/360+.5}function st(Bt){var Ue=Math.sin(Bt*Math.PI/180),We=.5-.25*Math.log((1+Ue)/(1-Ue))/Math.PI;return We<0?0:We>1?1:We}function U(Bt,Ue,We,Ge,Et,Q,tt,$e){if(Ge/=Ue,Q>=(We/=Ue)&&tt<Ge)return Bt;if(tt<We||Q>=Ge)return null;for(var lt=[],nn=0;nn<Bt.length;nn++){var bn=Bt[nn],Bn=bn.geometry,kt=bn.type,cn=0===Et?bn.minX:bn.minY,ft=0===Et?bn.maxX:bn.maxY;if(cn>=We&&ft<Ge)lt.push(bn);else if(!(ft<We||cn>=Ge)){var Ze=[];if("Point"===kt||"MultiPoint"===kt)Se(Bn,Ze,We,Ge,Et);else if("LineString"===kt)Vt(Bn,Ze,We,Ge,Et,!1,$e.lineMetrics);else if("MultiLineString"===kt)jn(Bn,Ze,We,Ge,Et,!1);else if("Polygon"===kt)jn(Bn,Ze,We,Ge,Et,!0);else if("MultiPolygon"===kt)for(var on=0;on<Bn.length;on++){var _e=[];jn(Bn[on],_e,We,Ge,Et,!0),_e.length&&Ze.push(_e)}if(Ze.length){if($e.lineMetrics&&"LineString"===kt){for(on=0;on<Ze.length;on++)lt.push(Ve(bn.id,kt,Ze[on],bn.tags));continue}"LineString"!==kt&&"MultiLineString"!==kt||(1===Ze.length?(kt="LineString",Ze=Ze[0]):kt="MultiLineString"),"Point"!==kt&&"MultiPoint"!==kt||(kt=3===Ze.length?"Point":"MultiPoint"),lt.push(Ve(bn.id,kt,Ze,bn.tags))}}}return lt.length?lt:null}function Se(Bt,Ue,We,Ge,Et){for(var Q=0;Q<Bt.length;Q+=3){var tt=Bt[Q+Et];tt>=We&&tt<=Ge&&(Ue.push(Bt[Q]),Ue.push(Bt[Q+1]),Ue.push(Bt[Q+2]))}}function Vt(Bt,Ue,We,Ge,Et,Q,tt){for(var $e,lt,nn=en(Bt),bn=0===Et?dn:Pn,Bn=Bt.start,kt=0;kt<Bt.length-3;kt+=3){var cn=Bt[kt],ft=Bt[kt+1],Ze=Bt[kt+2],on=Bt[kt+3],_e=Bt[kt+4],Lt=0===Et?cn:ft,gn=0===Et?on:_e,Ht=!1;tt&&($e=Math.sqrt(Math.pow(cn-on,2)+Math.pow(ft-_e,2))),Lt<We?gn>We&&(lt=bn(nn,cn,ft,on,_e,We),tt&&(nn.start=Bn+$e*lt)):Lt>Ge?gn<Ge&&(lt=bn(nn,cn,ft,on,_e,Ge),tt&&(nn.start=Bn+$e*lt)):Mi(nn,cn,ft,Ze),gn<We&&Lt>=We&&(lt=bn(nn,cn,ft,on,_e,We),Ht=!0),gn>Ge&&Lt<=Ge&&(lt=bn(nn,cn,ft,on,_e,Ge),Ht=!0),!Q&&Ht&&(tt&&(nn.end=Bn+$e*lt),Ue.push(nn),nn=en(Bt)),tt&&(Bn+=$e)}var Jn=Bt.length-3;cn=Bt[Jn],ft=Bt[Jn+1],Ze=Bt[Jn+2],(Lt=0===Et?cn:ft)>=We&&Lt<=Ge&&Mi(nn,cn,ft,Ze),Jn=nn.length-3,Q&&Jn>=3&&(nn[Jn]!==nn[0]||nn[Jn+1]!==nn[1])&&Mi(nn,nn[0],nn[1],nn[2]),nn.length&&Ue.push(nn)}function en(Bt){var Ue=[];return Ue.size=Bt.size,Ue.start=Bt.start,Ue.end=Bt.end,Ue}function jn(Bt,Ue,We,Ge,Et,Q){for(var tt=0;tt<Bt.length;tt++)Vt(Bt[tt],Ue,We,Ge,Et,Q,!1)}function Mi(Bt,Ue,We,Ge){Bt.push(Ue),Bt.push(We),Bt.push(Ge)}function dn(Bt,Ue,We,Ge,Et,Q){var tt=(Q-Ue)/(Ge-Ue);return Bt.push(Q),Bt.push(We+(Et-We)*tt),Bt.push(1),tt}function Pn(Bt,Ue,We,Ge,Et,Q){var tt=(Q-We)/(Et-We);return Bt.push(Ue+(Ge-Ue)*tt),Bt.push(Q),Bt.push(1),tt}function qn(Bt,Ue){for(var We=[],Ge=0;Ge<Bt.length;Ge++){var Et,Q=Bt[Ge],tt=Q.type;if("Point"===tt||"MultiPoint"===tt||"LineString"===tt)Et=ti(Q.geometry,Ue);else if("MultiLineString"===tt||"Polygon"===tt){Et=[];for(var $e=0;$e<Q.geometry.length;$e++)Et.push(ti(Q.geometry[$e],Ue))}else if("MultiPolygon"===tt)for(Et=[],$e=0;$e<Q.geometry.length;$e++){for(var lt=[],nn=0;nn<Q.geometry[$e].length;nn++)lt.push(ti(Q.geometry[$e][nn],Ue));Et.push(lt)}We.push(Ve(Q.id,tt,Et,Q.tags))}return We}function ti(Bt,Ue){var We=[];We.size=Bt.size,void 0!==Bt.start&&(We.start=Bt.start,We.end=Bt.end);for(var Ge=0;Ge<Bt.length;Ge+=3)We.push(Bt[Ge]+Ue,Bt[Ge+1],Bt[Ge+2]);return We}function qi(Bt,Ue){if(Bt.transformed)return Bt;var We,Ge,Et,Q=1<<Bt.z,tt=Bt.x,$e=Bt.y;for(We=0;We<Bt.features.length;We++){var lt=Bt.features[We],nn=lt.geometry,bn=lt.type;if(lt.geometry=[],1===bn)for(Ge=0;Ge<nn.length;Ge+=2)lt.geometry.push(to(nn[Ge],nn[Ge+1],Ue,Q,tt,$e));else for(Ge=0;Ge<nn.length;Ge++){var Bn=[];for(Et=0;Et<nn[Ge].length;Et+=2)Bn.push(to(nn[Ge][Et],nn[Ge][Et+1],Ue,Q,tt,$e));lt.geometry.push(Bn)}}return Bt.transformed=!0,Bt}function to(Bt,Ue,We,Ge,Et,Q){return[Math.round(We*(Bt*Ge-Et)),Math.round(We*(Ue*Ge-Q))]}function Zi(Bt,Ue,We,Ge,Et){for(var Q=Ue===Et.maxZoom?0:Et.tolerance/((1<<Ue)*Et.extent),tt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:We,y:Ge,z:Ue,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},$e=0;$e<Bt.length;$e++){tt.numFeatures++,Fi(tt,Bt[$e],Q,Et);var lt=Bt[$e].minX,nn=Bt[$e].minY,bn=Bt[$e].maxX,Bn=Bt[$e].maxY;lt<tt.minX&&(tt.minX=lt),nn<tt.minY&&(tt.minY=nn),bn>tt.maxX&&(tt.maxX=bn),Bn>tt.maxY&&(tt.maxY=Bn)}return tt}function Fi(Bt,Ue,We,Ge){var Et=Ue.geometry,Q=Ue.type,tt=[];if("Point"===Q||"MultiPoint"===Q)for(var $e=0;$e<Et.length;$e+=3)tt.push(Et[$e]),tt.push(Et[$e+1]),Bt.numPoints++,Bt.numSimplified++;else if("LineString"===Q)yo(tt,Et,Bt,We,!1,!1);else if("MultiLineString"===Q||"Polygon"===Q)for($e=0;$e<Et.length;$e++)yo(tt,Et[$e],Bt,We,"Polygon"===Q,0===$e);else if("MultiPolygon"===Q)for(var lt=0;lt<Et.length;lt++){var nn=Et[lt];for($e=0;$e<nn.length;$e++)yo(tt,nn[$e],Bt,We,!0,0===$e)}if(tt.length){var bn=Ue.tags||null;if("LineString"===Q&&Ge.lineMetrics){for(var Bn in bn={},Ue.tags)bn[Bn]=Ue.tags[Bn];bn.mapbox_clip_start=Et.start/Et.size,bn.mapbox_clip_end=Et.end/Et.size}var kt={geometry:tt,type:"Polygon"===Q||"MultiPolygon"===Q?3:"LineString"===Q||"MultiLineString"===Q?2:1,tags:bn};null!==Ue.id&&(kt.id=Ue.id),Bt.features.push(kt)}}function yo(Bt,Ue,We,Ge,Et,Q){var tt=Ge*Ge;if(Ge>0&&Ue.size<(Et?tt:Ge))We.numPoints+=Ue.length/3;else{for(var $e=[],lt=0;lt<Ue.length;lt+=3)(0===Ge||Ue[lt+2]>tt)&&(We.numSimplified++,$e.push(Ue[lt]),$e.push(Ue[lt+1])),We.numPoints++;Et&&function(nn,bn){for(var Bn=0,kt=0,cn=nn.length,ft=cn-2;kt<cn;ft=kt,kt+=2)Bn+=(nn[kt]-nn[ft])*(nn[kt+1]+nn[ft+1]);if(Bn>0===bn)for(kt=0,cn=nn.length;kt<cn/2;kt+=2){var Ze=nn[kt],on=nn[kt+1];nn[kt]=nn[cn-2-kt],nn[kt+1]=nn[cn-1-kt],nn[cn-2-kt]=Ze,nn[cn-1-kt]=on}}($e,Q),Bt.push($e)}}function Ji(Bt,Ue){var We=(Ue=this.options=function(Et,Q){for(var tt in Q)Et[tt]=Q[tt];return Et}(Object.create(this.options),Ue)).debug;if(We&&console.time("preprocess data"),Ue.maxZoom<0||Ue.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ue.promoteId&&Ue.generateId)throw new Error("promoteId and generateId cannot be used together.");var Et,Q,tt,$e,lt,nn,Ge=function(Et,Q){var tt=[];if("FeatureCollection"===Et.type)for(var $e=0;$e<Et.features.length;$e++)wn(tt,Et.features[$e],Q,$e);else wn(tt,"Feature"===Et.type?Et:{geometry:Et},Q);return tt}(Bt,Ue);this.tiles={},this.tileCoords=[],We&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ue.indexMaxZoom,Ue.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),$e=Et=Ge,lt=U(Et,1,-1-(tt=(Q=Ue).buffer/Q.extent),tt,0,-1,2,Q),nn=U(Et,1,1-tt,2+tt,0,-1,2,Q),(lt||nn)&&($e=U(Et,1,-tt,1+tt,0,-1,2,Q)||[],lt&&($e=qn(lt,1).concat($e)),nn&&($e=$e.concat(qn(nn,-1)))),(Ge=$e).length&&this.splitTile(Ge,0,0,0),We&&(Ge.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function xi(Bt,Ue,We){return 32*((1<<Bt)*We+Ue)+Bt}function Mo(Bt,Ue){const We=Bt.tileID.canonical;if(!this._geoJSONIndex)return Ue(null,null);const Ge=this._geoJSONIndex.getTile(We.z,We.x,We.y);if(!Ge)return Ue(null,null);const Et=new class{constructor(tt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=c.EXTENT,this.length=tt.length,this._features=tt}feature(tt){return new class{constructor($e){this._feature=$e,this.extent=c.EXTENT,this.type=$e.type,this.properties=$e.tags,"id"in $e&&!isNaN($e.id)&&(this.id=parseInt($e.id,10))}loadGeometry(){if(1===this._feature.type){const $e=[];for(const lt of this._feature.geometry)$e.push([new c.Point(lt[0],lt[1])]);return $e}{const $e=[];for(const lt of this._feature.geometry){const nn=[];for(const bn of lt)nn.push(new c.Point(bn[0],bn[1]));$e.push(nn)}return $e}}toGeoJSON($e,lt,nn){return be.call(this,$e,lt,nn)}}(this._features[tt])}}(Ge.features);let Q=Ie(Et);0===Q.byteOffset&&Q.byteLength===Q.buffer.byteLength||(Q=new Uint8Array(Q)),Ue(null,{vectorTile:Et,rawData:Q.buffer})}Ji.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ji.prototype.splitTile=function(Bt,Ue,We,Ge,Et,Q,tt){for(var $e=[Bt,Ue,We,Ge],lt=this.options,nn=lt.debug;$e.length;){Ge=$e.pop(),We=$e.pop(),Ue=$e.pop(),Bt=$e.pop();var bn=1<<Ue,Bn=xi(Ue,We,Ge),kt=this.tiles[Bn];if(!kt&&(nn>1&&console.time("creation"),kt=this.tiles[Bn]=Zi(Bt,Ue,We,Ge,lt),this.tileCoords.push({z:Ue,x:We,y:Ge}),nn)){nn>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ue,We,Ge,kt.numFeatures,kt.numPoints,kt.numSimplified),console.timeEnd("creation"));var cn="z"+Ue;this.stats[cn]=(this.stats[cn]||0)+1,this.total++}if(kt.source=Bt,Et){if(Ue===lt.maxZoom||Ue===Et)continue;var ft=1<<Et-Ue;if(We!==Math.floor(Q/ft)||Ge!==Math.floor(tt/ft))continue}else if(Ue===lt.indexMaxZoom||kt.numPoints<=lt.indexMaxPoints)continue;if(kt.source=null,0!==Bt.length){nn>1&&console.time("clipping");var Ze,on,_e,Lt,gn,Ht,Jn=.5*lt.buffer/lt.extent,Je=.5-Jn,yn=.5+Jn,ct=1+Jn;Ze=on=_e=Lt=null,gn=U(Bt,bn,We-Jn,We+yn,0,kt.minX,kt.maxX,lt),Ht=U(Bt,bn,We+Je,We+ct,0,kt.minX,kt.maxX,lt),Bt=null,gn&&(Ze=U(gn,bn,Ge-Jn,Ge+yn,1,kt.minY,kt.maxY,lt),on=U(gn,bn,Ge+Je,Ge+ct,1,kt.minY,kt.maxY,lt),gn=null),Ht&&(_e=U(Ht,bn,Ge-Jn,Ge+yn,1,kt.minY,kt.maxY,lt),Lt=U(Ht,bn,Ge+Je,Ge+ct,1,kt.minY,kt.maxY,lt),Ht=null),nn>1&&console.timeEnd("clipping"),$e.push(Ze||[],Ue+1,2*We,2*Ge),$e.push(on||[],Ue+1,2*We,2*Ge+1),$e.push(_e||[],Ue+1,2*We+1,2*Ge),$e.push(Lt||[],Ue+1,2*We+1,2*Ge+1)}}},Ji.prototype.getTile=function(Bt,Ue,We){var Ge=this.options,Et=Ge.extent,Q=Ge.debug;if(Bt<0||Bt>24)return null;var tt=1<<Bt,$e=xi(Bt,Ue=(Ue%tt+tt)%tt,We);if(this.tiles[$e])return qi(this.tiles[$e],Et);Q>1&&console.log("drilling down to z%d-%d-%d",Bt,Ue,We);for(var lt,nn=Bt,bn=Ue,Bn=We;!lt&&nn>0;)nn--,bn=Math.floor(bn/2),Bn=Math.floor(Bn/2),lt=this.tiles[xi(nn,bn,Bn)];return lt&&lt.source?(Q>1&&console.log("found parent tile z%d-%d-%d",nn,bn,Bn),Q>1&&console.time("drilling down"),this.splitTile(lt.source,nn,bn,Bn,Bt,Ue,We),Q>1&&console.timeEnd("drilling down"),this.tiles[$e]?qi(this.tiles[$e],Et):null):null};class no extends c.VectorTileWorkerSource{constructor(Ue,We,Ge,Et,Q){super(Ue,We,Ge,Et,Mo),Q&&(this.loadGeoJSON=Q)}loadData(Ue,We){const Ge=Ue&&Ue.request,Et=Ge&&Ge.collectResourceTiming;this.loadGeoJSON(Ue,(Q,tt)=>{if(Q||!tt)return We(Q);if("object"!=typeof tt)return We(new Error(`Input data given to '${Ue.source}' is not a valid GeoJSON object.`));{ae(tt,!0);try{if(Ue.filter){const lt=c.createExpression(Ue.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===lt.result)throw new Error(lt.value.map(bn=>`${bn.key}: ${bn.message}`).join(", "));tt={type:"FeatureCollection",features:tt.features.filter(bn=>lt.value.evaluate({zoom:0},bn))}}this._geoJSONIndex=Ue.cluster?new Qe(function({superclusterOptions:lt,clusterProperties:nn}){if(!nn||!lt)return lt;const bn={},Bn={},kt={accumulated:null,zoom:0},cn={properties:null},ft=Object.keys(nn);for(const Ze of ft){const[on,_e]=nn[Ze],Lt=c.createExpression(_e),gn=c.createExpression("string"==typeof on?[on,["accumulated"],["get",Ze]]:on);bn[Ze]=Lt.value,Bn[Ze]=gn.value}return lt.map=Ze=>{cn.properties=Ze;const on={};for(const _e of ft)on[_e]=bn[_e].evaluate(kt,cn);return on},lt.reduce=(Ze,on)=>{cn.properties=on;for(const _e of ft)kt.accumulated=Ze[_e],Ze[_e]=Bn[_e].evaluate(kt,cn)},lt}(Ue)).load(tt.features):new Ji(lt=tt,Ue.geojsonVtOptions)}catch(lt){return We(lt)}this.loaded={};const $e={};if(Et){const lt=c.getPerformanceMeasurement(Ge);lt&&($e.resourceTiming={},$e.resourceTiming[Ue.source]=JSON.parse(JSON.stringify(lt)))}We(null,$e)}var lt})}reloadTile(Ue,We){const Ge=this.loaded;return Ge&&Ge[Ue.uid]?super.reloadTile(Ue,We):this.loadTile(Ue,We)}loadGeoJSON(Ue,We){if(Ue.request)c.getJSON(Ue.request,We);else{if("string"!=typeof Ue.data)return We(new Error(`Input data given to '${Ue.source}' is not a valid GeoJSON object.`));try{return We(null,JSON.parse(Ue.data))}catch{return We(new Error(`Input data given to '${Ue.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Ue,We){try{We(null,this._geoJSONIndex.getClusterExpansionZoom(Ue.clusterId))}catch(Ge){We(Ge)}}getClusterChildren(Ue,We){try{We(null,this._geoJSONIndex.getChildren(Ue.clusterId))}catch(Ge){We(Ge)}}getClusterLeaves(Ue,We){try{We(null,this._geoJSONIndex.getLeaves(Ue.clusterId,Ue.limit,Ue.offset))}catch(Ge){We(Ge)}}}class Wo{constructor(Ue){this.self=Ue,this.actor=new c.Actor(Ue,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=c.getProjection({name:"mercator"}),this.workerSourceTypes={vector:c.VectorTileWorkerSource,geojson:no},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(We,Ge)=>{if(this.workerSourceTypes[We])throw new Error(`Worker source with name "${We}" already registered.`);this.workerSourceTypes[We]=Ge},this.self.registerRTLTextPlugin=We=>{if(c.plugin.isParsed())throw new Error("RTL text plugin already registered.");c.plugin.applyArabicShaping=We.applyArabicShaping,c.plugin.processBidirectionalText=We.processBidirectionalText,c.plugin.processStyledBidirectionalText=We.processStyledBidirectionalText}}clearCaches(Ue,We,Ge){delete this.layerIndexes[Ue],delete this.availableImages[Ue],delete this.workerSources[Ue],delete this.demWorkerSources[Ue],Ge()}checkIfReady(Ue,We,Ge){Ge()}setReferrer(Ue,We){this.referrer=We}spriteLoaded(Ue,We){this.isSpriteLoaded[Ue]=We;for(const Ge in this.workerSources[Ue]){const Et=this.workerSources[Ue][Ge];for(const Q in Et)Et[Q]instanceof c.VectorTileWorkerSource&&(Et[Q].isSpriteLoaded=We,Et[Q].fire(new c.Event("isSpriteLoaded")))}}setImages(Ue,We,Ge){this.availableImages[Ue]=We;for(const Et in this.workerSources[Ue]){const Q=this.workerSources[Ue][Et];for(const tt in Q)Q[tt].availableImages=We}Ge()}enableTerrain(Ue,We,Ge){this.terrain=We,Ge()}setProjection(Ue,We){this.projections[Ue]=c.getProjection(We)}setLayers(Ue,We,Ge){this.getLayerIndex(Ue).replace(We),Ge()}updateLayers(Ue,We,Ge){this.getLayerIndex(Ue).update(We.layers,We.removedIds),Ge()}loadTile(Ue,We,Ge){const Et=this.enableTerrain?c.extend({enableTerrain:this.terrain},We):We;Et.projection=this.projections[Ue]||this.defaultProjection,this.getWorkerSource(Ue,We.type,We.source).loadTile(Et,Ge)}loadDEMTile(Ue,We,Ge){const Et=this.enableTerrain?c.extend({buildQuadTree:this.terrain},We):We;this.getDEMWorkerSource(Ue,We.source).loadTile(Et,Ge)}reloadTile(Ue,We,Ge){const Et=this.enableTerrain?c.extend({enableTerrain:this.terrain},We):We;Et.projection=this.projections[Ue]||this.defaultProjection,this.getWorkerSource(Ue,We.type,We.source).reloadTile(Et,Ge)}abortTile(Ue,We,Ge){this.getWorkerSource(Ue,We.type,We.source).abortTile(We,Ge)}removeTile(Ue,We,Ge){this.getWorkerSource(Ue,We.type,We.source).removeTile(We,Ge)}removeSource(Ue,We,Ge){if(!this.workerSources[Ue]||!this.workerSources[Ue][We.type]||!this.workerSources[Ue][We.type][We.source])return;const Et=this.workerSources[Ue][We.type][We.source];delete this.workerSources[Ue][We.type][We.source],void 0!==Et.removeSource?Et.removeSource(We,Ge):Ge()}loadWorkerSource(Ue,We,Ge){try{this.self.importScripts(We.url),Ge()}catch(Et){Ge(Et.toString())}}syncRTLPluginState(Ue,We,Ge){try{c.plugin.setState(We);const Et=c.plugin.getPluginURL();if(c.plugin.isLoaded()&&!c.plugin.isParsed()&&null!=Et){this.self.importScripts(Et);const Q=c.plugin.isParsed();Ge(Q?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Et}`),Q)}}catch(Et){Ge(Et.toString())}}getAvailableImages(Ue){let We=this.availableImages[Ue];return We||(We=[]),We}getLayerIndex(Ue){let We=this.layerIndexes[Ue];return We||(We=this.layerIndexes[Ue]=new ie),We}getWorkerSource(Ue,We,Ge){return this.workerSources[Ue]||(this.workerSources[Ue]={}),this.workerSources[Ue][We]||(this.workerSources[Ue][We]={}),this.workerSources[Ue][We][Ge]||(this.workerSources[Ue][We][Ge]=new this.workerSourceTypes[We]({send:(Q,tt,$e,lt,nn,bn)=>{this.actor.send(Q,tt,$e,Ue,nn,bn)},scheduler:this.actor.scheduler},this.getLayerIndex(Ue),this.getAvailableImages(Ue),this.isSpriteLoaded[Ue])),this.workerSources[Ue][We][Ge]}getDEMWorkerSource(Ue,We){return this.demWorkerSources[Ue]||(this.demWorkerSources[Ue]={}),this.demWorkerSources[Ue][We]||(this.demWorkerSources[Ue][We]=new Te),this.demWorkerSources[Ue][We]}enforceCacheSizeLimit(Ue,We){c.enforceCacheSizeLimit(We)}getWorkerPerformanceMetrics(Ue,We,Ge){Ge(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Wo(self)),Wo}),s(0,function(c){function T(f,o){if(Array.isArray(f)){if(!Array.isArray(o)||f.length!==o.length)return!1;for(let u=0;u<f.length;u++)if(!T(f[u],o[u]))return!1;return!0}if("object"==typeof f&&null!==f&&null!==o){if("object"!=typeof o||Object.keys(f).length!==Object.keys(o).length)return!1;for(const u in f)if(!T(f[u],o[u]))return!1;return!0}return f===o}var V=ie;function ie(f){return o=f,!(typeof window>"u"||typeof document>"u"||!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)||!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)||!("JSON"in window&&"parse"in JSON&&"stringify"in JSON)||!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var y,O,I=new Blob([""],{type:"text/javascript"}),z=URL.createObjectURL(I);try{O=new Worker(z),y=!0}catch{y=!1}return O&&O.terminate(),URL.revokeObjectURL(z),y}()||!("Uint8ClampedArray"in window)||!ArrayBuffer.isView||!function(){var y=document.createElement("canvas");y.width=y.height=1;var O=y.getContext("2d");if(!O)return!1;var I=O.getImageData(0,0,1,1);return I&&I.width===y.width}()||(void 0===Te[u=o&&o.failIfMajorPerformanceCaveat]&&(Te[u]=function(y){var O,z,H,Y,I=(z=y,H=document.createElement("canvas"),(Y=Object.create(ie.webGLContextAttributes)).failIfMajorPerformanceCaveat=z,H.getContext("webgl",Y)||H.getContext("experimental-webgl",Y));if(!I)return!1;try{O=I.createShader(I.VERTEX_SHADER)}catch{return!1}return!(!O||I.isContextLost())&&(I.shaderSource(O,"void main() {}"),I.compileShader(O),!0===I.getShaderParameter(O,I.COMPILE_STATUS))}(u)),!Te[u]||document.documentMode));var o,u}var Te={};function le(f,o,u){const y=c.window.document.createElement(f);return void 0!==o&&(y.className=o),u&&u.appendChild(y),y}function me(f,o,u){const y=c.window.document.createElementNS("http://www.w3.org/2000/svg",f);for(const O of Object.keys(o))y.setAttributeNS(null,O,o[O]);return u&&u.appendChild(y),y}ie.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const ae=c.window.document&&c.window.document.documentElement.style,be=ae&&void 0!==ae.userSelect?"userSelect":"WebkitUserSelect";let re;function J(){ae&&be&&(re=ae[be],ae[be]="none")}function fe(){ae&&be&&(ae[be]=re)}function ke(f){f.preventDefault(),f.stopPropagation(),c.window.removeEventListener("click",ke,!0)}function Ce(){c.window.addEventListener("click",ke,!0),c.window.setTimeout(()=>{c.window.removeEventListener("click",ke,!0)},0)}function we(f,o){const u=f.getBoundingClientRect();return pe(f,u,o)}function he(f,o){const u=f.getBoundingClientRect(),y=[];for(let O=0;O<o.length;O++)y.push(pe(f,u,o[O]));return y}function A(f){return void 0!==c.window.InstallTrigger&&2===f.button&&f.ctrlKey&&c.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:f.button}function pe(f,o,u){const y=f.offsetWidth===o.width?1:f.offsetWidth/o.width;return new c.Point((u.clientX-o.left)*y,(u.clientY-o.top)*y)}function ge(f,o){var u=o[0],y=o[1],O=o[2],I=o[3],z=u*I-O*y;return z?(f[0]=I*(z=1/z),f[1]=-y*z,f[2]=-O*z,f[3]=u*z,f):null}function pt(f){const{userImage:o}=f;return!!(o&&o.render&&o.render())&&(f.data.replace(new Uint8Array(o.data.buffer)),!0)}class Pe extends c.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new c.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(o){if(this.loaded!==o&&(this.loaded=o,o)){for(const{ids:u,callback:y}of this.requestors)this._notify(u,y);this.requestors=[]}}hasImage(o){return!!this.getImage(o)}getImage(o){return this.images[o]}addImage(o,u){this._validate(o,u)&&(this.images[o]=u)}_validate(o,u){let y=!0;return this._validateStretch(u.stretchX,u.data&&u.data.width)||(this.fire(new c.ErrorEvent(new Error(`Image "${o}" has invalid "stretchX" value`))),y=!1),this._validateStretch(u.stretchY,u.data&&u.data.height)||(this.fire(new c.ErrorEvent(new Error(`Image "${o}" has invalid "stretchY" value`))),y=!1),this._validateContent(u.content,u)||(this.fire(new c.ErrorEvent(new Error(`Image "${o}" has invalid "content" value`))),y=!1),y}_validateStretch(o,u){if(!o)return!0;let y=0;for(const O of o){if(O[0]<y||O[1]<O[0]||u<O[1])return!1;y=O[1]}return!0}_validateContent(o,u){return!(o&&(4!==o.length||o[0]<0||u.data.width<o[0]||o[1]<0||u.data.height<o[1]||o[2]<0||u.data.width<o[2]||o[3]<0||u.data.height<o[3]||o[2]<o[0]||o[3]<o[1]))}updateImage(o,u){u.version=this.images[o].version+1,this.images[o]=u,this.updatedImages[o]=!0}removeImage(o){const u=this.images[o];delete this.images[o],delete this.patterns[o],u.userImage&&u.userImage.onRemove&&u.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(o,u){let y=!0;if(!this.isLoaded())for(const O of o)this.images[O]||(y=!1);this.isLoaded()||y?this._notify(o,u):this.requestors.push({ids:o,callback:u})}_notify(o,u){const y={};for(const O of o){this.images[O]||this.fire(new c.Event("styleimagemissing",{id:O}));const I=this.images[O];I?y[O]={data:I.data.clone(),pixelRatio:I.pixelRatio,sdf:I.sdf,version:I.version,stretchX:I.stretchX,stretchY:I.stretchY,content:I.content,hasRenderCallback:!(!I.userImage||!I.userImage.render)}:c.warnOnce(`Image "${O}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}u(null,y)}getPixelSize(){const{width:o,height:u}=this.atlasImage;return{width:o,height:u}}getPattern(o){const u=this.patterns[o],y=this.getImage(o);if(!y)return null;if(u&&u.position.version===y.version)return u.position;if(u)u.position.version=y.version;else{const O={w:y.data.width+2,h:y.data.height+2,x:0,y:0},I=new c.ImagePosition(O,y);this.patterns[o]={bin:O,position:I}}return this._updatePatternAtlas(),this.patterns[o].position}bind(o){const u=o.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new c.Texture(o,this.atlasImage,u.RGBA),this.atlasTexture&&this.atlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE)}_updatePatternAtlas(){const o=[];for(const I in this.patterns)o.push(this.patterns[I].bin);const{w:u,h:y}=c.potpack(o),O=this.atlasImage;O.resize({width:u||1,height:y||1});for(const I in this.patterns){const{bin:z}=this.patterns[I],H=z.x+1,Y=z.y+1,ue=this.images[I].data,de=ue.width,Re=ue.height;c.RGBAImage.copy(ue,O,{x:0,y:0},{x:H,y:Y},{width:de,height:Re}),c.RGBAImage.copy(ue,O,{x:0,y:Re-1},{x:H,y:Y-1},{width:de,height:1}),c.RGBAImage.copy(ue,O,{x:0,y:0},{x:H,y:Y+Re},{width:de,height:1}),c.RGBAImage.copy(ue,O,{x:de-1,y:0},{x:H-1,y:Y},{width:1,height:Re}),c.RGBAImage.copy(ue,O,{x:0,y:0},{x:H+de,y:Y},{width:1,height:Re})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(o){for(const u of o){if(this.callbackDispatchedThisFrame[u])continue;this.callbackDispatchedThisFrame[u]=!0;const y=this.images[u];pt(y)&&this.updateImage(u,y)}}}const Be=new c.Properties({anchor:new c.DataConstantProperty(c.spec.light.anchor),position:new class{constructor(){this.specification=c.spec.light.position}possiblyEvaluate(f,o){return function([u,y,O]){const I=c.degToRad(y+90),z=c.degToRad(O);return{x:u*Math.cos(I)*Math.sin(z),y:u*Math.sin(I)*Math.sin(z),z:u*Math.cos(z),azimuthal:y,polar:O}}(f.expression.evaluate(o))}interpolate(f,o,u){return{x:c.number(f.x,o.x,u),y:c.number(f.y,o.y,u),z:c.number(f.z,o.z,u),azimuthal:c.number(f.azimuthal,o.azimuthal,u),polar:c.number(f.polar,o.polar,u)}}},color:new c.DataConstantProperty(c.spec.light.color),intensity:new c.DataConstantProperty(c.spec.light.intensity)});class rt extends c.Evented{constructor(o){super(),this._transitionable=new c.Transitionable(Be),this.setLight(o),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(o,u={}){if(!this._validate(c.validateLight,o,u))for(const y in o){const O=o[y];c.endsWith(y,"-transition")?this._transitionable.setTransition(y.slice(0,-11),O):this._transitionable.setValue(y,O)}}updateTransitions(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(o){this.properties=this._transitioning.possiblyEvaluate(o)}_validate(o,u,y){return(!y||!1!==y.validate)&&c.emitValidationErrors(this,o.call(c.validateStyle,c.extend({value:u,style:{glyphs:!0,sprite:!0},styleSpec:c.spec})))}}const wt=new c.Properties({source:new c.DataConstantProperty(c.spec.terrain.source),exaggeration:new c.DataConstantProperty(c.spec.terrain.exaggeration)});let It=class extends c.Evented{constructor(f,o){super(),this._transitionable=new c.Transitionable(wt),this.set(f),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=o}get(){return this._transitionable.serialize()}set(f){for(const o in f){const u=f[o];c.endsWith(o,"-transition")?this._transitionable.setTransition(o.slice(0,-11),u):this._transitionable.setValue(o,u)}}updateTransitions(f){this._transitioning=this._transitionable.transitioned(f,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(f){this.properties=this._transitioning.possiblyEvaluate(f)}};function Ie(f,o,u,y){const O=c.smoothstep(45,65,u),[I,z]=L(f,y),H=c.length(o);let Y=1-Math.min(1,Math.exp((H-I)/(z-I)*-6));return Y*=Y*Y,Y=Math.min(1,1.00747*Y),Y*O*f.alpha}function L(f,o){const u=.5/Math.tan(.5*o);return[f.range[0]+u,f.range[1]+u]}const Oe=new c.Properties({range:new c.DataConstantProperty(c.spec.fog.range),color:new c.DataConstantProperty(c.spec.fog.color),"high-color":new c.DataConstantProperty(c.spec.fog["high-color"]),"space-color":new c.DataConstantProperty(c.spec.fog["space-color"]),"horizon-blend":new c.DataConstantProperty(c.spec.fog["horizon-blend"]),"star-intensity":new c.DataConstantProperty(c.spec.fog["star-intensity"])});class ut extends c.Evented{constructor(o,u){super(),this._transitionable=new c.Transitionable(Oe),this.set(o),this._transitioning=this._transitionable.untransitioned(),this._transform=u}get state(){const o=this._transform,u="globe"===o.projection.name,y=c.globeToMercatorTransition(o.zoom),O=this.properties.get("range"),I=[.5,3];return{range:u?[c.number(I[0],O[0],y),c.number(I[1],O[1],y)]:O,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(o,u={}){if(!this._validate(c.validateFog,o,u)){for(const y of Object.keys(c.spec.fog))o&&void 0===o[y]&&(o[y]=c.spec.fog[y].default);for(const y in o){const O=o[y];c.endsWith(y,"-transition")?this._transitionable.setTransition(y.slice(0,-11),O):this._transitionable.setValue(y,O)}}}getOpacity(o){if(!this._transform.projection.supportsFog)return 0;const u=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:c.smoothstep(45,65,o))*u.a}getOpacityAtLatLng(o,u){return this._transform.projection.supportsFog?function(y,O,I){const z=c.MercatorCoordinate.fromLngLat(O),H=I.elevation?I.elevation.getAtPointOrZero(z):0,Y=[z.x,z.y,H];return c.transformMat4(Y,Y,I.mercatorFogMatrix),Ie(y,Y,I.pitch,I._fov)}(this.state,o,u):0}getFovAdjustedRange(o){return this._transform.projection.supportsFog?L(this.state,o):[0,1]}updateTransitions(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(o){this.properties=this._transitioning.possiblyEvaluate(o)}_validate(o,u,y){return(!y||!1!==y.validate)&&c.emitValidationErrors(this,o.call(c.validateStyle,c.extend({value:u,style:{glyphs:!0,sprite:!0},styleSpec:c.spec})))}}class Nt{constructor(o,u){this.workerPool=o,this.actors=[],this.currentActor=0,this.id=c.uniqueId();const y=this.workerPool.acquire(this.id);for(let O=0;O<y.length;O++){const I=new Nt.Actor(y[O],u,this.id);I.name=`Worker ${O}`,this.actors.push(I)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(o,u,y){c.asyncAll(this.actors,(O,I)=>{O.send(o,u,I)},y=y||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(o=>{o.remove()}),this.actors=[],this.workerPool.release(this.id)}}function an(f,o,u){return o*(c.EXTENT/(f.tileSize*Math.pow(2,u-f.tileID.overscaledZ)))}Nt.Actor=c.Actor;class bt{constructor(o,u,y,O){this.screenBounds=o,this.cameraPoint=u,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=y,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,O)}static createFromScreenPoints(o,u){let y,O;if(o instanceof c.Point||"number"==typeof o[0]){const I=c.Point.convert(o);y=[I],O=u.isPointAboveHorizon(I)}else{const I=c.Point.convert(o[0]),z=c.Point.convert(o[1]);y=[I,z],O=c.polygonizeBounds(I,z).every(H=>u.isPointAboveHorizon(H))}return new bt(y,u.getCameraPoint(),O,u)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(o){return c.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],o)}bufferedCameraGeometry(o){const u=this.screenBounds[0],y=1===this.screenBounds.length?this.screenBounds[0].add(new c.Point(1,1)):this.screenBounds[1],O=c.polygonizeBounds(u,y,0,!1);return this.cameraPoint.y>y.y&&(this.cameraPoint.x>u.x&&this.cameraPoint.x<y.x?O.splice(3,0,this.cameraPoint):this.cameraPoint.x>=y.x?O[2]=this.cameraPoint:this.cameraPoint.x<=u.x&&(O[3]=this.cameraPoint)),c.bufferConvexPolygon(O,o)}bufferedCameraGeometryGlobe(o){const u=this.screenBounds[0],y=1===this.screenBounds.length?this.screenBounds[0].add(new c.Point(1,1)):this.screenBounds[1],O=c.polygonizeBounds(u,y,o),I=this.cameraPoint.clone();switch(3*((I.y>u.y)+(I.y>y.y))+((I.x>u.x)+(I.x>y.x))){case 0:O[0]=I,O[4]=I.clone();break;case 1:O.splice(1,0,I);break;case 2:O[1]=I;break;case 3:O.splice(4,0,I);break;case 5:O.splice(2,0,I);break;case 6:O[3]=I;break;case 7:O.splice(3,0,I);break;case 8:O[2]=I}return O}containsTile(o,u,y,O=0){const I=o.queryPadding/u._pixelsPerMercatorPixel+1,z=y?this._bufferedCameraMercator(I,u):this._bufferedScreenMercator(I,u);let H=o.tileID.wrap+(z.unwrapped?O:0);const Y=z.polygon.map(Pt=>c.getTilePoint(o.tileTransform,Pt,H));if(!c.polygonIntersectsBox(Y,0,0,c.EXTENT,c.EXTENT))return;H=o.tileID.wrap+(this.screenGeometryMercator.unwrapped?O:0);const ue=this.screenGeometryMercator.polygon.map(Pt=>c.getTileVec3(o.tileTransform,Pt,H)),de=ue.map(Pt=>new c.Point(Pt[0],Pt[1])),Re=u.getFreeCameraOptions().position||new c.MercatorCoordinate(0,0,0),it=c.getTileVec3(o.tileTransform,Re,H),vt=ue.map(Pt=>{const Fe=c.sub(Pt,Pt,it);return c.normalize(Fe,Fe),new c.Ray(it,Fe)}),xt=an(o,1,u.zoom)*u._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:de,tilespaceRays:vt,bufferedTilespaceGeometry:Y,bufferedTilespaceBounds:(Mt=c.getBounds(Y),Mt.min.x=c.clamp(Mt.min.x,0,c.EXTENT),Mt.min.y=c.clamp(Mt.min.y,0,c.EXTENT),Mt.max.x=c.clamp(Mt.max.x,0,c.EXTENT),Mt.max.y=c.clamp(Mt.max.y,0,c.EXTENT),Mt),tile:o,tileID:o.tileID,pixelToTileUnitsFactor:xt};var Mt}_bufferedScreenMercator(o,u){const y=gt(o);if(this._screenRaycastCache[y])return this._screenRaycastCache[y];{let O;return O="globe"===u.projection.name?this._projectAndResample(this.bufferedScreenGeometry(o),u):{polygon:this.bufferedScreenGeometry(o).map(I=>u.pointCoordinate3D(I)),unwrapped:!0},this._screenRaycastCache[y]=O,O}}_bufferedCameraMercator(o,u){const y=gt(o);if(this._cameraRaycastCache[y])return this._cameraRaycastCache[y];{let O;return O="globe"===u.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(o),u):{polygon:this.bufferedCameraGeometry(o).map(I=>u.pointCoordinate3D(I)),unwrapped:!0},this._cameraRaycastCache[y]=O,O}}_projectAndResample(o,u){const y=function(I,z){const H=c.multiply([],z.pixelMatrix,z.globeMatrix),Y=[0,-c.GLOBE_RADIUS,0,1],ue=[0,c.GLOBE_RADIUS,0,1],de=[0,0,0,1];c.transformMat4$1(Y,Y,H),c.transformMat4$1(ue,ue,H),c.transformMat4$1(de,de,H);const Re=new c.Point(Y[0]/Y[3],Y[1]/Y[3]),it=new c.Point(ue[0]/ue[3],ue[1]/ue[3]),vt=c.polygonContainsPoint(I,Re)&&Y[3]<de[3],xt=c.polygonContainsPoint(I,it)&&ue[3]<de[3];if(!vt&&!xt)return null;const Mt=function(mn,Sn,Mn){for(let zn=1;zn<mn.length;zn++){const yi=jt(Sn.pointCoordinate3D(mn[zn-1]).x),kn=jt(Sn.pointCoordinate3D(mn[zn]).x);if(Mn<0){if(yi<kn)return{idx:zn,t:-yi/(kn-1-yi)}}else if(kn<yi)return{idx:zn,t:(1-yi)/(kn+1-yi)}}return null}(I,z,vt?-1:1);if(!Mt)return null;const{idx:Pt,t:Fe}=Mt;let _t=Pt>1?Qe(I.slice(0,Pt),z):[],Ut=Pt<I.length?Qe(I.slice(Pt),z):[];_t=_t.map(mn=>new c.Point(jt(mn.x),mn.y)),Ut=Ut.map(mn=>new c.Point(jt(mn.x),mn.y));const Gt=[..._t];0===Gt.length&&Gt.push(Ut[Ut.length-1]);const hn=c.number(Gt[Gt.length-1].y,(0===Ut.length?_t[0]:Ut[0]).y,Fe);let fn;return fn=vt?[new c.Point(0,hn),new c.Point(0,0),new c.Point(1,0),new c.Point(1,hn)]:[new c.Point(1,hn),new c.Point(1,1),new c.Point(0,1),new c.Point(0,hn)],Gt.push(...fn),0===Ut.length?Gt.push(_t[0]):Gt.push(...Ut),{polygon:Gt.map(mn=>new c.MercatorCoordinate(mn.x,mn.y)),unwrapped:!1}}(o,u);if(y)return y;const O=function(I,z){let H=!1,Y=-1/0,ue=0;for(let Re=0;Re<I.length-1;Re++)I[Re].x>Y&&(Y=I[Re].x,ue=Re);for(let Re=0;Re<I.length-1;Re++){const it=(ue+Re)%(I.length-1),vt=I[it],xt=I[it+1];Math.abs(vt.x-xt.x)>.5&&(vt.x<xt.x?(vt.x+=1,0===it&&(I[I.length-1].x+=1)):(xt.x+=1,it+1===I.length-1&&(I[0].x+=1)),H=!0)}const de=c.mercatorXfromLng(z.center.lng);return H&&de<Math.abs(de-1)&&I.forEach(Re=>{Re.x-=1}),{polygon:I,unwrapped:H}}(Qe(o,u).map(I=>new c.Point(jt(I.x),I.y)),u);return{polygon:O.polygon.map(I=>new c.MercatorCoordinate(I.x,I.y)),unwrapped:O.unwrapped}}}function Qe(f,o){return c.resample(f,u=>{const y=o.pointCoordinate3D(u);u.x=y.x,u.y=y.y},1/256)}function jt(f){return f<0?1+f%1:f%1}function gt(f){return 100*f|0}function yt(f,o,u,y,O){const I=function(z,H){if(z)return O(z);if(H){f.url&&H.tiles&&f.tiles&&delete f.tiles;const Y=c.pick(c.extend(H,f),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);H.vector_layers&&(Y.vectorLayers=H.vector_layers,Y.vectorLayerIds=Y.vectorLayers.map(ue=>ue.id)),Y.tiles=o.canonicalizeTileset(Y,f.url),O(null,Y)}};return f.url?c.getJSON(o.transformRequest(o.normalizeSourceURL(f.url,null,u,y),c.ResourceType.Source),I):c.exported.frame(()=>I(null,f))}class at{constructor(o,u,y){this.bounds=c.LngLatBounds.convert(this.validateBounds(o)),this.minzoom=u||0,this.maxzoom=y||24}validateBounds(o){return Array.isArray(o)&&4===o.length?[Math.max(-180,o[0]),Math.max(-90,o[1]),Math.min(180,o[2]),Math.min(90,o[3])]:[-180,-90,180,90]}contains(o){const u=Math.pow(2,o.z),y=Math.floor(c.mercatorXfromLng(this.bounds.getWest())*u),O=Math.floor(c.mercatorYfromLat(this.bounds.getNorth())*u),I=Math.ceil(c.mercatorXfromLng(this.bounds.getEast())*u),z=Math.ceil(c.mercatorYfromLat(this.bounds.getSouth())*u);return o.x>=y&&o.x<I&&o.y>=O&&o.y<z}}class Xe{constructor(o,u,y){this.context=o;const O=o.gl;this.buffer=O.createBuffer(),this.dynamicDraw=!!y,this.context.unbindVAO(),o.bindElementBuffer.set(this.buffer),O.bufferData(O.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?O.DYNAMIC_DRAW:O.STATIC_DRAW),this.dynamicDraw||u.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(o){const u=this.context.gl;this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,o.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Zt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ve{constructor(o,u,y,O){this.length=u.length,this.attributes=y,this.itemSize=u.bytesPerElement,this.dynamicDraw=O,this.context=o;const I=o.gl;this.buffer=I.createBuffer(),o.bindVertexBuffer.set(this.buffer),I.bufferData(I.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?I.DYNAMIC_DRAW:I.STATIC_DRAW),this.dynamicDraw||u.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(o){const u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,o.arrayBuffer)}enableAttributes(o,u){for(let y=0;y<this.attributes.length;y++){const O=u.attributes[this.attributes[y].name];void 0!==O&&o.enableVertexAttribArray(O)}}setVertexAttribPointers(o,u,y){for(let O=0;O<this.attributes.length;O++){const I=this.attributes[O],z=u.attributes[I.name];void 0!==z&&o.vertexAttribPointer(z,I.components,o[Zt[I.type]],!1,this.itemSize,I.offset+this.itemSize*(y||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ve{constructor(o){this.gl=o.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(o){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class St extends Ve{getDefault(){return c.Color.transparent}set(o){const u=this.current;(o.r!==u.r||o.g!==u.g||o.b!==u.b||o.a!==u.a||this.dirty)&&(this.gl.clearColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class wn extends Ve{getDefault(){return 1}set(o){(o!==this.current||this.dirty)&&(this.gl.clearDepth(o),this.current=o,this.dirty=!1)}}class $t extends Ve{getDefault(){return 0}set(o){(o!==this.current||this.dirty)&&(this.gl.clearStencil(o),this.current=o,this.dirty=!1)}}class Cn extends Ve{getDefault(){return[!0,!0,!0,!0]}set(o){const u=this.current;(o[0]!==u[0]||o[1]!==u[1]||o[2]!==u[2]||o[3]!==u[3]||this.dirty)&&(this.gl.colorMask(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class Ot extends Ve{getDefault(){return!0}set(o){(o!==this.current||this.dirty)&&(this.gl.depthMask(o),this.current=o,this.dirty=!1)}}class Wt extends Ve{getDefault(){return 255}set(o){(o!==this.current||this.dirty)&&(this.gl.stencilMask(o),this.current=o,this.dirty=!1)}}class st extends Ve{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(o){const u=this.current;(o.func!==u.func||o.ref!==u.ref||o.mask!==u.mask||this.dirty)&&(this.gl.stencilFunc(o.func,o.ref,o.mask),this.current=o,this.dirty=!1)}}class U extends Ve{getDefault(){const o=this.gl;return[o.KEEP,o.KEEP,o.KEEP]}set(o){const u=this.current;(o[0]!==u[0]||o[1]!==u[1]||o[2]!==u[2]||this.dirty)&&(this.gl.stencilOp(o[0],o[1],o[2]),this.current=o,this.dirty=!1)}}class Se extends Ve{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;o?u.enable(u.STENCIL_TEST):u.disable(u.STENCIL_TEST),this.current=o,this.dirty=!1}}class Vt extends Ve{getDefault(){return[0,1]}set(o){const u=this.current;(o[0]!==u[0]||o[1]!==u[1]||this.dirty)&&(this.gl.depthRange(o[0],o[1]),this.current=o,this.dirty=!1)}}class en extends Ve{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;o?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST),this.current=o,this.dirty=!1}}class jn extends Ve{getDefault(){return this.gl.LESS}set(o){(o!==this.current||this.dirty)&&(this.gl.depthFunc(o),this.current=o,this.dirty=!1)}}class Mi extends Ve{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;o?u.enable(u.BLEND):u.disable(u.BLEND),this.current=o,this.dirty=!1}}class dn extends Ve{getDefault(){const o=this.gl;return[o.ONE,o.ZERO]}set(o){const u=this.current;(o[0]!==u[0]||o[1]!==u[1]||this.dirty)&&(this.gl.blendFunc(o[0],o[1]),this.current=o,this.dirty=!1)}}class Pn extends Ve{getDefault(){return c.Color.transparent}set(o){const u=this.current;(o.r!==u.r||o.g!==u.g||o.b!==u.b||o.a!==u.a||this.dirty)&&(this.gl.blendColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class qn extends Ve{getDefault(){return this.gl.FUNC_ADD}set(o){(o!==this.current||this.dirty)&&(this.gl.blendEquation(o),this.current=o,this.dirty=!1)}}class ti extends Ve{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;o?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE),this.current=o,this.dirty=!1}}class qi extends Ve{getDefault(){return this.gl.BACK}set(o){(o!==this.current||this.dirty)&&(this.gl.cullFace(o),this.current=o,this.dirty=!1)}}class to extends Ve{getDefault(){return this.gl.CCW}set(o){(o!==this.current||this.dirty)&&(this.gl.frontFace(o),this.current=o,this.dirty=!1)}}let Zi,Fi=class extends Ve{getDefault(){return null}set(f){(f!==this.current||this.dirty)&&(this.gl.useProgram(f),this.current=f,this.dirty=!1)}};class yo extends Ve{getDefault(){return this.gl.TEXTURE0}set(o){(o!==this.current||this.dirty)&&(this.gl.activeTexture(o),this.current=o,this.dirty=!1)}}class Ji extends Ve{getDefault(){const o=this.gl;return[0,0,o.drawingBufferWidth,o.drawingBufferHeight]}set(o){const u=this.current;(o[0]!==u[0]||o[1]!==u[1]||o[2]!==u[2]||o[3]!==u[3]||this.dirty)&&(this.gl.viewport(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class xi extends Ve{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,o),this.current=o,this.dirty=!1}}class Mo extends Ve{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.bindRenderbuffer(u.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class no extends Ve{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.bindTexture(u.TEXTURE_2D,o),this.current=o,this.dirty=!1}}class Wo extends Ve{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.bindBuffer(u.ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class Bt extends Ve{getDefault(){return null}set(o){const u=this.gl;u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class Ue extends Ve{constructor(o){super(o),this.vao=o.extVertexArrayObject}getDefault(){return null}set(o){this.vao&&(o!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(o),this.current=o,this.dirty=!1)}}class We extends Ve{getDefault(){return 4}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_ALIGNMENT,o),this.current=o,this.dirty=!1}}class Ge extends Ve{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o),this.current=o,this.dirty=!1}}class Et extends Ve{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,o),this.current=o,this.dirty=!1}}class Q extends Ve{constructor(o,u){super(o),this.context=o,this.parent=u}getDefault(){return null}}class tt extends Q{setDirty(){this.dirty=!0}set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,o,0),this.current=o,this.dirty=!1}}class $e extends Q{attachment(){return this.gl.DEPTH_ATTACHMENT}set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,this.attachment(),u.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class lt extends $e{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class nn{constructor(o,u,y,O){this.context=o,this.width=u,this.height=y;const I=this.framebuffer=o.gl.createFramebuffer();this.colorAttachment=new tt(o,I),O&&(this.depthAttachment=new $e(o,I))}destroy(){const o=this.context.gl,u=this.colorAttachment.get();if(u&&o.deleteTexture(u),this.depthAttachment){const y=this.depthAttachment.get();y&&o.deleteRenderbuffer(y)}o.deleteFramebuffer(this.framebuffer)}}class bn{constructor(o,u=!1){if(this.gl=o,this.isWebGL2=u,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),u){const y=o;this.extVertexArrayObject={createVertexArrayOES:y.createVertexArray.bind(o),deleteVertexArrayOES:y.deleteVertexArray.bind(o),bindVertexArrayOES:y.bindVertexArray.bind(o)}}this.clearColor=new St(this),this.clearDepth=new wn(this),this.clearStencil=new $t(this),this.colorMask=new Cn(this),this.depthMask=new Ot(this),this.stencilMask=new Wt(this),this.stencilFunc=new st(this),this.stencilOp=new U(this),this.stencilTest=new Se(this),this.depthRange=new Vt(this),this.depthTest=new en(this),this.depthFunc=new jn(this),this.blend=new Mi(this),this.blendFunc=new dn(this),this.blendColor=new Pn(this),this.blendEquation=new qn(this),this.cullFace=new ti(this),this.cullFaceSide=new qi(this),this.frontFace=new to(this),this.program=new Fi(this),this.activeTexture=new yo(this),this.viewport=new Ji(this),this.bindFramebuffer=new xi(this),this.bindRenderbuffer=new Mo(this),this.bindTexture=new no(this),this.bindVertexBuffer=new Wo(this),this.bindElementBuffer=new Bt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ue(this),this.pixelStoreUnpack=new We(this),this.pixelStoreUnpackPremultiplyAlpha=new Ge(this),this.pixelStoreUnpackFlipY=new Et(this),this.extTextureFilterAnisotropic=o.getExtension("EXT_texture_filter_anisotropic")||o.getExtension("MOZ_EXT_texture_filter_anisotropic")||o.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=o.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=o.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=o.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=o.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),u||(this.extTextureHalfFloat=o.getExtension("OES_texture_half_float")),(u||this.extTextureHalfFloat&&o.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=o.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=u||o.getExtension("OES_standard_derivatives"),this.extTimerQuery=o.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(o,u){return new Xe(this,o,u)}createVertexBuffer(o,u,y){return new ve(this,o,u,y)}createRenderbuffer(o,u,y){const O=this.gl,I=O.createRenderbuffer();return this.bindRenderbuffer.set(I),O.renderbufferStorage(O.RENDERBUFFER,o,u,y),this.bindRenderbuffer.set(null),I}createFramebuffer(o,u,y){return new nn(this,o,u,y)}clear({color:o,depth:u,stencil:y}){const O=this.gl;let I=0;o&&(I|=O.COLOR_BUFFER_BIT,this.clearColor.set(o),this.colorMask.set([!0,!0,!0,!0])),void 0!==u&&(I|=O.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),void 0!==y&&(I|=O.STENCIL_BUFFER_BIT,this.clearStencil.set(y),this.stencilMask.set(255)),O.clear(I)}setCullFace(o){!1===o.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(o.mode),this.frontFace.set(o.frontFace))}setDepthMode(o){o.func!==this.gl.ALWAYS||o.mask?(this.depthTest.set(!0),this.depthFunc.set(o.func),this.depthMask.set(o.mask),this.depthRange.set(o.range)):this.depthTest.set(!1)}setStencilMode(o){o.test.func!==this.gl.ALWAYS||o.mask?(this.stencilTest.set(!0),this.stencilMask.set(o.mask),this.stencilOp.set([o.fail,o.depthFail,o.pass]),this.stencilFunc.set({func:o.test.func,ref:o.ref,mask:o.test.mask})):this.stencilTest.set(!1)}setColorMode(o){T(o.blendFunction,c.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(o.blendFunction),this.blendColor.set(o.blendColor)),this.colorMask.set(o.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Bn extends c.Evented{constructor(o,u,y,O){if(super(),this.id=o,this.dispatcher=y,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.extend(this,c.pick(u,["url","scheme","tileSize","promoteId"])),this._options=c.extend({type:"vector"},u),this._collectResourceTiming=u.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(O),this._tileWorkers={},this._deduped=new c.DedupedRequest}load(o){this._loaded=!1,this.fire(new c.Event("dataloading",{dataType:"source"}));const u=Array.isArray(this.map._language)?this.map._language.join():this.map._language,y=this.map._worldview;this._tileJSONRequest=yt(this._options,this.map._requestManager,u,y,(O,I)=>{this._tileJSONRequest=null,this._loaded=!0,O?(u&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${u}`),y&&2!==y.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${y}`),this.fire(new c.ErrorEvent(O))):I&&(c.extend(this,I),I.bounds&&(this.tileBounds=new at(I.bounds,this.minzoom,this.maxzoom)),c.postTurnstileEvent(I.tiles,this.map._requestManager._customAccessToken),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"}))),o&&o(O)})}loaded(){return this._loaded}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}onAdd(o){this.map=o,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(o){return this._options.tiles=o,this.reload(),this}setUrl(o){return this.url=o,this._options.url=o,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return c.extend({},this._options)}loadTile(o,u){const y=this.map._requestManager.normalizeTileURL(o.tileID.canonical.url(this.tiles,this.scheme)),O={request:this.map._requestManager.transformRequest(y,c.ResourceType.Tile),data:void 0,uid:o.uid,tileID:o.tileID,tileZoom:o.tileZoom,zoom:o.tileID.overscaledZ,tileSize:this.tileSize*o.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:c.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:o.isSymbolTile};if(O.request.collectResourceTiming=this._collectResourceTiming,o.actor&&"expired"!==o.state)"loading"===o.state?o.reloadCallback=u:o.request=o.actor.send("reloadTile",O,I.bind(this));else if(o.actor=this._tileWorkers[y]=this._tileWorkers[y]||this.dispatcher.getActor(),this.dispatcher.ready)o.request=o.actor.send("loadTile",O,I.bind(this),void 0,!0);else{const z=c.loadVectorTile.call({deduped:this._deduped},O,(H,Y)=>{H||!Y?I.call(this,H):(O.data={cacheControl:Y.cacheControl,expires:Y.expires,rawData:Y.rawData.slice(0)},o.actor&&o.actor.send("loadTile",O,I.bind(this),void 0,!0))},!0);o.request={cancel:z}}function I(z,H){return delete o.request,o.aborted?u(null):z&&404!==z.status?u(z):(H&&H.resourceTiming&&(o.resourceTiming=H.resourceTiming),this.map._refreshExpiredTiles&&H&&o.setExpiryData(H),o.loadVectorData(H,this.map.painter),c.cacheEntryPossiblyAdded(this.dispatcher),u(null),void(o.reloadCallback&&(this.loadTile(o,o.reloadCallback),o.reloadCallback=null)))}}abortTile(o){o.request&&(o.request.cancel(),delete o.request),o.actor&&o.actor.send("abortTile",{uid:o.uid,type:this.type,source:this.id})}unloadTile(o){o.unloadVectorData(),o.actor&&o.actor.send("removeTile",{uid:o.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class kt extends c.Evented{constructor(o,u,y,O){super(),this.id=o,this.dispatcher=y,this.setEventedParent(O),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.extend({type:"raster"},u),c.extend(this,c.pick(u,["url","scheme","tileSize"]))}load(o){this._loaded=!1,this.fire(new c.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=yt(this._options,this.map._requestManager,null,null,(u,y)=>{this._tileJSONRequest=null,this._loaded=!0,u?this.fire(new c.ErrorEvent(u)):y&&(c.extend(this,y),y.bounds&&(this.tileBounds=new at(y.bounds,this.minzoom,this.maxzoom)),c.postTurnstileEvent(y.tiles),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"}))),o&&o(u)})}loaded(){return this._loaded}onAdd(o){this.map=o,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(o){return this._options.tiles=o,this.reload(),this}setUrl(o){return this.url=o,this._options.url=o,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return c.extend({},this._options)}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}loadTile(o,u){const y=c.exported.devicePixelRatio>=2,O=this.map._requestManager.normalizeTileURL(o.tileID.canonical.url(this.tiles,this.scheme),y,this.tileSize);o.request=c.getImage(this.map._requestManager.transformRequest(O,c.ResourceType.Tile),(I,z,H,Y)=>(delete o.request,o.aborted?(o.state="unloaded",u(null)):I?(o.state="errored",u(I)):z?(this.map._refreshExpiredTiles&&o.setExpiryData({cacheControl:H,expires:Y}),o.setTexture(z,this.map.painter),o.state="loaded",c.cacheEntryPossiblyAdded(this.dispatcher),void u(null)):u(null)))}static loadTileData(o,u,y){o.setTexture(u,y)}static unloadTileData(o,u){o.texture&&u.saveTileTexture(o.texture)}abortTile(o,u){o.request&&(o.request.cancel(),delete o.request),u()}unloadTile(o,u){o.texture&&this.map.painter.saveTileTexture(o.texture),u()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function cn(f,o,u,y,O,I,z,H){const Y=[f,u,O,o,y,I,1,1,1],ue=[z,H,1],de=c.adjoint([],Y),[Re,it,vt]=c.transformMat3(ue,ue,c.transpose(de,de));return c.multiply$1(Y,[Re,0,0,0,it,0,0,0,vt],Y)}class ft extends c.Evented{constructor(o,u,y,O){super(),this.id=o,this.dispatcher=y,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(O),this.options=u,this._dirty=!1}load(o,u){this._loaded=u||!1,this.fire(new c.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=c.getImage(this.map._requestManager.transformRequest(this.url,c.ResourceType.Image),(y,O)=>{if(this._imageRequest=null,this._loaded=!0,y)this.fire(new c.ErrorEvent(y));else if(O){const{HTMLImageElement:I}=c.window;this.image=O instanceof I?c.exported.getImageData(O):O,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,o&&(this.coordinates=o),this._finishLoading()}})}loaded(){return this._loaded}updateImage(o){return this.image&&o.url?(this._imageRequest&&o.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=o.url,this.load(o.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(o){this.map=o,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(o){this.coordinates=o,this._boundsArray=void 0;const u=o.map(c.MercatorCoordinate.fromLngLat);return this.tileID=function(y){let O=1/0,I=1/0,z=-1/0,H=-1/0;for(const Re of y)O=Math.min(O,Re.x),I=Math.min(I,Re.y),z=Math.max(z,Re.x),H=Math.max(H,Re.y);const Y=Math.max(z-O,H-I),ue=Math.max(0,Math.floor(-Math.log(Y)/Math.LN2)),de=Math.pow(2,ue);return new c.CanonicalTileID(ue,Math.floor((O+z)/2*de),Math.floor((I+H)/2*de))}(u),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(o){for(const Y in this.tiles){const ue=this.tiles[Y];"loaded"!==ue.state&&(ue.state="loaded",ue.texture=this.texture)}if(this._boundsArray)return;const u=c.tileTransform(this.tileID,this.map.transform.projection),[y,O,I,z]=this.coordinates.map(Y=>{const ue=u.projection.project(Y[0],Y[1]);return c.getTilePoint(u,ue)._round()});this.perspectiveTransform=function(Y,ue,de,Re,it,vt,xt,Mt,Pt,Fe){const _t=cn(0,0,Y,0,0,ue,Y,ue),Ut=cn(de,Re,it,vt,xt,Mt,Pt,Fe);return c.multiply$1(Ut,c.adjoint(_t,_t),Ut),[Ut[6]/Ut[8]*Y/c.EXTENT,Ut[7]/Ut[8]*ue/c.EXTENT]}(this.width,this.height,y.x,y.y,O.x,O.y,z.x,z.y,I.x,I.y);const H=this._boundsArray=new c.StructArrayLayout4i8;H.emplaceBack(y.x,y.y,0,0),H.emplaceBack(O.x,O.y,c.EXTENT,0),H.emplaceBack(z.x,z.y,0,c.EXTENT),H.emplaceBack(I.x,I.y,c.EXTENT,c.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=o.createVertexBuffer(H,c.boundsAttributes.members),this.boundsSegments=c.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const o=this.map.painter.context,u=o.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new c.Texture(o,this.image,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(o)}loadTile(o,u){this.tileID&&this.tileID.equals(o.tileID.canonical)?(this.tiles[String(o.tileID.wrap)]=o,o.buckets={},u(null)):(o.state="errored",u(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Ze={vector:Bn,raster:kt,"raster-dem":class extends kt{constructor(f,o,u,y){super(f,o,u,y),this.type="raster-dem",this.maxzoom=22,this._options=c.extend({type:"raster-dem"},o),this.encoding=o.encoding||"mapbox"}loadTile(f,o){const u=this.map._requestManager.normalizeTileURL(f.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function y(O,I){O&&(f.state="errored",o(O)),I&&(f.dem=I,f.dem.onDeserialize(),f.needsHillshadePrepare=!0,f.needsDEMTextureUpload=!0,f.state="loaded",o(null))}f.request=c.getImage(this.map._requestManager.transformRequest(u,c.ResourceType.Tile),function(O,I,z,H){if(delete f.request,f.aborted)f.state="unloaded",o(null);else if(O)f.state="errored",o(O);else if(I){this.map._refreshExpiredTiles&&f.setExpiryData({cacheControl:z,expires:H});const Y=c.window.ImageBitmap&&I instanceof c.window.ImageBitmap&&(null==Zi&&(Zi=c.window.OffscreenCanvas&&new c.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof c.window.createImageBitmap),Zi),ue=1-(I.width-c.prevPowerOfTwo(I.width))/2;ue<1||f.neighboringTiles||(f.neighboringTiles=this._getNeighboringTiles(f.tileID));const de=Y?I:c.exported.getImageData(I,ue),Re={uid:f.uid,coord:f.tileID,source:this.id,rawImageData:de,encoding:this.encoding,padding:ue};f.actor&&"expired"!==f.state||(f.actor=this.dispatcher.getActor(),f.actor.send("loadDEMTile",Re,y.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(f){const o=f.canonical,u=Math.pow(2,o.z),y=(o.x-1+u)%u,O=0===o.x?f.wrap-1:f.wrap,I=(o.x+1+u)%u,z=o.x+1===u?f.wrap+1:f.wrap,H={};return H[new c.OverscaledTileID(f.overscaledZ,O,o.z,y,o.y).key]={backfilled:!1},H[new c.OverscaledTileID(f.overscaledZ,z,o.z,I,o.y).key]={backfilled:!1},o.y>0&&(H[new c.OverscaledTileID(f.overscaledZ,O,o.z,y,o.y-1).key]={backfilled:!1},H[new c.OverscaledTileID(f.overscaledZ,f.wrap,o.z,o.x,o.y-1).key]={backfilled:!1},H[new c.OverscaledTileID(f.overscaledZ,z,o.z,I,o.y-1).key]={backfilled:!1}),o.y+1<u&&(H[new c.OverscaledTileID(f.overscaledZ,O,o.z,y,o.y+1).key]={backfilled:!1},H[new c.OverscaledTileID(f.overscaledZ,f.wrap,o.z,o.x,o.y+1).key]={backfilled:!1},H[new c.OverscaledTileID(f.overscaledZ,z,o.z,I,o.y+1).key]={backfilled:!1}),H}unloadTile(f){f.demTexture&&this.map.painter.saveTileTexture(f.demTexture),f.fbo&&(f.fbo.destroy(),delete f.fbo),f.dem&&delete f.dem,delete f.neighboringTiles,f.state="unloaded"}},geojson:class extends c.Evented{constructor(f,o,u,y){super(),this.id=f,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=u.getActor(),this.setEventedParent(y),this._data=o.data,this._options=c.extend({},o),this._collectResourceTiming=o.collectResourceTiming,void 0!==o.maxzoom&&(this.maxzoom=o.maxzoom),o.type&&(this.type=o.type),o.attribution&&(this.attribution=o.attribution),this.promoteId=o.promoteId;const O=c.EXTENT/this.tileSize;this.workerOptions=c.extend({source:this.id,cluster:o.cluster||!1,geojsonVtOptions:{buffer:(void 0!==o.buffer?o.buffer:128)*O,tolerance:(void 0!==o.tolerance?o.tolerance:.375)*O,extent:c.EXTENT,maxZoom:this.maxzoom,lineMetrics:o.lineMetrics||!1,generateId:o.generateId||!1},superclusterOptions:{maxZoom:void 0!==o.clusterMaxZoom?o.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,o.clusterMinPoints||2),extent:c.EXTENT,radius:(void 0!==o.clusterRadius?o.clusterRadius:50)*O,log:!1,generateId:o.generateId||!1},clusterProperties:o.clusterProperties,filter:o.filter},o.workerOptions)}onAdd(f){this.map=f,this.setData(this._data)}setData(f){return this._data=f,this._updateWorkerData(),this}getClusterExpansionZoom(f,o){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:f,source:this.id},o),this}getClusterChildren(f,o){return this.actor.send("geojson.getClusterChildren",{clusterId:f,source:this.id},o),this}getClusterLeaves(f,o,u,y){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:f,limit:o,offset:u},y),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new c.Event("dataloading",{dataType:"source"})),this._loaded=!1;const f=c.extend({},this.workerOptions),o=this._data;"string"==typeof o?(f.request=this.map._requestManager.transformRequest(c.exported.resolveURL(o),c.ResourceType.Source),f.request.collectResourceTiming=this._collectResourceTiming):f.data=JSON.stringify(o),this._pendingLoad=this.actor.send(`${this.type}.loadData`,f,(u,y)=>{if(this._loaded=!0,this._pendingLoad=null,u)this.fire(new c.ErrorEvent(u));else{const O={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&y&&y.resourceTiming&&y.resourceTiming[this.id]&&(O.resourceTiming=y.resourceTiming[this.id]),this.fire(new c.Event("data",O)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(f,o){const u=f.actor?"reloadTile":"loadTile";f.actor=this.actor,f.request=this.actor.send(u,{type:this.type,uid:f.uid,tileID:f.tileID,tileZoom:f.tileZoom,zoom:f.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:c.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(y,O)=>(delete f.request,f.unloadVectorData(),f.aborted?o(null):y?o(y):(f.loadVectorData(O,this.map.painter,"reloadTile"===u),o(null))),void 0,"loadTile"===u)}abortTile(f){f.request&&(f.request.cancel(),delete f.request),f.aborted=!0}unloadTile(f){f.unloadVectorData(),this.actor.send("removeTile",{uid:f.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return c.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends ft{constructor(f,o,u,y){super(f,o,u,y),this.roundZoom=!0,this.type="video",this.options=o}load(){this._loaded=!1;const f=this.options;this.urls=[];for(const o of f.urls)this.urls.push(this.map._requestManager.transformRequest(o,c.ResourceType.Source).url);c.getVideo(this.urls,(o,u)=>{this._loaded=!0,o?this.fire(new c.ErrorEvent(o)):u&&(this.video=u,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(f){if(this.video){const o=this.video.seekable;f<o.start(0)||f>o.end(0)?this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${o.start(0)} and ${o.end(0)}-second mark.`))):this.video.currentTime=f}}getVideo(){return this.video}onAdd(f){this.map||(this.map=f,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const f=this.map.painter.context,o=f.gl;this.texture?this.video.paused||(this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,this.video)):(this.texture=new c.Texture(f,this.video,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(f)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:ft,canvas:class extends ft{constructor(f,o,u,y){super(f,o,u,y),o.coordinates?Array.isArray(o.coordinates)&&4===o.coordinates.length&&!o.coordinates.some(O=>!Array.isArray(O)||2!==O.length||O.some(I=>"number"!=typeof I))||this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${f}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${f}`,null,'missing required property "coordinates"'))),o.animate&&"boolean"!=typeof o.animate&&this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${f}`,null,'optional "animate" property must be a boolean value'))),o.canvas?"string"==typeof o.canvas||o.canvas instanceof c.window.HTMLCanvasElement||this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${f}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${f}`,null,'missing required property "canvas"'))),this.options=o,this.animate=void 0===o.animate||o.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof c.window.HTMLCanvasElement?this.options.canvas:c.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(f){this.map=f,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let f=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,f=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,f=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const o=this.map.painter.context;this.texture?(f||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new c.Texture(o,this.canvas,o.gl.RGBA,{premultiply:!0}),this._prepareData(o)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const f of[this.canvas.width,this.canvas.height])if(isNaN(f)||f<=0)return!0;return!1}},custom:class extends c.Evented{constructor(f,o,u,y){super(),this.id=f,this.type="custom",this._dataType="raster",this._dispatcher=u,this._implementation=o,this.setEventedParent(y),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new c.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new c.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new at(this._implementation.bounds,this.minzoom,this.maxzoom)),o.update=this._update.bind(this),o.clearTiles=this._clearTiles.bind(this),o.coveringTiles=this._coveringTiles.bind(this),c.extend(this,c.pick(o,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return c.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(f){this._map=f,this._loaded=!1,this.fire(new c.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(f),this.load()}onRemove(f){this._implementation.onRemove&&this._implementation.onRemove(f)}hasTile(f){if(this._implementation.hasTile){const{x:o,y:u,z:y}=f.canonical;return this._implementation.hasTile({x:o,y:u,z:y})}return!this.tileBounds||this.tileBounds.contains(f.canonical)}loadTile(f,o){const{x:u,y,z:O}=f.tileID.canonical,I=new c.window.AbortController;f.request=Promise.resolve(this._implementation.loadTile({x:u,y,z:O},{signal:I.signal})).then(function(z){return delete f.request,f.aborted?(f.state="unloaded",o(null)):void 0===z?(f.state="errored",o(null)):null===z?(this.loadTileData(f,{width:this.tileSize,height:this.tileSize,data:null}),f.state="loaded",o(null)):(H=z)instanceof c.window.ImageData||H instanceof c.window.HTMLCanvasElement||H instanceof c.window.ImageBitmap||H instanceof c.window.HTMLImageElement?(this.loadTileData(f,z),f.state="loaded",void o(null)):(f.state="errored",o(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)));var H}.bind(this)).catch(z=>{20!==z.code&&(f.state="errored",o(z))}),f.request.cancel=()=>I.abort()}loadTileData(f,o){kt.loadTileData(f,o,this._map.painter)}unloadTileData(f){kt.unloadTileData(f,this._map.painter)}unloadTile(f,o){if(this.unloadTileData(f),this._implementation.unloadTile){const{x:u,y,z:O}=f.tileID.canonical;this._implementation.unloadTile({x:u,y,z:O})}o()}abortTile(f,o){f.request&&f.request.cancel&&(f.request.cancel(),delete f.request),o()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(f=>({x:f.canonical.x,y:f.canonical.y,z:f.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"}))}}},on=function(f,o,u,y){const O=new Ze[o.type](f,o,u,y);if(O.id!==f)throw new Error(`Expected Source id to be ${f} instead of ${O.id}`);return c.bindAll(["load","abort","unload","serialize","prepare"],O),O};function _e(f,o){const u=c.identity([]);return c.scale(u,u,[.5*f.width,.5*-f.height,1]),c.translate(u,u,[1,-1,0]),c.multiply(u,u,f.calculateProjMatrix(o.toUnwrapped())),Float32Array.from(u)}function Lt(f,o,u,y,O,I,z,H=!1){const Y=f.tilesIn(y,z,H);Y.sort(Ht);const ue=[];for(const Re of Y)ue.push({wrappedTileID:Re.tile.tileID.wrapped().key,queryResults:Re.tile.queryRenderedFeatures(o,u,f._state,Re,O,I,_e(f.transform,Re.tile.tileID),H)});const de=function(Re){const it={},vt={};for(const xt of Re){const Mt=xt.queryResults,Pt=xt.wrappedTileID,Fe=vt[Pt]=vt[Pt]||{};for(const _t in Mt){const Ut=Mt[_t],Gt=Fe[_t]=Fe[_t]||{},hn=it[_t]=it[_t]||[];for(const fn of Ut)Gt[fn.featureIndex]||(Gt[fn.featureIndex]=!0,hn.push(fn))}}return it}(ue);for(const Re in de)de[Re].forEach(it=>{const vt=it.feature,xt=vt.layer;xt&&"background"!==xt.type&&"sky"!==xt.type&&(vt.source=xt.source,xt["source-layer"]&&(vt.sourceLayer=xt["source-layer"]),vt.state=void 0!==vt.id?f.getFeatureState(xt["source-layer"],vt.id):{})});return de}function gn(f,o){const u=f.getRenderableIds().map(I=>f.getTileByID(I)),y=[],O={};for(let I=0;I<u.length;I++){const z=u[I],H=z.tileID.canonical.key;O[H]||(O[H]=!0,z.querySourceFeatures(y,o))}return y}function Ht(f,o){const u=f.tileID,y=o.tileID;return u.overscaledZ-y.overscaledZ||u.canonical.y-y.canonical.y||u.wrap-y.wrap||u.canonical.x-y.canonical.x}function Jn(){return null!=zl.workerClass?new zl.workerClass:new c.window.Worker(zl.workerUrl)}const Je="mapboxgl_preloaded_worker_pool";class yn{constructor(){this.active={}}acquire(o){if(!this.workers)for(this.workers=[];this.workers.length<yn.workerCount;)this.workers.push(new Jn);return this.active[o]=!0,this.workers.slice()}release(o){delete this.active[o],0===this.numActive()&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Je]}numActive(){return Object.keys(this.active).length}}let ct;function At(){return ct||(ct=new yn),ct}function Jt(f,o){const u={};for(const y in f)"ref"!==y&&(u[y]=f[y]);return c.refProperties.forEach(y=>{y in o&&(u[y]=o[y])}),u}function ei(f){f=f.slice();const o=Object.create(null);for(let u=0;u<f.length;u++)o[f[u].id]=f[u];for(let u=0;u<f.length;u++)"ref"in f[u]&&(f[u]=Jt(f[u],o[f[u].ref]));return f}yn.workerCount=2;const Zn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Ci(f,o,u){u.push({command:Zn.addSource,args:[f,o[f]]})}function hi(f,o,u){o.push({command:Zn.removeSource,args:[f]}),u[f]=!0}function vo(f,o,u,y){hi(f,u,y),Ci(f,o,u)}function Di(f,o,u){let y;for(y in f[u])if(f[u].hasOwnProperty(y)&&"data"!==y&&!T(f[u][y],o[u][y]))return!1;for(y in o[u])if(o[u].hasOwnProperty(y)&&"data"!==y&&!T(f[u][y],o[u][y]))return!1;return!0}function Do(f,o,u,y,O,I){let z;for(z in o=o||{},f=f||{})f.hasOwnProperty(z)&&(T(f[z],o[z])||u.push({command:I,args:[y,z,o[z],O]}));for(z in o)o.hasOwnProperty(z)&&!f.hasOwnProperty(z)&&(T(f[z],o[z])||u.push({command:I,args:[y,z,o[z],O]}))}function ir(f){return f.id}function wr(f,o){return f[o.id]=o,f}class Ho{constructor(o,u){this.reset(o,u)}reset(o,u){this.points=o||[],this._distances=[0];for(let y=1;y<this.points.length;y++)this._distances[y]=this._distances[y-1]+this.points[y].dist(this.points[y-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(o){if(1===this.points.length)return this.points[0];o=c.clamp(o,0,1);let u=1,y=this._distances[u];const O=o*this.paddedLength+this.padding;for(;y<O&&u<this._distances.length;)y=this._distances[++u];const I=u-1,z=this._distances[I],H=y-z,Y=H>0?(O-z)/H:0;return this.points[I].mult(1-Y).add(this.points[u].mult(Y))}}class dr{constructor(o,u,y){const O=this.boxCells=[],I=this.circleCells=[];this.xCellCount=Math.ceil(o/y),this.yCellCount=Math.ceil(u/y);for(let z=0;z<this.xCellCount*this.yCellCount;z++)O.push([]),I.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=o,this.height=u,this.xScale=this.xCellCount/o,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(o,u,y,O,I){this._forEachCell(u,y,O,I,this._insertBoxCell,this.boxUid++),this.boxKeys.push(o),this.bboxes.push(u),this.bboxes.push(y),this.bboxes.push(O),this.bboxes.push(I)}insertCircle(o,u,y,O){this._forEachCell(u-O,y-O,u+O,y+O,this._insertCircleCell,this.circleUid++),this.circleKeys.push(o),this.circles.push(u),this.circles.push(y),this.circles.push(O)}_insertBoxCell(o,u,y,O,I,z){this.boxCells[I].push(z)}_insertCircleCell(o,u,y,O,I,z){this.circleCells[I].push(z)}_query(o,u,y,O,I,z){if(y<0||o>this.width||O<0||u>this.height)return!I&&[];const H=[];if(o<=0&&u<=0&&this.width<=y&&this.height<=O){if(I)return!0;for(let Y=0;Y<this.boxKeys.length;Y++)H.push({key:this.boxKeys[Y],x1:this.bboxes[4*Y],y1:this.bboxes[4*Y+1],x2:this.bboxes[4*Y+2],y2:this.bboxes[4*Y+3]});for(let Y=0;Y<this.circleKeys.length;Y++){const ue=this.circles[3*Y],de=this.circles[3*Y+1],Re=this.circles[3*Y+2];H.push({key:this.circleKeys[Y],x1:ue-Re,y1:de-Re,x2:ue+Re,y2:de+Re})}return z?H.filter(z):H}return this._forEachCell(o,u,y,O,this._queryCell,H,{hitTest:I,seenUids:{box:{},circle:{}}},z),I?H.length>0:H}_queryCircle(o,u,y,O,I){const z=o-y,H=o+y,Y=u-y,ue=u+y;if(H<0||z>this.width||ue<0||Y>this.height)return!O&&[];const de=[];return this._forEachCell(z,Y,H,ue,this._queryCellCircle,de,{hitTest:O,circle:{x:o,y:u,radius:y},seenUids:{box:{},circle:{}}},I),O?de.length>0:de}query(o,u,y,O,I){return this._query(o,u,y,O,!1,I)}hitTest(o,u,y,O,I){return this._query(o,u,y,O,!0,I)}hitTestCircle(o,u,y,O){return this._queryCircle(o,u,y,!0,O)}_queryCell(o,u,y,O,I,z,H,Y){const ue=H.seenUids,de=this.boxCells[I];if(null!==de){const it=this.bboxes;for(const vt of de)if(!ue.box[vt]){ue.box[vt]=!0;const xt=4*vt;if(o<=it[xt+2]&&u<=it[xt+3]&&y>=it[xt+0]&&O>=it[xt+1]&&(!Y||Y(this.boxKeys[vt]))){if(H.hitTest)return z.push(!0),!0;z.push({key:this.boxKeys[vt],x1:it[xt],y1:it[xt+1],x2:it[xt+2],y2:it[xt+3]})}}}const Re=this.circleCells[I];if(null!==Re){const it=this.circles;for(const vt of Re)if(!ue.circle[vt]){ue.circle[vt]=!0;const xt=3*vt;if(this._circleAndRectCollide(it[xt],it[xt+1],it[xt+2],o,u,y,O)&&(!Y||Y(this.circleKeys[vt]))){if(H.hitTest)return z.push(!0),!0;{const Mt=it[xt],Pt=it[xt+1],Fe=it[xt+2];z.push({key:this.circleKeys[vt],x1:Mt-Fe,y1:Pt-Fe,x2:Mt+Fe,y2:Pt+Fe})}}}}}_queryCellCircle(o,u,y,O,I,z,H,Y){const ue=H.circle,de=H.seenUids,Re=this.boxCells[I];if(null!==Re){const vt=this.bboxes;for(const xt of Re)if(!de.box[xt]){de.box[xt]=!0;const Mt=4*xt;if(this._circleAndRectCollide(ue.x,ue.y,ue.radius,vt[Mt+0],vt[Mt+1],vt[Mt+2],vt[Mt+3])&&(!Y||Y(this.boxKeys[xt])))return z.push(!0),!0}}const it=this.circleCells[I];if(null!==it){const vt=this.circles;for(const xt of it)if(!de.circle[xt]){de.circle[xt]=!0;const Mt=3*xt;if(this._circlesCollide(vt[Mt],vt[Mt+1],vt[Mt+2],ue.x,ue.y,ue.radius)&&(!Y||Y(this.circleKeys[xt])))return z.push(!0),!0}}}_forEachCell(o,u,y,O,I,z,H,Y){const ue=this._convertToXCellCoord(o),de=this._convertToYCellCoord(u),Re=this._convertToXCellCoord(y),it=this._convertToYCellCoord(O);for(let vt=ue;vt<=Re;vt++)for(let xt=de;xt<=it;xt++)if(I.call(this,o,u,y,O,this.xCellCount*xt+vt,z,H,Y))return}_convertToXCellCoord(o){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(o*this.xScale)))}_convertToYCellCoord(o){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(o*this.yScale)))}_circlesCollide(o,u,y,O,I,z){const H=O-o,Y=I-u,ue=y+z;return ue*ue>H*H+Y*Y}_circleAndRectCollide(o,u,y,O,I,z,H){const Y=(z-O)/2,ue=Math.abs(o-(O+Y));if(ue>Y+y)return!1;const de=(H-I)/2,Re=Math.abs(u-(I+de));if(Re>de+y)return!1;if(ue<=Y||Re<=de)return!0;const it=ue-Y,vt=Re-de;return it*it+vt*vt<=y*y}}const Ko={unknown:0,flipRequired:1,flipNotRequired:2},jo=Math.tan(85*Math.PI/180);function Dn(f,o,u,y,O,I,z){const H=c.create();if(u)if("globe"===I.name){const Y=c.calculateGlobeLabelMatrix(O,o);c.multiply(H,H,Y)}else{const Y=ge([],z);H[0]=Y[0],H[1]=Y[1],H[4]=Y[2],H[5]=Y[3],y||c.rotateZ(H,H,O.angle)}else c.multiply(H,O.labelPlaneMatrix,f);return H}function Tr(f,o,u,y,O,I,z){const H=Dn(f,o,u,y,O,I,z);return"globe"===I.name&&u||(H[2]=H[6]=H[10]=H[14]=0),H}function Jo(f,o,u,y,O,I,z){if(u){if("globe"===I.name){const H=Dn(f,o,u,y,O,I,z);return c.invert(H,H),c.multiply(H,f,H),H}{const H=c.clone(f),Y=c.identity([]);return Y[0]=z[0],Y[1]=z[1],Y[4]=z[2],Y[5]=z[3],c.multiply(H,H,Y),y||c.rotateZ(H,H,-O.angle),H}}return O.glCoordMatrix}function Eo(f,o,u,y){const O=[f,o,u,1];u?c.transformMat4$1(O,O,y):sn(O,O,y);const I=O[3];return O[0]/=I,O[1]/=I,O[2]/=I,O}function kr(f,o){return Math.min(.5+f/o*.5,1.5)}function gr(f,o){const u=f[0]/f[3],y=f[1]/f[3];return u>=-o[0]&&u<=o[0]&&y>=-o[1]&&y<=o[1]}function ys(f,o,u,y,O,I,z,H,Y,ue){const de=u.transform,Re=y?f.textSizeData:f.iconSizeData,it=c.evaluateSizeForZoom(Re,u.transform.zoom),vt="globe"===de.projection.name,xt=[256/u.width*2+1,256/u.height*2+1],Mt=y?f.text.dynamicLayoutVertexArray:f.icon.dynamicLayoutVertexArray;Mt.clear();let Pt=null;vt&&(Pt=y?f.text.globeExtVertexArray:f.icon.globeExtVertexArray);const Fe=f.lineVertexArray,_t=y?f.text.placedSymbolArray:f.icon.placedSymbolArray,Ut=u.transform.width/u.transform.height;let Gt,hn=!1;for(let fn=0;fn<_t.length;fn++){const mn=_t.get(fn),{numGlyphs:Sn,writingMode:Mn}=mn;if(Mn!==c.WritingMode.vertical||hn||Gt===c.WritingMode.horizontal||(hn=!0),Gt=Mn,(mn.hidden||Mn===c.WritingMode.vertical)&&!hn){Tt(Sn,Mt);continue}hn=!1;const zn=new c.Point(mn.tileAnchorX,mn.tileAnchorY);let{x:yi,y:kn,z:ai}=de.projection.projectTilePoint(zn.x,zn.y,ue.canonical);if(Y){const[So,Yi,po]=Y(zn);yi+=So,kn+=Yi,ai+=po}const Vn=[yi,kn,ai,1];if(c.transformMat4$1(Vn,Vn,o),!gr(Vn,xt)){Tt(Sn,Mt);continue}const pi=kr(u.transform.cameraToCenterDistance,Vn[3]),An=c.evaluateSizeForFeature(Re,it,mn),oi=z?An/pi:An*pi,gi=Eo(yi,kn,ai,O);if(gi[3]<=0){Tt(Sn,Mt);continue}let ci={};const vi=z?null:Y,so=nt(mn,oi,!1,H,o,O,I,f.glyphOffsetArray,Fe,Mt,Pt,gi,zn,ci,Ut,vi,de.projection,ue,z);hn=so.useVertical,vi&&so.needsFlipping&&(ci={}),(so.notEnoughRoom||hn||so.needsFlipping&&nt(mn,oi,!0,H,o,O,I,f.glyphOffsetArray,Fe,Mt,Pt,gi,zn,ci,Ut,vi,de.projection,ue,z).notEnoughRoom)&&Tt(Sn,Mt)}y?(f.text.dynamicLayoutVertexBuffer.updateData(Mt),Pt&&f.text.globeExtVertexBuffer.updateData(Pt)):(f.icon.dynamicLayoutVertexBuffer.updateData(Mt),Pt&&f.icon.globeExtVertexBuffer.updateData(Pt))}function vs(f,o,u,y,O,I,z,H,Y,ue,de,Re,it,vt,xt,Mt){const{lineStartIndex:Pt,glyphStartIndex:Fe,segment:_t}=H,Ut=Fe+H.numGlyphs,Gt=Pt+H.lineLength,hn=o.getoffsetX(Fe),fn=o.getoffsetX(Ut-1),mn=Gn(f*hn,u,y,O,I,z,_t,Pt,Gt,Y,ue,de,Re,it,!0,vt,xt,Mt);if(!mn)return null;const Sn=Gn(f*fn,u,y,O,I,z,_t,Pt,Gt,Y,ue,de,Re,it,!0,vt,xt,Mt);return Sn?{first:mn,last:Sn}:null}function et(f,o,u,y){return f===c.WritingMode.horizontal&&Math.abs(y)>Math.abs(u)?{useVertical:!0}:f===c.WritingMode.vertical?y>0?{needsFlipping:!0}:null:o!==Ko.unknown&&(0===(O=u)||Math.abs(y/O)>jo)?o===Ko.flipRequired?{needsFlipping:!0}:null:u<0?{needsFlipping:!0}:null;var O}function nt(f,o,u,y,O,I,z,H,Y,ue,de,Re,it,vt,xt,Mt,Pt,Fe,_t){const Ut=o/24,Gt=f.lineOffsetX*Ut,hn=f.lineOffsetY*Ut,{lineStartIndex:fn,glyphStartIndex:mn,numGlyphs:Sn,segment:Mn,writingMode:zn,flipState:yi}=f,kn=fn+f.lineLength,ai=Vn=>{if(de){const[gi,ci,vi]=Vn.up,so=ue.length;c.updateGlobeVertexNormal(de,so+0,gi,ci,vi),c.updateGlobeVertexNormal(de,so+1,gi,ci,vi),c.updateGlobeVertexNormal(de,so+2,gi,ci,vi),c.updateGlobeVertexNormal(de,so+3,gi,ci,vi)}const[pi,An,oi]=Vn.point;c.addDynamicAttributes(ue,pi,An,oi,Vn.angle)};if(Sn>1){const Vn=vs(Ut,H,Gt,hn,u,Re,it,f,Y,I,vt,Mt,!1,Pt,Fe,_t);if(!Vn)return{notEnoughRoom:!0};if(y&&!u){let[pi,An,oi]=Vn.first.point,[gi,ci,vi]=Vn.last.point;[pi,An]=Eo(pi,An,oi,z),[gi,ci]=Eo(gi,ci,vi,z);const so=et(zn,yi,(gi-pi)*xt,ci-An);if(f.flipState=so&&so.needsFlipping?Ko.flipRequired:Ko.flipNotRequired,so)return so}ai(Vn.first);for(let pi=mn+1;pi<mn+Sn-1;pi++){const An=Gn(Ut*H.getoffsetX(pi),Gt,hn,u,Re,it,Mn,fn,kn,Y,I,vt,Mt,!1,!1,Pt,Fe,_t);if(!An)return ue.length-=4*(pi-mn),{notEnoughRoom:!0};ai(An)}ai(Vn.last)}else{if(y&&!u){const pi=Eo(it.x,it.y,0,O),An=fn+Mn+1,oi=new c.Point(Y.getx(An),Y.gety(An)),gi=Eo(oi.x,oi.y,0,O),ci=gi[3]>0?gi:ln(it,oi,pi,1,O,void 0,Pt,Fe.canonical),vi=et(zn,yi,(ci[0]-pi[0])*xt,ci[1]-pi[1]);if(f.flipState=vi&&vi.needsFlipping?Ko.flipRequired:Ko.flipNotRequired,vi)return vi}const Vn=Gn(Ut*H.getoffsetX(mn),Gt,hn,u,Re,it,Mn,fn,kn,Y,I,vt,Mt,!1,!1,Pt,Fe,_t);if(!Vn)return{notEnoughRoom:!0};ai(Vn)}return{}}function rn(f,o,u,y,O){const{x:I,y:z,z:H}=y.projectTilePoint(f.x,f.y,o);if(!O)return Eo(I,z,H,u);const[Y,ue,de]=O(f);return Eo(I+Y,z+ue,H+de,u)}function ln(f,o,u,y,O,I,z,H){const Y=rn(f.sub(o)._unit()._add(f),H,O,z,I);return c.sub(Y,u,Y),c.normalize(Y,Y),c.scaleAndAdd(Y,u,Y,y)}function Gn(f,o,u,y,O,I,z,H,Y,ue,de,Re,it,vt,xt,Mt,Pt,Fe){const _t=y?f-o:f+o;let Ut=_t>0?1:-1,Gt=0;y&&(Ut*=-1,Gt=Math.PI),Ut<0&&(Gt+=Math.PI);let hn=H+z+(Ut>0?0:1)|0,fn=O,mn=O,Sn=0,Mn=0;const zn=Math.abs(_t),yi=[],kn=[];let ai=I,Vn=ai;const pi=()=>ln(Vn,ai,mn,zn-Sn+1,de,it,Mt,Pt.canonical);for(;Sn+Mn<=zn;){if(hn+=Ut,hn<H||hn>=Y)return null;if(mn=fn,Vn=ai,yi.push(mn),vt&&kn.push(Vn),ai=new c.Point(ue.getx(hn),ue.gety(hn)),fn=Re[hn],!fn){const po=rn(ai,Pt.canonical,de,Mt,it);fn=po[3]>0?Re[hn]=po:pi()}Sn+=Mn,Mn=c.distance(mn,fn)}xt&&it&&(Re[hn]&&(fn=pi(),Mn=c.distance(mn,fn)),Re[hn]=fn);const An=(zn-Sn)/Mn,oi=ai.sub(Vn)._mult(An)._add(Vn),gi=c.sub([],fn,mn),ci=c.scaleAndAdd([],mn,gi,An);let vi=[0,0,1],so=gi[0],So=gi[1];if(Fe&&(vi=Mt.upVector(Pt.canonical,oi.x,oi.y),0!==vi[0]||0!==vi[1]||1!==vi[2])){const po=[vi[2],0,-vi[0]],Io=c.cross([],vi,po);c.normalize(po,po),c.normalize(Io,Io),so=c.dot(gi,po),So=c.dot(gi,Io)}if(u){const po=c.cross([],vi,gi);c.normalize(po,po),c.scaleAndAdd(ci,ci,po,u*Ut)}const Yi=Gt+Math.atan2(So,so);return yi.push(ci),vt&&kn.push(oi),{point:ci,angle:Yi,path:yi,tilePath:kn,up:vi}}function Tt(f,o){const u=o.length,y=u+4*f;o.resize(y),o.float32.fill(-1/0,4*u,4*y)}function sn(f,o,u){const y=o[0],O=o[1];return f[0]=u[0]*y+u[4]*O+u[12],f[1]=u[1]*y+u[5]*O+u[13],f[3]=u[3]*y+u[7]*O+u[15],f}const Tn=100;class ni{constructor(o,u,y=new dr(o.width+200,o.height+200,25),O=new dr(o.width+200,o.height+200,25)){this.transform=o,this.grid=y,this.ignoredGrid=O,this.pitchfactor=Math.cos(o._pitch)*o.cameraToCenterDistance,this.screenRightBoundary=o.width+Tn,this.screenBottomBoundary=o.height+Tn,this.gridRightBoundary=o.width+200,this.gridBottomBoundary=o.height+200,this.fogState=u}placeCollisionBox(o,u,y,O,I,z,H,Y){let ue=y.projectedAnchorX,de=y.projectedAnchorY,Re=y.projectedAnchorZ;const it=y.elevation,vt=y.tileID,xt=o.getProjection();if(it&&vt){const[fn,mn,Sn]=xt.upVector(vt.canonical,y.tileAnchorX,y.tileAnchorY),Mn=xt.upVectorScale(vt.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;ue+=fn*it*Mn,de+=mn*it*Mn,Re+=Sn*it*Mn}const Mt=this.projectAndGetPerspectiveRatio(H,ue,de,Re,y.tileID,"globe"===xt.name||!!it||this.transform.pitch>0,xt),Pt=z*Mt.perspectiveRatio,Fe=(y.x1*u+O.x-y.padding)*Pt+Mt.point.x,_t=(y.y1*u+O.y-y.padding)*Pt+Mt.point.y,Ut=(y.x2*u+O.x+y.padding)*Pt+Mt.point.x,Gt=(y.y2*u+O.y+y.padding)*Pt+Mt.point.y,hn=Mt.perspectiveRatio<=.55||Mt.occluded;return!this.isInsideGrid(Fe,_t,Ut,Gt)||!I&&this.grid.hitTest(Fe,_t,Ut,Gt,Y)||hn?{box:[],offscreen:!1,occluded:Mt.occluded}:{box:[Fe,_t,Ut,Gt],offscreen:this.isOffscreen(Fe,_t,Ut,Gt),occluded:!1}}placeCollisionCircles(o,u,y,O,I,z,H,Y,ue,de,Re,it,vt,xt,Mt){const Pt=[],Fe=this.transform.elevation,_t=o.getProjection(),Ut=Fe?Fe.getAtTileOffsetFunc(Mt,this.transform.center.lat,this.transform.worldSize,_t):null,Gt=new c.Point(y.tileAnchorX,y.tileAnchorY);let{x:hn,y:fn,z:mn}=_t.projectTilePoint(Gt.x,Gt.y,Mt.canonical);if(Ut){const[oi,gi,ci]=Ut(Gt);hn+=oi,fn+=gi,mn+=ci}const Sn="globe"===_t.name,Mn=this.projectAndGetPerspectiveRatio(H,hn,fn,mn,Mt,Sn||!!Fe||this.transform.pitch>0,_t),{perspectiveRatio:zn}=Mn,yi=(Re?z/zn:z*zn)/c.ONE_EM,kn=Eo(hn,fn,mn,Y),ai=Mn.signedDistanceFromCamera>0?vs(yi,I,y.lineOffsetX*yi,y.lineOffsetY*yi,!1,kn,Gt,y,O,Y,{},Fe&&!Re?Ut:null,Re&&!!Fe,_t,Mt,Re):null;let Vn=!1,pi=!1,An=!0;if(ai&&!Mn.occluded){const oi=.5*vt*zn+xt,gi=new c.Point(-100,-100),ci=new c.Point(this.screenRightBoundary,this.screenBottomBoundary),vi=new Ho,{first:so,last:So}=ai,Yi=so.path.length;let po=[];for(let eo=Yi-1;eo>=1;eo--)po.push(so.path[eo]);for(let eo=1;eo<So.path.length;eo++)po.push(So.path[eo]);const Io=2.5*oi;ue&&(po=po.map(([eo,Nr,Kr],Hr)=>(Ut&&!Sn&&(Kr=Ut(Hr<Yi-1?so.tilePath[Yi-1-Hr]:So.tilePath[Hr-Yi+2])[2]),Eo(eo,Nr,Kr,ue))),po.some(eo=>eo[3]<=0)&&(po=[]));let qo=[];if(po.length>0){let eo=1/0,Nr=-1/0,Kr=1/0,Hr=-1/0;for(const $r of po)eo=Math.min(eo,$r[0]),Kr=Math.min(Kr,$r[1]),Nr=Math.max(Nr,$r[0]),Hr=Math.max(Hr,$r[1]);Nr>=gi.x&&eo<=ci.x&&Hr>=gi.y&&Kr<=ci.y&&(qo=[po.map($r=>new c.Point($r[0],$r[1]))],(eo<gi.x||Nr>ci.x||Kr<gi.y||Hr>ci.y)&&(qo=c.clipLine(qo,gi.x,gi.y,ci.x,ci.y)))}for(const eo of qo){vi.reset(eo,.25*oi);let Nr=0;Nr=vi.length<=.5*oi?1:Math.ceil(vi.paddedLength/Io)+1;for(let Kr=0;Kr<Nr;Kr++){const Hr=Kr/Math.max(Nr-1,1),$r=vi.lerp(Hr),el=$r.x+Tn,ba=$r.y+Tn;Pt.push(el,ba,oi,0);const Ul=el-oi,tc=ba-oi,gs=el+oi,Xr=ba+oi;if(An=An&&this.isOffscreen(Ul,tc,gs,Xr),pi=pi||this.isInsideGrid(Ul,tc,gs,Xr),!u&&this.grid.hitTestCircle(el,ba,oi,it)&&(Vn=!0,!de))return{circles:[],offscreen:!1,collisionDetected:Vn,occluded:!1}}}}return{circles:!de&&Vn||!pi?[]:Pt,offscreen:An,collisionDetected:Vn,occluded:Mn.occluded}}queryRenderedSymbols(o){if(0===o.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const u=[];let y=1/0,O=1/0,I=-1/0,z=-1/0;for(const de of o){const Re=new c.Point(de.x+Tn,de.y+Tn);y=Math.min(y,Re.x),O=Math.min(O,Re.y),I=Math.max(I,Re.x),z=Math.max(z,Re.y),u.push(Re)}const H=this.grid.query(y,O,I,z).concat(this.ignoredGrid.query(y,O,I,z)),Y={},ue={};for(const de of H){const Re=de.key;if(void 0===Y[Re.bucketInstanceId]&&(Y[Re.bucketInstanceId]={}),Y[Re.bucketInstanceId][Re.featureIndex])continue;const it=[new c.Point(de.x1,de.y1),new c.Point(de.x2,de.y1),new c.Point(de.x2,de.y2),new c.Point(de.x1,de.y2)];c.polygonIntersectsPolygon(u,it)&&(Y[Re.bucketInstanceId][Re.featureIndex]=!0,void 0===ue[Re.bucketInstanceId]&&(ue[Re.bucketInstanceId]=[]),ue[Re.bucketInstanceId].push(Re.featureIndex))}return ue}insertCollisionBox(o,u,y,O,I){(u?this.ignoredGrid:this.grid).insert({bucketInstanceId:y,featureIndex:O,collisionGroupID:I},o[0],o[1],o[2],o[3])}insertCollisionCircles(o,u,y,O,I){const z=u?this.ignoredGrid:this.grid,H={bucketInstanceId:y,featureIndex:O,collisionGroupID:I};for(let Y=0;Y<o.length;Y+=4)z.insertCircle(H,o[Y],o[Y+1],o[Y+2])}projectAndGetPerspectiveRatio(o,u,y,O,I,z,H){const Y=[u,y,O,1];let ue=!1;O||this.transform.pitch>0?(c.transformMat4$1(Y,Y,o),this.fogState&&I&&"globe"!==H.name&&(ue=function(it,vt,xt,Mt,Pt,Fe){const _t=Fe.calculateFogTileMatrix(Pt),Ut=[vt,xt,Mt];return c.transformMat4(Ut,Ut,_t),Ie(it,Ut,Fe.pitch,Fe._fov)}(this.fogState,u,y,O,I.toUnwrapped(),this.transform)>.9)):sn(Y,Y,o);const de=Y[3];return{point:new c.Point((Y[0]/de+1)/2*this.transform.width+Tn,(-Y[1]/de+1)/2*this.transform.height+Tn),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(H)/de*.5,1.5),signedDistanceFromCamera:de,occluded:z&&Y[2]>de||ue}}isOffscreen(o,u,y,O){return y<Tn||o>=this.screenRightBoundary||O<Tn||u>this.screenBottomBoundary}isInsideGrid(o,u,y,O){return y>=0&&o<this.gridRightBoundary&&O>=0&&u<this.gridBottomBoundary}getViewportMatrix(){const o=c.identity([]);return c.translate(o,o,[-100,-100,0]),o}}function si(f,o,u){const y=o.createTileMatrix(f,f.worldSize,u.toUnwrapped());return c.multiply(new Float32Array(16),f.projMatrix,y)}function ki(f,o,u){if(o.projection.name===u.projection.name)return f.projMatrix;const y=u.clone();return y.setProjection(o.projection),si(y,o.getProjection(),f)}function Ri(f,o,u){return o.name===u.projection.name?f.projMatrix:si(u,o,f)}class uo{constructor(o,u,y,O){this.opacity=o?Math.max(0,Math.min(1,o.opacity+(o.placed?u:-u))):O&&y?1:0,this.placed=y}isHidden(){return 0===this.opacity&&!this.placed}}class zt{constructor(o,u,y,O,I,z=!1){this.text=new uo(o?o.text:null,u,y,I),this.icon=new uo(o?o.icon:null,u,O,I),this.clipped=z}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Xn{constructor(o,u,y,O=!1){this.text=o,this.icon=u,this.skipFade=y,this.clipped=O}}class On{constructor(){this.invProjMatrix=c.create(),this.viewportMatrix=c.create(),this.circles=[]}}class Rn{constructor(o,u,y,O,I){this.bucketInstanceId=o,this.featureIndex=u,this.sourceLayerIndex=y,this.bucketIndex=O,this.tileID=I}}class Ei{constructor(o){this.crossSourceCollisions=o,this.maxGroupID=0,this.collisionGroups={}}get(o){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[o]){const u=++this.maxGroupID;this.collisionGroups[o]={ID:u,predicate:y=>y.collisionGroupID===u}}return this.collisionGroups[o]}}function Li(f,o,u,y,O){const{horizontalAlign:I,verticalAlign:z}=c.getAnchorAlignment(f),H=-(I-.5)*o,Y=-(z-.5)*u,ue=c.evaluateVariableOffset(f,y);return new c.Point(H+ue[0]*O,Y+ue[1]*O)}function mo(f,o,u,y,O){const I=new c.Point(f,o);return u&&I._rotate(y?O:-O),I}class fr{constructor(o,u,y,O,I){this.transform=o.clone(),this.projection=o.projection.name,this.collisionIndex=new ni(this.transform,I),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=u,this.retainedQueryData={},this.collisionGroups=new Ei(y),this.collisionCircleArrays={},this.prevPlacement=O,O&&(O.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(o,u,y,O){const I=y.getBucket(u),z=y.latestFeatureIndex;if(!I||!z||u.id!==I.layerIds[0])return;const H=I.layers[0].layout,Y=y.collisionBoxArray,ue=Math.pow(2,this.transform.zoom-y.tileID.overscaledZ),de=y.tileSize/c.EXTENT,Re=y.tileID.toUnwrapped();this.transform.setProjection(I.projection);const it=(vt=y.tileID,xt=I.getProjection(),Mt=this.transform,xt.name===this.projection?Mt.calculateProjMatrix(vt.toUnwrapped()):si(Mt,xt,vt));var vt,xt,Mt;const Pt="map"===H.get("text-pitch-alignment"),Fe="map"===H.get("text-rotation-alignment");u.compileFilter();const _t=u.dynamicFilter(),Ut=u.dynamicFilterNeedsFeature(),Gt=this.transform.calculatePixelsToTileUnitsMatrix(y),hn=Tr(it,y.tileID.canonical,Pt,Fe,this.transform,I.getProjection(),Gt);let fn=null;if(Pt){const Mn=Jo(it,y.tileID.canonical,Pt,Fe,this.transform,I.getProjection(),Gt);fn=c.multiply([],this.transform.labelPlaneMatrix,Mn)}let mn=null;_t&&y.latestFeatureIndex&&(mn={unwrappedTileID:Re,dynamicFilter:_t,dynamicFilterNeedsFeature:Ut,featureIndex:y.latestFeatureIndex}),this.retainedQueryData[I.bucketInstanceId]=new Rn(I.bucketInstanceId,z,I.sourceLayerIndex,I.index,y.tileID);const Sn={bucket:I,layout:H,posMatrix:it,textLabelPlaneMatrix:hn,labelToScreenMatrix:fn,clippingData:mn,scale:ue,textPixelRatio:de,holdingForFade:y.holdingForFade(),collisionBoxArray:Y,partiallyEvaluatedTextSize:c.evaluateSizeForZoom(I.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:c.evaluateSizeForZoom(I.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(I.sourceID)};if(O)for(const Mn of I.sortKeyRanges){const{sortKey:zn,symbolInstanceStart:yi,symbolInstanceEnd:kn}=Mn;o.push({sortKey:zn,symbolInstanceStart:yi,symbolInstanceEnd:kn,parameters:Sn})}else o.push({symbolInstanceStart:0,symbolInstanceEnd:I.symbolInstances.length,parameters:Sn})}attemptAnchorPlacement(o,u,y,O,I,z,H,Y,ue,de,Re,it,vt,xt,Mt,Pt,Fe,_t){const{textOffset0:Ut,textOffset1:Gt,crossTileID:hn}=it,fn=[Ut,Gt],mn=Li(o,y,O,fn,I),Sn=this.collisionIndex.placeCollisionBox(xt,I,u,mo(mn.x,mn.y,z,H,this.transform.angle),Re,Y,ue,de.predicate);if(Pt){const Mn=xt.getSymbolInstanceIconSize(_t,this.transform.zoom,it.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(xt,Mn,Pt,mo(mn.x,mn.y,z,H,this.transform.angle),Re,Y,ue,de.predicate).box.length)return}if(Sn.box.length>0){let Mn;return this.prevPlacement&&this.prevPlacement.variableOffsets[hn]&&this.prevPlacement.placements[hn]&&this.prevPlacement.placements[hn].text&&(Mn=this.prevPlacement.variableOffsets[hn].anchor),this.variableOffsets[hn]={textOffset:fn,width:y,height:O,anchor:o,textScale:I,prevAnchor:Mn},this.markUsedJustification(xt,o,it,Mt),xt.allowVerticalPlacement&&(this.markUsedOrientation(xt,Mt,it),this.placedOrientations[hn]=Mt),{shift:mn,placedGlyphBoxes:Sn}}}placeLayerBucketPart(o,u,y,O){const{bucket:I,layout:z,posMatrix:H,textLabelPlaneMatrix:Y,labelToScreenMatrix:ue,clippingData:de,textPixelRatio:Re,holdingForFade:it,collisionBoxArray:vt,partiallyEvaluatedTextSize:xt,partiallyEvaluatedIconSize:Mt,collisionGroup:Pt}=o.parameters,Fe=z.get("text-optional"),_t=z.get("icon-optional"),Ut=z.get("text-allow-overlap"),Gt=z.get("icon-allow-overlap"),hn="map"===z.get("text-rotation-alignment"),fn="map"===z.get("text-pitch-alignment"),mn="none"!==z.get("icon-text-fit"),Sn="viewport-y"===z.get("symbol-z-order");this.transform.setProjection(I.projection);let Mn=Ut&&(Gt||!I.hasIconData()||_t),zn=Gt&&(Ut||!I.hasTextData()||Fe);!I.collisionArrays&&vt&&I.deserializeCollisionBoxes(vt),y&&O&&I.updateCollisionDebugBuffers(this.transform.zoom,vt);const yi=(kn,ai,Vn)=>{const{crossTileID:pi,numVerticalGlyphVertices:An}=kn;if(de){const gs={zoom:this.transform.zoom,pitch:this.transform.pitch};let Xr=null;if(de.dynamicFilterNeedsFeature){const br=this.retainedQueryData[I.bucketInstanceId];Xr=de.featureIndex.loadFeature({featureIndex:kn.featureIndex,bucketIndex:br.bucketIndex,sourceLayerIndex:br.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,de.dynamicFilter)(gs,Xr,this.retainedQueryData[I.bucketInstanceId].tileID.canonical,new c.Point(kn.tileAnchorX,kn.tileAnchorY),this.transform.calculateDistanceTileData(de.unwrappedTileID)))return this.placements[pi]=new Xn(!1,!1,!1,!0),void u.add(pi)}if(u.has(pi))return;if(it)return void(this.placements[pi]=new Xn(!1,!1,!1));let oi=!1,gi=!1,ci=!0,vi=!1,so=!1,So=null,Yi={box:null,offscreen:null,occluded:null},po={box:null,offscreen:null,occluded:null},Io=null,qo=null,eo=null,Nr=0,Kr=0,Hr=0;Vn.textFeatureIndex?Nr=Vn.textFeatureIndex:kn.useRuntimeCollisionCircles&&(Nr=kn.featureIndex),Vn.verticalTextFeatureIndex&&(Kr=Vn.verticalTextFeatureIndex);const $r=gs=>{gs.tileID=this.retainedQueryData[I.bucketInstanceId].tileID;const Xr=this.transform.elevation;(Xr||gs.elevation)&&(gs.elevation=Xr?Xr.getAtTileOffset(gs.tileID,gs.tileAnchorX,gs.tileAnchorY):0)},el=Vn.textBox;if(el){$r(el);const gs=br=>{let fs=c.WritingMode.horizontal;if(I.allowVerticalPlacement&&!br&&this.prevPlacement){const tl=this.prevPlacement.placedOrientations[pi];tl&&(this.placedOrientations[pi]=tl,fs=tl,this.markUsedOrientation(I,fs,kn))}return fs},Xr=(br,fs)=>{if(I.allowVerticalPlacement&&An>0&&Vn.verticalTextBox){for(const tl of I.writingModes)if(tl===c.WritingMode.vertical?(Yi=fs(),po=Yi):Yi=br(),Yi&&Yi.box&&Yi.box.length)break}else Yi=br()};if(z.get("text-variable-anchor")){let br=z.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[pi]){const cs=this.prevPlacement.variableOffsets[pi];br.indexOf(cs.anchor)>0&&(br=br.filter(Ua=>Ua!==cs.anchor),br.unshift(cs.anchor))}const fs=(cs,Ua,ud)=>{const Sa=I.getSymbolInstanceTextSize(xt,kn,this.transform.zoom,ai),er=(cs.x2-cs.x1)*Sa+2*cs.padding,nc=(cs.y2-cs.y1)*Sa+2*cs.padding,Mc=mn&&!Gt?Ua:null;Mc&&$r(Mc);let Hl={box:[],offscreen:!1,occluded:!1};const hd=Ut?2*br.length:br.length;for(let Nd=0;Nd<hd;++Nd){const pd=this.attemptAnchorPlacement(br[Nd%br.length],cs,er,nc,Sa,hn,fn,Re,H,Pt,Nd>=br.length,kn,ai,I,ud,Mc,xt,Mt);if(pd&&(Hl=pd.placedGlyphBoxes,Hl&&Hl.box&&Hl.box.length)){oi=!0,So=pd.shift;break}}return Hl};Xr(()=>fs(el,Vn.iconBox,c.WritingMode.horizontal),()=>{const cs=Vn.verticalTextBox;return cs&&$r(cs),I.allowVerticalPlacement&&!(Yi&&Yi.box&&Yi.box.length)&&An>0&&cs?fs(cs,Vn.verticalIconBox,c.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),Yi&&(oi=Yi.box,ci=Yi.offscreen,vi=Yi.occluded);const tl=gs(!(!Yi||!Yi.box));if(!oi&&this.prevPlacement){const cs=this.prevPlacement.variableOffsets[pi];cs&&(this.variableOffsets[pi]=cs,this.markUsedJustification(I,cs.anchor,kn,tl))}}else{const br=(fs,tl)=>{const cs=I.getSymbolInstanceTextSize(xt,kn,this.transform.zoom,ai),Ua=this.collisionIndex.placeCollisionBox(I,cs,fs,new c.Point(0,0),Ut,Re,H,Pt.predicate);return Ua&&Ua.box&&Ua.box.length&&(this.markUsedOrientation(I,tl,kn),this.placedOrientations[pi]=tl),Ua};Xr(()=>br(el,c.WritingMode.horizontal),()=>{const fs=Vn.verticalTextBox;return I.allowVerticalPlacement&&An>0&&fs?($r(fs),br(fs,c.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),gs(!!(Yi&&Yi.box&&Yi.box.length))}}if(Io=Yi,oi=Io&&Io.box&&Io.box.length>0,ci=Io&&Io.offscreen,vi=Io&&Io.occluded,kn.useRuntimeCollisionCircles){const gs=I.text.placedSymbolArray.get(kn.centerJustifiedTextSymbolIndex>=0?kn.centerJustifiedTextSymbolIndex:kn.verticalPlacedTextSymbolIndex),Xr=c.evaluateSizeForFeature(I.textSizeData,xt,gs),br=z.get("text-padding");qo=this.collisionIndex.placeCollisionCircles(I,Ut,gs,I.lineVertexArray,I.glyphOffsetArray,Xr,H,Y,ue,y,fn,Pt.predicate,kn.collisionCircleDiameter*Xr/c.ONE_EM,br,this.retainedQueryData[I.bucketInstanceId].tileID),oi=Ut||qo.circles.length>0&&!qo.collisionDetected,ci=ci&&qo.offscreen,vi=qo.occluded}if(Vn.iconFeatureIndex&&(Hr=Vn.iconFeatureIndex),Vn.iconBox){const gs=Xr=>{$r(Xr);const br=mn&&So?mo(So.x,So.y,hn,fn,this.transform.angle):new c.Point(0,0),fs=I.getSymbolInstanceIconSize(Mt,this.transform.zoom,kn.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(I,fs,Xr,br,Gt,Re,H,Pt.predicate)};po&&po.box&&po.box.length&&Vn.verticalIconBox?(eo=gs(Vn.verticalIconBox),gi=eo.box.length>0):(eo=gs(Vn.iconBox),gi=eo.box.length>0),ci=ci&&eo.offscreen,so=eo.occluded}const ba=Fe||0===kn.numHorizontalGlyphVertices&&0===An,Ul=_t||0===kn.numIconVertices;if(ba||Ul?Ul?ba||(gi=gi&&oi):oi=gi&&oi:gi=oi=gi&&oi,oi&&Io&&Io.box&&this.collisionIndex.insertCollisionBox(Io.box,z.get("text-ignore-placement"),I.bucketInstanceId,po&&po.box&&Kr?Kr:Nr,Pt.ID),gi&&eo&&this.collisionIndex.insertCollisionBox(eo.box,z.get("icon-ignore-placement"),I.bucketInstanceId,Hr,Pt.ID),qo&&(oi&&this.collisionIndex.insertCollisionCircles(qo.circles,z.get("text-ignore-placement"),I.bucketInstanceId,Nr,Pt.ID),y)){const gs=I.bucketInstanceId;let Xr=this.collisionCircleArrays[gs];void 0===Xr&&(Xr=this.collisionCircleArrays[gs]=new On);for(let br=0;br<qo.circles.length;br+=4)Xr.circles.push(qo.circles[br+0]),Xr.circles.push(qo.circles[br+1]),Xr.circles.push(qo.circles[br+2]),Xr.circles.push(qo.collisionDetected?1:0)}const tc="globe"!==I.projection.name;Mn=Mn&&(tc||!vi),zn=zn&&(tc||!so),this.placements[pi]=new Xn(oi||Mn,gi||zn,ci||I.justReloaded),u.add(pi)};if(Sn){const kn=I.getSortedSymbolIndexes(this.transform.angle);for(let ai=kn.length-1;ai>=0;--ai){const Vn=kn[ai];yi(I.symbolInstances.get(Vn),Vn,I.collisionArrays[Vn])}}else for(let kn=o.symbolInstanceStart;kn<o.symbolInstanceEnd;kn++)yi(I.symbolInstances.get(kn),kn,I.collisionArrays[kn]);if(y&&I.bucketInstanceId in this.collisionCircleArrays){const kn=this.collisionCircleArrays[I.bucketInstanceId];c.invert(kn.invProjMatrix,H),kn.viewportMatrix=this.collisionIndex.getViewportMatrix()}I.justReloaded=!1}markUsedJustification(o,u,y,O){const{leftJustifiedTextSymbolIndex:I,centerJustifiedTextSymbolIndex:z,rightJustifiedTextSymbolIndex:H,verticalPlacedTextSymbolIndex:Y,crossTileID:ue}=y,de=c.getAnchorJustification(u),Re=O===c.WritingMode.vertical?Y:"left"===de?I:"center"===de?z:"right"===de?H:-1;I>=0&&(o.text.placedSymbolArray.get(I).crossTileID=Re>=0&&I!==Re?0:ue),z>=0&&(o.text.placedSymbolArray.get(z).crossTileID=Re>=0&&z!==Re?0:ue),H>=0&&(o.text.placedSymbolArray.get(H).crossTileID=Re>=0&&H!==Re?0:ue),Y>=0&&(o.text.placedSymbolArray.get(Y).crossTileID=Re>=0&&Y!==Re?0:ue)}markUsedOrientation(o,u,y){const O=u===c.WritingMode.horizontal||u===c.WritingMode.horizontalOnly?u:0,I=u===c.WritingMode.vertical?u:0,{leftJustifiedTextSymbolIndex:z,centerJustifiedTextSymbolIndex:H,rightJustifiedTextSymbolIndex:Y,verticalPlacedTextSymbolIndex:ue}=y,de=o.text.placedSymbolArray;z>=0&&(de.get(z).placedOrientation=O),H>=0&&(de.get(H).placedOrientation=O),Y>=0&&(de.get(Y).placedOrientation=O),ue>=0&&(de.get(ue).placedOrientation=I)}commit(o){this.commitTime=o,this.zoomAtLastRecencyCheck=this.transform.zoom;const u=this.prevPlacement;let y=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;const O=u?u.symbolFadeChange(o):1,I=u?u.opacities:{},z=u?u.variableOffsets:{},H=u?u.placedOrientations:{};for(const Y in this.placements){const ue=this.placements[Y],de=I[Y];de?(this.opacities[Y]=new zt(de,O,ue.text,ue.icon,null,ue.clipped),y=y||ue.text!==de.text.placed||ue.icon!==de.icon.placed):(this.opacities[Y]=new zt(null,O,ue.text,ue.icon,ue.skipFade,ue.clipped),y=y||ue.text||ue.icon)}for(const Y in I){const ue=I[Y];if(!this.opacities[Y]){const de=new zt(ue,O,!1,!1);de.isHidden()||(this.opacities[Y]=de,y=y||ue.text.placed||ue.icon.placed)}}for(const Y in z)this.variableOffsets[Y]||!this.opacities[Y]||this.opacities[Y].isHidden()||(this.variableOffsets[Y]=z[Y]);for(const Y in H)this.placedOrientations[Y]||!this.opacities[Y]||this.opacities[Y].isHidden()||(this.placedOrientations[Y]=H[Y]);y?this.lastPlacementChangeTime=o:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:o)}updateLayerOpacities(o,u){const y=new Set;for(const O of u){const I=O.getBucket(o);I&&O.latestFeatureIndex&&o.id===I.layerIds[0]&&this.updateBucketOpacities(I,y,O.collisionBoxArray)}}updateBucketOpacities(o,u,y){o.hasTextData()&&o.text.opacityVertexArray.clear(),o.hasIconData()&&o.icon.opacityVertexArray.clear(),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexArray.clear(),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexArray.clear();const O=o.layers[0].layout,I=!!o.layers[0].dynamicFilter(),z=new zt(null,0,!1,!1,!0),H=O.get("text-allow-overlap"),Y=O.get("icon-allow-overlap"),ue=O.get("text-variable-anchor"),de="map"===O.get("text-rotation-alignment"),Re="map"===O.get("text-pitch-alignment"),it="none"!==O.get("icon-text-fit"),vt=new zt(null,0,H&&(Y||!o.hasIconData()||O.get("icon-optional")),Y&&(H||!o.hasTextData()||O.get("text-optional")),!0);!o.collisionArrays&&y&&(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData())&&o.deserializeCollisionBoxes(y);const xt=(Pt,Fe,_t)=>{for(let Ut=0;Ut<Fe/4;Ut++)Pt.opacityVertexArray.emplaceBack(_t)};let Mt=0;for(let Pt=0;Pt<o.symbolInstances.length;Pt++){const Fe=o.symbolInstances.get(Pt),{numHorizontalGlyphVertices:_t,numVerticalGlyphVertices:Ut,crossTileID:Gt,numIconVertices:hn}=Fe,fn=u.has(Gt);let mn=this.opacities[Gt];fn?mn=z:mn||(mn=vt,this.opacities[Gt]=mn),u.add(Gt);const Sn=_t>0||Ut>0,Mn=hn>0,zn=this.placedOrientations[Gt],yi=zn===c.WritingMode.vertical,kn=zn===c.WritingMode.horizontal||zn===c.WritingMode.horizontalOnly;if(!Sn&&!Mn||mn.isHidden()||Mt++,Sn){const ai=cl(mn.text);xt(o.text,_t,yi?Lr:ai),xt(o.text,Ut,kn?Lr:ai);const Vn=mn.text.isHidden(),{leftJustifiedTextSymbolIndex:pi,centerJustifiedTextSymbolIndex:An,rightJustifiedTextSymbolIndex:oi,verticalPlacedTextSymbolIndex:gi}=Fe,ci=o.text.placedSymbolArray,vi=Vn||yi?1:0;pi>=0&&(ci.get(pi).hidden=vi),An>=0&&(ci.get(An).hidden=vi),oi>=0&&(ci.get(oi).hidden=vi),gi>=0&&(ci.get(gi).hidden=Vn||kn?1:0);const so=this.variableOffsets[Gt];so&&this.markUsedJustification(o,so.anchor,Fe,zn);const So=this.placedOrientations[Gt];So&&(this.markUsedJustification(o,"left",Fe,So),this.markUsedOrientation(o,So,Fe))}if(Mn){const ai=cl(mn.icon),{placedIconSymbolIndex:Vn,verticalPlacedIconSymbolIndex:pi}=Fe,An=o.icon.placedSymbolArray,oi=mn.icon.isHidden()?1:0;Vn>=0&&(xt(o.icon,hn,yi?Lr:ai),An.get(Vn).hidden=oi),pi>=0&&(xt(o.icon,Fe.numVerticalIconVertices,kn?Lr:ai),An.get(pi).hidden=oi)}if(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData()){const ai=o.collisionArrays[Pt];if(ai){let Vn=new c.Point(0,0),pi=!0;if(ai.textBox||ai.verticalTextBox){if(ue){const oi=this.variableOffsets[Gt];oi?(Vn=Li(oi.anchor,oi.width,oi.height,oi.textOffset,oi.textScale),de&&Vn._rotate(Re?this.transform.angle:-this.transform.angle)):pi=!1}I&&(pi=!mn.clipped),ai.textBox&&mr(o.textCollisionBox.collisionVertexArray,mn.text.placed,!pi||yi,Vn.x,Vn.y),ai.verticalTextBox&&mr(o.textCollisionBox.collisionVertexArray,mn.text.placed,!pi||kn,Vn.x,Vn.y)}const An=pi&&!(kn||!ai.verticalIconBox);ai.iconBox&&mr(o.iconCollisionBox.collisionVertexArray,mn.icon.placed,An,it?Vn.x:0,it?Vn.y:0),ai.verticalIconBox&&mr(o.iconCollisionBox.collisionVertexArray,mn.icon.placed,!An,it?Vn.x:0,it?Vn.y:0)}}}if(o.fullyClipped=0===Mt,o.sortFeatures(this.transform.angle),this.retainedQueryData[o.bucketInstanceId]&&(this.retainedQueryData[o.bucketInstanceId].featureSortOrder=o.featureSortOrder),o.hasTextData()&&o.text.opacityVertexBuffer&&o.text.opacityVertexBuffer.updateData(o.text.opacityVertexArray),o.hasIconData()&&o.icon.opacityVertexBuffer&&o.icon.opacityVertexBuffer.updateData(o.icon.opacityVertexArray),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexBuffer&&o.iconCollisionBox.collisionVertexBuffer.updateData(o.iconCollisionBox.collisionVertexArray),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexBuffer&&o.textCollisionBox.collisionVertexBuffer.updateData(o.textCollisionBox.collisionVertexArray),o.bucketInstanceId in this.collisionCircleArrays){const Pt=this.collisionCircleArrays[o.bucketInstanceId];o.placementInvProjMatrix=Pt.invProjMatrix,o.placementViewportMatrix=Pt.viewportMatrix,o.collisionCircleArray=Pt.circles,delete this.collisionCircleArrays[o.bucketInstanceId]}}symbolFadeChange(o){return 0===this.fadeDuration?1:(o-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(o){return Math.max(0,(this.transform.zoom-o)/1.5)}hasTransitions(o){return this.stale||o-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(o,u){const y=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*y>o}setStale(){this.stale=!0}}function mr(f,o,u,y,O){f.emplaceBack(o?1:0,u?1:0,y||0,O||0),f.emplaceBack(o?1:0,u?1:0,y||0,O||0),f.emplaceBack(o?1:0,u?1:0,y||0,O||0),f.emplaceBack(o?1:0,u?1:0,y||0,O||0)}const ur=Math.pow(2,25),Ni=Math.pow(2,24),Xo=Math.pow(2,17),rs=Math.pow(2,16),qr=Math.pow(2,9),Rr=Math.pow(2,8),Ka=Math.pow(2,1);function cl(f){if(0===f.opacity&&!f.placed)return 0;if(1===f.opacity&&f.placed)return 4294967295;const o=f.placed?1:0,u=Math.floor(127*f.opacity);return u*ur+o*Ni+u*Xo+o*rs+u*qr+o*Rr+u*Ka+o}const Lr=0;class dl{constructor(o){this._sortAcrossTiles="viewport-y"!==o.layout.get("symbol-z-order")&&void 0!==o.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(o,u,y,O,I){const z=this._bucketParts;for(;this._currentTileIndex<o.length;)if(u.getBucketParts(z,O,o[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,I())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,z.sort((H,Y)=>H.sortKey-Y.sortKey));this._currentPartIndex<z.length;){const H=z[this._currentPartIndex];if(u.placeLayerBucketPart(H,this._seenCrossTileIDs,y,0===H.symbolInstanceStart),this._currentPartIndex++,I())return!0}return!1}}class wl{constructor(o,u,y,O,I,z,H,Y){this.placement=new fr(o,I,z,H,Y),this._currentPlacementIndex=u.length-1,this._forceFullPlacement=y,this._showCollisionBoxes=O,this._done=!1}isDone(){return this._done}continuePlacement(o,u,y){const O=c.exported.now(),I=()=>{const z=c.exported.now()-O;return!this._forceFullPlacement&&z>2};for(;this._currentPlacementIndex>=0;){const z=u[o[this._currentPlacementIndex]],H=this.placement.collisionIndex.transform.zoom;if("symbol"===z.type&&(!z.minzoom||z.minzoom<=H)&&(!z.maxzoom||z.maxzoom>H)){if(this._inProgressLayer||(this._inProgressLayer=new dl(z)),this._inProgressLayer.continuePlacement(y[z.source],this.placement,this._showCollisionBoxes,z,I))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(o){return this.placement.commit(o),this.placement}}const Mr=512/c.EXTENT/2;class Ii{constructor(o,u,y){this.tileID=o,this.bucketInstanceId=y,this.index=new c.KDBush(u.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const O=o.canonical.x*c.EXTENT,I=o.canonical.y*c.EXTENT;for(let z=0;z<u.length;z++){const{key:H,crossTileID:Y,tileAnchorX:ue,tileAnchorY:de}=u.get(z),Re=Math.floor((O+ue)*Mr),it=Math.floor((I+de)*Mr);this.index.add(Re,it),this.keys.push(H),this.crossTileIDs.push(Y)}this.index.finish()}findMatches(o,u,y){const O=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z),I=Mr/Math.pow(2,u.canonical.z-this.tileID.canonical.z),z=u.canonical.x*c.EXTENT,H=u.canonical.y*c.EXTENT;for(let Y=0;Y<o.length;Y++){const ue=o.get(Y);if(ue.crossTileID)continue;const{key:de,tileAnchorX:Re,tileAnchorY:it}=ue,vt=Math.floor((z+Re)*I),xt=Math.floor((H+it)*I),Mt=this.index.range(vt-O,xt-O,vt+O,xt+O);for(const Pt of Mt){const Fe=this.crossTileIDs[Pt];if(this.keys[Pt]===de&&!y.has(Fe)){y.add(Fe),ue.crossTileID=Fe;break}}}}}class xo{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class _r{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(o){const u=Math.round((o-this.lng)/360);if(0!==u)for(const y in this.indexes){const O=this.indexes[y],I={};for(const z in O){const H=O[z];H.tileID=H.tileID.unwrapTo(H.tileID.wrap+u),I[H.tileID.key]=H}this.indexes[y]=I}this.lng=o}addBucket(o,u,y){if(this.indexes[o.overscaledZ]&&this.indexes[o.overscaledZ][o.key]){if(this.indexes[o.overscaledZ][o.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(o.overscaledZ,this.indexes[o.overscaledZ][o.key])}for(let I=0;I<u.symbolInstances.length;I++)u.symbolInstances.get(I).crossTileID=0;this.usedCrossTileIDs[o.overscaledZ]||(this.usedCrossTileIDs[o.overscaledZ]=new Set);const O=this.usedCrossTileIDs[o.overscaledZ];for(const I in this.indexes){const z=this.indexes[I];if(Number(I)>o.overscaledZ)for(const H in z){const Y=z[H];Y.tileID.isChildOf(o)&&Y.findMatches(u.symbolInstances,o,O)}else{const H=z[o.scaledTo(Number(I)).key];H&&H.findMatches(u.symbolInstances,o,O)}}for(let I=0;I<u.symbolInstances.length;I++){const z=u.symbolInstances.get(I);z.crossTileID||(z.crossTileID=y.generate(),O.add(z.crossTileID))}return void 0===this.indexes[o.overscaledZ]&&(this.indexes[o.overscaledZ]={}),this.indexes[o.overscaledZ][o.key]=new Ii(o,u.symbolInstances,u.bucketInstanceId),!0}removeBucketCrossTileIDs(o,u){for(const y of u.crossTileIDs)this.usedCrossTileIDs[o].delete(y)}removeStaleBuckets(o){let u=!1;for(const y in this.indexes){const O=this.indexes[y];for(const I in O)o[O[I].bucketInstanceId]||(this.removeBucketCrossTileIDs(y,O[I]),delete O[I],u=!0)}return u}}class Ur{constructor(){this.layerIndexes={},this.crossTileIDs=new xo,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(o,u,y,O){let I=this.layerIndexes[o.id];void 0===I&&(I=this.layerIndexes[o.id]=new _r);let z=!1;const H={};"globe"!==O.name&&I.handleWrapJump(y);for(const Y of u){const ue=Y.getBucket(o);ue&&o.id===ue.layerIds[0]&&(ue.bucketInstanceId||(ue.bucketInstanceId=++this.maxBucketInstanceId),I.addBucket(Y.tileID,ue,this.crossTileIDs)&&(z=!0),H[ue.bucketInstanceId]=!0)}return I.removeStaleBuckets(H)&&(z=!0),z}pruneUnusedLayers(o){const u={};o.forEach(y=>{u[y]=!0});for(const y in this.layerIndexes)u[y]||delete this.layerIndexes[y]}}const Ws=(f,o)=>c.emitValidationErrors(f,o&&o.filter(u=>"source.canvas"!==u.identifier)),ts=c.pick(Zn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),kl=c.pick(Zn,["setCenter","setZoom","setBearing","setPitch"]),Vr={version:8,layers:[],sources:{}},Ds={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Ls extends c.Evented{constructor(o,u={}){super(),this.map=o,this.dispatcher=new Nt(At(),this),this.imageManager=new Pe,this.imageManager.setEventedParent(this),this.glyphManager=new c.GlyphManager(o._requestManager,u.localFontFamily?c.LocalGlyphMode.all:u.localIdeographFontFamily?c.LocalGlyphMode.ideographs:c.LocalGlyphMode.none,u.localFontFamily||u.localIdeographFontFamily),this.crossTileSymbolIndex=new Ur,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",c.getReferrer());const y=this;this._rtlTextPluginCallback=Ls.registerForPluginStateChange(O=>{y.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:O.pluginStatus,pluginURL:O.pluginURL},(I,z)=>{if(c.triggerPluginCompletionEvent(I),z&&z.every(H=>H))for(const H in y._sourceCaches){const Y=y._sourceCaches[H],ue=Y.getSource().type;"vector"!==ue&&"geojson"!==ue||Y.reload()}})}),this.on("data",O=>{if("source"!==O.dataType||"metadata"!==O.sourceDataType)return;const I=this.getSource(O.sourceId);if(I&&I.vectorLayerIds)for(const z in this._layers){const H=this._layers[z];H.source===I.id&&this._validateLayer(H)}})}loadURL(o,u={}){this.fire(new c.Event("dataloading",{dataType:"style"}));const y="boolean"==typeof u.validate?u.validate:!c.isMapboxURL(o);o=this.map._requestManager.normalizeStyleURL(o,u.accessToken);const O=this.map._requestManager.transformRequest(o,c.ResourceType.Style);this._request=c.getJSON(O,(I,z)=>{this._request=null,I?this.fire(new c.ErrorEvent(I)):z&&this._load(z,y)})}loadJSON(o,u={}){this.fire(new c.Event("dataloading",{dataType:"style"})),this._request=c.exported.frame(()=>{this._request=null,this._load(o,!1!==u.validate)})}loadEmpty(){this.fire(new c.Event("dataloading",{dataType:"style"})),this._load(Vr,!1)}_updateLayerCount(o,u){const y=u?1:-1;o.is3D()&&(this._num3DLayers+=y),"circle"===o.type&&(this._numCircleLayers+=y),"symbol"===o.type&&(this._numSymbolLayers+=y)}_load(o,u){if(u&&Ws(this,c.validateStyle(o)))return;this._loaded=!0,this.stylesheet=c.clone$1(o),this._updateMapProjection();for(const O in o.sources)this.addSource(O,o.sources[O],{validate:!1});this._changed=!1,o.sprite?this._loadSprite(o.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(o.glyphs);const y=ei(this.stylesheet.layers);this._order=y.map(O=>O.id),this._layers={},this._serializedLayers={};for(const O of y){const I=c.createStyleLayer(O);I.setEventedParent(this,{layer:{id:I.id}}),this._layers[I.id]=I,this._serializedLayers[I.id]=I.serialize(),this._updateLayerCount(I,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new rt(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new c.Event("data",{dataType:"style"})),this.fire(new c.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(o){o?this.stylesheet.projection=o:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(o){this._spriteRequest=function(u,y,O){let I,z,H;const Y=c.exported.devicePixelRatio>1?"@2x":"";let ue=c.getJSON(y.transformRequest(y.normalizeSpriteURL(u,Y,".json"),c.ResourceType.SpriteJSON),(it,vt)=>{ue=null,H||(H=it,I=vt,Re())}),de=c.getImage(y.transformRequest(y.normalizeSpriteURL(u,Y,".png"),c.ResourceType.SpriteImage),(it,vt)=>{de=null,H||(H=it,z=vt,Re())});function Re(){if(H)O(H);else if(I&&z){const it=c.exported.getImageData(z),vt={};for(const xt in I){const{width:Mt,height:Pt,x:Fe,y:_t,sdf:Ut,pixelRatio:Gt,stretchX:hn,stretchY:fn,content:mn}=I[xt],Sn=new c.RGBAImage({width:Mt,height:Pt});c.RGBAImage.copy(it,Sn,{x:Fe,y:_t},{x:0,y:0},{width:Mt,height:Pt}),vt[xt]={data:Sn,pixelRatio:Gt,sdf:Ut,stretchX:hn,stretchY:fn,content:mn}}O(null,vt)}}return{cancel(){ue&&(ue.cancel(),ue=null),de&&(de.cancel(),de=null)}}}(o,this.map._requestManager,(u,y)=>{if(this._spriteRequest=null,u)this.fire(new c.ErrorEvent(u));else if(y)for(const O in y)this.imageManager.addImage(O,y[O]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new c.Event("data",{dataType:"style"}))})}_validateLayer(o){const u=this.getSource(o.source);if(!u)return;const y=o.sourceLayer;y&&("geojson"===u.type||u.vectorLayerIds&&-1===u.vectorLayerIds.indexOf(y))&&this.fire(new c.ErrorEvent(new Error(`Source layer "${y}" does not exist on source "${u.id}" as specified by style layer "${o.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const o in this._sourceCaches)if(!this._sourceCaches[o].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(o){const u=[];for(const y of o){const O=this._layers[y];"custom"!==O.type&&u.push(O.serialize())}return u}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const o in this._sourceCaches)if(this._sourceCaches[o].hasTransition())return!0;for(const o in this._layers)if(this._layers[o].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(o){return!!this.terrain&&("function"==typeof o.isLayerDraped?o.isLayerDraped():Ds[o.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(o){if(!this._loaded)return;const u=this._changed;if(this._changed){const O=Object.keys(this._updatedLayers),I=Object.keys(this._removedLayers);(O.length||I.length)&&this._updateWorkerLayers(O,I);for(const z in this._updatedSources){const H=this._updatedSources[z];"reload"===H?this._reloadSource(z):"clear"===H&&this._clearSource(z)}this._updateTilesForChangedImages();for(const z in this._updatedPaintProps)this._layers[z].updateTransitions(o);this.light.updateTransitions(o),this.fog&&this.fog.updateTransitions(o),this._resetUpdates()}const y={};for(const O in this._sourceCaches){const I=this._sourceCaches[O];y[O]=I.used,I.used=!1}for(const O of this._order){const I=this._layers[O];if(I.recalculate(o,this._availableImages),!I.isHidden(o.zoom)){const H=this._getLayerSourceCache(I);H&&(H.used=!0)}const z=this.map.painter;if(z){const H=I.getProgramIds();if(!H)continue;const Y=I.getProgramConfiguration(o.zoom);for(const ue of H)z.useProgram(ue,Y)}}for(const O in y){const I=this._sourceCaches[O];y[O]!==I.used&&I.getSource().fire(new c.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:I.getSource().id}))}this.light.recalculate(o),this.terrain&&this.terrain.recalculate(o),this.fog&&this.fog.recalculate(o),this.z=o.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),u&&this.fire(new c.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const o=Object.keys(this._changedImages);if(o.length){for(const u in this._sourceCaches)this._sourceCaches[u].reloadTilesForDependencies(["icons","patterns"],o);this._changedImages={}}}_updateWorkerLayers(o,u){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(o),removedIds:u})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(o){if(this._checkLoaded(),Ws(this,c.validateStyle(o)))return!1;(o=c.clone$1(o)).layers=ei(o.layers);const u=function(O,I){if(!O)return[{command:Zn.setStyle,args:[I]}];let z=[];try{if(!T(O.version,I.version))return[{command:Zn.setStyle,args:[I]}];T(O.center,I.center)||z.push({command:Zn.setCenter,args:[I.center]}),T(O.zoom,I.zoom)||z.push({command:Zn.setZoom,args:[I.zoom]}),T(O.bearing,I.bearing)||z.push({command:Zn.setBearing,args:[I.bearing]}),T(O.pitch,I.pitch)||z.push({command:Zn.setPitch,args:[I.pitch]}),T(O.sprite,I.sprite)||z.push({command:Zn.setSprite,args:[I.sprite]}),T(O.glyphs,I.glyphs)||z.push({command:Zn.setGlyphs,args:[I.glyphs]}),T(O.transition,I.transition)||z.push({command:Zn.setTransition,args:[I.transition]}),T(O.light,I.light)||z.push({command:Zn.setLight,args:[I.light]}),T(O.fog,I.fog)||z.push({command:Zn.setFog,args:[I.fog]}),T(O.projection,I.projection)||z.push({command:Zn.setProjection,args:[I.projection]});const H={},Y=[];!function(Re,it,vt,xt){let Mt;for(Mt in it=it||{},Re=Re||{})Re.hasOwnProperty(Mt)&&(it.hasOwnProperty(Mt)||hi(Mt,vt,xt));for(Mt in it){if(!it.hasOwnProperty(Mt))continue;const Pt=it[Mt];Re.hasOwnProperty(Mt)?T(Re[Mt],Pt)||("geojson"===Re[Mt].type&&"geojson"===Pt.type&&Di(Re,it,Mt)?vt.push({command:Zn.setGeoJSONSourceData,args:[Mt,Pt.data]}):vo(Mt,it,vt,xt)):Ci(Mt,it,vt)}}(O.sources,I.sources,Y,H);const ue=[];O.layers&&O.layers.forEach(Re=>{Re.source&&H[Re.source]?z.push({command:Zn.removeLayer,args:[Re.id]}):ue.push(Re)});let de=O.terrain;de&&H[de.source]&&(z.push({command:Zn.setTerrain,args:[void 0]}),de=void 0),z=z.concat(Y),T(de,I.terrain)||z.push({command:Zn.setTerrain,args:[I.terrain]}),function(Re,it,vt){it=it||[];const xt=(Re=Re||[]).map(ir),Mt=it.map(ir),Pt=Re.reduce(wr,{}),Fe=it.reduce(wr,{}),_t=xt.slice(),Ut=Object.create(null);let Gt,hn,fn,mn,Sn,Mn,zn;for(Gt=0,hn=0;Gt<xt.length;Gt++)fn=xt[Gt],Fe.hasOwnProperty(fn)?hn++:(vt.push({command:Zn.removeLayer,args:[fn]}),_t.splice(_t.indexOf(fn,hn),1));for(Gt=0,hn=0;Gt<Mt.length;Gt++)fn=Mt[Mt.length-1-Gt],_t[_t.length-1-Gt]!==fn&&(Pt.hasOwnProperty(fn)?(vt.push({command:Zn.removeLayer,args:[fn]}),_t.splice(_t.lastIndexOf(fn,_t.length-hn),1)):hn++,Mn=_t[_t.length-Gt],vt.push({command:Zn.addLayer,args:[Fe[fn],Mn]}),_t.splice(_t.length-Gt,0,fn),Ut[fn]=!0);for(Gt=0;Gt<Mt.length;Gt++)if(fn=Mt[Gt],mn=Pt[fn],Sn=Fe[fn],!Ut[fn]&&!T(mn,Sn))if(T(mn.source,Sn.source)&&T(mn["source-layer"],Sn["source-layer"])&&T(mn.type,Sn.type)){for(zn in Do(mn.layout,Sn.layout,vt,fn,null,Zn.setLayoutProperty),Do(mn.paint,Sn.paint,vt,fn,null,Zn.setPaintProperty),T(mn.filter,Sn.filter)||vt.push({command:Zn.setFilter,args:[fn,Sn.filter]}),T(mn.minzoom,Sn.minzoom)&&T(mn.maxzoom,Sn.maxzoom)||vt.push({command:Zn.setLayerZoomRange,args:[fn,Sn.minzoom,Sn.maxzoom]}),mn)mn.hasOwnProperty(zn)&&"layout"!==zn&&"paint"!==zn&&"filter"!==zn&&"metadata"!==zn&&"minzoom"!==zn&&"maxzoom"!==zn&&(0===zn.indexOf("paint.")?Do(mn[zn],Sn[zn],vt,fn,zn.slice(6),Zn.setPaintProperty):T(mn[zn],Sn[zn])||vt.push({command:Zn.setLayerProperty,args:[fn,zn,Sn[zn]]}));for(zn in Sn)Sn.hasOwnProperty(zn)&&!mn.hasOwnProperty(zn)&&"layout"!==zn&&"paint"!==zn&&"filter"!==zn&&"metadata"!==zn&&"minzoom"!==zn&&"maxzoom"!==zn&&(0===zn.indexOf("paint.")?Do(mn[zn],Sn[zn],vt,fn,zn.slice(6),Zn.setPaintProperty):T(mn[zn],Sn[zn])||vt.push({command:Zn.setLayerProperty,args:[fn,zn,Sn[zn]]}))}else vt.push({command:Zn.removeLayer,args:[fn]}),Mn=_t[_t.lastIndexOf(fn)+1],vt.push({command:Zn.addLayer,args:[Sn,Mn]})}(ue,I.layers,z)}catch(H){console.warn("Unable to compute style diff:",H),z=[{command:Zn.setStyle,args:[I]}]}return z}(this.serialize(),o).filter(O=>!(O.command in kl));if(0===u.length)return!1;const y=u.filter(O=>!(O.command in ts));if(y.length>0)throw new Error(`Unimplemented: ${y.map(O=>O.command).join(", ")}.`);return u.forEach(O=>{"setTransition"!==O.command&&"setProjection"!==O.command&&this[O.command].apply(this,O.args)}),this.stylesheet=o,this._updateMapProjection(),!0}addImage(o,u){return this.getImage(o)?this.fire(new c.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(o,u),this._afterImageUpdated(o),this)}updateImage(o,u){this.imageManager.updateImage(o,u)}getImage(o){return this.imageManager.getImage(o)}removeImage(o){return this.getImage(o)?(this.imageManager.removeImage(o),this._afterImageUpdated(o),this):this.fire(new c.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(o){this._availableImages=this.imageManager.listImages(),this._changedImages[o]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(o,u,y={}){if(this._checkLoaded(),void 0!==this.getSource(o))throw new Error("There is already a source with this ID");if(!u.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(u).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(u.type)>=0&&this._validate(c.validateSource,`sources.${o}`,u,null,y))return;this.map&&this.map._collectResourceTiming&&(u.collectResourceTiming=!0);const O=on(o,u,this.dispatcher,this);O.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(o),source:O.serialize(),sourceId:o}));const I=z=>{const H=(z?"symbol:":"other:")+o,Y=this._sourceCaches[H]=new c.SourceCache(H,O,z);(z?this._symbolSourceCaches:this._otherSourceCaches)[o]=Y,Y.style=this,Y.onAdd(this.map)};I(!1),"vector"!==u.type&&"geojson"!==u.type||I(!0),O.onAdd&&O.onAdd(this.map),this._changed=!0}removeSource(o){this._checkLoaded();const u=this.getSource(o);if(!u)throw new Error("There is no source with this ID");for(const O in this._layers)if(this._layers[O].source===o)return this.fire(new c.ErrorEvent(new Error(`Source "${o}" cannot be removed while layer "${O}" is using it.`)));if(this.terrain&&this.terrain.get().source===o)return this.fire(new c.ErrorEvent(new Error(`Source "${o}" cannot be removed while terrain is using it.`)));const y=this._getSourceCaches(o);for(const O of y)delete this._sourceCaches[O.id],delete this._updatedSources[O.id],O.fire(new c.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:O.getSource().id})),O.setEventedParent(null),O.clearTiles();return delete this._otherSourceCaches[o],delete this._symbolSourceCaches[o],u.setEventedParent(null),u.onRemove&&u.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(o,u){this._checkLoaded(),this.getSource(o).setData(u),this._changed=!0}getSource(o){const u=this._getSourceCache(o);return u&&u.getSource()}_getSources(){const o=[];for(const u in this._otherSourceCaches){const y=this._getSourceCache(u);y&&o.push(y.getSource())}return o}addLayer(o,u,y={}){this._checkLoaded();const O=o.id;if(this.getLayer(O))return void this.fire(new c.ErrorEvent(new Error(`Layer with id "${O}" already exists on this map`)));let I;if("custom"===o.type){if(Ws(this,c.validateCustomStyleLayer(o)))return;I=c.createStyleLayer(o)}else{if("object"==typeof o.source&&(this.addSource(O,o.source),o=c.clone$1(o),o=c.extend(o,{source:O})),this._validate(c.validateLayer,`layers.${O}`,o,{arrayIndex:-1},y))return;I=c.createStyleLayer(o),this._validateLayer(I),I.setEventedParent(this,{layer:{id:O}}),this._serializedLayers[I.id]=I.serialize(),this._updateLayerCount(I,!0)}const z=u?this._order.indexOf(u):this._order.length;if(u&&-1===z)return void this.fire(new c.ErrorEvent(new Error(`Layer with id "${u}" does not exist on this map.`)));this._order.splice(z,0,O),this._layerOrderChanged=!0,this._layers[O]=I;const H=this._getLayerSourceCache(I);if(this._removedLayers[O]&&I.source&&H&&"custom"!==I.type){const Y=this._removedLayers[O];delete this._removedLayers[O],Y.type!==I.type?this._updatedSources[I.source]="clear":(this._updatedSources[I.source]="reload",H.pause())}this._updateLayer(I),I.onAdd&&I.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(o,u){if(this._checkLoaded(),this._changed=!0,!this._layers[o])return void this.fire(new c.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot be moved.`)));if(o===u)return;const y=this._order.indexOf(o);this._order.splice(y,1);const O=u?this._order.indexOf(u):this._order.length;u&&-1===O?this.fire(new c.ErrorEvent(new Error(`Layer with id "${u}" does not exist on this map.`))):(this._order.splice(O,0,o),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(o){this._checkLoaded();const u=this._layers[o];if(!u)return void this.fire(new c.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot be removed.`)));u.setEventedParent(null),this._updateLayerCount(u,!1);const y=this._order.indexOf(o);this._order.splice(y,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[o]=u,delete this._layers[o],delete this._serializedLayers[o],delete this._updatedLayers[o],delete this._updatedPaintProps[o],u.onRemove&&u.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(o){return this._layers[o]}hasLayer(o){return o in this._layers}hasLayerType(o){for(const u in this._layers)if(this._layers[u].type===o)return!0;return!1}setLayerZoomRange(o,u,y){this._checkLoaded();const O=this.getLayer(o);O?O.minzoom===u&&O.maxzoom===y||(null!=u&&(O.minzoom=u),null!=y&&(O.maxzoom=y),this._updateLayer(O)):this.fire(new c.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(o,u,y={}){this._checkLoaded();const O=this.getLayer(o);if(O){if(!T(O.filter,u))return null==u?(O.filter=void 0,void this._updateLayer(O)):void(this._validate(c.validateFilter,`layers.${O.id}.filter`,u,{layerType:O.type},y)||(O.filter=c.clone$1(u),this._updateLayer(O)))}else this.fire(new c.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot be filtered.`)))}getFilter(o){const u=this.getLayer(o);return u&&c.clone$1(u.filter)}setLayoutProperty(o,u,y,O={}){this._checkLoaded();const I=this.getLayer(o);I?T(I.getLayoutProperty(u),y)||(I.setLayoutProperty(u,y,O),this._updateLayer(I)):this.fire(new c.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(o,u){const y=this.getLayer(o);if(y)return y.getLayoutProperty(u);this.fire(new c.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style.`)))}setPaintProperty(o,u,y,O={}){this._checkLoaded();const I=this.getLayer(o);I?T(I.getPaintProperty(u),y)||(I.setPaintProperty(u,y,O)&&this._updateLayer(I),this._changed=!0,this._updatedPaintProps[o]=!0):this.fire(new c.ErrorEvent(new Error(`The layer '${o}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(o,u){const y=this.getLayer(o);return y&&y.getPaintProperty(u)}setFeatureState(o,u){this._checkLoaded();const y=o.source,O=o.sourceLayer,I=this.getSource(y);if(!I)return void this.fire(new c.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const z=I.type;if("geojson"===z&&O)return void this.fire(new c.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===z&&!O)return void this.fire(new c.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===o.id&&this.fire(new c.ErrorEvent(new Error("The feature id parameter must be provided.")));const H=this._getSourceCaches(y);for(const Y of H)Y.setFeatureState(O,o.id,u)}removeFeatureState(o,u){this._checkLoaded();const y=o.source,O=this.getSource(y);if(!O)return void this.fire(new c.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const I=O.type,z="vector"===I?o.sourceLayer:void 0;if("vector"===I&&!z)return void this.fire(new c.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(u&&"string"!=typeof o.id&&"number"!=typeof o.id)return void this.fire(new c.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const H=this._getSourceCaches(y);for(const Y of H)Y.removeFeatureState(z,o.id,u)}getFeatureState(o){this._checkLoaded();const u=o.source,y=o.sourceLayer,O=this.getSource(u);if(O){if("vector"!==O.type||y)return void 0===o.id&&this.fire(new c.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(u)[0].getFeatureState(y,o.id);this.fire(new c.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new c.ErrorEvent(new Error(`The source '${u}' does not exist in the map's style.`)))}getTransition(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const o={};for(const u in this._sourceCaches){const y=this._sourceCaches[u].getSource();o[y.id]||(o[y.id]=y.serialize())}return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:o,layers:this._serializeLayers(this._order)},u=>void 0!==u)}_updateLayer(o){this._updatedLayers[o.id]=!0;const u=this._getLayerSourceCache(o);o.source&&!this._updatedSources[o.source]&&u&&"raster"!==u.getSource().type&&(this._updatedSources[o.source]="reload",u.pause()),this._changed=!0,o.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(o){const u=z=>"fill-extrusion"===this._layers[z].type,y={},O=[];for(let z=this._order.length-1;z>=0;z--){const H=this._order[z];if(u(H)){y[H]=z;for(const Y of o){const ue=Y[H];if(ue)for(const de of ue)O.push(de)}}}O.sort((z,H)=>H.intersectionZ-z.intersectionZ);const I=[];for(let z=this._order.length-1;z>=0;z--){const H=this._order[z];if(u(H))for(let Y=O.length-1;Y>=0;Y--){const ue=O[Y].feature;if(y[ue.layer.id]<z)break;I.push(ue),O.pop()}else for(const Y of o){const ue=Y[H];if(ue)for(const de of ue)I.push(de.feature)}}return I}queryRenderedFeatures(o,u,y){u&&u.filter&&this._validate(c.validateFilter,"queryRenderedFeatures.filter",u.filter,null,u);const O={};if(u&&u.layers){if(!Array.isArray(u.layers))return this.fire(new c.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const Y of u.layers){const ue=this._layers[Y];if(!ue)return this.fire(new c.ErrorEvent(new Error(`The layer '${Y}' does not exist in the map's style and cannot be queried for features.`))),[];O[ue.source]=!0}}const I=[];u.availableImages=this._availableImages;const z=u&&u.layers?u.layers.some(Y=>{const ue=this.getLayer(Y);return ue&&ue.is3D()}):this.has3DLayers(),H=bt.createFromScreenPoints(o,y);for(const Y in this._sourceCaches){const ue=this._sourceCaches[Y].getSource().id;u.layers&&!O[ue]||I.push(Lt(this._sourceCaches[Y],this._layers,this._serializedLayers,H,u,y,z,!!this.map._showQueryGeometry))}return this.placement&&I.push(function(Y,ue,de,Re,it,vt,xt){const Mt={},Pt=vt.queryRenderedSymbols(Re),Fe=[];for(const _t of Object.keys(Pt).map(Number))Fe.push(xt[_t]);Fe.sort(Ht);for(const _t of Fe){const Ut=_t.featureIndex.lookupSymbolFeatures(Pt[_t.bucketInstanceId],ue,_t.bucketIndex,_t.sourceLayerIndex,it.filter,it.layers,it.availableImages,Y);for(const Gt in Ut){const hn=Mt[Gt]=Mt[Gt]||[],fn=Ut[Gt];fn.sort((mn,Sn)=>{const Mn=_t.featureSortOrder;if(Mn){const zn=Mn.indexOf(mn.featureIndex);return Mn.indexOf(Sn.featureIndex)-zn}return Sn.featureIndex-mn.featureIndex});for(const mn of fn)hn.push(mn)}}for(const _t in Mt)Mt[_t].forEach(Ut=>{const Gt=Ut.feature,hn=de(Y[_t]);if(!hn)return;const fn=hn.getFeatureState(Gt.layer["source-layer"],Gt.id);Gt.source=Gt.layer.source,Gt.layer["source-layer"]&&(Gt.sourceLayer=Gt.layer["source-layer"]),Gt.state=fn});return Mt}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),H.screenGeometry,u,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(I)}querySourceFeatures(o,u){u&&u.filter&&this._validate(c.validateFilter,"querySourceFeatures.filter",u.filter,null,u);const y=this._getSourceCaches(o);let O=[];for(const I of y)O=O.concat(gn(I,u));return O}addSourceType(o,u,y){return Ls.getSourceType(o)?y(new Error(`A source type called "${o}" already exists.`)):(Ls.setSourceType(o,u),u.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:o,url:u.workerSourceURL},y):y(null,null))}getLight(){return this.light.getLight()}setLight(o,u={}){this._checkLoaded();const y=this.light.getLight();let O=!1;for(const z in o)if(!T(o[z],y[z])){O=!0;break}if(!O)return;const I=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(o,u),this.light.updateTransitions(I)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(o,u=1){if(this._checkLoaded(),!o)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let y=o;if(1===u){if("object"==typeof y.source){const O="terrain-dem-src";this.addSource(O,y.source),y=c.clone$1(y),y=c.extend(y,{source:O})}if(this._validate(c.validateTerrain,"terrain",y))return}if(!this.terrain||this.terrain&&u!==this.terrain.drapeRenderMode){if(!y)return;this._createTerrain(y,u)}else{const O=this.terrain,I=O.get();for(const z of Object.keys(c.spec.terrain))!y.hasOwnProperty(z)&&c.spec.terrain[z].default&&(y[z]=c.spec.terrain[z].default);for(const z in y)if(!T(y[z],I[z])){O.set(y),this.stylesheet.terrain=y;const H=this._setTransitionParameters({duration:0});O.updateTransitions(H);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(o){const u=this.fog=new ut(o,this.map.transform);this.stylesheet.fog=o;const y=this._setTransitionParameters({duration:0});u.updateTransitions(y)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const o of this.map._markers)o._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(o){if(this._checkLoaded(),!o)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const u=this.fog,y=u.get();0===Object.keys(o).length&&u.set(o);for(const O in o)if(!T(o[O],y[O])){u.set(o),this.stylesheet.fog=o;const I=this._setTransitionParameters({duration:0});u.updateTransitions(I);break}}else this._createFog(o);this._markersNeedUpdate=!0}_setTransitionParameters(o){return{now:c.exported.now(),transition:c.extend(o,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const o=this._order.filter(y=>this.isLayerDraped(this._layers[y])),u=this._order.filter(y=>!this.isLayerDraped(this._layers[y]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...o),this._drapedFirstOrder.push(...u)}_createTerrain(o,u){const y=this.terrain=new It(o,u);this.stylesheet.terrain=o,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const O=this._setTransitionParameters({duration:0});y.updateTransitions(O)}_force3DLayerUpdate(){for(const o in this._layers){const u=this._layers[o];"fill-extrusion"===u.type&&this._updateLayer(u)}}_forceSymbolLayerUpdate(){for(const o in this._layers){const u=this._layers[o];"symbol"===u.type&&this._updateLayer(u)}}_validate(o,u,y,O,I={}){return(!I||!1!==I.validate)&&Ws(this,o.call(c.validateStyle,c.extend({key:u,style:this.serialize(),value:y,styleSpec:c.spec},O)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),c.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const o in this._layers)this._layers[o].setEventedParent(null);for(const o in this._sourceCaches)this._sourceCaches[o].clearTiles(),this._sourceCaches[o].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(o){const u=this._getSourceCaches(o);for(const y of u)y.clearTiles()}_reloadSource(o){const u=this._getSourceCaches(o);for(const y of u)y.resume(),y.reload()}_reloadSources(){for(const o of this._getSources())o.reload&&o.reload()}_updateSources(o){for(const u in this._sourceCaches)this._sourceCaches[u].update(o)}_generateCollisionBoxes(){for(const o in this._sourceCaches){const u=this._sourceCaches[o];u.resume(),u.reload()}}_updatePlacement(o,u,y,O,I=!1){let z=!1,H=!1;const Y={};for(const ue of this._order){const de=this._layers[ue];if("symbol"!==de.type)continue;if(!Y[de.source]){const it=this._getLayerSourceCache(de);if(!it)continue;Y[de.source]=it.getRenderableIds(!0).map(vt=>it.getTileByID(vt)).sort((vt,xt)=>xt.tileID.overscaledZ-vt.tileID.overscaledZ||(vt.tileID.isLessThan(xt.tileID)?-1:1))}const Re=this.crossTileSymbolIndex.addLayer(de,Y[de.source],o.center.lng,o.projection);z=z||Re}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),I=I||this._layerOrderChanged||0===y,this._layerOrderChanged&&this.fire(new c.Event("neworder")),(I||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(c.exported.now(),o.zoom))&&(this.pauseablePlacement=new wl(o,this._order,I,u,y,O,this.placement,this.fog&&o.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Y),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(c.exported.now()),H=!0),z&&this.pauseablePlacement.placement.setStale()),H||z)for(const ue of this._order){const de=this._layers[ue];"symbol"===de.type&&this.placement.updateLayerOpacities(de,Y[de.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(c.exported.now())}_releaseSymbolFadeTiles(){for(const o in this._sourceCaches)this._sourceCaches[o].releaseSymbolFadeTiles()}getImages(o,u,y){this.imageManager.getImages(u.icons,y),this._updateTilesForChangedImages();const O=I=>{I&&I.setDependencies(u.tileID.key,u.type,u.icons)};O(this._otherSourceCaches[u.source]),O(this._symbolSourceCaches[u.source])}getGlyphs(o,u,y){this.glyphManager.getGlyphs(u.stacks,y)}getResource(o,u,y){return c.makeRequest(u,y)}_getSourceCache(o){return this._otherSourceCaches[o]}_getLayerSourceCache(o){return"symbol"===o.type?this._symbolSourceCaches[o.source]:this._otherSourceCaches[o.source]}_getSourceCaches(o){const u=[];return this._otherSourceCaches[o]&&u.push(this._otherSourceCaches[o]),this._symbolSourceCaches[o]&&u.push(this._symbolSourceCaches[o]),u}_isSourceCacheLoaded(o){const u=this._getSourceCaches(o);return 0===u.length?(this.fire(new c.ErrorEvent(new Error(`There is no source with ID '${o}'`))),!1):u.every(y=>y.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Ls.getSourceType=function(f){return Ze[f]},Ls.setSourceType=function(f,o){Ze[f]=o},Ls.registerForPluginStateChange=c.registerForPluginStateChange;var lo="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",Es="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",$s="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\nconst float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)\n{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nreturn currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",ga="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",Sr="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let ul={},na={};const Ns=[];ia(lo,Ns),ia($s,Ns),ia(ga,Ns),ia(Sr,Ns),ul=Vo("",$s),na=Vo(Sr,ga);const Zl=Vo("\n#if __VERSION__ >=300\n#define varying in\n#define gl_FragColor glFragColor\n#define texture2D texture\n#define textureCube texture\nout vec4 glFragColor;\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\n#if __VERSION__ >=300\n#define attribute in\n#define varying out\n#define texture2D texture\n#endif\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),Ml=lo,La="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var Fs={background:Vo("uniform vec4 u_color;uniform float u_opacity;\n#ifdef LIGHTING_3D_MODE\nvarying vec4 v_color;\n#endif\nvoid main() {vec4 out_color;\n#ifdef LIGHTING_3D_MODE\nout_color=v_color;\n#else\nout_color=u_color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#ifdef LIGHTING_3D_MODE\nuniform vec4 u_color;varying vec4 v_color;\n#endif\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(u_color);\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:Vo("uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:Vo("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:Vo("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Vo("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:Vo("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Vo("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Vo("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Vo("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:Vo("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:Vo("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:Vo("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:Vo("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:Vo("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat NdotL=0.0;float colorvalue=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(color,NdotL);\n#else\nv_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef LIGHTING_3D_MODE\nv_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));\n#else\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:Vo("uniform vec2 u_texsize;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color,v_NdotL)*u_opacity;\n#else\nout_color=out_color*v_lighting;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_NdotL=NdotL;\n#else\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#endif \n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:Vo("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Vo("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef LIGHTING_3D_MODE\ngl_FragColor=apply_lighting(gl_FragColor);\n#endif\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:Vo("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\nhighp vec4 out_color;\n#ifdef RENDER_LINE_GRADIENT\nout_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nout_color=color;\n#endif\nfloat trimmed=1.0;\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}\n#endif\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:Vo("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\ncolor=apply_lighting(color);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:Vo("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:Vo("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:Vo("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:Vo("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:Vo("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#else\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=wireframeOffset;\n#endif\nv_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\nv_fog_pos=fog_position(decodedPos);\n#else\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:Vo("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Vo("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Es),skyboxGradient:Vo("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Es),skyboxCapture:Vo("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Vo("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;\n#ifdef GLOBE_POLES\nvec3 up_vector=globe_derived_up_vector;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifndef GLOBE_POLES\nglobe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;\n#endif\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:Vo("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function ia(f,o){const u=f.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let y of u)if(y=y.trim(),"#"===y[0]&&y.includes("if")&&!y.includes("endif")){y=y.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const O=y.split(" ");for(const I of O)o.includes(I)||o.push(I)}}function Vo(f,o){const u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=o.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),O={},I=[...Ns];return ia(f,I),ia(o,I),{fragmentSource:f=f.replace(u,(z,H,Y,ue,de)=>(O[de]=!0,"define"===H?`\n#ifndef HAS_UNIFORM_u_${de}\nvarying ${Y} ${ue} ${de};\n#else\nuniform ${Y} ${ue} u_${de};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${de}\n    ${Y} ${ue} ${de} = u_${de};\n#endif\n`)),vertexSource:o=o.replace(u,(z,H,Y,ue,de)=>{const Re="float"===ue?"vec2":"vec4",it=de.match(/color/)?"color":Re;return O[de]?"define"===H?`\n#ifndef HAS_UNIFORM_u_${de}\nuniform lowp float u_${de}_t;\nattribute ${Y} ${Re} a_${de};\nvarying ${Y} ${ue} ${de};\n#else\nuniform ${Y} ${ue} u_${de};\n#endif\n`:"vec4"===it?`\n#ifndef HAS_UNIFORM_u_${de}\n    ${de} = a_${de};\n#else\n    ${Y} ${ue} ${de} = u_${de};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${de}\n    ${de} = unpack_mix_${it}(a_${de}, u_${de}_t);\n#else\n    ${Y} ${ue} ${de} = u_${de};\n#endif\n`:"define"===H?`\n#ifndef HAS_UNIFORM_u_${de}\nuniform lowp float u_${de}_t;\nattribute ${Y} ${Re} a_${de};\n#else\nuniform ${Y} ${ue} u_${de};\n#endif\n`:"vec4"===it?`\n#ifndef HAS_UNIFORM_u_${de}\n    ${Y} ${ue} ${de} = a_${de};\n#else\n    ${Y} ${ue} ${de} = u_${de};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${de}\n    ${Y} ${ue} ${de} = unpack_mix_${it}(a_${de}, u_${de}_t);\n#else\n    ${Y} ${ue} ${de} = u_${de};\n#endif\n`}),staticAttributes:y,usedDefines:I}}class Oo{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(o,u,y,O,I,z,H){this.context=o;let Y=this.boundPaintVertexBuffers.length!==O.length;for(let de=0;!Y&&de<O.length;de++)this.boundPaintVertexBuffers[de]!==O[de]&&(Y=!0);let ue=this.boundDynamicVertexBuffers.length!==H.length;for(let de=0;!ue&&de<H.length;de++)this.boundDynamicVertexBuffers[de]!==H[de]&&(ue=!0);if(!o.extVertexArrayObject||!this.vao||this.boundProgram!==u||this.boundLayoutVertexBuffer!==y||Y||ue||this.boundIndexBuffer!==I||this.boundVertexOffset!==z)this.freshBind(u,y,O,I,z,H);else{o.bindVertexArrayOES.set(this.vao);for(const de of H)de&&de.bind();I&&I.dynamicDraw&&I.bind()}}freshBind(o,u,y,O,I,z){let H;const Y=o.numAttributes,ue=this.context,de=ue.gl;if(ue.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ue.extVertexArrayObject.createVertexArrayOES(),ue.bindVertexArrayOES.set(this.vao),H=0,this.boundProgram=o,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=y,this.boundIndexBuffer=O,this.boundVertexOffset=I,this.boundDynamicVertexBuffers=z;else{H=ue.currentNumAttributes||0;for(let Re=Y;Re<H;Re++)de.disableVertexAttribArray(Re)}u.enableAttributes(de,o),u.bind(),u.setVertexAttribPointers(de,o,I);for(const Re of y)Re.enableAttributes(de,o),Re.bind(),Re.setVertexAttribPointers(de,o,I);for(const Re of z)Re&&(Re.enableAttributes(de,o),Re.bind(),Re.setVertexAttribPointers(de,o,I));O&&O.bind(),ue.currentNumAttributes=Y}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function hl(f,o){const u=Math.pow(2,o.canonical.z),y=o.canonical.y;return[new c.MercatorCoordinate(0,y/u).toLngLat().lat,new c.MercatorCoordinate(0,(y+1)/u).toLngLat().lat]}function Rl(f,o,u,y,O,I,z){const H=f.context,Y=H.gl,ue=u.fbo;if(!ue)return;f.prepareDrawTile();const de=f.useProgram("hillshade");H.activeTexture.set(Y.TEXTURE0),Y.bindTexture(Y.TEXTURE_2D,ue.colorAttachment.get());const Re=((Mt,Pt,Fe,_t)=>{const Ut=Fe.paint.get("hillshade-shadow-color"),Gt=Fe.paint.get("hillshade-highlight-color"),hn=Fe.paint.get("hillshade-accent-color");let fn=Fe.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===Fe.paint.get("hillshade-illumination-anchor")&&(fn-=Mt.transform.angle);const mn=!Mt.options.moving;return{u_matrix:_t||Mt.transform.calculateProjMatrix(Pt.tileID.toUnwrapped(),mn),u_image:0,u_latrange:hl(0,Pt.tileID),u_light:[Fe.paint.get("hillshade-exaggeration"),fn],u_shadow:Ut,u_highlight:Gt,u_accent:hn}})(f,u,y,f.terrain?o.projMatrix:null);f.prepareDrawProgram(H,de,o.toUnwrapped());const{tileBoundsBuffer:it,tileBoundsIndexBuffer:vt,tileBoundsSegments:xt}=f.getTileBoundsBuffers(u);de.draw(H,Y.TRIANGLES,O,I,z,c.CullFaceMode.disabled,Re,y.id,it,vt,xt)}function Is(f,o,u){if(!o.needsDEMTextureUpload)return;const y=f.context,O=y.gl;y.pixelStoreUnpackPremultiplyAlpha.set(!1),o.demTexture=o.demTexture||f.getTileTexture(u.stride);const I=u.getPixels();o.demTexture?o.demTexture.update(I,{premultiply:!1}):o.demTexture=new c.Texture(y,I,O.RGBA,{premultiply:!1}),o.needsDEMTextureUpload=!1}function Ks(f,o,u,y,O,I){const z=f.context,H=z.gl;if(!o.dem)return;const Y=o.dem;if(z.activeTexture.set(H.TEXTURE1),Is(f,o,Y),!o.demTexture)return;o.demTexture.bind(H.NEAREST,H.CLAMP_TO_EDGE);const ue=Y.dim;z.activeTexture.set(H.TEXTURE0);let de=o.fbo;if(!de){const xt=new c.Texture(z,{width:ue,height:ue,data:null},H.RGBA);xt.bind(H.LINEAR,H.CLAMP_TO_EDGE),de=o.fbo=z.createFramebuffer(ue,ue,!0),de.colorAttachment.set(xt.texture)}z.bindFramebuffer.set(de.framebuffer),z.viewport.set([0,0,ue,ue]);const{tileBoundsBuffer:Re,tileBoundsIndexBuffer:it,tileBoundsSegments:vt}=f.getMercatorTileBoundsBuffers();f.useProgram("hillshadePrepare").draw(z,H.TRIANGLES,y,O,I,c.CullFaceMode.disabled,((xt,Mt)=>{const Pt=Mt.stride,Fe=c.create();return c.ortho(Fe,0,c.EXTENT,-c.EXTENT,0,0,1),c.translate(Fe,Fe,[0,-c.EXTENT,0]),{u_matrix:Fe,u_image:1,u_dimension:[Pt,Pt],u_zoom:xt.overscaledZ,u_unpack:Mt.unpackVector}})(o.tileID,Y),u.id,Re,it,vt),o.needsHillshadePrepare=!1}const Na=f=>({u_matrix:new c.UniformMatrix4f(f),u_image0:new c.Uniform1i(f),u_skirt_height:new c.Uniform1f(f)}),Oa=(f,o)=>({u_matrix:f,u_image0:0,u_skirt_height:o}),fa=(f,o,u,y,O,I,z,H,Y,ue,de,Re,it,vt,xt)=>({u_proj_matrix:Float32Array.from(f),u_globe_matrix:o,u_normalize_matrix:Float32Array.from(y),u_merc_matrix:u,u_zoom_transition:O,u_merc_center:I,u_image0:0,u_frustum_tl:z,u_frustum_tr:H,u_frustum_br:Y,u_frustum_bl:ue,u_globe_pos:de,u_globe_radius:Re,u_viewport:it,u_grid_matrix:xt?Float32Array.from(xt):new Float32Array(9),u_skirt_height:vt});function ss(f,o){return null!=f&&null!=o&&!(!f.hasData()||!o.hasData())&&null!=f.demTexture&&null!=o.demTexture&&f.tileID.key!==o.tileID.key}const Ya=new class{constructor(){this.operations={}}newMorphing(f,o,u,y,O){if(f in this.operations){const I=this.operations[f];I.to.tileID.key!==u.tileID.key&&(I.queued=u)}else this.operations[f]={startTime:y,phase:0,duration:O,from:o,to:u,queued:null}}getMorphValuesForProxy(f){if(!(f in this.operations))return null;const o=this.operations[f];return{from:o.from,to:o.to,phase:o.phase}}update(f){for(const o in this.operations){const u=this.operations[o];for(u.phase=(f-u.startTime)/u.duration;u.phase>=1||!this._validOp(u);)if(!this._nextOp(u,f)){delete this.operations[o];break}}}_nextOp(f,o){return!!f.queued&&(f.from=f.to,f.to=f.queued,f.queued=null,f.phase=0,f.startTime=o,!0)}_validOp(f){return f.from.hasData()&&f.to.hasData()}},Gr={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function bs(f){return 6*Math.pow(1.5,22-f)}function Wl(f,o){const u=1<<f.z;return!o&&(0===f.x||f.x===u-1)||0===f.y||f.y===u-1}const As=f=>({u_matrix:f});function pl(f,o,u,y,O){if(O>0){const I=c.exported.now(),z=(I-f.timeAdded)/O,H=o?(I-o.timeAdded)/O:-1,Y=u.getSource(),ue=y.coveringZoomLevel({tileSize:Y.tileSize,roundZoom:Y.roundZoom}),de=!o||Math.abs(o.tileID.overscaledZ-ue)>Math.abs(f.tileID.overscaledZ-ue),Re=de&&f.refreshedUponExpiration?1:c.clamp(de?z:1-H,0,1);return f.refreshedUponExpiration&&z>=1&&(f.refreshedUponExpiration=!1),o?{opacity:1,mix:1-Re}:{opacity:Re,mix:0}}return{opacity:1,mix:0}}class ma extends c.SourceCache{constructor(o){const u={type:"raster-dem",maxzoom:o.transform.maxZoom},y=new Nt(At(),null),O=on("mock-dem",u,y,o.style);super("mock-dem",O,!1),O.setEventedParent(this),this._sourceLoaded=!0}_loadTile(o,u){o.state="loaded",u(null)}}class Kl extends c.SourceCache{constructor(o){const u=on("proxy",{type:"geojson",maxzoom:o.transform.maxZoom},new Nt(At(),null),o.style);super("proxy",u,!1),u.setEventedParent(this),this.map=this.getSource().map=o,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(o,u,y){if(o.freezeTileCoverage)return;this.transform=o;const O=o.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((I,z)=>{if(I[z.key]="",!this._tiles[z.key]){const H=new c.Tile(z,this._source.tileSize*z.overscaleFactor(),o.tileZoom);H.state="loaded",this._tiles[z.key]=H}return I},{});for(const I in this._tiles)I in O||(this.freeFBO(I),this._tiles[I].unloadVectorData(),delete this._tiles[I])}freeFBO(o){const u=this.proxyCachedFBO[o];if(void 0!==u){const y=Object.values(u);this.renderCachePool.push(...y),delete this.proxyCachedFBO[o]}}deallocRenderCache(){this.renderCache.forEach(o=>o.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Fa extends c.OverscaledTileID{constructor(o,u,y){super(o.overscaledZ,o.wrap,o.canonical.z,o.canonical.x,o.canonical.y),this.proxyTileKey=u,this.projMatrix=y}}class qa extends c.Elevation{constructor(o,u){super(),this.painter=o,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[y,O,I]=function(Y){const ue=new c.StructArrayLayout2i4,de=new c.StructArrayLayout3ui6;ue.reserve(17161),de.reserve(33800);const it=c.EXTENT/128,vt=c.EXTENT+it/2,xt=vt+it;for(let Pt=-it;Pt<xt;Pt+=it)for(let Fe=-it;Fe<xt;Fe+=it){const _t=Fe<0||Fe>vt||Pt<0||Pt>vt?24575:0,Ut=c.clamp(Math.round(Fe),0,c.EXTENT),Gt=c.clamp(Math.round(Pt),0,c.EXTENT);ue.emplaceBack(Ut+_t,Gt)}const Mt=(Pt,Fe)=>{const _t=131*Fe+Pt;de.emplaceBack(_t+1,_t,_t+131),de.emplaceBack(_t+131,_t+131+1,_t+1)};for(let Pt=1;Pt<129;Pt++)for(let Fe=1;Fe<129;Fe++)Mt(Fe,Pt);return[0,129].forEach(Pt=>{for(let Fe=0;Fe<130;Fe++)Mt(Fe,Pt),Mt(Pt,Fe)}),[ue,de,32768]}(),z=o.context;this.gridBuffer=z.createVertexBuffer(y,c.posAttributes.members),this.gridIndexBuffer=z.createIndexBuffer(O),this.gridSegments=c.SegmentVector.simpleSegment(0,0,y.length,O.length),this.gridNoSkirtSegments=c.SegmentVector.simpleSegment(0,0,y.length,I),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Kl(u.map),this.orthoMatrix=c.create(),c.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,c.EXTENT,0,c.EXTENT,0,1);const H=z.gl;this._overlapStencilMode=new c.StencilMode({func:H.GEQUAL,mask:255},0,255,H.KEEP,H.KEEP,H.REPLACE),this._previousZoom=o.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=u,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new ma(u.map)}set style(o){o.on("data",this._onStyleDataEvent.bind(this)),o.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=o,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(o,u,y){if(o&&o.terrain){this._style!==o&&(this.style=o),this.enabled=!0;const O=o.terrain.properties;this.sourceCache=0===o.terrain.drapeRenderMode?this._mockSourceCache:o._getSourceCache(O.get("source")),this._exaggeration=O.get("exaggeration");const I=()=>{this.sourceCache.used&&c.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const z=this.getScaledDemTileSize();this.sourceCache.update(u,z,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,I(),this._initializing=!0),I(),u.updateElevation(!0,y),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(u),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(o){this._findCoveringTileCache[o]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const o=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==o.efficiency&&c.warnOnce(`Terrain render cache efficiency is not optimal (${o.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${o.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(o){o.coord&&"source"===o.dataType?this._clearRenderCacheForTile(o.sourceCacheId,o.coord):"style"===o.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const o in this._style._sourceCaches)this._style._sourceCaches[o].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(o=>o.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const o=2*this.proxySourceCache.getSource().tileSize;return[o,o]}set useVertexMorphing(o){this._useVertexMorphing=o}updateTileBinding(o){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const u=this.proxySourceCache,y=this.painter.transform;this._initializing&&(this._initializing=0===y._centerAltitude&&-1===this.getAtPointOrZero(c.MercatorCoordinate.fromLngLat(y.center),-1),this._emptyDEMTextureDirty=!this._initializing);const O=this.proxyCoords=u.getIds().map(Y=>{const ue=u.getTileByID(Y).tileID;return ue.projMatrix=y.calculateProjMatrix(ue.toUnwrapped()),ue});(function(Y,ue){const de=ue.transform.pointCoordinate(ue.transform.getCameraPoint()),Re=new c.Point(de.x,de.y);Y.sort((it,vt)=>{if(vt.overscaledZ-it.overscaledZ)return vt.overscaledZ-it.overscaledZ;const xt=new c.Point(it.canonical.x+(1<<it.canonical.z)*it.wrap,it.canonical.y),Mt=new c.Point(vt.canonical.x+(1<<vt.canonical.z)*vt.wrap,vt.canonical.y),Pt=Re.mult(1<<it.canonical.z);return Pt.x-=.5,Pt.y-=.5,Pt.distSqr(xt)-Pt.distSqr(Mt)})})(O,this.painter),this._previousZoom=y.zoom;const I=this.proxyToSource||{};this.proxyToSource={},O.forEach(Y=>{this.proxyToSource[Y.key]={}}),this.terrainTileForTile={};const z=this._style._sourceCaches;for(const Y in z){const ue=z[Y];if(!ue.used||(ue!==this.sourceCache&&this.resetTileLookupCache(ue.id),this._setupProxiedCoordsForOrtho(ue,o[Y],I),ue.usedForTerrain))continue;const de=o[Y];ue.getSource().reparseOverscaled&&this._assignTerrainTiles(de)}this.proxiedCoords[u.id]=O.map(Y=>new Fa(Y,Y.key,this.orthoMatrix)),this._assignTerrainTiles(O),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(I),this.renderingToTexture=!1,this._updateTimestamp=c.exported.now();const H={};this._visibleDemTiles=[];for(const Y of this.proxyCoords){const ue=this.terrainTileForTile[Y.key];if(!ue)continue;const de=ue.tileID.key;de in H||(this._visibleDemTiles.push(ue),H[de]=de)}}_assignTerrainTiles(o){this._initializing||o.forEach(u=>{if(this.terrainTileForTile[u.key])return;const y=this._findTileCoveringTileID(u,this.sourceCache);y&&(this.terrainTileForTile[u.key]=y)})}_prepareDEMTextures(){const o=this.painter.context,u=o.gl;for(const y in this.terrainTileForTile){const O=this.terrainTileForTile[y],I=O.dem;!I||O.demTexture&&!O.needsDEMTextureUpload||(o.activeTexture.set(u.TEXTURE1),Is(this.painter,O,I))}}_prepareDemTileUniforms(o,u,y,O){if(!u||null==u.demTexture)return!1;const I=o.tileID.canonical,z=Math.pow(2,u.tileID.canonical.z-I.z),H=O||"";return y[`u_dem_tl${H}`]=[I.x*z%1,I.y*z%1],y[`u_dem_scale${H}`]=z,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const o=this.painter.context,u=o.gl;if(!this._emptyDepthBufferTexture){const y=new c.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new c.Texture(o,y,u.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let o=0;const u=this._visibleDemTiles.reduce((y,O)=>{if(!O.dem)return y;const I=O.dem.tree.minimums[0];return I>0&&o++,y+I},0);return o?u/o:0}_updateEmptyDEMTexture(){const o=this.painter.context,u=o.gl;o.activeTexture.set(u.TEXTURE2);const y=this._getLoadedAreaMinimum(),O=new c.RGBAImage({width:1,height:1},new Uint8Array(c.DEMData.pack(y,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let I=this._emptyDEMTexture;return I?I.update(O,{premultiply:!1}):I=this._emptyDEMTexture=new c.Texture(o,O,u.RGBA,{premultiply:!1}),I}setupElevationDraw(o,u,y){const O=this.painter.context,I=O.gl,z=(H=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:c.DEMData.getUnpackVector(H),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var H;z.u_dem_size=this.sourceCache.getSource().tileSize,z.u_exaggeration=this.exaggeration();let Y=null,ue=null,de=1;if(y&&y.morphing&&this._useVertexMorphing){const Re=y.morphing.srcDemTile,it=y.morphing.dstDemTile;de=y.morphing.phase,Re&&it&&(this._prepareDemTileUniforms(o,Re,z,"_prev")&&(ue=Re),this._prepareDemTileUniforms(o,it,z)&&(Y=it))}if(ue&&Y?(O.activeTexture.set(I.TEXTURE2),Y.demTexture.bind(I.NEAREST,I.CLAMP_TO_EDGE,I.NEAREST),O.activeTexture.set(I.TEXTURE4),ue.demTexture.bind(I.NEAREST,I.CLAMP_TO_EDGE,I.NEAREST),z.u_dem_lerp=de):(Y=this.terrainTileForTile[o.tileID.key],O.activeTexture.set(I.TEXTURE2),(this._prepareDemTileUniforms(o,Y,z)?Y.demTexture:this.emptyDEMTexture).bind(I.NEAREST,I.CLAMP_TO_EDGE)),O.activeTexture.set(I.TEXTURE3),y&&y.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(I.NEAREST,I.CLAMP_TO_EDGE),this._depthFBO&&(z.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(I.NEAREST,I.CLAMP_TO_EDGE),z.u_depth_size_inv=[1,1]),y&&y.useMeterToDem&&Y){const Re=(1<<Y.tileID.canonical.z)*c.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;z.u_meter_to_dem=Re}if(y&&y.labelPlaneMatrixInv&&(z.u_label_plane_matrix_inv=y.labelPlaneMatrixInv),u.setTerrainUniformValues(O,z),"globe"===this.painter.transform.projection.name){const Re=this.globeUniformValues(this.painter.transform,o.tileID.canonical,y&&y.useDenormalizedUpVectorScale);u.setGlobeUniformValues(O,Re)}}globeUniformValues(o,u,y){const O=o.projection;return{u_tile_tl_up:O.upVector(u,0,0),u_tile_tr_up:O.upVector(u,c.EXTENT,0),u_tile_br_up:O.upVector(u,c.EXTENT,c.EXTENT),u_tile_bl_up:O.upVector(u,0,c.EXTENT),u_tile_up_scale:y?c.globeMetersToEcef(1):O.upVectorScale(u,o.center.lat,o.worldSize).metersToTile}}renderToBackBuffer(o){const u=this.painter,y=this.painter.context;0!==o.length&&(y.bindFramebuffer.set(null),y.viewport.set([0,0,u.width,u.height]),u.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(O,I,z,H,Y){if("globe"===O.transform.projection.name)!function(ue,de,Re,it,vt){const xt=ue.context,Mt=xt.gl;let Pt,Fe;const _t=ue.options.showTerrainWireframe?2:0,Ut=ue.transform,Gt=c.globeUseCustomAntiAliasing(ue,xt,Ut),hn=(pi,An)=>{if(Fe===pi)return;const oi=[Gr[pi],"PROJECTION_GLOBE_VIEW"];Gt&&oi.push("CUSTOM_ANTIALIASING"),An&&oi.push(Gr[_t]),Pt=ue.useProgram("globeRaster",null,oi),Fe=pi},fn=ue.colorModeForRenderPass(),mn=new c.DepthMode(Mt.LEQUAL,c.DepthMode.ReadWrite,ue.depthRangeFor3D);Ya.update(vt);const Sn=c.calculateGlobeMercatorMatrix(Ut),Mn=[c.mercatorXfromLng(Ut.center.lng),c.mercatorYfromLat(Ut.center.lat)],zn=_t?[!1,!0]:[!1],yi=ue.globeSharedBuffers,kn=[Ut.width*c.exported.devicePixelRatio,Ut.height*c.exported.devicePixelRatio],ai=Float32Array.from(Ut.globeMatrix),Vn={useDenormalizedUpVectorScale:!0};if(zn.forEach(pi=>{const An=ue.transform,oi=bs(An.zoom)*de.exaggeration();Fe=-1;const gi=pi?Mt.LINES:Mt.TRIANGLES;for(const ci of it){const vi=Re.getTile(ci),so=c.StencilMode.disabled,So=de.prevTerrainTileForTile[ci.key],Yi=de.terrainTileForTile[ci.key];ss(So,Yi)&&Ya.newMorphing(ci.key,So,Yi,vt,250),xt.activeTexture.set(Mt.TEXTURE0),vi.texture.bind(Mt.LINEAR,Mt.CLAMP_TO_EDGE);const po=Ya.getMorphValuesForProxy(ci.key),Io=po?1:0;po&&c.extend$1(Vn,{morphing:{srcDemTile:po.from,dstDemTile:po.to,phase:c.easeCubicInOut(po.phase)}});const qo=c.tileCornersToBounds(ci.canonical),eo=c.getLatitudinalLod(qo.getCenter().lat),Nr=c.getGridMatrix(ci.canonical,qo,eo,An.worldSize/An._pixelsPerMercatorPixel),Kr=c.globeNormalizeECEF(c.globeTileBounds(ci.canonical)),Hr=fa(An.projMatrix,ai,Sn,Kr,c.globeToMercatorTransition(An.zoom),Mn,An.frustumCorners.TL,An.frustumCorners.TR,An.frustumCorners.BR,An.frustumCorners.BL,An.globeCenterInViewSpace,An.globeRadius,kn,oi,Nr);if(hn(Io,pi),de.setupElevationDraw(vi,Pt,Vn),ue.prepareDrawProgram(xt,Pt,ci.toUnwrapped()),yi){const[$r,el,ba]=pi?yi.getWirefameBuffers(ue.context,eo):yi.getGridBuffers(eo,0!==oi);Pt.draw(xt,gi,mn,so,fn,c.CullFaceMode.backCCW,Hr,"globe_raster",$r,el,ba)}}}),yi){const pi=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Gt&&pi.push("CUSTOM_ANTIALIASING"),Pt=ue.useProgram("globeRaster",null,pi);for(const An of it){const{x:oi,y:gi,z:ci}=An.canonical,vi=0===gi,so=gi===(1<<ci)-1,[So,Yi,po,Io]=yi.getPoleBuffers(ci);if(Io&&(vi||so)){const qo=Re.getTile(An);xt.activeTexture.set(Mt.TEXTURE0),qo.texture.bind(Mt.LINEAR,Mt.CLAMP_TO_EDGE);let eo=c.globePoleMatrixForTile(ci,oi,Ut);const Nr=c.globeNormalizeECEF(c.globeTileBounds(An.canonical)),Kr=(Hr,$r)=>Hr.draw(xt,Mt.TRIANGLES,mn,c.StencilMode.disabled,fn,c.CullFaceMode.disabled,fa(Ut.projMatrix,eo,eo,Nr,0,Mn,Ut.frustumCorners.TL,Ut.frustumCorners.TR,Ut.frustumCorners.BR,Ut.frustumCorners.BL,Ut.globeCenterInViewSpace,Ut.globeRadius,kn,0),"globe_pole_raster",$r,po,Io);de.setupElevationDraw(qo,Pt,Vn),ue.prepareDrawProgram(xt,Pt,An.toUnwrapped()),vi&&Kr(Pt,So),so&&(eo=c.scale(c.create(),eo,[1,-1,1]),Kr(Pt,Yi))}}}}(O,I,z,H,Y);else{const ue=O.context,de=ue.gl;let Re,it;const vt=O.options.showTerrainWireframe?2:0,xt=(Ut,Gt)=>{if(it===Ut)return;const hn=[Gr[Ut]];Gt&&hn.push(Gr[vt]),Re=O.useProgram("terrainRaster",null,hn),it=Ut},Mt=O.colorModeForRenderPass(),Pt=new c.DepthMode(de.LEQUAL,c.DepthMode.ReadWrite,O.depthRangeFor3D);Ya.update(Y);const Fe=O.transform,_t=bs(Fe.zoom)*I.exaggeration();(vt?[!1,!0]:[!1]).forEach(Ut=>{it=-1;const Gt=Ut?de.LINES:de.TRIANGLES,[hn,fn]=Ut?I.getWirefameBuffer():[I.gridIndexBuffer,I.gridSegments];for(const mn of H){const Sn=z.getTile(mn),Mn=c.StencilMode.disabled,zn=I.prevTerrainTileForTile[mn.key],yi=I.terrainTileForTile[mn.key];ss(zn,yi)&&Ya.newMorphing(mn.key,zn,yi,Y,250),ue.activeTexture.set(de.TEXTURE0),Sn.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE,de.LINEAR_MIPMAP_NEAREST);const kn=Ya.getMorphValuesForProxy(mn.key),ai=kn?1:0;let Vn;kn&&(Vn={morphing:{srcDemTile:kn.from,dstDemTile:kn.to,phase:c.easeCubicInOut(kn.phase)}});const pi=Oa(mn.projMatrix,Wl(mn.canonical,Fe.renderWorldCopies)?_t/10:_t);xt(ai,Ut),I.setupElevationDraw(Sn,Re,Vn),O.prepareDrawProgram(ue,Re,mn.toUnwrapped()),Re.draw(ue,Gt,Pt,Mn,Mt,c.CullFaceMode.backCCW,pi,"terrain_raster",I.gridBuffer,hn,fn)}})}}(u,this,this.proxySourceCache,o,this._updateTimestamp),this.renderingToTexture=!0,u.gpuTimingDeferredRenderEnd(),o.splice(0,o.length))}renderBatch(o){if(0===this._drapedRenderBatches.length)return o+1;this.renderingToTexture=!0;const u=this.painter,y=this.painter.context,O=this.proxySourceCache,I=this.proxiedCoords[O.id],z=this._drapedRenderBatches.shift(),H=[],Y=u.style.order;let ue=0;for(const de of I){const Re=O.getTileByID(de.proxyTileKey),it=O.proxyCachedFBO[de.key]?O.proxyCachedFBO[de.key][o]:void 0,vt=void 0!==it?O.renderCache[it]:this.pool[ue++],xt=void 0!==it;if(Re.texture=vt.tex,xt&&!vt.dirty){H.push(Re.tileID);continue}let Mt;y.bindFramebuffer.set(vt.fb.framebuffer),this.renderedToTile=!1,vt.dirty&&(y.clear({color:c.Color.transparent,stencil:0}),vt.dirty=!1);for(let Pt=z.start;Pt<=z.end;++Pt){const Fe=u.style._layers[Y[Pt]];if(Fe.isHidden(u.transform.zoom))continue;const _t=u.style._getLayerSourceCache(Fe),Ut=_t?this.proxyToSource[de.key][_t.id]:[de];if(!Ut)continue;const Gt=Ut;y.viewport.set([0,0,vt.fb.width,vt.fb.height]),Mt!==(_t?_t.id:null)&&(this._setupStencil(vt,Ut,Fe,_t),Mt=_t?_t.id:null),u.renderLayer(u,_t,Fe,Gt)}this.renderedToTile?(vt.dirty=!0,H.push(Re.tileID)):xt||--ue,5===ue&&(ue=0,this.renderToBackBuffer(H))}return this.renderToBackBuffer(H),this.renderingToTexture=!1,y.bindFramebuffer.set(null),y.viewport.set([0,0,u.width,u.height]),z.end+1}postRender(){}renderCacheEfficiency(o){const u=o.order.length;if(0===u)return{efficiency:100};let y,O=0,I=0,z=!1;for(let H=0;H<u;++H){const Y=o._layers[o.order[H]];this._style.isLayerDraped(Y)?(z&&++O,++I):z||(z=!0,y=Y.id)}return 0===I?{efficiency:100}:{efficiency:100*(1-O/I),firstUndrapedLayer:y}}getMinElevationBelowMSL(){let o=0;return this._visibleDemTiles.filter(u=>u.dem).forEach(u=>{o=Math.min(o,u.dem.tree.minimums[0])}),0===o?o:(o-30)*this._exaggeration}raycast(o,u,y){if(!this._visibleDemTiles)return null;const O=this._visibleDemTiles.filter(I=>I.dem).map(I=>{const z=I.tileID,H=1<<z.overscaledZ,{x:Y,y:ue}=z.canonical,de=Y/H,Re=(Y+1)/H,it=ue/H,vt=(ue+1)/H;return{minx:de,miny:it,maxx:Re,maxy:vt,t:I.dem.tree.raycastRoot(de,it,Re,vt,o,u,y),tile:I}});O.sort((I,z)=>(null!==I.t?I.t:Number.MAX_VALUE)-(null!==z.t?z.t:Number.MAX_VALUE));for(const I of O){if(null==I.t)return null;const z=I.tile.dem.tree.raycast(I.minx,I.miny,I.maxx,I.maxy,o,u,y);if(null!=z)return z}return null}_createFBO(){const o=this.painter.context,u=o.gl,y=this.drapeBufferSize;o.activeTexture.set(u.TEXTURE0);const O=new c.Texture(o,{width:y[0],height:y[1],data:null},u.RGBA);O.bind(u.LINEAR,u.CLAMP_TO_EDGE);const I=o.createFramebuffer(y[0],y[1],!1);return I.colorAttachment.set(O.texture),I.depthAttachment=new lt(o,I.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=o.createRenderbuffer(o.gl.DEPTH_STENCIL,y[0],y[1]),this._stencilRef=0,I.depthAttachment.set(this._sharedDepthStencil),o.clear({stencil:0})):I.depthAttachment.set(this._sharedDepthStencil),o.extTextureFilterAnisotropic&&!o.extTextureFilterAnisotropicForceOff&&u.texParameterf(u.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax),{fb:I,tex:O,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const o in this._style._sourceCaches)if(this._style._sourceCaches[o].hasTransition())return!0;return this._style.order.some(o=>{const u=this._style._layers[o],y=u.isHidden(this.painter.transform.zoom);return"custom"===u.type?!y&&u.shouldRedrape():!y&&u.hasTransition()})}_clearLineLayersFromRenderCache(){let o=!1;for(const y of this._style._getSources())if(y instanceof Bn){o=!0;break}if(!o)return;const u={};for(let y=0;y<this._style.order.length;++y){const O=this._style._layers[this._style.order[y]],I=this._style._getLayerSourceCache(O);if(I&&!u[I.id]&&!O.isHidden(this.painter.transform.zoom)&&"line"===O.type&&O.widthExpression()instanceof c.ZoomDependentExpression){u[I.id]=!0;for(const z of this.proxyCoords){const H=this.proxyToSource[z.key][I.id];if(H)for(const Y of H)this._clearRenderCacheForTile(I.id,Y)}}}}_clearRasterLayersFromRenderCache(){let o=!1;for(const y in this._style._sourceCaches)if(this._style._sourceCaches[y]._source instanceof kt){o=!0;break}if(!o)return;const u={};for(let y=0;y<this._style.order.length;++y){const O=this._style._layers[this._style.order[y]],I=this._style._getLayerSourceCache(O);if(!I||u[I.id]||O.isHidden(this.painter.transform.zoom)||"raster"!==O.type)continue;const z=O.paint.get("raster-fade-duration");for(const H of this.proxyCoords){const Y=this.proxyToSource[H.key][I.id];if(Y)for(const ue of Y){const de=pl(I.getTile(ue),I.findLoadedParent(ue,0),I,this.painter.transform,z);(1!==de.opacity||0!==de.mix)&&this._clearRenderCacheForTile(I.id,ue)}}}}_setupDrapedRenderBatches(){const o=this._style.order,u=o.length;if(0===u)return;const y=[];let O,I=0,z=this._style._layers[o[I]];for(;!this._style.isLayerDraped(z)&&z.isHidden(this.painter.transform.zoom)&&++I<u;)z=this._style._layers[o[I]];for(;I<u;++I){const H=this._style._layers[o[I]];H.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(H)?void 0===O&&(O=I):void 0!==O&&(y.push({start:O,end:I-1}),O=void 0))}void 0!==O&&y.push({start:O,end:I-1}),this._drapedRenderBatches=y}_setupRenderCache(o){const u=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,u.renderCache.length>u.renderCachePool.length){const z=Object.values(u.proxyCachedFBO);u.proxyCachedFBO={};for(let H=0;H<z.length;++H){const Y=Object.values(z[H]);u.renderCachePool.push(...Y)}}return}this._clearRasterLayersFromRenderCache();const y=this.proxyCoords,O=this._tilesDirty;for(let z=y.length-1;z>=0;z--){const H=y[z];if(u.getTileByID(H.key),void 0!==u.proxyCachedFBO[H.key]){const Y=o[H.key],ue=this.proxyToSource[H.key];let de=0;for(const Re in ue){const it=ue[Re],vt=Y[Re];if(!vt||vt.length!==it.length||it.some((xt,Mt)=>xt!==vt[Mt]||O[Re]&&O[Re].hasOwnProperty(xt.key))){de=-1;break}++de}for(const Re in u.proxyCachedFBO[H.key])u.renderCache[u.proxyCachedFBO[H.key][Re]].dirty=de<0||de!==Object.values(Y).length}}const I=[...this._drapedRenderBatches];I.sort((z,H)=>H.end-H.start-(z.end-z.start));for(const z of I)for(const H of y){if(u.proxyCachedFBO[H.key])continue;let Y=u.renderCachePool.pop();void 0===Y&&u.renderCache.length<50&&(Y=u.renderCache.length,u.renderCache.push(this._createFBO())),void 0!==Y&&(u.proxyCachedFBO[H.key]={},u.proxyCachedFBO[H.key][z.start]=Y,u.renderCache[Y].dirty=!0)}this._tilesDirty={}}_setupStencil(o,u,y,O){if(!O||!this._sourceTilesOverlap[O.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const I=this.painter.context,z=I.gl;if(u.length<=1)return void(this._overlapStencilType=!1);let H;if(y.isTileClipped())H=u.length,this._overlapStencilMode.test={func:z.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(u[0].overscaledZ>u[u.length-1].overscaledZ))return void(this._overlapStencilType=!1);H=1,this._overlapStencilMode.test={func:z.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+H>255&&(I.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=H,this._overlapStencilMode.ref=this._stencilRef,y.isTileClipped()&&this._renderTileClippingMasks(u,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(o){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[o.key]),this._overlapStencilMode):c.StencilMode.disabled}_renderTileClippingMasks(o,u){const y=this.painter,O=this.painter.context,I=O.gl;y._tileClippingMaskIDs={},O.setColorMode(c.ColorMode.disabled),O.setDepthMode(c.DepthMode.disabled);const z=y.useProgram("clippingMask");for(const H of o){const Y=y._tileClippingMaskIDs[H.key]=--u;z.draw(O,I.TRIANGLES,c.DepthMode.disabled,new c.StencilMode({func:I.ALWAYS,mask:0},Y,255,I.KEEP,I.KEEP,I.REPLACE),c.ColorMode.disabled,c.CullFaceMode.disabled,As(H.projMatrix),"$clipping",y.tileExtentBuffer,y.quadTriangleIndexBuffer,y.tileExtentSegments)}}pointCoordinate(o){const u=this.painter.transform;if(o.x<0||o.x>u.width||o.y<0||o.y>u.height)return null;const y=[o.x,o.y,1,1];c.transformMat4$1(y,y,u.pixelMatrixInverse),c.scale$1(y,y,1/y[3]),y[0]/=u.worldSize,y[1]/=u.worldSize;const O=u._camera.position,I=c.mercatorZfromAltitude(1,u.center.lat),z=[O[0],O[1],O[2]/I,0],H=c.subtract([],y.slice(0,3),z);c.normalize(H,H);const Y=this.raycast(z,H,this._exaggeration);return null!==Y&&Y?(c.scaleAndAdd(z,z,H,Y),z[3]=z[2],z[2]*=I,z):null}drawDepth(){const o=this.painter,u=o.context,y=this.proxySourceCache,O=Math.ceil(o.width),I=Math.ceil(o.height);if(!this._depthFBO||this._depthFBO.width===O&&this._depthFBO.height===I||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const z=u.gl,H=u.createFramebuffer(O,I,!0);u.activeTexture.set(z.TEXTURE0);const Y=new c.Texture(u,{width:O,height:I,data:null},z.RGBA);Y.bind(z.NEAREST,z.CLAMP_TO_EDGE),H.colorAttachment.set(Y.texture);const ue=u.createRenderbuffer(u.gl.DEPTH_COMPONENT16,O,I);H.depthAttachment.set(ue),this._depthFBO=H,this._depthTexture=Y}u.bindFramebuffer.set(this._depthFBO.framebuffer),u.viewport.set([0,0,O,I]),function(z,H,Y,ue){if("globe"===z.transform.projection.name)return;const de=z.context,Re=de.gl;de.clear({depth:1});const it=z.useProgram("terrainDepth"),vt=new c.DepthMode(Re.LESS,c.DepthMode.ReadWrite,z.depthRangeFor3D);for(const xt of ue){const Mt=Y.getTile(xt),Pt=Oa(xt.projMatrix,0);H.setupElevationDraw(Mt,it),it.draw(de,Re.TRIANGLES,vt,c.StencilMode.disabled,c.ColorMode.unblended,c.CullFaceMode.backCCW,Pt,"terrain_depth",H.gridBuffer,H.gridIndexBuffer,H.gridNoSkirtSegments)}}(o,this,y,this.proxyCoords)}_setupProxiedCoordsForOrtho(o,u,y){if(o.getSource()instanceof ft)return this._setupProxiedCoordsForImageSource(o,u,y);this._findCoveringTileCache[o.id]=this._findCoveringTileCache[o.id]||{};const O=this.proxiedCoords[o.id]=[],I=this.proxyCoords;for(let H=0;H<I.length;H++){const Y=I[H],ue=this._findTileCoveringTileID(Y,o);if(ue){const de=this._createProxiedId(Y,ue,y[Y.key]&&y[Y.key][o.id]);O.push(de),this.proxyToSource[Y.key][o.id]=[de]}}let z=!1;for(let H=0;H<u.length;H++){const Y=o.getTile(u[H]);if(!Y||!Y.hasData())continue;const ue=this._findTileCoveringTileID(Y.tileID,this.proxySourceCache);if(ue&&ue.tileID.canonical.z!==Y.tileID.canonical.z){const de=this.proxyToSource[ue.tileID.key][o.id],Re=this._createProxiedId(ue.tileID,Y,y[ue.tileID.key]&&y[ue.tileID.key][o.id]);de?de.splice(de.length-1,0,Re):this.proxyToSource[ue.tileID.key][o.id]=[Re],O.push(Re),z=!0}}this._sourceTilesOverlap[o.id]=z}_setupProxiedCoordsForImageSource(o,u,y){if(!o.getSource().loaded())return;const O=this.proxiedCoords[o.id]=[],I=this.proxyCoords,z=o.getSource(),H=new c.Point(z.tileID.x,z.tileID.y)._div(1<<z.tileID.z),Y=z.coordinates.map(c.MercatorCoordinate.fromLngLat).reduce((de,Re)=>(de.min.x=Math.min(de.min.x,Re.x-H.x),de.min.y=Math.min(de.min.y,Re.y-H.y),de.max.x=Math.max(de.max.x,Re.x-H.x),de.max.y=Math.max(de.max.y,Re.y-H.y),de),{min:new c.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new c.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),ue=(de,Re)=>{const it=de.wrap+de.canonical.x/(1<<de.canonical.z),vt=de.canonical.y/(1<<de.canonical.z),xt=c.EXTENT/(1<<de.canonical.z),Mt=Re.wrap+Re.canonical.x/(1<<Re.canonical.z),Pt=Re.canonical.y/(1<<Re.canonical.z);return it+xt<Mt+Y.min.x||it>Mt+Y.max.x||vt+xt<Pt+Y.min.y||vt>Pt+Y.max.y};for(let de=0;de<I.length;de++){const Re=I[de];for(let it=0;it<u.length;it++){const vt=o.getTile(u[it]);if(!vt||!vt.hasData()||ue(Re,vt.tileID))continue;const xt=this._createProxiedId(Re,vt,y[Re.key]&&y[Re.key][o.id]),Mt=this.proxyToSource[Re.key][o.id];Mt?Mt.push(xt):this.proxyToSource[Re.key][o.id]=[xt],O.push(xt)}}}_createProxiedId(o,u,y){let O=this.orthoMatrix;if(y){const I=y.find(z=>z.key===u.tileID.key);if(I)return I}if(u.tileID.key!==o.key){const I=o.canonical.z-u.tileID.canonical.z;let z,H,Y;O=c.create();const ue=u.tileID.wrap-o.wrap<<o.overscaledZ;I>0?(z=c.EXTENT>>I,H=z*((u.tileID.canonical.x<<I)-o.canonical.x+ue),Y=z*((u.tileID.canonical.y<<I)-o.canonical.y)):(z=c.EXTENT<<-I,H=c.EXTENT*(u.tileID.canonical.x-(o.canonical.x+ue<<-I)),Y=c.EXTENT*(u.tileID.canonical.y-(o.canonical.y<<-I))),c.ortho(O,0,z,0,z,0,1),c.translate(O,O,[H,Y,0])}return new Fa(u.tileID,o.key,O)}_findTileCoveringTileID(o,u){let y=u.getTile(o);if(y&&y.hasData())return y;const O=this._findCoveringTileCache[u.id],I=O[o.key];if(y=I?u.getTileByID(I):null,y&&y.hasData()||null===I)return y;let z=y?y.tileID:o,H=z.overscaledZ;const Y=u.getSource().minzoom,ue=[];if(!I){const Re=u.getSource().maxzoom;if(o.canonical.z>=Re){const it=o.canonical.z-Re;u.getSource().reparseOverscaled?(H=Math.max(o.canonical.z+2,u.transform.tileZoom),z=new c.OverscaledTileID(H,o.wrap,Re,o.canonical.x>>it,o.canonical.y>>it)):0!==it&&(H=Re,z=new c.OverscaledTileID(H,o.wrap,Re,o.canonical.x>>it,o.canonical.y>>it))}z.key!==o.key&&(ue.push(z.key),y=u.getTile(z))}const de=Re=>{ue.forEach(it=>{O[it]=Re}),ue.length=0};for(H-=1;H>=Y&&(!y||!y.hasData());H--){y&&de(y.tileID.key);const Re=z.calculateScaledKey(H);if(y=u.getTileByID(Re),y&&y.hasData())break;const it=O[Re];if(null===it)break;void 0===it?ue.push(Re):y=u.getTileByID(it)}return de(y?y.tileID.key:null),y&&y.hasData()?y:null}findDEMTileFor(o){return this.enabled?this._findTileCoveringTileID(o,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(o,u){let y=this._tilesDirty[o];y||(y=this._tilesDirty[o]={}),y[u.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const o=function(u){let y=0;const O=new c.StructArrayLayout2ui4,I=131;for(let z=1;z<129;z++){for(let H=1;H<129;H++)y=z*I+H,O.emplaceBack(y,y+1),O.emplaceBack(y,y+I),O.emplaceBack(y+1,y+I),128===z&&O.emplaceBack(y+I,y+I+1);O.emplaceBack(y+1,y+1+I)}return O}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(o),this.wireframeSegments=c.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,o.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class nr{static cacheKey(o,u,y,O){let I=`${u}${O?O.cacheKey:""}`;for(const z of y)o.usedDefines.includes(z)&&(I+=`/${z}`);return I}constructor(o,u,y,O,I,z){const H=o.gl;this.program=H.createProgram();const Y=function(Fe){const _t=[];for(let Ut=0;Ut<Fe.length;Ut++){if(null===Fe[Ut])continue;const Gt=Fe[Ut].split(" ");_t.push(Gt.pop())}return _t}(y.staticAttributes),ue=O?O.getBinderAttributes():[],de=Y.concat(ue);let Re=O?O.defines():[];Re=Re.concat(z.map(Fe=>`#define ${Fe}`));const it=o.isWebGL2?"#version 300 es\n":"",vt=it+Re.concat(o.extStandardDerivatives&&0===it.length?"#extension GL_OES_standard_derivatives : enable\n".concat(La):La,La,Ml,Zl.fragmentSource,na.fragmentSource,y.fragmentSource).join("\n"),xt=it+Re.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",Ml,Zl.vertexSource,na.vertexSource,ul.vertexSource,y.vertexSource).join("\n"),Mt=H.createShader(H.FRAGMENT_SHADER);if(H.isContextLost())return void(this.failedToCreate=!0);H.shaderSource(Mt,vt),H.compileShader(Mt),H.attachShader(this.program,Mt);const Pt=H.createShader(H.VERTEX_SHADER);if(H.isContextLost())this.failedToCreate=!0;else{H.shaderSource(Pt,xt),H.compileShader(Pt),H.attachShader(this.program,Pt),this.attributes={},this.numAttributes=de.length;for(let Fe=0;Fe<this.numAttributes;Fe++)de[Fe]&&(H.bindAttribLocation(this.program,Fe,de[Fe]),this.attributes[de[Fe]]=Fe);H.linkProgram(this.program),H.deleteShader(Pt),H.deleteShader(Mt),this.fixedUniforms=I(o),this.binderUniforms=O?O.getUniforms(o):[],z.includes("TERRAIN")&&(this.terrainUniforms={u_dem:new c.Uniform1i(Fe=o),u_dem_prev:new c.Uniform1i(Fe),u_dem_unpack:new c.Uniform4f(Fe),u_dem_tl:new c.Uniform2f(Fe),u_dem_scale:new c.Uniform1f(Fe),u_dem_tl_prev:new c.Uniform2f(Fe),u_dem_scale_prev:new c.Uniform1f(Fe),u_dem_size:new c.Uniform1f(Fe),u_dem_lerp:new c.Uniform1f(Fe),u_exaggeration:new c.Uniform1f(Fe),u_depth:new c.Uniform1i(Fe),u_depth_size_inv:new c.Uniform2f(Fe),u_meter_to_dem:new c.Uniform1f(Fe),u_label_plane_matrix_inv:new c.UniformMatrix4f(Fe)}),z.includes("GLOBE")&&(this.globeUniforms=(Fe=>({u_tile_tl_up:new c.Uniform3f(Fe),u_tile_tr_up:new c.Uniform3f(Fe),u_tile_br_up:new c.Uniform3f(Fe),u_tile_bl_up:new c.Uniform3f(Fe),u_tile_up_scale:new c.Uniform1f(Fe)}))(o)),z.includes("FOG")&&(this.fogUniforms=(Fe=>({u_fog_matrix:new c.UniformMatrix4f(Fe),u_fog_range:new c.Uniform2f(Fe),u_fog_color:new c.Uniform4f(Fe),u_fog_horizon_blend:new c.Uniform1f(Fe),u_fog_temporal_offset:new c.Uniform1f(Fe),u_frustum_tl:new c.Uniform3f(Fe),u_frustum_tr:new c.Uniform3f(Fe),u_frustum_br:new c.Uniform3f(Fe),u_frustum_bl:new c.Uniform3f(Fe),u_globe_pos:new c.Uniform3f(Fe),u_globe_radius:new c.Uniform1f(Fe),u_globe_transition:new c.Uniform1f(Fe),u_is_globe:new c.Uniform1i(Fe),u_viewport:new c.Uniform2f(Fe)}))(o))}var Fe}setTerrainUniformValues(o,u){if(!this.terrainUniforms)return;const y=this.terrainUniforms;if(!this.failedToCreate){o.program.set(this.program);for(const O in u)y[O]&&y[O].set(this.program,O,u[O])}}setGlobeUniformValues(o,u){if(!this.globeUniforms)return;const y=this.globeUniforms;if(!this.failedToCreate){o.program.set(this.program);for(const O in u)y[O]&&y[O].set(this.program,O,u[O])}}setFogUniformValues(o,u){if(!this.fogUniforms)return;const y=this.fogUniforms;if(!this.failedToCreate){o.program.set(this.program);for(const O in u)y[O].set(this.program,O,u[O])}}draw(o,u,y,O,I,z,H,Y,ue,de,Re,it,vt,xt,Mt){const Pt=o.gl;if(this.failedToCreate)return;o.program.set(this.program),o.setDepthMode(y),o.setStencilMode(O),o.setColorMode(I),o.setCullFace(z);for(const _t of Object.keys(this.fixedUniforms))this.fixedUniforms[_t].set(this.program,_t,H[_t]);xt&&xt.setUniforms(this.program,o,this.binderUniforms,it,{zoom:vt});const Fe={[Pt.LINES]:2,[Pt.TRIANGLES]:3,[Pt.LINE_STRIP]:1}[u];for(const _t of Re.get()){const Ut=_t.vaos||(_t.vaos={});(Ut[Y]||(Ut[Y]=new Oo)).bind(o,this,ue,xt?xt.getPaintVertexBuffers():[],de,_t.vertexOffset,Mt||[]),Pt.drawElements(u,_t.primitiveLength*Fe,Pt.UNSIGNED_SHORT,_t.primitiveOffset*Fe*2)}}}function gc(f,o){const u=Math.pow(2,o.tileID.overscaledZ),y=o.tileSize*Math.pow(2,f.transform.tileZoom)/u,O=y*(o.tileID.canonical.x+o.tileID.wrap*u),I=y*o.tileID.canonical.y;return{u_image:0,u_texsize:o.imageAtlasTexture.size,u_tile_units_to_pixels:1/an(o,1,f.transform.tileZoom),u_pixel_coord_upper:[O>>16,I>>16],u_pixel_coord_lower:[65535&O,65535&I]}}const Vc=c.create(),ad=(f,o,u,y,O,I,z,H,Y,ue,de)=>{const Re=o.style.light,it=Re.properties.get("position"),vt=[it.x,it.y,it.z],xt=c.create$1();"viewport"===Re.properties.get("anchor")&&(c.fromRotation(xt,-o.transform.angle),c.transformMat3(vt,vt,xt));const Mt=Re.properties.get("color"),Pt=o.transform,Fe={u_matrix:f,u_lightpos:vt,u_lightintensity:Re.properties.get("intensity"),u_lightcolor:[Mt.r,Mt.g,Mt.b],u_vertical_gradient:+u,u_opacity:y,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Vc,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:O,u_edge_radius:I};return"globe"===Pt.projection.name&&(Fe.u_tile_id=[z.canonical.x,z.canonical.y,1<<z.canonical.z],Fe.u_zoom_transition=Y,Fe.u_inv_rot_matrix=de,Fe.u_merc_center=ue,Fe.u_up_dir=Pt.projection.upVector(new c.CanonicalTileID(0,0,0),ue[0]*c.EXTENT,ue[1]*c.EXTENT),Fe.u_height_lift=H),Fe},tu=(f,o,u,y,O,I,z,H,Y,ue,de,Re)=>{const it=ad(f,o,u,y,O,I,z,Y,ue,de,Re),vt={u_height_factor:-Math.pow(2,z.overscaledZ)/H.tileSize/8};return c.extend(it,gc(o,H),vt)},fc=f=>({u_matrix:f}),as=(f,o,u)=>c.extend(fc(f),gc(o,u)),nu=(f,o)=>({u_matrix:f,u_world:o}),Dd=(f,o,u,y)=>c.extend(as(f,o,u),{u_world:y}),Ne=c.create(),je=(f,o,u,y,O,I)=>{const z=f.transform,H="globe"===z.projection.name;let Y;if("map"===I.paint.get("circle-pitch-alignment"))if(H){const de=c.globePixelsToTileUnits(z.zoom,o.canonical)*z._pixelsPerMercatorPixel;Y=Float32Array.from([de,0,0,de])}else Y=z.calculatePixelsToTileUnitsMatrix(u);else Y=new Float32Array([z.pixelsToGLUnits[0],0,0,z.pixelsToGLUnits[1]]);const ue={u_camera_to_center_distance:z.cameraToCenterDistance,u_matrix:f.translatePosMatrix(o.projMatrix,u,I.paint.get("circle-translate"),I.paint.get("circle-translate-anchor")),u_device_pixel_ratio:c.exported.devicePixelRatio,u_extrude_scale:Y,u_inv_rot_matrix:Ne,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(H){ue.u_inv_rot_matrix=y,ue.u_merc_center=O,ue.u_tile_id=[o.canonical.x,o.canonical.y,1<<o.canonical.z],ue.u_zoom_transition=c.globeToMercatorTransition(z.zoom);const de=O[0]*c.EXTENT,Re=O[1]*c.EXTENT;ue.u_up_dir=z.projection.upVector(new c.CanonicalTileID(0,0,0),de,Re)}return ue},ye=f=>{const o=[];return"map"===f.paint.get("circle-pitch-alignment")&&o.push("PITCH_WITH_MAP"),"map"===f.paint.get("circle-pitch-scale")&&o.push("SCALE_WITH_MAP"),o},mt=(f,o,u,y)=>{const O=c.EXTENT/u.tileSize;return{u_matrix:f,u_camera_to_center_distance:o.getCameraToCenterDistance(y),u_extrude_scale:[o.pixelsToGLUnits[0]/O,o.pixelsToGLUnits[1]/O]}},vn=(f,o,u=1)=>({u_matrix:f,u_color:o,u_overlay:0,u_overlay_scale:u}),ao=c.create(),Po=(f,o,u,y,O,I,z)=>{const H=f.transform,Y="globe"===H.projection.name,ue=Y?c.globePixelsToTileUnits(H.zoom,o.canonical)*H._pixelsPerMercatorPixel:an(u,1,I),de={u_matrix:o.projMatrix,u_extrude_scale:ue,u_intensity:z,u_inv_rot_matrix:ao,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(Y){de.u_inv_rot_matrix=y,de.u_merc_center=O,de.u_tile_id=[o.canonical.x,o.canonical.y,1<<o.canonical.z],de.u_zoom_transition=c.globeToMercatorTransition(H.zoom);const Re=O[0]*c.EXTENT,it=O[1]*c.EXTENT;de.u_up_dir=H.projection.upVector(new c.CanonicalTileID(0,0,0),Re,it)}return de},Dr=(f,o,u,y,O,I,z)=>{const H=f.transform,Y=H.calculatePixelsToTileUnitsMatrix(o);return{u_matrix:Yl(f,o,u,y),u_pixels_to_tile_units:Y,u_device_pixel_ratio:I,u_units_to_pixels:[1/H.pixelsToGLUnits[0],1/H.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:O,u_texsize:Ys(u)?o.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Ba(o,f.transform),u_alpha_discard_threshold:0,u_trim_offset:z}},_o=(f,o,u,y,O)=>{const I=f.transform;return{u_matrix:Yl(f,o,u,y),u_texsize:o.imageAtlasTexture.size,u_pixels_to_tile_units:I.calculatePixelsToTileUnitsMatrix(o),u_device_pixel_ratio:O,u_image:0,u_tile_units_to_pixels:Ba(o,I),u_units_to_pixels:[1/I.pixelsToGLUnits[0],1/I.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Ba(f,o){return 1/an(f,1,o.tileZoom)}function Yl(f,o,u,y){return f.translatePosMatrix(y||o.tileID.projMatrix,o,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}function Ys(f){const o=f.paint.get("line-dasharray").value;return o.value||"constant"!==o.kind}const _a=(f,o,u,y,O,I)=>{return{u_matrix:f,u_tl_parent:o,u_scale_parent:u,u_fade_t:y.mix,u_opacity:y.opacity*O.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:O.paint.get("raster-brightness-min"),u_brightness_high:O.paint.get("raster-brightness-max"),u_saturation_factor:(H=O.paint.get("raster-saturation"),H>0?1-1/(1.001-H):-H),u_contrast_factor:(z=O.paint.get("raster-contrast"),z>0?1/(1-z):1+z),u_spin_weights:Er(O.paint.get("raster-hue-rotate")),u_perspective_transform:I};var z,H};function Er(f){f*=Math.PI/180;const o=Math.sin(f),u=Math.cos(f);return[(2*u+1)/3,(-Math.sqrt(3)*o-u+1)/3,(Math.sqrt(3)*o-u+1)/3]}const Ll=c.create(),ns=(f,o,u,y,O,I,z,H,Y,ue,de,Re,it,vt,xt,Mt)=>{const Pt=O.transform,Fe={u_is_size_zoom_constant:+("constant"===f||"source"===f),u_is_size_feature_constant:+("constant"===f||"camera"===f),u_size_t:o?o.uSizeT:0,u_size:o?o.uSize:0,u_camera_to_center_distance:Pt.cameraToCenterDistance,u_rotate_symbol:+u,u_aspect_ratio:Pt.width/Pt.height,u_fade_change:O.options.fadeDuration?O.symbolFadeChange:1,u_matrix:I,u_label_plane_matrix:z,u_coord_matrix:H,u_is_text:+Y,u_pitch_with_map:+y,u_texsize:ue,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Ll,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Ll,u_up_vector:[0,-1,0]};return"globe"===Mt.name&&(Fe.u_tile_id=[de.canonical.x,de.canonical.y,1<<de.canonical.z],Fe.u_zoom_transition=Re,Fe.u_inv_rot_matrix=vt,Fe.u_merc_center=it,Fe.u_camera_forward=Pt._camera.forward(),Fe.u_ecef_origin=c.globeECEFOrigin(Pt.globeMatrix,de.toUnwrapped()),Fe.u_tile_matrix=Float32Array.from(Pt.globeMatrix),Fe.u_up_vector=xt),Fe},Ja=(f,o,u,y,O,I,z,H,Y,ue,de,Re,it,vt,xt,Mt,Pt)=>c.extend(ns(f,o,u,y,O,I,z,H,Y,ue,Re,it,vt,xt,Mt,Pt),{u_gamma_scale:y?O.transform.cameraToCenterDistance*Math.cos(O.terrain?0:O.transform._pitch):1,u_device_pixel_ratio:c.exported.devicePixelRatio,u_is_halo:+de}),ya=(f,o,u,y,O,I,z,H,Y,ue,de,Re,it,vt,xt,Mt)=>c.extend(Ja(f,o,u,y,O,I,z,H,!0,Y,!0,de,Re,it,vt,xt,Mt),{u_texsize_icon:ue,u_texture_icon:1}),mc=(f,o,u)=>({u_matrix:f,u_opacity:o,u_color:u}),iu=(f,o,u,y,O)=>c.extend(function(I,z,H){const Y=z.imageManager.getPattern(I.toString()),{width:ue,height:de}=z.imageManager.getPixelSize(),Re=Math.pow(2,H.tileID.overscaledZ),it=H.tileSize*Math.pow(2,z.transform.tileZoom)/Re,vt=it*(H.tileID.canonical.x+H.tileID.wrap*Re),xt=it*H.tileID.canonical.y;return{u_image:0,u_pattern_tl:Y.tl,u_pattern_br:Y.br,u_texsize:[ue,de],u_pattern_size:Y.displaySize,u_tile_units_to_pixels:1/an(H,1,z.transform.tileZoom),u_pixel_coord_upper:[vt>>16,xt>>16],u_pixel_coord_lower:[65535&vt,65535&xt]}}(y,u,O),{u_matrix:f,u_opacity:o}),_c={fillExtrusion:f=>({u_matrix:new c.UniformMatrix4f(f),u_lightpos:new c.Uniform3f(f),u_lightintensity:new c.Uniform1f(f),u_lightcolor:new c.Uniform3f(f),u_vertical_gradient:new c.Uniform1f(f),u_opacity:new c.Uniform1f(f),u_edge_radius:new c.Uniform1f(f),u_ao:new c.Uniform2f(f),u_tile_id:new c.Uniform3f(f),u_zoom_transition:new c.Uniform1f(f),u_inv_rot_matrix:new c.UniformMatrix4f(f),u_merc_center:new c.Uniform2f(f),u_up_dir:new c.Uniform3f(f),u_height_lift:new c.Uniform1f(f)}),fillExtrusionPattern:f=>({u_matrix:new c.UniformMatrix4f(f),u_lightpos:new c.Uniform3f(f),u_lightintensity:new c.Uniform1f(f),u_lightcolor:new c.Uniform3f(f),u_vertical_gradient:new c.Uniform1f(f),u_height_factor:new c.Uniform1f(f),u_edge_radius:new c.Uniform1f(f),u_ao:new c.Uniform2f(f),u_tile_id:new c.Uniform3f(f),u_zoom_transition:new c.Uniform1f(f),u_inv_rot_matrix:new c.UniformMatrix4f(f),u_merc_center:new c.Uniform2f(f),u_up_dir:new c.Uniform3f(f),u_height_lift:new c.Uniform1f(f),u_image:new c.Uniform1i(f),u_texsize:new c.Uniform2f(f),u_pixel_coord_upper:new c.Uniform2f(f),u_pixel_coord_lower:new c.Uniform2f(f),u_tile_units_to_pixels:new c.Uniform1f(f),u_opacity:new c.Uniform1f(f)}),fill:f=>({u_matrix:new c.UniformMatrix4f(f)}),fillPattern:f=>({u_matrix:new c.UniformMatrix4f(f),u_image:new c.Uniform1i(f),u_texsize:new c.Uniform2f(f),u_pixel_coord_upper:new c.Uniform2f(f),u_pixel_coord_lower:new c.Uniform2f(f),u_tile_units_to_pixels:new c.Uniform1f(f)}),fillOutline:f=>({u_matrix:new c.UniformMatrix4f(f),u_world:new c.Uniform2f(f)}),fillOutlinePattern:f=>({u_matrix:new c.UniformMatrix4f(f),u_world:new c.Uniform2f(f),u_image:new c.Uniform1i(f),u_texsize:new c.Uniform2f(f),u_pixel_coord_upper:new c.Uniform2f(f),u_pixel_coord_lower:new c.Uniform2f(f),u_tile_units_to_pixels:new c.Uniform1f(f)}),circle:f=>({u_camera_to_center_distance:new c.Uniform1f(f),u_extrude_scale:new c.UniformMatrix2f(f),u_device_pixel_ratio:new c.Uniform1f(f),u_matrix:new c.UniformMatrix4f(f),u_inv_rot_matrix:new c.UniformMatrix4f(f),u_merc_center:new c.Uniform2f(f),u_tile_id:new c.Uniform3f(f),u_zoom_transition:new c.Uniform1f(f),u_up_dir:new c.Uniform3f(f)}),collisionBox:f=>({u_matrix:new c.UniformMatrix4f(f),u_camera_to_center_distance:new c.Uniform1f(f),u_extrude_scale:new c.Uniform2f(f)}),collisionCircle:f=>({u_matrix:new c.UniformMatrix4f(f),u_inv_matrix:new c.UniformMatrix4f(f),u_camera_to_center_distance:new c.Uniform1f(f),u_viewport_size:new c.Uniform2f(f)}),debug:f=>({u_color:new c.UniformColor(f),u_matrix:new c.UniformMatrix4f(f),u_overlay:new c.Uniform1i(f),u_overlay_scale:new c.Uniform1f(f)}),clippingMask:f=>({u_matrix:new c.UniformMatrix4f(f)}),heatmap:f=>({u_extrude_scale:new c.Uniform1f(f),u_intensity:new c.Uniform1f(f),u_matrix:new c.UniformMatrix4f(f),u_inv_rot_matrix:new c.UniformMatrix4f(f),u_merc_center:new c.Uniform2f(f),u_tile_id:new c.Uniform3f(f),u_zoom_transition:new c.Uniform1f(f),u_up_dir:new c.Uniform3f(f)}),heatmapTexture:f=>({u_image:new c.Uniform1i(f),u_color_ramp:new c.Uniform1i(f),u_opacity:new c.Uniform1f(f)}),hillshade:f=>({u_matrix:new c.UniformMatrix4f(f),u_image:new c.Uniform1i(f),u_latrange:new c.Uniform2f(f),u_light:new c.Uniform2f(f),u_shadow:new c.UniformColor(f),u_highlight:new c.UniformColor(f),u_accent:new c.UniformColor(f)}),hillshadePrepare:f=>({u_matrix:new c.UniformMatrix4f(f),u_image:new c.Uniform1i(f),u_dimension:new c.Uniform2f(f),u_zoom:new c.Uniform1f(f),u_unpack:new c.Uniform4f(f)}),line:f=>({u_matrix:new c.UniformMatrix4f(f),u_pixels_to_tile_units:new c.UniformMatrix2f(f),u_device_pixel_ratio:new c.Uniform1f(f),u_units_to_pixels:new c.Uniform2f(f),u_dash_image:new c.Uniform1i(f),u_gradient_image:new c.Uniform1i(f),u_image_height:new c.Uniform1f(f),u_texsize:new c.Uniform2f(f),u_tile_units_to_pixels:new c.Uniform1f(f),u_alpha_discard_threshold:new c.Uniform1f(f),u_trim_offset:new c.Uniform2f(f)}),linePattern:f=>({u_matrix:new c.UniformMatrix4f(f),u_texsize:new c.Uniform2f(f),u_pixels_to_tile_units:new c.UniformMatrix2f(f),u_device_pixel_ratio:new c.Uniform1f(f),u_image:new c.Uniform1i(f),u_units_to_pixels:new c.Uniform2f(f),u_tile_units_to_pixels:new c.Uniform1f(f),u_alpha_discard_threshold:new c.Uniform1f(f)}),raster:f=>({u_matrix:new c.UniformMatrix4f(f),u_tl_parent:new c.Uniform2f(f),u_scale_parent:new c.Uniform1f(f),u_fade_t:new c.Uniform1f(f),u_opacity:new c.Uniform1f(f),u_image0:new c.Uniform1i(f),u_image1:new c.Uniform1i(f),u_brightness_low:new c.Uniform1f(f),u_brightness_high:new c.Uniform1f(f),u_saturation_factor:new c.Uniform1f(f),u_contrast_factor:new c.Uniform1f(f),u_spin_weights:new c.Uniform3f(f),u_perspective_transform:new c.Uniform2f(f)}),symbolIcon:f=>({u_is_size_zoom_constant:new c.Uniform1i(f),u_is_size_feature_constant:new c.Uniform1i(f),u_size_t:new c.Uniform1f(f),u_size:new c.Uniform1f(f),u_camera_to_center_distance:new c.Uniform1f(f),u_rotate_symbol:new c.Uniform1i(f),u_aspect_ratio:new c.Uniform1f(f),u_fade_change:new c.Uniform1f(f),u_matrix:new c.UniformMatrix4f(f),u_label_plane_matrix:new c.UniformMatrix4f(f),u_coord_matrix:new c.UniformMatrix4f(f),u_is_text:new c.Uniform1i(f),u_pitch_with_map:new c.Uniform1i(f),u_texsize:new c.Uniform2f(f),u_tile_id:new c.Uniform3f(f),u_zoom_transition:new c.Uniform1f(f),u_inv_rot_matrix:new c.UniformMatrix4f(f),u_merc_center:new c.Uniform2f(f),u_camera_forward:new c.Uniform3f(f),u_tile_matrix:new c.UniformMatrix4f(f),u_up_vector:new c.Uniform3f(f),u_ecef_origin:new c.Uniform3f(f),u_texture:new c.Uniform1i(f)}),symbolSDF:f=>({u_is_size_zoom_constant:new c.Uniform1i(f),u_is_size_feature_constant:new c.Uniform1i(f),u_size_t:new c.Uniform1f(f),u_size:new c.Uniform1f(f),u_camera_to_center_distance:new c.Uniform1f(f),u_rotate_symbol:new c.Uniform1i(f),u_aspect_ratio:new c.Uniform1f(f),u_fade_change:new c.Uniform1f(f),u_matrix:new c.UniformMatrix4f(f),u_label_plane_matrix:new c.UniformMatrix4f(f),u_coord_matrix:new c.UniformMatrix4f(f),u_is_text:new c.Uniform1i(f),u_pitch_with_map:new c.Uniform1i(f),u_texsize:new c.Uniform2f(f),u_texture:new c.Uniform1i(f),u_gamma_scale:new c.Uniform1f(f),u_device_pixel_ratio:new c.Uniform1f(f),u_tile_id:new c.Uniform3f(f),u_zoom_transition:new c.Uniform1f(f),u_inv_rot_matrix:new c.UniformMatrix4f(f),u_merc_center:new c.Uniform2f(f),u_camera_forward:new c.Uniform3f(f),u_tile_matrix:new c.UniformMatrix4f(f),u_up_vector:new c.Uniform3f(f),u_ecef_origin:new c.Uniform3f(f),u_is_halo:new c.Uniform1i(f)}),symbolTextAndIcon:f=>({u_is_size_zoom_constant:new c.Uniform1i(f),u_is_size_feature_constant:new c.Uniform1i(f),u_size_t:new c.Uniform1f(f),u_size:new c.Uniform1f(f),u_camera_to_center_distance:new c.Uniform1f(f),u_rotate_symbol:new c.Uniform1i(f),u_aspect_ratio:new c.Uniform1f(f),u_fade_change:new c.Uniform1f(f),u_matrix:new c.UniformMatrix4f(f),u_label_plane_matrix:new c.UniformMatrix4f(f),u_coord_matrix:new c.UniformMatrix4f(f),u_is_text:new c.Uniform1i(f),u_pitch_with_map:new c.Uniform1i(f),u_texsize:new c.Uniform2f(f),u_texsize_icon:new c.Uniform2f(f),u_texture:new c.Uniform1i(f),u_texture_icon:new c.Uniform1i(f),u_gamma_scale:new c.Uniform1f(f),u_device_pixel_ratio:new c.Uniform1f(f),u_is_halo:new c.Uniform1i(f)}),background:f=>({u_matrix:new c.UniformMatrix4f(f),u_opacity:new c.Uniform1f(f),u_color:new c.UniformColor(f)}),backgroundPattern:f=>({u_matrix:new c.UniformMatrix4f(f),u_opacity:new c.Uniform1f(f),u_image:new c.Uniform1i(f),u_pattern_tl:new c.Uniform2f(f),u_pattern_br:new c.Uniform2f(f),u_texsize:new c.Uniform2f(f),u_pattern_size:new c.Uniform2f(f),u_pixel_coord_upper:new c.Uniform2f(f),u_pixel_coord_lower:new c.Uniform2f(f),u_tile_units_to_pixels:new c.Uniform1f(f)}),terrainRaster:Na,terrainDepth:Na,skybox:f=>({u_matrix:new c.UniformMatrix4f(f),u_sun_direction:new c.Uniform3f(f),u_cubemap:new c.Uniform1i(f),u_opacity:new c.Uniform1f(f),u_temporal_offset:new c.Uniform1f(f)}),skyboxGradient:f=>({u_matrix:new c.UniformMatrix4f(f),u_color_ramp:new c.Uniform1i(f),u_center_direction:new c.Uniform3f(f),u_radius:new c.Uniform1f(f),u_opacity:new c.Uniform1f(f),u_temporal_offset:new c.Uniform1f(f)}),skyboxCapture:f=>({u_matrix_3f:new c.UniformMatrix3f(f),u_sun_direction:new c.Uniform3f(f),u_sun_intensity:new c.Uniform1f(f),u_color_tint_r:new c.Uniform4f(f),u_color_tint_m:new c.Uniform4f(f),u_luminance:new c.Uniform1f(f)}),globeRaster:f=>({u_proj_matrix:new c.UniformMatrix4f(f),u_globe_matrix:new c.UniformMatrix4f(f),u_normalize_matrix:new c.UniformMatrix4f(f),u_merc_matrix:new c.UniformMatrix4f(f),u_zoom_transition:new c.Uniform1f(f),u_merc_center:new c.Uniform2f(f),u_image0:new c.Uniform1i(f),u_grid_matrix:new c.UniformMatrix3f(f),u_skirt_height:new c.Uniform1f(f),u_frustum_tl:new c.Uniform3f(f),u_frustum_tr:new c.Uniform3f(f),u_frustum_br:new c.Uniform3f(f),u_frustum_bl:new c.Uniform3f(f),u_globe_pos:new c.Uniform3f(f),u_globe_radius:new c.Uniform1f(f),u_viewport:new c.Uniform2f(f)}),globeAtmosphere:f=>({u_frustum_tl:new c.Uniform3f(f),u_frustum_tr:new c.Uniform3f(f),u_frustum_br:new c.Uniform3f(f),u_frustum_bl:new c.Uniform3f(f),u_horizon:new c.Uniform1f(f),u_transition:new c.Uniform1f(f),u_fadeout_range:new c.Uniform1f(f),u_color:new c.Uniform4f(f),u_high_color:new c.Uniform4f(f),u_space_color:new c.Uniform4f(f),u_star_intensity:new c.Uniform1f(f),u_star_density:new c.Uniform1f(f),u_star_size:new c.Uniform1f(f),u_temporal_offset:new c.Uniform1f(f),u_horizon_angle:new c.Uniform1f(f),u_rotation_matrix:new c.UniformMatrix4f(f)})};let ql;function Bs(f,o,u,y,O,I,z){const H=f.context,Y=H.gl,ue=f.transform,de=f.useProgram("collisionBox"),Re=[];let it=0,vt=0;for(let Gt=0;Gt<y.length;Gt++){const hn=y[Gt],fn=o.getTile(hn),mn=fn.getBucket(u);if(!mn)continue;const Sn=ki(hn,mn,ue);let Mn=Sn;0===O[0]&&0===O[1]||(Mn=f.translatePosMatrix(Sn,fn,O,I));const zn=z?mn.textCollisionBox:mn.iconCollisionBox,yi=mn.collisionCircleArray;if(yi.length>0){const kn=c.create(),ai=Mn;c.mul(kn,mn.placementInvProjMatrix,ue.glCoordMatrix),c.mul(kn,kn,mn.placementViewportMatrix),Re.push({circleArray:yi,circleOffset:vt,transform:ai,invTransform:kn,projection:mn.getProjection()}),it+=yi.length/4,vt=it}zn&&(f.terrain&&f.terrain.setupElevationDraw(fn,de),de.draw(H,Y.LINES,c.DepthMode.disabled,c.StencilMode.disabled,f.colorModeForRenderPass(),c.CullFaceMode.disabled,mt(Mn,ue,fn,mn.getProjection()),u.id,zn.layoutVertexBuffer,zn.indexBuffer,zn.segments,null,ue.zoom,null,[zn.collisionVertexBuffer,zn.collisionVertexBufferExt]))}if(!z||!Re.length)return;const xt=f.useProgram("collisionCircle"),Mt=new c.StructArrayLayout2f1f2i16;Mt.resize(4*it),Mt._trim();let Pt=0;for(const Gt of Re)for(let hn=0;hn<Gt.circleArray.length/4;hn++){const fn=4*hn,mn=Gt.circleArray[fn+0],Sn=Gt.circleArray[fn+1],Mn=Gt.circleArray[fn+2],zn=Gt.circleArray[fn+3];Mt.emplace(Pt++,mn,Sn,Mn,zn,0),Mt.emplace(Pt++,mn,Sn,Mn,zn,1),Mt.emplace(Pt++,mn,Sn,Mn,zn,2),Mt.emplace(Pt++,mn,Sn,Mn,zn,3)}(!ql||ql.length<2*it)&&(ql=function(Gt){const hn=2*Gt,fn=new c.StructArrayLayout3ui6;fn.resize(hn),fn._trim();for(let mn=0;mn<hn;mn++){const Sn=6*mn;fn.uint16[Sn+0]=4*mn+0,fn.uint16[Sn+1]=4*mn+1,fn.uint16[Sn+2]=4*mn+2,fn.uint16[Sn+3]=4*mn+2,fn.uint16[Sn+4]=4*mn+3,fn.uint16[Sn+5]=4*mn+0}return fn}(it));const Fe=H.createIndexBuffer(ql,!0),_t=H.createVertexBuffer(Mt,c.collisionCircleLayout.members,!0);for(const Gt of Re){const hn={u_matrix:Gt.transform,u_inv_matrix:Gt.invTransform,u_camera_to_center_distance:(Ut=ue).getCameraToCenterDistance(Gt.projection),u_viewport_size:[Ut.width,Ut.height]};xt.draw(H,Y.TRIANGLES,c.DepthMode.disabled,c.StencilMode.disabled,f.colorModeForRenderPass(),c.CullFaceMode.disabled,hn,u.id,_t,Fe,c.SegmentVector.simpleSegment(0,2*Gt.circleOffset,Gt.circleArray.length,Gt.circleArray.length/2),null,ue.zoom)}var Ut;_t.destroy(),Fe.destroy()}const Ic=c.create();function Gc({width:f,height:o,anchor:u,textOffset:y,textScale:O},I){const{horizontalAlign:z,verticalAlign:H}=c.getAnchorAlignment(u),Y=-(z-.5)*f,ue=-(H-.5)*o,de=c.evaluateVariableOffset(u,y);return new c.Point((Y/O+de[0])*I,(ue/O+de[1])*I)}function Ed(f,o,u,y,O,I,z,H,Y,ue,de){const Re=f.text.placedSymbolArray,it=f.text.dynamicLayoutVertexArray,vt=f.icon.dynamicLayoutVertexArray,xt={},Mt=f.getProjection(),Pt=Ri(H,Mt,I),Fe=I.elevation,_t=Mt.upVectorScale(H.canonical,I.center.lat,I.worldSize).metersToTile;it.clear();for(let Ut=0;Ut<Re.length;Ut++){const Gt=Re.get(Ut),{tileAnchorX:hn,tileAnchorY:fn,numGlyphs:mn}=Gt,Sn=Gt.hidden||!Gt.crossTileID||f.allowVerticalPlacement&&!Gt.placedOrientation?null:y[Gt.crossTileID];if(Sn){let Mn=0,zn=0,yi=0;if(Fe){const vi=Fe?Fe.getAtTileOffset(H,hn,fn):0,[so,So,Yi]=Mt.upVector(H.canonical,hn,fn);Mn=vi*so*_t,zn=vi*So*_t,yi=vi*Yi*_t}let[kn,ai,Vn,pi]=Eo(Gt.projectedAnchorX+Mn,Gt.projectedAnchorY+zn,Gt.projectedAnchorZ+yi,u?Pt:z);const An=kr(I.getCameraToCenterDistance(Mt),pi);let oi=O.evaluateSizeForFeature(f.textSizeData,ue,Gt)*An/c.ONE_EM;u&&(oi*=f.tilePixelRatio/Y);const gi=Gc(Sn,oi);u?(({x:kn,y:ai,z:Vn}=Mt.projectTilePoint(hn+gi.x,fn+gi.y,H.canonical)),[kn,ai,Vn]=Eo(kn+Mn,ai+zn,Vn+yi,z)):(o&&gi._rotate(-I.angle),kn+=gi.x,ai+=gi.y,Vn=0);const ci=f.allowVerticalPlacement&&Gt.placedOrientation===c.WritingMode.vertical?Math.PI/2:0;for(let vi=0;vi<mn;vi++)c.addDynamicAttributes(it,kn,ai,Vn,ci);de&&Gt.associatedIconIndex>=0&&(xt[Gt.associatedIconIndex]={x:kn,y:ai,z:Vn,angle:ci})}else Tt(mn,it)}if(de){vt.clear();const Ut=f.icon.placedSymbolArray;for(let Gt=0;Gt<Ut.length;Gt++){const hn=Ut.get(Gt),{numGlyphs:fn}=hn,mn=xt[Gt];if(hn.hidden||!mn)Tt(fn,vt);else{const{x:Sn,y:Mn,z:zn,angle:yi}=mn;for(let kn=0;kn<fn;kn++)c.addDynamicAttributes(vt,Sn,Mn,zn,yi)}}f.icon.dynamicLayoutVertexBuffer.updateData(vt)}f.text.dynamicLayoutVertexBuffer.updateData(it)}function Id(f,o,u){return u.iconsInText&&o?"symbolTextAndIcon":f?"symbolSDF":"symbolIcon"}function ou(f,o,u,y,O,I,z,H,Y,ue,de,Re){const it=f.context,vt=it.gl,xt=f.transform,Mt="map"===H,Pt="map"===Y,Fe=Mt&&"point"!==u.layout.get("symbol-placement"),_t=Mt&&!Pt&&!Fe,Ut=void 0!==u.layout.get("symbol-sort-key").constantOr(1);let Gt=!1;const hn=f.depthModeForSublayer(0,c.DepthMode.ReadOnly),fn=[c.mercatorXfromLng(xt.center.lng),c.mercatorYfromLat(xt.center.lat)],mn=u.layout.get("text-variable-anchor"),Sn="globe"===xt.projection.name,Mn=[],zn=[0,-1,0];let yi=zn;!Sn&&!xt.mercatorFromTransition||Mt||(yi=function(kn){const ai=kn._camera.getWorldToCamera(kn.worldSize,1),Vn=c.multiply([],ai,kn.globeMatrix);c.invert(Vn,Vn);const pi=[0,0,0],An=[0,1,0,0];return c.transformMat4$1(An,An,Vn),pi[0]=An[0],pi[1]=An[1],pi[2]=An[2],c.normalize(pi,pi),pi}(xt));for(const kn of y){const ai=o.getTile(kn),Vn=ai.getBucket(u);if(!Vn||"mercator"===Vn.projection.name&&Sn)continue;const pi=O?Vn.text:Vn.icon;if(!pi||Vn.fullyClipped||!pi.segments.get().length)continue;const An=pi.programConfigurations.get(u.id),oi=O||Vn.sdfIcons,gi=O?Vn.textSizeData:Vn.iconSizeData,ci=Pt||0!==xt.pitch,vi=c.evaluateSizeForZoom(gi,xt.zoom);let so,So,Yi,po,Io=[0,0],qo=null;if(O)So=ai.glyphAtlasTexture,Yi=vt.LINEAR,so=ai.glyphAtlasTexture.size,Vn.iconsInText&&(Io=ai.imageAtlasTexture.size,qo=ai.imageAtlasTexture,po=ci||f.options.rotating||f.options.zooming||"composite"===gi.kind||"camera"===gi.kind?vt.LINEAR:vt.NEAREST);else{const nc=1!==u.layout.get("icon-size").constantOr(0)||Vn.iconsNeedLinear;So=ai.imageAtlasTexture,Yi=oi||f.options.rotating||f.options.zooming||nc||ci?vt.LINEAR:vt.NEAREST,so=ai.imageAtlasTexture.size}const eo="globe"===Vn.projection.name,Nr=eo?yi:zn,Kr=eo?c.globeToMercatorTransition(xt.zoom):0,Hr=Ri(kn,Vn.getProjection(),xt),$r=xt.calculatePixelsToTileUnitsMatrix(ai),el=Dn(Hr,ai.tileID.canonical,Pt,Mt,xt,Vn.getProjection(),$r),ba=f.terrain&&Pt&&Fe?c.invert(c.create(),el):Ic,Ul=Jo(Hr,ai.tileID.canonical,Pt,Mt,xt,Vn.getProjection(),$r),tc=mn&&Vn.hasTextData(),gs="none"!==u.layout.get("icon-text-fit")&&tc&&Vn.hasIconData();if(Fe){const nc=xt.elevation,Mc=nc?nc.getAtTileOffsetFunc(kn,xt.center.lat,xt.worldSize,Vn.getProjection()):null,Hl=Tr(Hr,ai.tileID.canonical,Pt,Mt,xt,Vn.getProjection(),$r);ys(Vn,Hr,f,O,Hl,Ul,Pt,ue,Mc,kn)}const Xr=Fe||O&&mn||gs,br=f.translatePosMatrix(Hr,ai,I,z),fs=Xr?Ic:el,tl=f.translatePosMatrix(Ul,ai,I,z,!0),cs=Vn.getProjection().createInversionMatrix(xt,kn.canonical),Ua=[];f.terrainRenderModeElevated()&&Pt&&Ua.push("PITCH_WITH_MAP_TERRAIN"),eo&&Ua.push("PROJECTION_GLOBE_VIEW"),Xr&&Ua.push("PROJECTED_POS_ON_VIEWPORT");const ud=oi&&0!==u.paint.get(O?"text-halo-width":"icon-halo-width").constantOr(1);let Sa;Sa=oi?Vn.iconsInText?ya(gi.kind,vi,_t,Pt,f,br,fs,tl,so,Io,kn,Kr,fn,cs,Nr,Vn.getProjection()):Ja(gi.kind,vi,_t,Pt,f,br,fs,tl,O,so,!0,kn,Kr,fn,cs,Nr,Vn.getProjection()):ns(gi.kind,vi,_t,Pt,f,br,fs,tl,O,so,kn,Kr,fn,cs,Nr,Vn.getProjection());const er={program:f.useProgram(Id(oi,O,Vn),An,Ua),buffers:pi,uniformValues:Sa,atlasTexture:So,atlasTextureIcon:qo,atlasInterpolation:Yi,atlasInterpolationIcon:po,isSDF:oi,hasHalo:ud,tile:ai,labelPlaneMatrixInv:ba};if(Ut&&Vn.canOverlap){Gt=!0;const nc=pi.segments.get();for(const Mc of nc)Mn.push({segments:new c.SegmentVector([Mc]),sortKey:Mc.sortKey,state:er})}else Mn.push({segments:pi.segments,sortKey:0,state:er})}Gt&&Mn.sort((kn,ai)=>kn.sortKey-ai.sortKey);for(const kn of Mn){const ai=kn.state;if(f.terrain&&f.terrain.setupElevationDraw(ai.tile,ai.program,{useDepthForOcclusion:!Sn,labelPlaneMatrixInv:ai.labelPlaneMatrixInv}),it.activeTexture.set(vt.TEXTURE0),ai.atlasTexture.bind(ai.atlasInterpolation,vt.CLAMP_TO_EDGE),ai.atlasTextureIcon&&(it.activeTexture.set(vt.TEXTURE1),ai.atlasTextureIcon&&ai.atlasTextureIcon.bind(ai.atlasInterpolationIcon,vt.CLAMP_TO_EDGE)),ai.isSDF){const Vn=ai.uniformValues;ai.hasHalo&&(Vn.u_is_halo=1,yc(ai.buffers,kn.segments,u,f,ai.program,hn,de,Re,Vn)),Vn.u_is_halo=0}yc(ai.buffers,kn.segments,u,f,ai.program,hn,de,Re,ai.uniformValues)}}function yc(f,o,u,y,O,I,z,H,Y){const ue=y.context,de=[f.dynamicLayoutVertexBuffer,f.opacityVertexBuffer,f.globeExtVertexBuffer];O.draw(ue,ue.gl.TRIANGLES,I,z,H,c.CullFaceMode.disabled,Y,u.id,f.layoutVertexBuffer,f.indexBuffer,o,u.paint,y.transform.zoom,f.programConfigurations.get(u.id),de)}function $c(f,o,u,y,O,I,z){const H=f.context.gl,Y=u.paint.get("fill-pattern"),ue=Y&&Y.constantOr(1);let de,Re,it,vt,xt;z?(Re=ue&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",de=H.LINES):(Re=ue?"fillPattern":"fill",de=H.TRIANGLES);for(const Mt of y){const Pt=o.getTile(Mt);if(ue&&!Pt.patternsLoaded())continue;const Fe=Pt.getBucket(u);if(!Fe)continue;f.prepareDrawTile();const _t=Fe.programConfigurations.get(u.id),Ut=f.useProgram(Re,_t);ue&&(f.context.activeTexture.set(H.TEXTURE0),Pt.imageAtlasTexture.bind(H.LINEAR,H.CLAMP_TO_EDGE),_t.updatePaintBuffers());const Gt=Y.constantOr(null);if(Gt&&Pt.imageAtlas){const fn=Pt.imageAtlas.patternPositions[Gt.toString()];fn&&_t.setConstantPatternPositions(fn)}const hn=f.translatePosMatrix(Mt.projMatrix,Pt,u.paint.get("fill-translate"),u.paint.get("fill-translate-anchor"));if(z){vt=Fe.indexBuffer2,xt=Fe.segments2;const fn=f.terrain&&f.terrain.renderingToTexture?f.terrain.drapeBufferSize:[H.drawingBufferWidth,H.drawingBufferHeight];it="fillOutlinePattern"===Re&&ue?Dd(hn,f,Pt,fn):nu(hn,fn)}else vt=Fe.indexBuffer,xt=Fe.segments,it=ue?as(hn,f,Pt):fc(hn);f.prepareDrawProgram(f.context,Ut,Mt.toUnwrapped()),Ut.draw(f.context,de,O,f.stencilModeForClipping(Mt),I,c.CullFaceMode.disabled,it,u.id,Fe.layoutVertexBuffer,vt,xt,u.paint,f.transform.zoom,_t)}}function Xa(f,o,u,y,O,I,z){const H=f.context,Y=H.gl,ue=f.transform,de=u.paint.get("fill-extrusion-pattern"),Re=de.constantOr(1),it=u.paint.get("fill-extrusion-opacity"),vt=[u.paint.get("fill-extrusion-ambient-occlusion-intensity"),u.paint.get("fill-extrusion-ambient-occlusion-radius")],xt=u.layout.get("fill-extrusion-edge-radius"),Mt=xt>0&&!u.paint.get("fill-extrusion-rounded-roof"),Pt=Mt?0:xt,Fe="globe"===ue.projection.name?c.fillExtrusionHeightLift():0,_t="globe"===ue.projection.name,Ut=_t?c.globeToMercatorTransition(ue.zoom):0,Gt=[c.mercatorXfromLng(ue.center.lng),c.mercatorYfromLat(ue.center.lat)],hn=[];_t&&hn.push("PROJECTION_GLOBE_VIEW"),vt[0]>0&&hn.push("FAUX_AO"),Mt&&hn.push("ZERO_ROOF_RADIUS");for(const fn of y){const mn=o.getTile(fn),Sn=mn.getBucket(u);if(!Sn||Sn.projection.name!==ue.projection.name)continue;const Mn=Sn.programConfigurations.get(u.id),zn=f.useProgram(Re?"fillExtrusionPattern":"fillExtrusion",Mn,hn);if(f.terrain){const oi=f.terrain;if(f.style.terrainSetForDrapingOnly())oi.setupElevationDraw(mn,zn,{useMeterToDem:!0});else{if(!Sn.enableTerrain)continue;if(oi.setupElevationDraw(mn,zn,{useMeterToDem:!0}),Ac(H,o,fn,Sn,u,oi),!Sn.centroidVertexBuffer){const gi=zn.attributes.a_centroid_pos;void 0!==gi&&Y.vertexAttrib2f(gi,0,0)}}}Re&&(f.context.activeTexture.set(Y.TEXTURE0),mn.imageAtlasTexture.bind(Y.LINEAR,Y.CLAMP_TO_EDGE),Mn.updatePaintBuffers());const yi=de.constantOr(null);if(yi&&mn.imageAtlas){const oi=mn.imageAtlas.patternPositions[yi.toString()];oi&&Mn.setConstantPatternPositions(oi)}const kn=f.translatePosMatrix(fn.projMatrix,mn,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),ai=ue.projection.createInversionMatrix(ue,fn.canonical),Vn=u.paint.get("fill-extrusion-vertical-gradient"),pi=Re?tu(kn,f,Vn,it,vt,Pt,fn,mn,Fe,Ut,Gt,ai):ad(kn,f,Vn,it,vt,Pt,fn,Fe,Ut,Gt,ai);f.prepareDrawProgram(H,zn,fn.toUnwrapped());const An=[];f.terrain&&An.push(Sn.centroidVertexBuffer),_t&&An.push(Sn.layoutVertexExtBuffer),zn.draw(H,H.gl.TRIANGLES,O,I,z,c.CullFaceMode.backCCW,pi,u.id,Sn.layoutVertexBuffer,Sn.indexBuffer,Sn.segments,u.paint,f.transform.zoom,Mn,An)}}function Ac(f,o,u,y,O,I){const z=[Fe=>{let _t=Fe.canonical.x-1,Ut=Fe.wrap;return _t<0&&(_t=(1<<Fe.canonical.z)-1,Ut--),new c.OverscaledTileID(Fe.overscaledZ,Ut,Fe.canonical.z,_t,Fe.canonical.y)},Fe=>{let _t=Fe.canonical.x+1,Ut=Fe.wrap;return _t===1<<Fe.canonical.z&&(_t=0,Ut++),new c.OverscaledTileID(Fe.overscaledZ,Ut,Fe.canonical.z,_t,Fe.canonical.y)},Fe=>new c.OverscaledTileID(Fe.overscaledZ,Fe.wrap,Fe.canonical.z,Fe.canonical.x,(0===Fe.canonical.y?1<<Fe.canonical.z:Fe.canonical.y)-1),Fe=>new c.OverscaledTileID(Fe.overscaledZ,Fe.wrap,Fe.canonical.z,Fe.canonical.x,Fe.canonical.y===(1<<Fe.canonical.z)-1?0:Fe.canonical.y+1)],H=Fe=>{const _t=o.getSource().minzoom,Ut=hn=>{const fn=o.getTileByID(hn);if(fn&&fn.hasData())return fn.getBucket(O)},Gt=[0,-1,1];for(const hn of Gt){if(Fe.overscaledZ+hn<_t)continue;const fn=Ut(Fe.calculateScaledKey(Fe.overscaledZ+hn));if(fn)return fn}},Y=[0,0,0],ue=(Fe,_t)=>(Y[0]=Math.min(Fe.min.y,_t.min.y),Y[1]=Math.max(Fe.max.y,_t.max.y),Y[2]=c.EXTENT-_t.min.x>Fe.max.x?_t.min.x-c.EXTENT:Fe.max.x,Y),de=(Fe,_t)=>(Y[0]=Math.min(Fe.min.x,_t.min.x),Y[1]=Math.max(Fe.max.x,_t.max.x),Y[2]=c.EXTENT-_t.min.y>Fe.max.y?_t.min.y-c.EXTENT:Fe.max.y,Y),Re=[(Fe,_t)=>ue(Fe,_t),(Fe,_t)=>ue(_t,Fe),(Fe,_t)=>de(Fe,_t),(Fe,_t)=>de(_t,Fe)],it=new c.Point(0,0);let vt,xt,Mt;const Pt=(Fe,_t,Ut,Gt,hn)=>{const fn=[[Gt?Ut:Fe,Gt?Fe:Ut,0],[Gt?Ut:_t,Gt?_t:Ut,0]],mn=hn<0?c.EXTENT+hn:hn,Sn=[Gt?mn:(Fe+_t)/2,Gt?(Fe+_t)/2:mn,0];return 0===Ut&&hn<0||0!==Ut&&hn>0?I.getForTilePoints(Mt,[Sn],!0,xt):fn.push(Sn),I.getForTilePoints(u,fn,!0,vt),Math.max(fn[0][2],fn[1][2],Sn[2])/I.exaggeration()};for(let Fe=0;Fe<4;Fe++){const _t=(Fe<2?1:5)-Fe,Ut=y.borders[Fe];if(0===Ut.length)continue;const Gt=Mt=z[Fe](u),hn=H(Gt);if(!(hn&&hn instanceof c.FillExtrusionBucket&&hn.enableTerrain)||y.borderDoneWithNeighborZ[Fe]===hn.canonical.z&&hn.borderDoneWithNeighborZ[_t]===y.canonical.z||(xt=I.findDEMTileFor(Gt),!xt||!xt.dem))continue;if(!vt){const Mn=I.findDEMTileFor(u);if(!Mn||!Mn.dem)return;vt=Mn}const fn=hn.borders[_t];let mn=0;const Sn=hn.borderDoneWithNeighborZ[_t]!==y.canonical.z;if(y.canonical.z===hn.canonical.z){for(let Mn=0;Mn<Ut.length;Mn++){const zn=y.featuresOnBorder[Ut[Mn]],yi=zn.borders[Fe];let kn;for(;mn<fn.length&&(kn=hn.featuresOnBorder[fn[mn]],!(kn.borders[_t][1]>yi[0]+3));)Sn&&hn.encodeCentroid(void 0,kn,!1),mn++;if(kn&&mn<fn.length){const ai=mn;let Vn=0;for(;!(kn.borders[_t][0]>yi[1]-3)&&(Vn++,++mn!==fn.length);)kn=hn.featuresOnBorder[fn[mn]];if(kn=hn.featuresOnBorder[fn[ai]],zn.intersectsCount()>1||kn.intersectsCount()>1||1!==Vn){1!==Vn&&(mn=ai),y.encodeCentroid(void 0,zn,!1),Sn&&hn.encodeCentroid(void 0,kn,!1);continue}const pi=Re[Fe](zn,kn),An=Fe%2?c.EXTENT-1:0;it.x=Pt(pi[0],Math.min(c.EXTENT-1,pi[1]),An,Fe<2,pi[2]),it.y=0,y.encodeCentroid(it,zn,!1),Sn&&hn.encodeCentroid(it,kn,!1)}else y.encodeCentroid(void 0,zn,!1)}y.borderDoneWithNeighborZ[Fe]=hn.canonical.z,y.needsCentroidUpdate=!0,Sn&&(hn.borderDoneWithNeighborZ[_t]=y.canonical.z,hn.needsCentroidUpdate=!0)}else{for(const Mn of Ut)y.encodeCentroid(void 0,y.featuresOnBorder[Mn],!1);if(Sn){for(const Mn of fn)hn.encodeCentroid(void 0,hn.featuresOnBorder[Mn],!1);hn.borderDoneWithNeighborZ[_t]=y.canonical.z,hn.needsCentroidUpdate=!0}y.borderDoneWithNeighborZ[Fe]=hn.canonical.z,y.needsCentroidUpdate=!0}}(y.needsCentroidUpdate||!y.centroidVertexBuffer&&0!==y.centroidVertexArray.length)&&y.uploadCentroid(f)}const ho=new c.Color(1,0,0,1),ru=new c.Color(0,1,0,1),Ad=new c.Color(0,0,1,1),kd=new c.Color(1,0,1,1),Rd=new c.Color(0,1,1,1);function gl(f,o,u){const y=f.context,O=f.transform,I=y.gl,z="globe"===O.projection.name,H=z?["PROJECTION_GLOBE_VIEW"]:null;let Y=u.projMatrix;if(z&&c.globeToMercatorTransition(O.zoom)>0){const zn=c.transitionTileAABBinECEF(u.canonical,O),yi=c.globeDenormalizeECEF(zn);Y=c.multiply(new Float32Array(16),O.globeMatrix,yi),c.multiply(Y,O.projMatrix,Y)}const ue=f.useProgram("debug",null,H),de=o.getTileByID(u.key);f.terrain&&f.terrain.setupElevationDraw(de,ue);const Re=c.DepthMode.disabled,it=c.StencilMode.disabled,vt=f.colorModeForRenderPass();y.activeTexture.set(I.TEXTURE0),f.emptyTexture.bind(I.LINEAR,I.CLAMP_TO_EDGE),z?de._makeGlobeTileDebugBuffers(f.context,O):de._makeDebugTileBoundsBuffers(f.context,O.projection);const Mt=de._tileDebugBuffer||f.debugBuffer,Pt=de._tileDebugIndexBuffer||f.debugIndexBuffer,Fe=de._tileDebugSegments||f.debugSegments;ue.draw(y,I.LINE_STRIP,Re,it,vt,c.CullFaceMode.disabled,vn(Y,c.Color.red),"$debug",Mt,Pt,Fe,null,null,null,[de._globeTileDebugBorderBuffer]);const _t=de.latestRawTileData,Ut=Math.floor((_t&&_t.byteLength||0)/1024),Gt=o.getTile(u).tileSize,hn=512/Math.min(Gt,512)*(u.overscaledZ/O.zoom)*.5;let fn=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(fn+=` => ${u.overscaledZ}`),fn+=` ${Ut}kb`,function(zn,yi){zn.initDebugOverlayCanvas();const kn=zn.debugOverlayCanvas,ai=zn.context.gl,Vn=zn.debugOverlayCanvas.getContext("2d");Vn.clearRect(0,0,kn.width,kn.height),Vn.shadowColor="white",Vn.shadowBlur=2,Vn.lineWidth=1.5,Vn.strokeStyle="white",Vn.textBaseline="top",Vn.font="bold 36px Open Sans, sans-serif",Vn.fillText(yi,5,5),Vn.strokeText(yi,5,5),zn.debugOverlayTexture.update(kn),zn.debugOverlayTexture.bind(ai.LINEAR,ai.CLAMP_TO_EDGE)}(f,fn);const mn=de._tileDebugTextBuffer||f.debugBuffer,Sn=de._tileDebugTextIndexBuffer||f.quadTriangleIndexBuffer,Mn=de._tileDebugTextSegments||f.debugSegments;ue.draw(y,I.TRIANGLES,Re,it,c.ColorMode.alphaBlended,c.CullFaceMode.disabled,vn(Y,c.Color.transparent,hn),"$debug",mn,Sn,Mn,null,null,null,[de._globeTileDebugTextBuffer])}function su(f,o,u,y){vc(f,0,o+u/2,f.transform.width,u,y)}function Zc(f,o,u,y){vc(f,o-u/2,0,u,f.transform.height,y)}function vc(f,o,u,y,O,I){const z=f.context,H=z.gl;H.enable(H.SCISSOR_TEST),H.scissor(o*c.exported.devicePixelRatio,u*c.exported.devicePixelRatio,y*c.exported.devicePixelRatio,O*c.exported.devicePixelRatio),z.clear({color:I}),H.disable(H.SCISSOR_TEST)}const Du=c.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Ld}=Du;function Nl(f,o,u,y){f.emplaceBack(o,u,y)}class bc{constructor(o){this.vertexArray=new c.StructArrayLayout3f12,this.indices=new c.StructArrayLayout3ui6,Nl(this.vertexArray,-1,-1,1),Nl(this.vertexArray,1,-1,1),Nl(this.vertexArray,-1,1,1),Nl(this.vertexArray,1,1,1),Nl(this.vertexArray,-1,-1,-1),Nl(this.vertexArray,1,-1,-1),Nl(this.vertexArray,-1,1,-1),Nl(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=o.createVertexBuffer(this.vertexArray,Ld),this.indexBuffer=o.createIndexBuffer(this.indices),this.segment=c.SegmentVector.simpleSegment(0,0,36,12)}}function Qa(f,o,u,y,O,I){const z=f.gl,H=o.paint.get("sky-atmosphere-color"),Y=o.paint.get("sky-atmosphere-halo-color"),ue=o.paint.get("sky-atmosphere-sun-intensity"),de={u_matrix_3f:c.fromMat4(c.create$1(),y),u_sun_direction:O,u_sun_intensity:ue,u_color_tint_r:[(xt=H).r,xt.g,xt.b,xt.a],u_color_tint_m:[(Mt=Y).r,Mt.g,Mt.b,Mt.a],u_luminance:5e-5};var xt,Mt;z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+I,o.skyboxTexture,0),u.draw(f,z.TRIANGLES,c.DepthMode.disabled,c.StencilMode.disabled,c.ColorMode.unblended,c.CullFaceMode.frontCW,de,"skyboxCapture",o.skyboxGeometry.vertexBuffer,o.skyboxGeometry.indexBuffer,o.skyboxGeometry.segment)}const K=c.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Ye{constructor(o){const u=new c.StructArrayLayout5f20;u.emplaceBack(-1,1,1,0,0),u.emplaceBack(1,1,1,1,0),u.emplaceBack(1,-1,1,1,1),u.emplaceBack(-1,-1,1,0,1);const y=new c.StructArrayLayout3ui6;y.emplaceBack(0,1,2),y.emplaceBack(2,3,0),this.vertexBuffer=o.createVertexBuffer(u,K.members),this.indexBuffer=o.createIndexBuffer(y),this.segments=c.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Me={symbol:function(f,o,u,y,O){if("translucent"!==f.renderPass)return;const I=c.StencilMode.disabled,z=f.colorModeForRenderPass();u.layout.get("text-variable-anchor")&&function(H,Y,ue,de,Re,it,vt){const xt=Y.transform,Mt="map"===Re,Pt="map"===it;for(const Fe of H){const _t=de.getTile(Fe),Ut=_t.getBucket(ue);if(!Ut||!Ut.text||!Ut.text.segments.get().length)continue;const Gt=c.evaluateSizeForZoom(Ut.textSizeData,xt.zoom),hn=Ri(Fe,Ut.getProjection(),xt),fn=xt.calculatePixelsToTileUnitsMatrix(_t),mn=Dn(hn,_t.tileID.canonical,Pt,Mt,xt,Ut.getProjection(),fn),Sn="none"!==ue.layout.get("icon-text-fit")&&Ut.hasIconData();if(Gt){const Mn=Math.pow(2,xt.zoom-_t.tileID.overscaledZ);Ed(Ut,Mt,Pt,vt,c.symbolSize,xt,mn,Fe,Mn,Gt,Sn)}}}(y,f,u,o,u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),O),0!==u.paint.get("icon-opacity").constantOr(1)&&ou(f,o,u,y,!1,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),u.layout.get("icon-rotation-alignment"),u.layout.get("icon-pitch-alignment"),u.layout.get("icon-keep-upright"),I,z),0!==u.paint.get("text-opacity").constantOr(1)&&ou(f,o,u,y,!0,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),u.layout.get("text-rotation-alignment"),u.layout.get("text-pitch-alignment"),u.layout.get("text-keep-upright"),I,z),o.map.showCollisionBoxes&&(Bs(f,o,u,y,u.paint.get("text-translate"),u.paint.get("text-translate-anchor"),!0),Bs(f,o,u,y,u.paint.get("icon-translate"),u.paint.get("icon-translate-anchor"),!1))},circle:function(f,o,u,y){if("translucent"!==f.renderPass)return;const O=u.paint.get("circle-opacity"),I=u.paint.get("circle-stroke-width"),z=u.paint.get("circle-stroke-opacity"),H=void 0!==u.layout.get("circle-sort-key").constantOr(1);if(0===O.constantOr(1)&&(0===I.constantOr(1)||0===z.constantOr(1)))return;const Y=f.context,ue=Y.gl,de=f.transform,Re=f.depthModeForSublayer(0,c.DepthMode.ReadOnly),it=c.StencilMode.disabled,vt=f.colorModeForRenderPass(),xt="globe"===de.projection.name,Mt=[c.mercatorXfromLng(de.center.lng),c.mercatorYfromLat(de.center.lat)],Pt=[];for(let _t=0;_t<y.length;_t++){const Ut=y[_t],Gt=o.getTile(Ut),hn=Gt.getBucket(u);if(!hn||hn.projection.name!==de.projection.name)continue;const fn=hn.programConfigurations.get(u.id),mn=ye(u);xt&&mn.push("PROJECTION_GLOBE_VIEW");const Sn=f.useProgram("circle",fn,mn),Mn=hn.layoutVertexBuffer,zn=hn.globeExtVertexBuffer,yi=hn.indexBuffer,kn=de.projection.createInversionMatrix(de,Ut.canonical),ai={programConfiguration:fn,program:Sn,layoutVertexBuffer:Mn,globeExtVertexBuffer:zn,indexBuffer:yi,uniformValues:je(f,Ut,Gt,kn,Mt,u),tile:Gt};if(H){const Vn=hn.segments.get();for(const pi of Vn)Pt.push({segments:new c.SegmentVector([pi]),sortKey:pi.sortKey,state:ai})}else Pt.push({segments:hn.segments,sortKey:0,state:ai})}H&&Pt.sort((_t,Ut)=>_t.sortKey-Ut.sortKey);const Fe={useDepthForOcclusion:!xt};for(const _t of Pt){const{programConfiguration:Ut,program:Gt,layoutVertexBuffer:hn,globeExtVertexBuffer:fn,indexBuffer:mn,uniformValues:Sn,tile:Mn}=_t.state,zn=_t.segments;f.terrain&&f.terrain.setupElevationDraw(Mn,Gt,Fe),f.prepareDrawProgram(Y,Gt,Mn.tileID.toUnwrapped()),Gt.draw(Y,ue.TRIANGLES,Re,it,vt,c.CullFaceMode.disabled,Sn,u.id,hn,mn,zn,u.paint,de.zoom,Ut,[fn])}},heatmap:function(f,o,u,y){if(0!==u.paint.get("heatmap-opacity"))if("offscreen"===f.renderPass){const O=f.context,I=O.gl,z=c.StencilMode.disabled,H=new c.ColorMode([I.ONE,I.ONE],c.Color.transparent,[!0,!0,!0,!0]);(function(vt,xt,Mt,Pt){const Fe=vt.gl,_t=xt.width*Pt,Ut=xt.height*Pt;vt.activeTexture.set(Fe.TEXTURE1),vt.viewport.set([0,0,_t,Ut]);let Gt=Mt.heatmapFbo;if(!Gt||Gt&&(Gt.width!==_t||Gt.height!==Ut)){Gt&&Gt.destroy();const hn=Fe.createTexture();Fe.bindTexture(Fe.TEXTURE_2D,hn),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_S,Fe.CLAMP_TO_EDGE),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_T,Fe.CLAMP_TO_EDGE),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MIN_FILTER,Fe.LINEAR),Fe.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MAG_FILTER,Fe.LINEAR),Gt=Mt.heatmapFbo=vt.createFramebuffer(_t,Ut,!1),function(fn,mn,Sn,Mn,zn,yi){const kn=fn.gl;kn.texImage2D(kn.TEXTURE_2D,0,fn.isWebGL2&&fn.extRenderToTextureHalfFloat?kn.RGBA16F:kn.RGBA,zn,yi,0,kn.RGBA,fn.extRenderToTextureHalfFloat?fn.isWebGL2?kn.HALF_FLOAT:fn.extTextureHalfFloat.HALF_FLOAT_OES:kn.UNSIGNED_BYTE,null),Mn.colorAttachment.set(Sn)}(vt,0,hn,Gt,_t,Ut)}else Fe.bindTexture(Fe.TEXTURE_2D,Gt.colorAttachment.get()),vt.bindFramebuffer.set(Gt.framebuffer)})(O,f,u,"globe"===f.transform.projection.name?.5:.25),O.clear({color:c.Color.transparent});const Y=f.transform,ue="globe"===Y.projection.name,de=ue?["PROJECTION_GLOBE_VIEW"]:null,Re=ue?c.CullFaceMode.frontCCW:c.CullFaceMode.disabled,it=[c.mercatorXfromLng(Y.center.lng),c.mercatorYfromLat(Y.center.lat)];for(let vt=0;vt<y.length;vt++){const xt=y[vt];if(o.hasRenderableParent(xt))continue;const Mt=o.getTile(xt),Pt=Mt.getBucket(u);if(!Pt||Pt.projection.name!==Y.projection.name)continue;const Fe=Pt.programConfigurations.get(u.id),_t=f.useProgram("heatmap",Fe,de),{zoom:Ut}=f.transform;f.terrain&&f.terrain.setupElevationDraw(Mt,_t),f.prepareDrawProgram(O,_t,xt.toUnwrapped());const Gt=Y.projection.createInversionMatrix(Y,xt.canonical);_t.draw(O,I.TRIANGLES,c.DepthMode.disabled,z,H,Re,Po(f,xt,Mt,Gt,it,Ut,u.paint.get("heatmap-intensity")),u.id,Pt.layoutVertexBuffer,Pt.indexBuffer,Pt.segments,u.paint,f.transform.zoom,Fe,ue?[Pt.globeExtVertexBuffer]:null)}O.viewport.set([0,0,f.width,f.height])}else"translucent"===f.renderPass&&(f.context.setColorMode(f.colorModeForRenderPass()),function(O,I){const z=O.context,H=z.gl,Y=I.heatmapFbo;if(!Y)return;z.activeTexture.set(H.TEXTURE0),H.bindTexture(H.TEXTURE_2D,Y.colorAttachment.get()),z.activeTexture.set(H.TEXTURE1);let ue=I.colorRampTexture;ue||(ue=I.colorRampTexture=new c.Texture(z,I.colorRamp,H.RGBA)),ue.bind(H.LINEAR,H.CLAMP_TO_EDGE),O.useProgram("heatmapTexture").draw(z,H.TRIANGLES,c.DepthMode.disabled,c.StencilMode.disabled,O.colorModeForRenderPass(),c.CullFaceMode.disabled,{u_image:0,u_color_ramp:1,u_opacity:I.paint.get("heatmap-opacity")},I.id,O.viewportBuffer,O.quadTriangleIndexBuffer,O.viewportSegments,I.paint,O.transform.zoom)}(f,u))},line:function(f,o,u,y){if("translucent"!==f.renderPass)return;const O=u.paint.get("line-opacity"),I=u.paint.get("line-width");if(0===O.constantOr(1)||0===I.constantOr(1))return;const z=f.depthModeForSublayer(0,c.DepthMode.ReadOnly),H=f.colorModeForRenderPass(),Y=f.terrain&&f.terrain.renderingToTexture?1:c.exported.devicePixelRatio,ue=u.paint.get("line-dasharray"),de=ue.constantOr(1),Re=u.layout.get("line-cap"),it=u.paint.get("line-pattern"),vt=it.constantOr(1),xt=u.paint.get("line-gradient"),Mt=vt?"linePattern":"line",Pt=f.context,Fe=Pt.gl,_t=(Gt=>{const hn=[];Ys(Gt)&&hn.push("RENDER_LINE_DASH"),Gt.paint.get("line-gradient")&&hn.push("RENDER_LINE_GRADIENT");const fn=Gt.paint.get("line-trim-offset");0===fn[0]&&0===fn[1]||hn.push("RENDER_LINE_TRIM_OFFSET");const mn=Gt.paint.get("line-pattern").constantOr(1),Sn=1!==Gt.paint.get("line-opacity").constantOr(1);return!mn&&Sn&&hn.push("RENDER_LINE_ALPHA_DISCARD"),hn})(u);let Ut=_t.includes("RENDER_LINE_ALPHA_DISCARD");f.terrain&&f.terrain.clipOrMaskOverlapStencilType()&&(Ut=!1);for(const Gt of y){const hn=o.getTile(Gt);if(vt&&!hn.patternsLoaded())continue;const fn=hn.getBucket(u);if(!fn)continue;f.prepareDrawTile();const mn=fn.programConfigurations.get(u.id),Sn=f.useProgram(Mt,mn,_t),Mn=it.constantOr(null);if(Mn&&hn.imageAtlas){const oi=hn.imageAtlas.patternPositions[Mn.toString()];oi&&mn.setConstantPatternPositions(oi)}const zn=ue.constantOr(null),yi=Re.constantOr(null);if(!vt&&zn&&yi&&hn.lineAtlas){const oi=hn.lineAtlas.getDash(zn,yi);oi&&mn.setConstantPatternPositions(oi)}let[kn,ai]=u.paint.get("line-trim-offset");("round"===yi||"square"===yi)&&kn!==ai&&(0===kn&&(kn-=1),1===ai&&(ai+=1));const Vn=f.terrain?Gt.projMatrix:null,pi=vt?_o(f,hn,u,Vn,Y):Dr(f,hn,u,Vn,fn.lineClipsArray.length,Y,[kn,ai]);if(xt){const oi=fn.gradients[u.id];let gi=oi.texture;if(u.gradientVersion!==oi.version){let ci=256;if(u.stepInterpolant){const vi=o.getSource().maxzoom,so=Gt.canonical.z===vi?Math.ceil(1<<f.transform.maxZoom-Gt.canonical.z):1;ci=c.clamp(c.nextPowerOfTwo(fn.maxLineLength/c.EXTENT*1024*so),256,Pt.maxTextureSize)}oi.gradient=c.renderColorRamp({expression:u.gradientExpression(),evaluationKey:"lineProgress",resolution:ci,image:oi.gradient||void 0,clips:fn.lineClipsArray}),oi.texture?oi.texture.update(oi.gradient):oi.texture=new c.Texture(Pt,oi.gradient,Fe.RGBA),oi.version=u.gradientVersion,gi=oi.texture}Pt.activeTexture.set(Fe.TEXTURE1),gi.bind(u.stepInterpolant?Fe.NEAREST:Fe.LINEAR,Fe.CLAMP_TO_EDGE)}de&&(Pt.activeTexture.set(Fe.TEXTURE0),hn.lineAtlasTexture.bind(Fe.LINEAR,Fe.REPEAT),mn.updatePaintBuffers()),vt&&(Pt.activeTexture.set(Fe.TEXTURE0),hn.imageAtlasTexture.bind(Fe.LINEAR,Fe.CLAMP_TO_EDGE),mn.updatePaintBuffers()),f.prepareDrawProgram(Pt,Sn,Gt.toUnwrapped());const An=oi=>{Sn.draw(Pt,Fe.TRIANGLES,z,oi,H,c.CullFaceMode.disabled,pi,u.id,fn.layoutVertexBuffer,fn.indexBuffer,fn.segments,u.paint,f.transform.zoom,mn,[fn.layoutVertexBuffer2])};if(Ut){const oi=f.stencilModeForClipping(Gt).ref;0===oi&&f.terrain&&Pt.clear({stencil:0});const gi={func:Fe.EQUAL,mask:255};pi.u_alpha_discard_threshold=.8,An(new c.StencilMode(gi,oi,255,Fe.KEEP,Fe.KEEP,Fe.INVERT)),pi.u_alpha_discard_threshold=0,An(new c.StencilMode(gi,oi,255,Fe.KEEP,Fe.KEEP,Fe.KEEP))}else An(f.stencilModeForClipping(Gt))}Ut&&(f.resetStencilClippingMasks(),f.terrain&&Pt.clear({stencil:0}))},fill:function(f,o,u,y){const O=u.paint.get("fill-color"),I=u.paint.get("fill-opacity");if(0===I.constantOr(1))return;const z=f.colorModeForRenderPass(),H=u.paint.get("fill-pattern"),Y=f.opaquePassEnabledForLayer()&&!H.constantOr(1)&&1===O.constantOr(c.Color.transparent).a&&1===I.constantOr(0)?"opaque":"translucent";if(f.renderPass===Y){const ue=f.depthModeForSublayer(1,"opaque"===f.renderPass?c.DepthMode.ReadWrite:c.DepthMode.ReadOnly);$c(f,o,u,y,ue,z,!1)}if("translucent"===f.renderPass&&u.paint.get("fill-antialias")){const ue=f.depthModeForSublayer(u.getPaintProperty("fill-outline-color")?2:0,c.DepthMode.ReadOnly);$c(f,o,u,y,ue,z,!0)}},"fill-extrusion":function(f,o,u,y){const O=u.paint.get("fill-extrusion-opacity");if(0!==O&&"translucent"===f.renderPass){const I=new c.DepthMode(f.context.gl.LEQUAL,c.DepthMode.ReadWrite,f.depthRangeFor3D);if(1!==O||u.paint.get("fill-extrusion-pattern").constantOr(1))Xa(f,o,u,y,I,c.StencilMode.disabled,c.ColorMode.disabled),Xa(f,o,u,y,I,f.stencilModeFor3D(),f.colorModeForRenderPass()),f.resetStencilClippingMasks();else{const z=f.colorModeForRenderPass();Xa(f,o,u,y,I,c.StencilMode.disabled,z)}}},hillshade:function(f,o,u,y){if("offscreen"!==f.renderPass&&"translucent"!==f.renderPass)return;const O=f.context,I=f.depthModeForSublayer(0,c.DepthMode.ReadOnly),z=f.colorModeForRenderPass(),H=f.terrain&&f.terrain.renderingToTexture,[Y,ue]="translucent"!==f.renderPass||H?[{},y]:f.stencilConfigForOverlap(y);for(const de of ue){const Re=o.getTile(de);if(Re.needsHillshadePrepare&&"offscreen"===f.renderPass)Ks(f,Re,u,I,c.StencilMode.disabled,z);else if("translucent"===f.renderPass){const it=H&&f.terrain?f.terrain.stencilModeForRTTOverlap(de):Y[de.overscaledZ];Rl(f,de,Re,u,I,it,z)}}O.viewport.set([0,0,f.width,f.height]),f.resetStencilClippingMasks()},raster:function(f,o,u,y,O,I){if("translucent"!==f.renderPass||0===u.paint.get("raster-opacity")||!y.length)return;const z=f.context,H=z.gl,Y=o.getSource(),ue=f.useProgram("raster"),de=f.colorModeForRenderPass(),Re=f.terrain&&f.terrain.renderingToTexture,[it,vt]=Y instanceof ft||Re?[{},y]:f.stencilConfigForOverlap(y),xt=vt[vt.length-1].overscaledZ,Mt=!f.options.moving;for(const Pt of vt){const Fe=Re?c.DepthMode.disabled:f.depthModeForSublayer(Pt.overscaledZ-xt,1===u.paint.get("raster-opacity")?c.DepthMode.ReadWrite:c.DepthMode.ReadOnly,H.LESS),_t=Pt.toUnwrapped(),Ut=o.getTile(Pt);if(Re&&(!Ut||!Ut.hasData()))continue;const Gt=Re?Pt.projMatrix:f.transform.calculateProjMatrix(_t,Mt),hn=f.terrain&&Re?f.terrain.stencilModeForRTTOverlap(Pt):it[Pt.overscaledZ],fn=I?0:u.paint.get("raster-fade-duration");Ut.registerFadeDuration(fn);const mn=o.findLoadedParent(Pt,0),Sn=pl(Ut,mn,o,f.transform,fn);let Mn,zn;f.terrain&&f.terrain.prepareDrawTile();const yi="nearest"===u.paint.get("raster-resampling")?H.NEAREST:H.LINEAR;z.activeTexture.set(H.TEXTURE0),Ut.texture.bind(yi,H.CLAMP_TO_EDGE),z.activeTexture.set(H.TEXTURE1),mn?(mn.texture.bind(yi,H.CLAMP_TO_EDGE),Mn=Math.pow(2,mn.tileID.overscaledZ-Ut.tileID.overscaledZ),zn=[Ut.tileID.canonical.x*Mn%1,Ut.tileID.canonical.y*Mn%1]):Ut.texture.bind(yi,H.CLAMP_TO_EDGE),Ut.texture.useMipmap&&z.extTextureFilterAnisotropic&&f.transform.pitch>20&&H.texParameterf(H.TEXTURE_2D,z.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,z.extTextureFilterAnisotropicMax);const kn=_a(Gt,zn||[0,0],Mn||1,Sn,u,Y instanceof ft?Y.perspectiveTransform:[0,0]);if(f.prepareDrawProgram(z,ue,_t),Y instanceof ft)Y.boundsBuffer&&Y.boundsSegments&&ue.draw(z,H.TRIANGLES,Fe,c.StencilMode.disabled,de,c.CullFaceMode.disabled,kn,u.id,Y.boundsBuffer,f.quadTriangleIndexBuffer,Y.boundsSegments);else{const{tileBoundsBuffer:ai,tileBoundsIndexBuffer:Vn,tileBoundsSegments:pi}=f.getTileBoundsBuffers(Ut);ue.draw(z,H.TRIANGLES,Fe,hn,de,c.CullFaceMode.disabled,kn,u.id,ai,Vn,pi)}}f.resetStencilClippingMasks()},background:function(f,o,u,y){const O=u.paint.get("background-color"),I=u.paint.get("background-opacity");if(0===I)return;const z=f.context,H=z.gl,Y=f.transform,ue=Y.tileSize,de=u.paint.get("background-pattern");if(f.isPatternMissing(de))return;const Re=!de&&1===O.a&&1===I&&f.opaquePassEnabledForLayer()?"opaque":"translucent";if(f.renderPass!==Re)return;const it=c.StencilMode.disabled,vt=f.depthModeForSublayer(0,"opaque"===Re?c.DepthMode.ReadWrite:c.DepthMode.ReadOnly),xt=f.colorModeForRenderPass(),Mt=f.useProgram(de?"backgroundPattern":"background");let Pt,Fe=y;Fe||(Pt=f.getBackgroundTiles(),Fe=Object.values(Pt).map(_t=>_t.tileID)),de&&(z.activeTexture.set(H.TEXTURE0),f.imageManager.bind(f.context));for(const _t of Fe){const Ut=_t.toUnwrapped(),Gt=y?_t.projMatrix:f.transform.calculateProjMatrix(Ut);f.prepareDrawTile();const hn=o?o.getTile(_t):Pt?Pt[_t.key]:new c.Tile(_t,ue,Y.zoom,f),fn=de?iu(Gt,I,f,de,{tileID:_t,tileSize:ue}):mc(Gt,I,O);f.prepareDrawProgram(z,Mt,Ut);const{tileBoundsBuffer:mn,tileBoundsIndexBuffer:Sn,tileBoundsSegments:Mn}=f.getTileBoundsBuffers(hn);Mt.draw(z,H.TRIANGLES,vt,it,xt,c.CullFaceMode.disabled,fn,u.id,mn,Sn,Mn)}},sky:function(f,o,u){const y=f.transform,O="mercator"===y.projection.name||"globe"===y.projection.name?1:c.smoothstep(7,8,y.zoom),I=u.paint.get("sky-opacity")*O;if(0===I)return;const z=f.context,H=u.paint.get("sky-type"),Y=new c.DepthMode(z.gl.LEQUAL,c.DepthMode.ReadOnly,[0,1]),ue=f.frameCounter/1e3%1;"atmosphere"===H?"offscreen"===f.renderPass?u.needsSkyboxCapture(f)&&(function(de,Re,it,vt){const xt=de.context,Mt=xt.gl;let Pt=Re.skyboxFbo;if(!Pt){Pt=Re.skyboxFbo=xt.createFramebuffer(32,32,!1),Re.skyboxGeometry=new bc(xt),Re.skyboxTexture=xt.gl.createTexture(),Mt.bindTexture(Mt.TEXTURE_CUBE_MAP,Re.skyboxTexture),Mt.texParameteri(Mt.TEXTURE_CUBE_MAP,Mt.TEXTURE_WRAP_S,Mt.CLAMP_TO_EDGE),Mt.texParameteri(Mt.TEXTURE_CUBE_MAP,Mt.TEXTURE_WRAP_T,Mt.CLAMP_TO_EDGE),Mt.texParameteri(Mt.TEXTURE_CUBE_MAP,Mt.TEXTURE_MIN_FILTER,Mt.LINEAR),Mt.texParameteri(Mt.TEXTURE_CUBE_MAP,Mt.TEXTURE_MAG_FILTER,Mt.LINEAR);for(let Gt=0;Gt<6;++Gt)Mt.texImage2D(Mt.TEXTURE_CUBE_MAP_POSITIVE_X+Gt,0,Mt.RGBA,32,32,0,Mt.RGBA,Mt.UNSIGNED_BYTE,null)}xt.bindFramebuffer.set(Pt.framebuffer),xt.viewport.set([0,0,32,32]);const Fe=Re.getCenter(de,!0),_t=de.useProgram("skyboxCapture"),Ut=new Float64Array(16);c.identity(Ut),c.rotateY(Ut,Ut,.5*-Math.PI),Qa(xt,Re,_t,Ut,Fe,0),c.identity(Ut),c.rotateY(Ut,Ut,.5*Math.PI),Qa(xt,Re,_t,Ut,Fe,1),c.identity(Ut),c.rotateX(Ut,Ut,.5*-Math.PI),Qa(xt,Re,_t,Ut,Fe,2),c.identity(Ut),c.rotateX(Ut,Ut,.5*Math.PI),Qa(xt,Re,_t,Ut,Fe,3),c.identity(Ut),Qa(xt,Re,_t,Ut,Fe,4),c.identity(Ut),c.rotateY(Ut,Ut,Math.PI),Qa(xt,Re,_t,Ut,Fe,5),xt.viewport.set([0,0,de.width,de.height])}(f,u),u.markSkyboxValid(f)):"sky"===f.renderPass&&function(de,Re,it,vt,xt){const Mt=de.context,Pt=Mt.gl,Fe=de.transform,_t=de.useProgram("skybox");Mt.activeTexture.set(Pt.TEXTURE0),Pt.bindTexture(Pt.TEXTURE_CUBE_MAP,Re.skyboxTexture);const Ut={u_matrix:Fe.skyboxMatrix,u_sun_direction:Re.getCenter(de,!1),u_cubemap:0,u_opacity:vt,u_temporal_offset:xt};de.prepareDrawProgram(Mt,_t),_t.draw(Mt,Pt.TRIANGLES,it,c.StencilMode.disabled,de.colorModeForRenderPass(),c.CullFaceMode.backCW,Ut,"skybox",Re.skyboxGeometry.vertexBuffer,Re.skyboxGeometry.indexBuffer,Re.skyboxGeometry.segment)}(f,u,Y,I,ue):"gradient"===H&&"sky"===f.renderPass&&function(de,Re,it,vt,xt){const Mt=de.context,Pt=Mt.gl,Fe=de.transform,_t=de.useProgram("skyboxGradient");Re.skyboxGeometry||(Re.skyboxGeometry=new bc(Mt)),Mt.activeTexture.set(Pt.TEXTURE0);let Ut=Re.colorRampTexture;Ut||(Ut=Re.colorRampTexture=new c.Texture(Mt,Re.colorRamp,Pt.RGBA)),Ut.bind(Pt.LINEAR,Pt.CLAMP_TO_EDGE);const Gt=(hn=Fe.skyboxMatrix,fn=Re.getCenter(de,!1),mn=Re.paint.get("sky-gradient-radius"),Sn=vt,Mn=xt,{u_matrix:hn,u_color_ramp:0,u_center_direction:fn,u_radius:c.degToRad(mn),u_opacity:Sn,u_temporal_offset:Mn});var hn,fn,mn,Sn,Mn;de.prepareDrawProgram(Mt,_t),_t.draw(Mt,Pt.TRIANGLES,it,c.StencilMode.disabled,de.colorModeForRenderPass(),c.CullFaceMode.backCW,Gt,"skyboxGradient",Re.skyboxGeometry.vertexBuffer,Re.skyboxGeometry.indexBuffer,Re.skyboxGeometry.segment)}(f,u,Y,I,ue)},debug:function(f,o,u){for(let y=0;y<u.length;y++)gl(f,o,u[y])},custom:function(f,o,u,y){const O=f.context,I=u.implementation;if(!f.transform.projection.unsupportedLayers||!f.transform.projection.unsupportedLayers.includes("custom")||f.terrain&&(f.terrain.renderingToTexture||"offscreen"===f.renderPass)&&u.isLayerDraped()){if("offscreen"===f.renderPass){const z=I.prerender;if(z){if(f.setCustomLayerDefaults(),O.setColorMode(f.colorModeForRenderPass()),"globe"===f.transform.projection.name){const H=f.transform.pointMerc;z.call(I,O.gl,f.transform.customLayerMatrix(),f.transform.getProjection(),f.transform.globeToMercatorMatrix(),c.globeToMercatorTransition(f.transform.zoom),[H.x,H.y],f.transform.pixelsPerMeterRatio)}else z.call(I,O.gl,f.transform.customLayerMatrix());O.setDirty(),f.setBaseState()}}else if("translucent"===f.renderPass){if(f.terrain&&f.terrain.renderingToTexture){const H=I.renderToTile;if(H){const Y=y[0].canonical,ue=new c.MercatorCoordinate(Y.x+y[0].wrap*(1<<Y.z),Y.y,Y.z);O.setDepthMode(c.DepthMode.disabled),O.setStencilMode(c.StencilMode.disabled),O.setColorMode(f.colorModeForRenderPass()),f.setCustomLayerDefaults(),H.call(I,O.gl,ue),O.setDirty(),f.setBaseState()}return}f.setCustomLayerDefaults(),O.setColorMode(f.colorModeForRenderPass()),O.setStencilMode(c.StencilMode.disabled);const z="3d"===I.renderingMode?new c.DepthMode(f.context.gl.LEQUAL,c.DepthMode.ReadWrite,f.depthRangeFor3D):f.depthModeForSublayer(0,c.DepthMode.ReadOnly);if(O.setDepthMode(z),"globe"===f.transform.projection.name){const H=f.transform.pointMerc;I.render(O.gl,f.transform.customLayerMatrix(),f.transform.getProjection(),f.transform.globeToMercatorMatrix(),c.globeToMercatorTransition(f.transform.zoom),[H.x,H.y],f.transform.pixelsPerMeterRatio)}else I.render(O.gl,f.transform.customLayerMatrix());O.setDirty(),f.setBaseState(),O.bindFramebuffer.set(null)}}else c.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class ze{constructor(o,u,y=!1){this.context=new bn(o,y),this.transform=u,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=c.SourceCache.maxUnderzooming+c.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(o,u){const y=!!o&&!!o.terrain&&this.transform.projection.supportsTerrain;if(!(y||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new qa(this,o));const O=this._terrain;this.transform.elevation=y?O:null,O.update(o,this.transform,u)}_updateFog(o){const u=o.fog;if(!u||"globe"===this.transform.projection.name||u.getOpacity(this.transform.pitch)<1||u.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[y,O]=u.getFovAdjustedRange(this.transform._fov);if(y>O)return void(this.transform.fogCullDistSq=null);const I=y+.78*(O-y);this.transform.fogCullDistSq=I*I}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(o,u){if(this.width=o*c.exported.devicePixelRatio,this.height=u*c.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const y of this.style.order)this.style._layers[y].resize()}setup(){const o=this.context,u=new c.StructArrayLayout2i4;u.emplaceBack(0,0),u.emplaceBack(c.EXTENT,0),u.emplaceBack(0,c.EXTENT),u.emplaceBack(c.EXTENT,c.EXTENT),this.tileExtentBuffer=o.createVertexBuffer(u,c.posAttributes.members),this.tileExtentSegments=c.SegmentVector.simpleSegment(0,0,4,2);const y=new c.StructArrayLayout2i4;y.emplaceBack(0,0),y.emplaceBack(c.EXTENT,0),y.emplaceBack(0,c.EXTENT),y.emplaceBack(c.EXTENT,c.EXTENT),this.debugBuffer=o.createVertexBuffer(y,c.posAttributes.members),this.debugSegments=c.SegmentVector.simpleSegment(0,0,4,5);const O=new c.StructArrayLayout2i4;O.emplaceBack(-1,-1),O.emplaceBack(1,-1),O.emplaceBack(-1,1),O.emplaceBack(1,1),this.viewportBuffer=o.createVertexBuffer(O,c.posAttributes.members),this.viewportSegments=c.SegmentVector.simpleSegment(0,0,4,2);const I=new c.StructArrayLayout4i8;I.emplaceBack(0,0,0,0),I.emplaceBack(c.EXTENT,0,c.EXTENT,0),I.emplaceBack(0,c.EXTENT,0,c.EXTENT),I.emplaceBack(c.EXTENT,c.EXTENT,c.EXTENT,c.EXTENT),this.mercatorBoundsBuffer=o.createVertexBuffer(I,c.boundsAttributes.members),this.mercatorBoundsSegments=c.SegmentVector.simpleSegment(0,0,4,2);const z=new c.StructArrayLayout3ui6;z.emplaceBack(0,1,2),z.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=o.createIndexBuffer(z);const H=new c.StructArrayLayout1ui2;for(const ue of[0,1,3,2,0])H.emplaceBack(ue);this.debugIndexBuffer=o.createIndexBuffer(H),this.emptyTexture=new c.Texture(o,new c.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),o.gl.RGBA),this.identityMat=c.create();const Y=this.context.gl;this.stencilClearMode=new c.StencilMode({func:Y.ALWAYS,mask:0},0,255,Y.ZERO,Y.ZERO,Y.ZERO),this.loadTimeStamps.push(c.window.performance.now()),this.atmosphereBuffer=new Ye(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(o){return o._makeTileBoundsBuffers(this.context,this.transform.projection),o._tileBoundsBuffer?{tileBoundsBuffer:o._tileBoundsBuffer,tileBoundsIndexBuffer:o._tileBoundsIndexBuffer,tileBoundsSegments:o._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const o=this.context,u=o.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(o,u.TRIANGLES,c.DepthMode.disabled,this.stencilClearMode,c.ColorMode.disabled,c.CullFaceMode.disabled,As(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(o,u,y){if(!u||this.currentStencilSource===u.id||!o.isTileClipped()||!y||0===y.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let H=!1;for(const Y of y)if(void 0===this._tileClippingMaskIDs[Y.key]){H=!0;break}if(!H)return}this.currentStencilSource=u.id;const O=this.context,I=O.gl;this.nextStencilID+y.length>256&&this.clearStencil(),O.setColorMode(c.ColorMode.disabled),O.setDepthMode(c.DepthMode.disabled);const z=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const H of y){const Y=u.getTile(H),ue=this._tileClippingMaskIDs[H.key]=this.nextStencilID++,{tileBoundsBuffer:de,tileBoundsIndexBuffer:Re,tileBoundsSegments:it}=this.getTileBoundsBuffers(Y);z.draw(O,I.TRIANGLES,c.DepthMode.disabled,new c.StencilMode({func:I.ALWAYS,mask:0},ue,255,I.KEEP,I.KEEP,I.REPLACE),c.ColorMode.disabled,c.CullFaceMode.disabled,As(H.projMatrix),"$clipping",de,Re,it)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const o=this.nextStencilID++,u=this.context.gl;return new c.StencilMode({func:u.NOTEQUAL,mask:255},o,255,u.KEEP,u.KEEP,u.REPLACE)}stencilModeForClipping(o){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(o);const u=this.context.gl;return new c.StencilMode({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[o.key],0,u.KEEP,u.KEEP,u.REPLACE)}stencilConfigForOverlap(o){const u=this.context.gl,y=o.sort((z,H)=>H.overscaledZ-z.overscaledZ),O=y[y.length-1].overscaledZ,I=y[0].overscaledZ-O+1;if(I>1){this.currentStencilSource=void 0,this.nextStencilID+I>256&&this.clearStencil();const z={};for(let H=0;H<I;H++)z[H+O]=new c.StencilMode({func:u.GEQUAL,mask:255},H+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=I,[z,y]}return[{[O]:c.StencilMode.disabled},y]}colorModeForRenderPass(){const o=this.context.gl;return this._showOverdrawInspector?new c.ColorMode([o.CONSTANT_COLOR,o.ONE],new c.Color(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?c.ColorMode.unblended:c.ColorMode.alphaBlended}depthModeForSublayer(o,u,y){if(!this.opaquePassEnabledForLayer())return c.DepthMode.disabled;const O=1-((1+this.currentLayer)*this.numSublayers+o)*this.depthEpsilon;return new c.DepthMode(y||this.context.gl.LEQUAL,u,[O,O])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(o,u){this.style=o,this.options=u,this.imageManager=o.imageManager,this.glyphManager=o.glyphManager,this.symbolFadeChange=o.placement.symbolFadeChange(c.exported.now()),this.imageManager.beginFrame();const y=this.style.order,O=this.style._sourceCaches;for(const ue in O){const de=O[ue];de.used&&de.prepare(this.context)}const I={},z={},H={};for(const ue in O){const de=O[ue];I[ue]=de.getVisibleCoordinates(),z[ue]=I[ue].slice().reverse(),H[ue]=de.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let ue=0;ue<y.length;ue++)if(this.style._layers[y[ue]].is3D()){this.opaquePassCutoff=ue;break}if(this.terrain&&(this.terrain.updateTileBinding(H),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new c.GlobeSharedBuffers(this.context)),!c.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const ue of y){const de=this.style._layers[ue],Re=o._getLayerSourceCache(de);if(!de.hasOffscreenPass()||de.isHidden(this.transform.zoom))continue;const it=Re?z[Re.id]:void 0;("custom"===de.type||de.isSky()||it&&it.length)&&this.renderLayer(this,Re,de,it)}this.depthRangeFor3D=[0,1-(o.order.length+2)*this.numSublayers*this.depthEpsilon];const Y=this.terrain;if(Y&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&Y.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:u.showOverdrawInspector?c.Color.black:c.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=u.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){const ue=this.style._layers[y[this.currentLayer]],de=o._getLayerSourceCache(ue);if(ue.isSky())continue;const Re=de?z[de.id]:void 0;this._renderTileClippingMasks(ue,de,Re),this.renderLayer(this,de,ue,Re)}if(this.style.fog&&this.transform.projection.supportsFog&&function(ue,de){const Re=ue.context,it=Re.gl,vt=ue.transform,xt=new c.DepthMode(it.LEQUAL,c.DepthMode.ReadOnly,[0,1]),Mt=ue.useProgram("globeAtmosphere",null,"globe"===vt.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),Pt=c.globeToMercatorTransition(vt.zoom),Fe=de.properties.get("color").toArray01(),_t=de.properties.get("high-color").toArray01(),Ut=de.properties.get("space-color").toArray01PremultipliedAlpha(),Gt=c.identity$1([]);c.rotateY$1(Gt,Gt,-c.degToRad(vt._center.lng)),c.rotateX$1(Gt,Gt,c.degToRad(vt._center.lat)),c.rotateZ$1(Gt,Gt,vt.angle),c.rotateX$1(Gt,Gt,-vt._pitch);const hn=c.fromQuat(new Float32Array(16),Gt),fn=c.mapValue(de.properties.get("star-intensity"),0,1,0,.25),Sn=c.mapValue(de.properties.get("horizon-blend"),0,1,5e-4,.25),Mn=c.globeUseCustomAntiAliasing(ue,Re,vt)&&5e-4===Sn?vt.worldSize/(2*Math.PI*1.025)-1:vt.globeRadius,zn=ue.frameCounter/1e3%1,yi=c.length(vt.globeCenterInViewSpace),kn=Math.sqrt(Math.pow(yi,2)-Math.pow(Mn,2)),ai=Math.acos(kn/yi),Vn={u_frustum_tl:vt.frustumCorners.TL,u_frustum_tr:vt.frustumCorners.TR,u_frustum_br:vt.frustumCorners.BR,u_frustum_bl:vt.frustumCorners.BL,u_horizon:vt.frustumCorners.horizon,u_transition:Pt,u_fadeout_range:Sn,u_color:Fe,u_high_color:_t,u_space_color:Ut,u_star_intensity:fn,u_star_size:5*c.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:zn,u_horizon_angle:ai,u_rotation_matrix:hn};ue.prepareDrawProgram(Re,Mt);const pi=ue.atmosphereBuffer;pi&&Mt.draw(Re,it.TRIANGLES,xt,c.StencilMode.disabled,c.ColorMode.alphaBlended,c.CullFaceMode.backCW,Vn,"skybox",pi.vertexBuffer,pi.indexBuffer,pi.segments)}(this,this.style.fog),this.renderPass="sky",(c.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){const ue=this.style._layers[y[this.currentLayer]],de=o._getLayerSourceCache(ue);ue.isSky()&&this.renderLayer(this,de,ue,de?z[de.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;){const ue=this.style._layers[y[this.currentLayer]],de=o._getLayerSourceCache(ue);if(ue.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(ue)){if(ue.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Re=de?("symbol"===ue.type?H:z)[de.id]:void 0;this._renderTileClippingMasks(ue,de,de?I[de.id]:void 0),this.renderLayer(this,de,ue,Re),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let ue=null;c.values(this.style._layers).forEach(de=>{const Re=o._getLayerSourceCache(de);Re&&!de.isHidden(this.transform.zoom)&&(!ue||ue.getSource().maxzoom<Re.getSource().maxzoom)&&(ue=Re)}),ue&&this.options.showTileBoundaries&&Me.debug(this,ue,ue.getVisibleCoordinates())}this.options.showPadding&&function(ue){const de=ue.transform.padding;su(ue,ue.transform.height-(de.top||0),3,ho),su(ue,de.bottom||0,3,ru),Zc(ue,de.left||0,3,Ad),Zc(ue,ue.transform.width-(de.right||0),3,kd);const Re=ue.transform.centerPoint;var it,vt,xt,Mt;vc(it=ue,(vt=Re.x)-1,(xt=ue.transform.height-Re.y)-10,2,20,Mt=Rd),vc(it,vt-10,xt-1,20,2,Mt)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(c.window.performance.now()),this.saveCanvasCopy())}renderLayer(o,u,y,O){y.isHidden(this.transform.zoom)||("background"===y.type||"sky"===y.type||"custom"===y.type||O&&O.length)&&(this.id=y.id,this.gpuTimingStart(y),(!o.transform.projection.unsupportedLayers||!o.transform.projection.unsupportedLayers.includes(y.type)||o.terrain&&"custom"===y.type)&&Me[y.type](o,u,y,O,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(o){if(!this.options.gpuTiming)return;const u=this.context.extTimerQuery;let y=this.gpuTimers[o.id];y||(y=this.gpuTimers[o.id]={calls:0,cpuTime:0,query:u.createQueryEXT()}),y.calls++,u.beginQueryEXT(u.TIME_ELAPSED_EXT,y.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const o=this.context.extTimerQuery,u=o.createQueryEXT();this.deferredRenderGpuTimeQueries.push(u),o.beginQueryEXT(o.TIME_ELAPSED_EXT,u)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const o=this.context.extTimerQuery;o.endQueryEXT(o.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const o=this.context.extTimerQuery;o.endQueryEXT(o.TIME_ELAPSED_EXT)}collectGpuTimers(){const o=this.gpuTimers;return this.gpuTimers={},o}collectDeferredRenderGpuQueries(){const o=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],o}queryGpuTimers(o){const u={};for(const y in o){const O=o[y],I=this.context.extTimerQuery,z=I.getQueryObjectEXT(O.query,I.QUERY_RESULT_EXT)/1e6;I.deleteQueryEXT(O.query),u[y]=z}return u}queryGpuTimeDeferredRender(o){if(!this.options.gpuTimingDeferredRender)return 0;const u=this.context.extTimerQuery;let y=0;for(const O of o)y+=u.getQueryObjectEXT(O,u.QUERY_RESULT_EXT)/1e6,u.deleteQueryEXT(O);return y}translatePosMatrix(o,u,y,O,I){if(!y[0]&&!y[1])return o;const z=I?"map"===O?this.transform.angle:0:"viewport"===O?-this.transform.angle:0;if(z){const ue=Math.sin(z),de=Math.cos(z);y=[y[0]*de-y[1]*ue,y[0]*ue+y[1]*de]}const H=[I?y[0]:an(u,y[0],this.transform.zoom),I?y[1]:an(u,y[1],this.transform.zoom),0],Y=new Float32Array(16);return c.translate(Y,o,H),Y}saveTileTexture(o){const u=this._tileTextures[o.size[0]];u?u.push(o):this._tileTextures[o.size[0]]=[o]}getTileTexture(o){const u=this._tileTextures[o];return u&&u.length>0?u.pop():null}isPatternMissing(o){return null===o||void 0!==o&&!this.imageManager.getPattern(o.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const o=this.terrain&&this.terrain.renderingToTexture,u=this.terrain&&0===this.terrain.exaggeration(),y=this.style&&this.style.fog,O=[];return this.terrainRenderModeElevated()&&O.push("TERRAIN"),"globe"===this.transform.projection.name&&O.push("GLOBE"),u&&O.push("ZERO_EXAGGERATION"),y&&!o&&0!==y.getOpacity(this.transform.pitch)&&O.push("FOG"),o&&O.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&O.push("OVERDRAW_INSPECTOR"),O}useProgram(o,u,y){this.cache=this.cache||{};const O=y||[],I=this.currentGlobalDefines().concat(O),z=nr.cacheKey(Fs[o],o,I,u);return this.cache[z]||(this.cache[z]=new nr(this.context,o,Fs[o],u,_c[o],I)),this.cache[z]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const o=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(o.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=c.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new c.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(o,u,y){if(this.terrain&&this.terrain.renderingToTexture)return;const O=this.style.fog;if(O){const I=O.getOpacity(this.transform.pitch),z=((H,Y,ue,de,Re,it,vt,xt,Mt,Pt,Fe)=>{const _t=H.transform,Ut=Y.properties.get("color").toArray01();Ut[3]=de;const Gt=H.frameCounter/1e3%1;return{u_fog_matrix:ue?_t.calculateFogTileMatrix(ue):H.identityMat,u_fog_range:Y.getFovAdjustedRange(_t._fov),u_fog_color:Ut,u_fog_horizon_blend:Y.properties.get("horizon-blend"),u_fog_temporal_offset:Gt,u_frustum_tl:Re,u_frustum_tr:it,u_frustum_br:vt,u_frustum_bl:xt,u_globe_pos:Mt,u_globe_radius:Pt,u_viewport:Fe,u_globe_transition:c.globeToMercatorTransition(_t.zoom),u_is_globe:+("globe"===_t.projection.name)}})(this,O,y,I,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*c.exported.devicePixelRatio,this.transform.height*c.exported.devicePixelRatio]);u.setFogUniformValues(o,z)}}setTileLoadedFlag(o){this.tileLoaded=o}saveCanvasCopy(){const o=this.canvasCopy();o&&(this.frameCopies.push(o),this.tileLoaded=!1)}canvasCopy(){const o=this.context.gl,u=o.createTexture();return o.bindTexture(o.TEXTURE_2D,u),o.copyTexImage2D(o.TEXTURE_2D,0,o.RGBA,0,0,o.drawingBufferWidth,o.drawingBufferHeight,0),u}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const o=this.style&&this.style.fog;return!!o&&0!==o.getOpacity(this.transform.pitch)}getBackgroundTiles(){const o=this._backgroundTiles,u=this._backgroundTiles={},y=this.transform.coveringTiles({tileSize:512});for(const O of y)u[O.key]=o[O.key]||new c.Tile(O,512,this.transform.tileZoom,this);return u}clearBackgroundTiles(){this._backgroundTiles={}}}class Kt{constructor(o=0,u=0,y=0,O=0){if(isNaN(o)||o<0||isNaN(u)||u<0||isNaN(y)||y<0||isNaN(O)||O<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=o,this.bottom=u,this.left=y,this.right=O}interpolate(o,u,y){return null!=u.top&&null!=o.top&&(this.top=c.number(o.top,u.top,y)),null!=u.bottom&&null!=o.bottom&&(this.bottom=c.number(o.bottom,u.bottom,y)),null!=u.left&&null!=o.left&&(this.left=c.number(o.left,u.left,y)),null!=u.right&&null!=o.right&&(this.right=c.number(o.right,u.right,y)),this}getCenter(o,u){const y=c.clamp((this.left+o-this.right)/2,0,o),O=c.clamp((this.top+u-this.bottom)/2,0,u);return new c.Point(y,O)}equals(o){return this.top===o.top&&this.bottom===o.bottom&&this.left===o.left&&this.right===o.right}clone(){return new Kt(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Fn(f,o){const u=c.getColumn(f,3);c.fromQuat(f,o),c.setColumn(f,3,u)}function Un(f,o){const u=c.identity$1([]);return c.rotateZ$1(u,u,-o),c.rotateX$1(u,u,-f),u}function Qi(f,o){const u=[f[0],f[1],0],y=[o[0],o[1],0];if(c.length(u)>=1e-15){const z=c.normalize([],u);c.scale$2(y,z,c.dot(y,z)),o[0]=y[0],o[1]=y[1]}const O=c.cross([],o,f);if(c.len(O)<1e-15)return null;const I=Math.atan2(-O[1],O[0]);return Un(Math.atan2(Math.sqrt(f[0]*f[0]+f[1]*f[1]),-f[2]),I)}class hr{constructor(o,u){this.position=o,this.orientation=u}get position(){return this._position}set position(o){if(o){const u=o instanceof c.MercatorCoordinate?o:new c.MercatorCoordinate(o[0],o[1],o[2]);this._renderWorldCopies&&(u.x=c.wrap(u.x,0,1)),this._position=u}else this._position=null}lookAtPoint(o,u){if(this.orientation=null,!this.position)return;const y=this.position,O=this._elevation?this._elevation.getAtPointOrZero(c.MercatorCoordinate.fromLngLat(o)):0,I=c.MercatorCoordinate.fromLngLat(o,O),z=[I.x-y.x,I.y-y.y,I.z-y.z];u||(u=[0,0,1]),u[2]=Math.abs(u[2]),this.orientation=Qi(z,u)}setPitchBearing(o,u){this.orientation=Un(c.degToRad(o),c.degToRad(-u))}}class Ir{constructor(o,u){this._transform=c.identity([]),this.orientation=u,this.position=o}get mercatorPosition(){const o=this.position;return new c.MercatorCoordinate(o[0],o[1],o[2])}get position(){const o=c.getColumn(this._transform,3);return[o[0],o[1],o[2]]}set position(o){var u;o&&c.setColumn(this._transform,3,[(u=o)[0],u[1],u[2],1])}get orientation(){return this._orientation}set orientation(o){this._orientation=o||c.identity$1([]),o&&Fn(this._transform,this._orientation)}getPitchBearing(){const o=this.forward(),u=this.right();return{bearing:Math.atan2(-u[1],u[0]),pitch:Math.atan2(Math.sqrt(o[0]*o[0]+o[1]*o[1]),-o[2])}}setPitchBearing(o,u){this._orientation=Un(o,u),Fn(this._transform,this._orientation)}forward(){const o=c.getColumn(this._transform,2);return[-o[0],-o[1],-o[2]]}up(){const o=c.getColumn(this._transform,1);return[-o[0],-o[1],-o[2]]}right(){const o=c.getColumn(this._transform,0);return[o[0],o[1],o[2]]}getCameraToWorld(o,u){const y=new Float64Array(16);return c.invert(y,this.getWorldToCamera(o,u)),y}getWorldToCameraPosition(o,u,y){const O=this.position;c.scale$2(O,O,-o);const I=new Float64Array(16);return c.fromScaling(I,[y,y,y]),c.translate(I,I,O),I[10]*=u,I}getWorldToCamera(o,u){const y=new Float64Array(16),O=new Float64Array(4),I=this.position;return c.conjugate(O,this._orientation),c.scale$2(I,I,-o),c.fromQuat(y,O),c.translate(y,y,I),y[1]*=-1,y[5]*=-1,y[9]*=-1,y[13]*=-1,y[8]*=u,y[9]*=u,y[10]*=u,y[11]*=u,y}getCameraToClipPerspective(o,u,y,O){const I=new Float64Array(16);return c.perspective(I,o,u,y,O),I}getDistanceToElevation(o,u=!1){const y=0===o?0:c.mercatorZfromAltitude(o,u?c.latFromMercatorY(this.position[1]):this.position[1]),O=this.forward();return(y-this.position[2])/O[2]}clone(){return new Ir([...this.position],[...this.orientation])}}function Qo(f,o){const u=Jr(f.projection,f.zoom,f.width,f.height),y=function(I,z,H,Y,ue){const de=new c.LngLat(H.lng-180*or,H.lat),Re=new c.LngLat(H.lng+180*or,H.lat),it=I.project(de.lng,de.lat),vt=I.project(Re.lng,Re.lat),xt=-Math.atan2(vt.y-it.y,vt.x-it.x),Mt=c.MercatorCoordinate.fromLngLat(H);Mt.y=c.clamp(Mt.y,-1+or,1-or);const Pt=Mt.toLngLat(),Fe=I.project(Pt.lng,Pt.lat),_t=c.MercatorCoordinate.fromLngLat(Pt);_t.x+=or;const Ut=_t.toLngLat(),Gt=I.project(Ut.lng,Ut.lat),hn=za(Gt.x-Fe.x,Gt.y-Fe.y,xt),fn=c.MercatorCoordinate.fromLngLat(Pt);fn.y+=or;const mn=fn.toLngLat(),Sn=I.project(mn.lng,mn.lat),Mn=za(Sn.x-Fe.x,Sn.y-Fe.y,xt),zn=Math.abs(hn.x)/Math.abs(Mn.y),yi=c.identity([]);c.rotateZ(yi,yi,-xt*(1-(ue?0:Y)));const kn=c.identity([]);return c.scale(kn,kn,[1,1-(1-zn)*Y,1]),kn[4]=-Mn.x/Mn.y*Y,c.rotateZ(kn,kn,xt),c.multiply(kn,yi,kn),kn}(f.projection,0,f.center,u,o),O=Ro(f);return c.scale(y,y,[O,O,1]),y}function Ro(f){const o=f.projection,u=Jr(f.projection,f.zoom,f.width,f.height),y=ls(o,f.center),O=ls(o,c.LngLat.convert(o.center));return Math.pow(2,y*u+(1-u)*O)}function Jr(f,o,u,y,O=1/0){const I=f.range;if(!I)return 0;const z=Math.min(O,Math.max(u,y)),H=Math.log(z/1024)/Math.LN2;return c.smoothstep(I[0]+H,I[1]+H,o)}const or=1/4e4;function ls(f,o){const u=c.clamp(o.lat,-c.MAX_MERCATOR_LATITUDE,c.MAX_MERCATOR_LATITUDE),y=new c.LngLat(o.lng-180*or,u),O=new c.LngLat(o.lng+180*or,u),I=f.project(y.lng,u),z=f.project(O.lng,u),H=c.MercatorCoordinate.fromLngLat(y),Y=c.MercatorCoordinate.fromLngLat(O),ue=z.x-I.x,de=z.y-I.y,Re=Y.x-H.x,it=Y.y-H.y,vt=Math.sqrt((Re*Re+it*it)/(ue*ue+de*de));return Math.log(vt)/Math.LN2}function za(f,o,u){const y=Math.cos(u),O=Math.sin(u);return{x:f*y-o*O,y:f*O+o*y}}class Ts{constructor(o,u,y,O,I,z,H){this.tileSize=512,this._renderWorldCopies=void 0===I||I,this._minZoom=o||0,this._maxZoom=u||22,this._minPitch=y??0,this._maxPitch=O??60,this.setProjection(z),this.setMaxBounds(H),this.width=0,this.height=0,this._center=new c.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Kt,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Ir,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const o=new Ts(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return o._elevation=this._elevation,o._centerAltitude=this._centerAltitude,o._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,o.tileSize=this.tileSize,o.mercatorFromTransition=this.mercatorFromTransition,o.width=this.width,o.height=this.height,o.cameraElevationReference=this.cameraElevationReference,o._center=this._center,o._setZoom(this.zoom),o._seaLevelZoom=this._seaLevelZoom,o.angle=this.angle,o._fov=this._fov,o._pitch=this._pitch,o._nearZ=this._nearZ,o._farZ=this._farZ,o._averageElevation=this._averageElevation,o._unmodified=this._unmodified,o._edgeInsets=this._edgeInsets.clone(),o._camera=this._camera.clone(),o._calcMatrices(),o.freezeTileCoverage=this.freezeTileCoverage,o.frustumCorners=this.frustumCorners,o}get elevation(){return this._elevation}set elevation(o){this._elevation!==o&&(this._elevation=o,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(o,u=!1){const y=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||y)&&this._updateCameraOnTerrain(),(o||y)&&this._constrainCamera(u),this._calcMatrices()}getProjection(){return c.pick(this.projection,["name","center","parallels"])}setProjection(o){this.projectionOptions=o||{name:"mercator"};const u=this.projection?this.getProjection():void 0;this.projection=c.getProjection(this.projectionOptions);const y=!T(u,this.getProjection());return y&&this._calcMatrices(),this.mercatorFromTransition=!1,y}setMercatorFromTransition(){const o=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=c.getProjection({name:"mercator"});const u=o!==this.projection.name;return u&&this._calcMatrices(),u}get minZoom(){return this._minZoom}set minZoom(o){this._minZoom!==o&&(this._minZoom=o,this.zoom=Math.max(this.zoom,o))}get maxZoom(){return this._maxZoom}set maxZoom(o){this._maxZoom!==o&&(this._maxZoom=o,this.zoom=Math.min(this.zoom,o))}get minPitch(){return this._minPitch}set minPitch(o){this._minPitch!==o&&(this._minPitch=o,this.pitch=Math.max(this.pitch,o))}get maxPitch(){return this._maxPitch}set maxPitch(o){this._maxPitch!==o&&(this._maxPitch=o,this.pitch=Math.min(this.pitch,o))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(o){void 0===o?o=!0:null===o&&(o=!1),this._renderWorldCopies=o}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const o=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(o))}get cameraWorldSize(){const o=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(o))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return c.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.Point(this.width,this.height)}get bearing(){return c.wrap(this.rotation,-180,180)}set bearing(o){this.rotation=o}get rotation(){return-this.angle/Math.PI*180}set rotation(o){const u=-o*Math.PI/180;var y,O,I,z,H,Y,ue,de,Re,it;this.angle!==u&&(this._unmodified=!1,this.angle=u,this._calcMatrices(),this.rotationMatrix=(y=new c.ARRAY_TYPE(4),c.ARRAY_TYPE!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y),O=this.rotationMatrix,z=this.angle,H=(I=this.rotationMatrix)[0],Y=I[1],ue=I[2],de=I[3],Re=Math.sin(z),it=Math.cos(z),O[0]=H*it+ue*Re,O[1]=Y*it+de*Re,O[2]=H*-Re+ue*it,O[3]=Y*-Re+de*it)}get pitch(){return this._pitch/Math.PI*180}set pitch(o){const u=c.clamp(o,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==u&&(this._unmodified=!1,this._pitch=u,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const o=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/o)}set fov(o){o=Math.max(.01,Math.min(60,o)),this._fov!==o&&(this._unmodified=!1,this._fov=c.degToRad(o),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(o){this._averageElevation=o,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(o){const u=Math.min(Math.max(o,this.minZoom),this.maxZoom);this._zoom!==u&&(this._unmodified=!1,this._setZoom(u),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(o){this._zoom=o,this.scale=this.zoomScale(o),this.tileZoom=Math.floor(o),this.zoomFraction=o-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const o=this._elevation;this._centerAltitude=o.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=o.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const o=this._elevation,u=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],y=this.horizonLineFromTop();let O=0,I=0;for(let z=0;z<u.length;z++){const H=new c.Point(u[z][0]*this.width,y+u[z][1]*(this.height-y)),Y=o.pointCoordinate(H);if(!Y)continue;const ue=1/Math.hypot(Y[0]-this._camera.position[0],Y[1]-this._camera.position[1]);O+=Y[3]*ue,I+=ue}return 0===I?NaN:O/I}get center(){return this._center}set center(o){o.lat===this._center.lat&&o.lng===this._center.lng||(this._unmodified=!1,this._center=o,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const o=this._seaLevelZoom,u=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),y=this.pixelsPerMeter/this.worldSize*u,O=this._mercatorZfromZoom(o),I=this._mercatorZfromZoom(this._maxZoom),z=Math.max(O-y,I);this._setZoom(this._zoomFromMercatorZ(z))}get padding(){return this._edgeInsets.toJSON()}set padding(o){this._edgeInsets.equals(o)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,o,1),this._calcMatrices())}computeZoomRelativeTo(o){const u=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,o.toAltitude()));let y;y=o.z<this._camera.position[2]?[u.x,u.y,u.z]:[o.x,o.y,o.z];const O=c.length(c.sub([],this._camera.position,y));return c.clamp(this._zoomFromMercatorZ(O),this._minZoom,this._maxZoom)}setFreeCameraOptions(o){if(!this.height||!o.position&&!o.orientation)return;this._updateCameraState();let u=!1;if(o.orientation&&!c.exactEquals(o.orientation,this._camera.orientation)&&(u=this._setCameraOrientation(o.orientation)),o.position){const y=[o.position.x,o.position.y,o.position.z];c.exactEquals$1(y,this._camera.position)||(this._setCameraPosition(y),u=!0)}u&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const o=this._camera.position,u=new hr;return u.position=new c.MercatorCoordinate(o[0],o[1],o[2]),u.orientation=this._camera.orientation,u._elevation=this.elevation,u._renderWorldCopies=this.renderWorldCopies,u}_setCameraOrientation(o){if(!c.length$1(o))return!1;c.normalize$1(o,o);const u=c.transformQuat([],[0,0,-1],o),y=c.transformQuat([],[0,-1,0],o);if(y[2]<0)return!1;const O=Qi(u,y);return!!O&&(this._camera.orientation=O,!0)}_setCameraPosition(o){const u=this.zoomScale(this.minZoom)*this.tileSize,y=this.zoomScale(this.maxZoom)*this.tileSize,O=this.cameraToCenterDistance;o[2]=c.clamp(o[2],O/y,O/u),this._camera.position=o}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(o){return this._edgeInsets.equals(o)}interpolatePadding(o,u,y){this._unmodified=!1,this._edgeInsets.interpolate(o,u,y),this._constrain(),this._calcMatrices()}coveringZoomLevel(o){const u=(o.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/o.tileSize));return Math.max(0,u)}getVisibleUnwrappedCoordinates(o){const u=[new c.UnwrappedTileID(0,o)];if(this.renderWorldCopies){const y=this.pointCoordinate(new c.Point(0,0)),O=this.pointCoordinate(new c.Point(this.width,0)),I=this.pointCoordinate(new c.Point(this.width,this.height)),z=this.pointCoordinate(new c.Point(0,this.height)),H=Math.floor(Math.min(y.x,O.x,I.x,z.x)),Y=Math.floor(Math.max(y.x,O.x,I.x,z.x)),ue=1;for(let de=H-ue;de<=Y+ue;de++)0!==de&&u.push(new c.UnwrappedTileID(de,o))}return u}coveringTiles(o){let u=this.coveringZoomLevel(o);const y=u,O=this.elevation&&!o.isTerrainDEM,I="mercator"===this.projection.name;if(void 0!==o.minzoom&&u<o.minzoom)return[];void 0!==o.maxzoom&&u>o.maxzoom&&(u=o.maxzoom);const z=this.locationCoordinate(this.center),H=this.center.lat,Y=1<<u,ue=[Y*z.x,Y*z.y,0],de="globe"===this.projection.name,Re=!de,it=c.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,u,Re),vt=de?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),xt=Y*c.mercatorZfromAltitude(1,this.center.lat),Mt=this._camera.position[2]/c.mercatorZfromAltitude(1,this.center.lat),Pt=[Y*vt.x,Y*vt.y,Mt*(Re?1:xt)],Fe=this.cameraToCenterDistance/o.tileSize*(o.roundZoom?1:.502),_t=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?u:0,Ut=o.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Gt=o.isTerrainDEM?-Ut:this._elevation?this._elevation.getMinElevationBelowMSL():0,hn=this.projection.isReprojectedInTileSpace?Ro(this):1,fn=An=>{const gi=new c.MercatorCoordinate(An.x+25e-6,An.y,An.z),ci=new c.MercatorCoordinate(An.x,An.y+25e-6,An.z),vi=An.toLngLat(),so=gi.toLngLat(),So=ci.toLngLat(),Yi=this.locationCoordinate(vi),po=this.locationCoordinate(so),Io=this.locationCoordinate(So),qo=Math.hypot(po.x-Yi.x,po.y-Yi.y),eo=Math.hypot(Io.x-Yi.x,Io.y-Yi.y);return Math.sqrt(qo*eo)*hn/25e-6},mn=An=>{const oi=Ut,gi=Gt;return{aabb:c.tileAABB(this,Y,0,0,0,An,gi,oi,this.projection),zoom:0,x:0,y:0,minZ:gi,maxZ:oi,wrap:An,fullyVisible:!1}},Sn=[];let Mn=[];const zn=u,yi=o.reparseOverscaled?y:u,kn=An=>An*An,ai=kn((Mt-this._centerAltitude)*xt),Vn=An=>{if(!this._elevation||!An.tileID||!I)return;const oi=this._elevation.getMinMaxForTile(An.tileID),gi=An.aabb;oi?(gi.min[2]=oi.min,gi.max[2]=oi.max,gi.center[2]=(gi.min[2]+gi.max[2])/2):(An.shouldSplit=pi(An),An.shouldSplit||(gi.min[2]=gi.max[2]=gi.center[2]=this._centerAltitude))},pi=An=>{if(An.zoom<_t)return!0;if(An.zoom===zn)return!1;if(null!=An.shouldSplit)return An.shouldSplit;const oi=An.aabb.distanceX(Pt),gi=An.aabb.distanceY(Pt);let ci=ai,vi=1;if(de){ci=kn(An.aabb.distanceZ(Pt));const Yi=Math.pow(2,An.zoom),po=c.latFromMercatorY((An.y+1)/Yi),Io=c.latFromMercatorY(An.y/Yi),qo=Math.min(Math.max(H,po),Io),eo=c.circumferenceAtLatitude(qo)/c.circumferenceAtLatitude(H);if(vi=qo===H?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,eo/this._mercatorScaleRatio),this.zoom<=c.GLOBE_ZOOM_THRESHOLD_MIN&&An.zoom===zn-1&&eo>=.9)return!0}else if(O&&(ci=kn(An.aabb.distanceZ(Pt)*xt)),this.projection.isReprojectedInTileSpace&&y<=5){const Yi=Math.pow(2,An.zoom),po=fn(new c.MercatorCoordinate((An.x+.5)/Yi,(An.y+.5)/Yi));vi=po>.85?1:po}const so=oi*oi+gi*gi+ci;return so<kn((1<<zn-An.zoom)*Fe*vi*((Yi,po)=>{if(po*kn(.707)<Yi)return 1;const Io=Math.sqrt(po/Yi);return Io/(1.4144271570014144+(Math.pow(1.1,Io-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(ci,ai),so))};if(this.renderWorldCopies)for(let An=1;An<=3;An++)Sn.push(mn(-An)),Sn.push(mn(An));for(Sn.push(mn(0));Sn.length>0;){const An=Sn.pop(),oi=An.x,gi=An.y;let ci=An.fullyVisible;if(!ci){const vi=An.aabb.intersects(it);if(0===vi)continue;ci=2===vi}if(An.zoom!==zn&&pi(An))for(let vi=0;vi<4;vi++){const so=(oi<<1)+vi%2,So=(gi<<1)+(vi>>1),Yi={aabb:I?An.aabb.quadrant(vi):c.tileAABB(this,Y,An.zoom+1,so,So,An.wrap,An.minZ,An.maxZ,this.projection),zoom:An.zoom+1,x:so,y:So,wrap:An.wrap,fullyVisible:ci,tileID:void 0,shouldSplit:void 0,minZ:An.minZ,maxZ:An.maxZ};O&&!de&&(Yi.tileID=new c.OverscaledTileID(An.zoom+1===zn?yi:An.zoom+1,An.wrap,An.zoom+1,so,So),Vn(Yi)),Sn.push(Yi)}else{const vi=An.zoom===zn?yi:An.zoom;if(o.minzoom&&o.minzoom>vi)continue;const so=ue[0]-(.5+oi+(An.wrap<<An.zoom))*(1<<u-An.zoom),So=ue[1]-.5-gi,Yi=An.tileID?An.tileID:new c.OverscaledTileID(vi,An.wrap,An.zoom,oi,gi);Mn.push({tileID:Yi,distanceSq:so*so+So*So})}}if(this.fogCullDistSq){const An=this.fogCullDistSq,oi=this.horizonLineFromTop();Mn=Mn.filter(gi=>{const ci=[0,0,0,1],vi=[c.EXTENT,c.EXTENT,0,1],so=this.calculateFogTileMatrix(gi.tileID.toUnwrapped());c.transformMat4$1(ci,ci,so),c.transformMat4$1(vi,vi,so);const So=c.getAABBPointSquareDist(ci,vi);if(0===So)return!0;let Yi=!1;const po=this._elevation;if(po&&So>An&&0!==oi){const Io=this.calculateProjMatrix(gi.tileID.toUnwrapped());let qo;o.isTerrainDEM||(qo=po.getMinMaxForTile(gi.tileID)),qo||(qo={min:Gt,max:Ut});const eo=c.furthestTileCorner(this.rotation),Nr=[eo[0]*c.EXTENT,eo[1]*c.EXTENT,qo.max];c.transformMat4(Nr,Nr,Io),Yi=(1-Nr[1])*this.height*.5<oi}return So<An||Yi})}return Mn.sort((An,oi)=>An.distanceSq-oi.distanceSq).map(An=>An.tileID)}resize(o,u){this.width=o,this.height=u,this.pixelsToGLUnits=[2/o,-2/u],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(o){return Math.pow(2,o)}scaleZoom(o){return Math.log(o)/Math.LN2}project(o){const u=c.clamp(o.lat,-c.MAX_MERCATOR_LATITUDE,c.MAX_MERCATOR_LATITUDE),y=this.projection.project(o.lng,u);return new c.Point(y.x*this.worldSize,y.y*this.worldSize)}unproject(o){return this.projection.unproject(o.x/this.worldSize,o.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/c.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(o,u){let y,O;const I=this.centerPoint;if("globe"===this.projection.name){const H=this.worldSize;y=(u.x-I.x)/H,O=(u.y-I.y)/H}else{const H=this.pointCoordinate(u),Y=this.pointCoordinate(I);y=H.x-Y.x,O=H.y-Y.y}const z=this.locationCoordinate(o);this.setLocation(new c.MercatorCoordinate(z.x-y,z.y-O))}setLocation(o){this.center=this.coordinateLocation(o),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(o){return this.projection.locationPoint(this,o)}locationPoint3D(o){return this.projection.locationPoint(this,o,!0)}pointLocation(o){return this.coordinateLocation(this.pointCoordinate(o))}pointLocation3D(o){return this.coordinateLocation(this.pointCoordinate3D(o))}locationCoordinate(o,u){const y=u?c.mercatorZfromAltitude(u,o.lat):void 0,O=this.projection.project(o.lng,o.lat);return new c.MercatorCoordinate(O.x,O.y,y)}coordinateLocation(o){return this.projection.unproject(o.x,o.y)}pointRayIntersection(o,u){const y=u??this._centerAltitude,O=[o.x,o.y,0,1],I=[o.x,o.y,1,1];c.transformMat4$1(O,O,this.pixelMatrixInverse),c.transformMat4$1(I,I,this.pixelMatrixInverse);const z=I[3];c.scale$1(O,O,1/O[3]),c.scale$1(I,I,1/z);const H=O[2],Y=I[2];return{p0:O,p1:I,t:H===Y?0:(y-H)/(Y-H)}}screenPointToMercatorRay(o){const u=[o.x,o.y,0,1],y=[o.x,o.y,1,1];return c.transformMat4$1(u,u,this.pixelMatrixInverse),c.transformMat4$1(y,y,this.pixelMatrixInverse),c.scale$1(u,u,1/u[3]),c.scale$1(y,y,1/y[3]),u[2]=c.mercatorZfromAltitude(u[2],this._center.lat)*this.worldSize,y[2]=c.mercatorZfromAltitude(y[2],this._center.lat)*this.worldSize,c.scale$1(u,u,1/this.worldSize),c.scale$1(y,y,1/this.worldSize),new c.Ray([u[0],u[1],u[2]],c.normalize([],c.sub([],y,u)))}rayIntersectionCoordinate(o){const{p0:u,p1:y,t:O}=o,I=c.mercatorZfromAltitude(u[2],this._center.lat),z=c.mercatorZfromAltitude(y[2],this._center.lat);return new c.MercatorCoordinate(c.number(u[0],y[0],O)/this.worldSize,c.number(u[1],y[1],O)/this.worldSize,c.number(I,z,O))}pointCoordinate(o,u=this._centerAltitude){return this.projection.pointCoordinate(this,o.x,o.y,u)}pointCoordinate3D(o){if(!this.elevation)return this.pointCoordinate(o);let u=this.projection.pointCoordinate3D(this,o.x,o.y);if(u)return new c.MercatorCoordinate(u[0],u[1],u[2]);let y=0,O=this.horizonLineFromTop();if(o.y>O)return this.pointCoordinate(o);const I=.02*O,z=o.clone();for(let H=0;H<10&&O-y>I;H++){z.y=c.number(y,O,.66);const Y=this.projection.pointCoordinate3D(this,z.x,z.y);Y?(O=z.y,u=Y):y=z.y}return u?new c.MercatorCoordinate(u[0],u[1],u[2]):this.pointCoordinate(o)}isPointAboveHorizon(o){return this.projection.isPointAboveHorizon(this,o)}isPointOnSurface(o){if(o.y<0||o.y>this.height||o.x<0||o.x>this.width)return!1;if(this.elevation||this.zoom>=c.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(o);const u=this.pointCoordinate(o);return u.y>=0&&u.y<=1}_coordinatePoint(o,u){const y=u&&this.elevation?this.elevation.getAtPointOrZero(o,this._centerAltitude):this._centerAltitude,O=[o.x*this.worldSize,o.y*this.worldSize,y+o.toAltitude(),1];return c.transformMat4$1(O,O,this.pixelMatrix),O[3]>0?new c.Point(O[0]/O[3],O[1]/O[3]):new c.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:o,left:u}=this._edgeInsets,y=this.height-this._edgeInsets.bottom,O=this.width-this._edgeInsets.right,I=this.pointLocation3D(new c.Point(u,o)),z=this.pointLocation3D(new c.Point(O,o)),H=this.pointLocation3D(new c.Point(O,y)),Y=this.pointLocation3D(new c.Point(u,y));let ue=Math.min(I.lng,z.lng,H.lng,Y.lng),de=Math.max(I.lng,z.lng,H.lng,Y.lng),Re=Math.min(I.lat,z.lat,H.lat,Y.lat),it=Math.max(I.lat,z.lat,H.lat,Y.lat);const vt=Math.pow(2,-this.zoom)/16*270,xt="globe"===this.projection.name?1:4,Mt=(Pt,Fe,_t,Ut,Gt)=>{const hn=(Pt+_t)/2,fn=(Fe+Ut)/2,mn=new c.Point(hn,fn),{lng:Sn,lat:Mn}=this.pointLocation3D(mn),zn=Math.max(0,ue-Sn,Re-Mn,Sn-de,Mn-it);ue=Math.min(ue,Sn),de=Math.max(de,Sn),Re=Math.min(Re,Mn),it=Math.max(it,Mn),(Gt<xt||zn>vt)&&(Mt(Pt,Fe,hn,fn,Gt+1),Mt(hn,fn,_t,Ut,Gt+1))};if(Mt(u,o,O,o,1),Mt(O,o,O,y,1),Mt(O,y,u,y,1),Mt(u,y,u,o,1),"globe"===this.projection.name){const[Pt,Fe]=c.polesInViewport(this);Pt?(it=90,de=180,ue=-180):Fe&&(Re=-90,de=180,ue=-180)}return new c.LngLatBounds(new c.LngLat(ue,Re),new c.LngLat(de,it))}_getBoundsRectangular(o,u){const{top:y,left:O}=this._edgeInsets,I=this.height-this._edgeInsets.bottom,z=this.width-this._edgeInsets.right,H=new c.Point(O,y),Y=new c.Point(z,y),ue=new c.Point(z,I),de=new c.Point(O,I);let Re=this.pointCoordinate(H,o),it=this.pointCoordinate(Y,o);const vt=this.pointCoordinate(ue,u),xt=this.pointCoordinate(de,u),Mt=(Pt,Fe)=>(Fe.y-Pt.y)/(Fe.x-Pt.x);return Re.y>1&&it.y>=0?Re=new c.MercatorCoordinate((1-xt.y)/Mt(xt,Re)+xt.x,1):Re.y<0&&it.y<=1&&(Re=new c.MercatorCoordinate(-xt.y/Mt(xt,Re)+xt.x,0)),it.y>1&&Re.y>=0?it=new c.MercatorCoordinate((1-vt.y)/Mt(vt,it)+vt.x,1):it.y<0&&Re.y<=1&&(it=new c.MercatorCoordinate(-vt.y/Mt(vt,it)+vt.x,0)),(new c.LngLatBounds).extend(this.coordinateLocation(Re)).extend(this.coordinateLocation(it)).extend(this.coordinateLocation(xt)).extend(this.coordinateLocation(vt))}_getBoundsRectangularTerrain(){const o=this.elevation;if(!o.visibleDemTiles.length||o.isUsingMockSource())return this._getBoundsRectangular(0,0);const u=o.visibleDemTiles.reduce((y,O)=>{if(O.dem){const I=O.dem.tree;y.min=Math.min(y.min,I.minimums[0]),y.max=Math.max(y.max,I.maximums[0])}return y},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(u.min*o.exaggeration(),u.max*o.exaggeration())}getBounds(){return"mercator"===this.projection.name||"equirectangular"===this.projection.name?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(o=!0){const u=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,y=this.height/2-u*(1-this._horizonShift);return o?Math.max(0,y):y}getMaxBounds(){return this.maxBounds}setMaxBounds(o){this.maxBounds=o,this.minLat=-c.MAX_MERCATOR_LATITUDE,this.maxLat=c.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,o&&(this.minLat=o.getSouth(),this.maxLat=o.getNorth(),this.minLng=o.getWest(),this.maxLng=o.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=c.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=c.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=c.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=c.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(o,u){return this.projection.createTileMatrix(this,u,o)}calculateDistanceTileData(o){const u=o.key,y=this._distanceTileDataCache;if(y[u])return y[u];const O=o.canonical,I=1/this.height,z=this.cameraWorldSize,H=z/this.zoomScale(O.z),Y=(O.x+Math.pow(2,O.z)*o.wrap)*H,ue=O.y*H,de=this.point;de.x*=z/this.worldSize,de.y*=z/this.worldSize;const Re=this.angle,it=Math.sin(-Re),vt=-Math.cos(-Re);return y[u]={bearing:[it,vt],center:[(de.x-Y)*I,(de.y-ue)*I],scale:H/c.EXTENT*I},y[u]}calculateFogTileMatrix(o){const u=o.key,y=this._fogTileMatrixCache;if(y[u])return y[u];const O=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,o);return c.multiply(O,this.worldToFogMatrix,O),y[u]=new Float32Array(O),y[u]}calculateProjMatrix(o,u=!1){const y=o.key,O=u?this._alignedProjMatrixCache:this._projMatrixCache;if(O[y])return O[y];const I=this.calculatePosMatrix(o,this.worldSize);return c.multiply(I,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:u?this.alignedProjMatrix:this.projMatrix,I),O[y]=new Float32Array(I),O[y]}calculatePixelsToTileUnitsMatrix(o){const u=o.tileID.key,y=this._pixelsToTileUnitsCache;if(y[u])return y[u];const O=function(I,z){const{scale:H}=I.tileTransform,Y=H*c.EXTENT/(I.tileSize*Math.pow(2,z.zoom-I.tileID.overscaledZ+I.tileID.canonical.z));return ue=new Float32Array(4),it=(de=z.inverseAdjustmentMatrix)[1],vt=de[2],xt=de[3],Pt=(Re=[Y,Y])[1],ue[0]=de[0]*(Mt=Re[0]),ue[1]=it*Mt,ue[2]=vt*Pt,ue[3]=xt*Pt,ue;var ue,de,Re,it,vt,xt,Mt,Pt}(o,this);return y[u]=O,y[u]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if("globe"===this.projection.name){const o=1/this.worldSize,u=c.fromScaling([],[o,o,o]);return c.multiply(u,u,this.globeMatrix),u}}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const o=this._elevation;this._updateCameraState();const u=c.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,y=this._computeCameraPosition(u),O=this._camera.forward(),I=c.mercatorZfromAltitude(1,this._center.lat);y[2]/=I,O[2]/=I,c.normalize(O,O);const z=o.raycast(y,O,o.exaggeration());if(z){const H=c.scaleAndAdd([],y,O,z),Y=new c.MercatorCoordinate(H[0],H[1],c.mercatorZfromAltitude(H[2],c.latFromMercatorY(H[1]))),ue=(Y.z+c.length([Y.x-y[0],Y.y-y[1],Y.z-y[2]*I]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(ue),this._centerAltitude=Y.toAltitude(),this._center=this.coordinateLocation(Y),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(o=!1){if(!this._elevation)return;const u=this._elevation,y=c.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,O=this._computeCameraPosition(y),I=u.getAtPointOrZero(new c.MercatorCoordinate(...O)),z=this.pixelsPerMeter/this.worldSize*I,H=this._minimumHeightOverTerrain(),Y=O[2]-z;if(Y<=H)if(Y<0||o){const ue=this.locationCoordinate(this._center,this._centerAltitude),de=[O[0],O[1],ue.z-O[2]],Re=c.length(de);de[2]-=(H-Y)/this._pixelsPerMercatorPixel;const it=c.length(de);if(0===it)return;c.scale$2(de,de,Re/it*this._pixelsPerMercatorPixel),this._camera.position=[O[0],O[1],ue.z*this._pixelsPerMercatorPixel-de[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const o="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||o){const it=this.center;return it.lat=c.clamp(it.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!o)&&(it.lng=c.clamp(it.lng,this.minLng,this.maxLng)),this.center=it,void(this._constraining=!1)}const u=this._unmodified,{x:y,y:O}=this.point;let I=0,z=y,H=O;const Y=this.width/2,ue=this.height/2,de=this.worldMinY*this.scale,Re=this.worldMaxY*this.scale;if(O-ue<de&&(H=de+ue),O+ue>Re&&(H=Re-ue),Re-de<this.height&&(I=Math.max(I,this.height/(Re-de)),H=(Re+de)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const it=this.worldMinX*this.scale,vt=this.worldMaxX*this.scale,xt=this.worldSize/2-(it+vt)/2;z=(y+xt+this.worldSize)%this.worldSize-xt,z-Y<it&&(z=it+Y),z+Y>vt&&(z=vt-Y),vt-it<this.width&&(I=Math.max(I,this.width/(vt-it)),z=(vt+it)/2)}z===y&&H===O||(this.center=this.unproject(new c.Point(z,H))),I&&(this.zoom+=this.scaleZoom(I)),this._constrainCamera(),this._unmodified=u,this._constraining=!1}_minZoomForBounds(){let o=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(o=Math.max(o,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),o}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const o=this.centerOffset,u=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=c.mercatorZfromAltitude(1,this.center.lat)/c.mercatorZfromAltitude(1,c.GLOBE_SCALE_MATCH_LATITUDE));const y=Jr(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,y),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const O="meters"===this.projection.zAxisUnit?u:1,I=this._camera.getWorldToCamera(this.worldSize,O),z=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);z[8]=2*-o.x/this.width,z[9]=2*o.y/this.height;let H=c.mul([],z,I);if(this.projection.isReprojectedInTileSpace){const fn=this.locationCoordinate(this.center),mn=c.identity([]);c.translate(mn,mn,[fn.x*this.worldSize,fn.y*this.worldSize,0]),c.multiply(mn,mn,Qo(this)),c.translate(mn,mn,[-fn.x*this.worldSize,-fn.y*this.worldSize,0]),c.multiply(H,H,mn),this.inverseAdjustmentMatrix=function(Sn){const Mn=Qo(Sn,!0);return ge([],[Mn[0],Mn[1],Mn[4],Mn[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=c.scale([],H,[this.worldSize,this.worldSize,this.worldSize/O,1]),this.projMatrix=H,this.invProjMatrix=c.invert(new Float64Array(16),this.projMatrix);const Y=c.invert([],z);this.frustumCorners=c.FrustumCorners.fromInvProjectionMatrix(Y,this.horizonLineFromTop(),this.height);const ue=new Float32Array(16);c.identity(ue),c.scale(ue,ue,[1,-1,1]),c.rotateX(ue,ue,this._pitch),c.rotateZ(ue,ue,this.angle);const de=c.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Re=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;de[8]=2*-o.x/this.width,de[9]=2*(o.y+Re)/this.height,this.skyboxMatrix=c.multiply(ue,de,ue);const it=this.point,vt=it.x,xt=it.y,Mt=this.width%2/2,Pt=this.height%2/2,Fe=Math.cos(this.angle),_t=Math.sin(this.angle),Ut=vt-Math.round(vt)+Fe*Mt+_t*Pt,Gt=xt-Math.round(xt)+Fe*Pt+_t*Mt,hn=new Float64Array(H);if(c.translate(hn,hn,[Ut>.5?Ut-1:Ut,Gt>.5?Gt-1:Gt,0]),this.alignedProjMatrix=hn,H=c.create(),c.scale(H,H,[this.width/2,-this.height/2,1]),c.translate(H,H,[1,-1,0]),this.labelPlaneMatrix=H,H=c.create(),c.scale(H,H,[1,-1,1]),c.translate(H,H,[-1,-1,0]),c.scale(H,H,[2/this.width,2/this.height,1]),this.glCoordMatrix=H,this.pixelMatrix=c.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},H=c.invert(new Float64Array(16),this.pixelMatrix),!H)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=H,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=c.calculateGlobeMatrix(this);const fn=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=c.transformMat4(fn,fn,I),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=H;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const o=this.cameraWorldSizeForFog,u=this.cameraPixelsPerMeter,y=this._camera.position,O=1/this.height/this._pixelsPerMercatorPixel,I=[o,o,u];c.scale$2(I,I,O),c.scale$2(y,y,-1),c.multiply$2(y,y,I);const z=c.create();c.translate(z,z,y),c.scale(z,z,I),this.mercatorFogMatrix=z,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(o,u,O)}_computeCameraPosition(o){const u=(o=o||this.pixelsPerMeter)/this.pixelsPerMeter,y=this._camera.forward(),O=this.point,I=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*u-o/this.worldSize*this._centerAltitude;return[O.x/this.worldSize-y[0]*I,O.y/this.worldSize-y[1]*I,o/this.worldSize*this._centerAltitude-y[2]*I]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(o){const u=this._maxCameraBoundsDistance()*Math.cos(this._pitch),y=this._camera.position[2],O=o[2];let I=1;this.projection.wrap&&(this.center=this.center.wrap()),O>0&&(I=Math.min((u-y)/O,1)),this._camera.position=c.scaleAndAdd([],this._camera.position,o,I),this._updateStateFromCamera()}_updateStateFromCamera(){const o=this._camera.position,u=this._camera.forward(),{pitch:y,bearing:O}=this._camera.getPitchBearing(),I=c.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,z=this._mercatorZfromZoom(this._maxZoom)*Math.cos(c.degToRad(this._maxPitch)),H=Math.max((o[2]-I)/Math.cos(y),z),Y=this._zoomFromMercatorZ(H);c.scaleAndAdd(o,o,u,H),this._pitch=c.clamp(y,c.degToRad(this.minPitch),c.degToRad(this.maxPitch)),this.angle=c.wrap(O,-Math.PI,Math.PI),this._setZoom(c.clamp(Y,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new c.MercatorCoordinate(o[0],o[1],o[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(o){return Math.pow(2,o)*this.tileSize}_mercatorZfromZoom(o){return this.cameraToCenterDistance/this._worldSizeFromZoom(o)}_minimumHeightOverTerrain(){const o=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(o)}_zoomFromMercatorZ(o){return this.scaleZoom(this.cameraToCenterDistance/(o*this.tileSize))}zoomFromMercatorZAdjusted(o){let u=0,y=c.GLOBE_ZOOM_THRESHOLD_MAX,O=0,I=1/0;for(;y-u>1e-6&&y>u;){const z=u+.5*(y-u),H=this.tileSize*Math.pow(2,z),Y=this.getCameraToCenterDistance(this.projection,z,H),ue=this.scaleZoom(Y/(o*this.tileSize)),de=Math.abs(z-ue);de<I&&(I=de,O=z),z<ue?u=z:y=z}return O}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(c.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(o,u){const y=Math.min(o.x,u.x),O=Math.max(o.x,u.x),I=Math.min(o.y,u.y),z=Math.max(o.y,u.y);if(I<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const H=[new c.Point(y,I),new c.Point(O,z),new c.Point(y,z),new c.Point(O,I)],Y=this.renderWorldCopies?-3:0,ue=this.renderWorldCopies?4:1;for(const de of H){const Re=this.pointRayIntersection(de);if(Re.t<0)return!0;const it=this.rayIntersectionCoordinate(Re);if(it.x<Y||it.y<0||it.x>ue||it.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+c.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new c.Point(0,0),new c.Point(this.width,this.height))}zoomDeltaToMovement(o,u){const y=c.length(c.sub([],this._camera.position,o)),O=this._zoomFromMercatorZ(y)+u;return y-this._mercatorZfromZoom(O)}getCameraPoint(){if("globe"===this.projection.name){const o=function([u,y,O],I){const z=[u,y,O,1];c.transformMat4$1(z,z,I);const H=z[3]=Math.max(z[3],1e-6);return z[0]/=H,z[1]/=H,z[2]/=H,z}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new c.Point(o[0],o[1])}{const o=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.Point(0,o))}}getCameraToCenterDistance(o,u=this.zoom,y=this.worldSize){const O=Jr(o,u,this.width,this.height,1024),I=o.pixelSpaceConversion(this.center.lat,y,O);return.5/Math.tan(.5*this._fov)*this.height*I}getWorldToCameraMatrix(){const o=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&c.multiply(o,o,this.globeMatrix),o}}function Pa(f,o){let u=!1,y=null;const O=()=>{y=null,u&&(f(),y=setTimeout(O,o),u=!1)};return()=>(u=!0,y||O(),y)}class qs{constructor(o){this._hashName=o&&encodeURIComponent(o),c.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Pa(this._updateHashUnthrottled.bind(this),300)}addTo(o){return this._map=o,c.window.addEventListener("hashchange",this._onHashChange,!1),o.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),c.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const o=this._map;if(!o)return"";const u=oa(o);if(this._hashName){const y=this._hashName;let O=!1;const I=c.window.location.hash.slice(1).split("&").map(z=>{const H=z.split("=")[0];return H===y?(O=!0,`${H}=${u}`):z}).filter(z=>z);return O||I.push(`${y}=${u}`),`#${I.join("&")}`}return`#${u}`}_getCurrentHash(){const o=c.window.location.hash.replace("#","");if(this._hashName){let u;return o.split("&").map(y=>y.split("=")).forEach(y=>{y[0]===this._hashName&&(u=y)}),(u&&u[1]||"").split("/")}return o.split("/")}_onHashChange(){const o=this._map;if(!o)return!1;const u=this._getCurrentHash();if(u.length>=3&&!u.some(y=>isNaN(y))){const y=o.dragRotate.isEnabled()&&o.touchZoomRotate.isEnabled()?+(u[3]||0):o.getBearing();return o.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:y,pitch:+(u[4]||0)}),!0}return!1}_updateHashUnthrottled(){const o=c.window.location.href.replace(/(#.+)?$/,this.getHashString());c.window.history.replaceState(c.window.history.state,null,o)}}function oa(f,o){const u=f.getCenter(),y=Math.round(100*f.getZoom())/100,O=Math.ceil((y*Math.LN2+Math.log(512/360/.5))/Math.LN10),I=Math.pow(10,O),z=Math.round(u.lng*I)/I,H=Math.round(u.lat*I)/I,Y=f.getBearing(),ue=f.getPitch();let de=o?`/${z}/${H}/${y}`:`${y}/${H}/${z}`;return(Y||ue)&&(de+="/"+Math.round(10*Y)/10),ue&&(de+=`/${Math.round(ue)}`),de}const yr={linearity:.3,easing:c.bezier(0,0,.3,1)},xl=c.extend({deceleration:2500,maxSpeed:1400},yr),ra=c.extend({deceleration:20,maxSpeed:1400},yr),mi=c.extend({deceleration:1e3,maxSpeed:360},yr),sa=c.extend({deceleration:1e3,maxSpeed:90},yr);class Jl{constructor(o){this._map=o,this.clear()}clear(){this._inertiaBuffer=[]}record(o){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:c.exported.now(),settings:o})}_drainInertiaBuffer(){const o=this._inertiaBuffer,u=c.exported.now();for(;o.length>0&&u-o[0].time>160;)o.shift()}_onMoveEnd(o){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const u={zoom:0,bearing:0,pitch:0,pan:new c.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:I}of this._inertiaBuffer)u.zoom+=I.zoomDelta||0,u.bearing+=I.bearingDelta||0,u.pitch+=I.pitchDelta||0,I.panDelta&&u.pan._add(I.panDelta),I.around&&(u.around=I.around),I.pinchAround&&(u.pinchAround=I.pinchAround);const y=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,O={};if(u.pan.mag()){const I=zi(u.pan.mag(),y,c.extend({},xl,o||{}));O.offset=u.pan.mult(I.amount/u.pan.mag()),O.center=this._map.transform.center,Js(O,I)}if(u.zoom){const I=zi(u.zoom,y,ra);O.zoom=this._map.transform.zoom+I.amount,Js(O,I)}if(u.bearing){const I=zi(u.bearing,y,mi);O.bearing=this._map.transform.bearing+c.clamp(I.amount,-179,179),Js(O,I)}if(u.pitch){const I=zi(u.pitch,y,sa);O.pitch=this._map.transform.pitch+I.amount,Js(O,I)}if(O.zoom||O.bearing){const I=void 0===u.pinchAround?u.around:u.pinchAround;O.around=I?this._map.unproject(I):this._map.getCenter()}return this.clear(),O.noMoveStart=!0,O}}function Js(f,o){(!f.duration||f.duration<o.duration)&&(f.duration=o.duration,f.easing=o.easing)}function zi(f,o,u){const{maxSpeed:y,linearity:O,deceleration:I}=u,z=c.clamp(f*O/(o/1e3),-y,y),H=Math.abs(z)/(I*O);return{easing:u.easing,duration:1e3*H,amount:z*(H/2)}}class Cs extends c.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,u,y,O={}){const I=we(u.getCanvasContainer(),y),z=u.unproject(I);super(o,c.extend({point:I,lngLat:z,originalEvent:y},O)),this._defaultPrevented=!1,this.target=u}}class aa extends c.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,u,y){const O="touchend"===o?y.changedTouches:y.touches,I=he(u.getCanvasContainer(),O),z=I.map(Y=>u.unproject(Y)),H=I.reduce((Y,ue,de,Re)=>Y.add(ue.div(Re.length)),new c.Point(0,0));super(o,{points:I,point:H,lngLats:z,lngLat:u.unproject(H),originalEvent:y}),this._defaultPrevented=!1}}class zs extends c.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,u,y){super(o,{originalEvent:y}),this._defaultPrevented=!1}}class Eu{constructor(o,u){this._map=o,this._clickTolerance=u.clickTolerance}reset(){this._mousedownPos=void 0}wheel(o){return this._firePreventable(new zs(o.type,this._map,o))}mousedown(o,u){return this._mousedownPos=u,this._firePreventable(new Cs(o.type,this._map,o))}mouseup(o){this._map.fire(new Cs(o.type,this._map,o))}preclick(o){const u=c.extend({},o);u.type="preclick",this._map.fire(new Cs(u.type,this._map,u))}click(o,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||(this.preclick(o),this._map.fire(new Cs(o.type,this._map,o)))}dblclick(o){return this._firePreventable(new Cs(o.type,this._map,o))}mouseover(o){this._map.fire(new Cs(o.type,this._map,o))}mouseout(o){this._map.fire(new Cs(o.type,this._map,o))}touchstart(o){return this._firePreventable(new aa(o.type,this._map,o))}touchmove(o){this._map.fire(new aa(o.type,this._map,o))}touchend(o){this._map.fire(new aa(o.type,this._map,o))}touchcancel(o){this._map.fire(new aa(o.type,this._map,o))}_firePreventable(o){if(this._map.fire(o),o.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Wc{constructor(o){this._map=o}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(o){this._map.fire(new Cs(o.type,this._map,o))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Cs("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(o){this._delayContextMenu?this._contextMenuEvent=o:this._map.fire(new Cs(o.type,this._map,o)),this._map.listens("contextmenu")&&o.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class au{constructor(o,u){this._map=o,this._el=o.getCanvasContainer(),this._container=o.getContainer(),this._clickTolerance=u.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(o,u){this.isEnabled()&&o.shiftKey&&0===o.button&&(J(),this._startPos=this._lastPos=u,this._active=!0)}mousemoveWindow(o,u){if(!this._active)return;const y=u,O=this._startPos,I=this._lastPos;if(!O||!I||I.equals(y)||!this._box&&y.dist(O)<this._clickTolerance)return;this._lastPos=y,this._box||(this._box=le("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",o));const z=Math.min(O.x,y.x),H=Math.max(O.x,y.x),Y=Math.min(O.y,y.y),ue=Math.max(O.y,y.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${z}px,${Y}px)`,this._box.style.width=H-z+"px",this._box.style.height=ue-Y+"px")})}mouseupWindow(o,u){if(!this._active)return;const y=this._startPos,O=u;if(y&&0===o.button){if(this.reset(),Ce(),y.x!==O.x||y.y!==O.y)return this._map.fire(new c.Event("boxzoomend",{originalEvent:o})),{cameraAnimation:I=>I.fitScreenCoordinates(y,O,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",o)}}keydown(o){this._active&&27===o.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",o))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),fe(),delete this._startPos,delete this._lastPos}_fireEvent(o,u){return this._map.fire(new c.Event(o,{originalEvent:u}))}}function Xl(f,o){const u={};for(let y=0;y<f.length;y++)u[f[y].identifier]=o[y];return u}class Ol{constructor(o){this.reset(),this.numTouches=o.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(o,u,y){(this.centroid||y.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=o.timeStamp),y.length===this.numTouches&&(this.centroid=function(O){const I=new c.Point(0,0);for(const z of O)I._add(z);return I.div(O.length)}(u),this.touches=Xl(y,u)))}touchmove(o,u,y){if(this.aborted||!this.centroid)return;const O=Xl(y,u);for(const I in this.touches){const z=O[I];(!z||z.dist(this.touches[I])>30)&&(this.aborted=!0)}}touchend(o,u,y){if((!this.centroid||o.timeStamp-this.startTime>500)&&(this.aborted=!0),0===y.length){const O=!this.aborted&&this.centroid;if(this.reset(),O)return O}}}class va{constructor(o){this.singleTap=new Ol(o),this.numTaps=o.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(o,u,y){this.singleTap.touchstart(o,u,y)}touchmove(o,u,y){this.singleTap.touchmove(o,u,y)}touchend(o,u,y){const O=this.singleTap.touchend(o,u,y);if(O){const I=o.timeStamp-this.lastTime<500,z=!this.lastTap||this.lastTap.dist(O)<30;if(I&&z||this.reset(),this.count++,this.lastTime=o.timeStamp,this.lastTap=O,this.count===this.numTaps)return this.reset(),O}}}class Iu{constructor(){this._zoomIn=new va({numTouches:1,numTaps:2}),this._zoomOut=new va({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(o,u,y){this._zoomIn.touchstart(o,u,y),this._zoomOut.touchstart(o,u,y)}touchmove(o,u,y){this._zoomIn.touchmove(o,u,y),this._zoomOut.touchmove(o,u,y)}touchend(o,u,y){const O=this._zoomIn.touchend(o,u,y),I=this._zoomOut.touchend(o,u,y);return O?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:z.getZoom()+1,around:z.unproject(O)},{originalEvent:o})}):I?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:z.getZoom()-1,around:z.unproject(I)},{originalEvent:o})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const kc={0:1,2:2};class Kc{constructor(o){this.reset(),this._clickTolerance=o.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(o,u){return!1}_move(o,u){return{}}mousedown(o,u){if(this._lastPoint)return;const y=A(o);this._correctButton(o,y)&&(this._lastPoint=u,this._eventButton=y)}mousemoveWindow(o,u){const y=this._lastPoint;if(y)if(o.preventDefault(),null!=this._eventButton&&function(O,I){const z=kc[I];return void 0===O.buttons||(O.buttons&z)!==z}(o,this._eventButton))this.reset();else if(this._moved||!(u.dist(y)<this._clickTolerance))return this._moved=!0,this._lastPoint=u,this._move(y,u)}mouseupWindow(o){this._lastPoint&&A(o)===this._eventButton&&(this._moved&&Ce(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class lu extends Kc{mousedown(o,u){super.mousedown(o,u),this._lastPoint&&(this._active=!0)}_correctButton(o,u){return 0===u&&!o.ctrlKey}_move(o,u){return{around:u,panDelta:u.sub(o)}}}class To extends Kc{_correctButton(o,u){return 0===u&&o.ctrlKey||2===u}_move(o,u){const y=.8*(u.x-o.x);if(y)return this._active=!0,{bearingDelta:y}}contextmenu(o){o.preventDefault()}}class Fl extends Kc{_correctButton(o,u){return 0===u&&o.ctrlKey||2===u}_move(o,u){const y=-.5*(u.y-o.y);if(y)return this._active=!0,{pitchDelta:y}}contextmenu(o){o.preventDefault()}}class Cc{constructor(o,u){this._map=o,this._el=o.getCanvasContainer(),this._minTouches=1,this._clickTolerance=u.clickTolerance||1,this.reset(),c.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new c.Point(0,0)}touchstart(o,u,y){return this._calculateTransform(o,u,y)}touchmove(o,u,y){if(this._active&&!(y.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===y.length&&!c.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return o.cancelable&&o.preventDefault(),this._calculateTransform(o,u,y)}}touchend(o,u,y){this._calculateTransform(o,u,y),this._active&&y.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(o,u,y){y.length>0&&(this._active=!0);const O=Xl(y,u),I=new c.Point(0,0),z=new c.Point(0,0);let H=0;for(const ue in O){const de=O[ue],Re=this._touches[ue];Re&&(I._add(de),z._add(de.sub(Re)),H++,O[ue]=de)}if(this._touches=O,H<this._minTouches||!z.mag())return;const Y=z.div(H);return this._sum._add(Y),this._sum.mag()<this._clickTolerance?void 0:{around:I.div(H),panDelta:Y}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=le("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class ld{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(o){}_move(o,u,y){return{}}touchstart(o,u,y){this._firstTwoTouches||y.length<2||(this._firstTwoTouches=[y[0].identifier,y[1].identifier],this._start([u[0],u[1]]))}touchmove(o,u,y){const O=this._firstTwoTouches;if(!O)return;o.preventDefault();const[I,z]=O,H=cd(y,u,I),Y=cd(y,u,z);if(!H||!Y)return;const ue=this._aroundCenter?null:H.add(Y).div(2);return this._move([H,Y],ue,o)}touchend(o,u,y){if(!this._firstTwoTouches)return;const[O,I]=this._firstTwoTouches,z=cd(y,u,O),H=cd(y,u,I);z&&H||(this._active&&Ce(),this.reset())}touchcancel(){this.reset()}enable(o){this._enabled=!0,this._aroundCenter=!!o&&"center"===o.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function cd(f,o,u){for(let y=0;y<f.length;y++)if(f[y].identifier===u)return o[y]}function Hh(f,o){return Math.log(f/o)/Math.LN2}class dd extends ld{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(o){this._startDistance=this._distance=o[0].dist(o[1])}_move(o,u){const y=this._distance;if(this._distance=o[0].dist(o[1]),this._active||!(Math.abs(Hh(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Hh(this._distance,y),pinchAround:u}}}function Rc(f,o){return 180*f.angleWith(o)/Math.PI}class Au extends ld{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(o){this._startVector=this._vector=o[0].sub(o[1]),this._minDiameter=o[0].dist(o[1])}_move(o,u){const y=this._vector;if(this._vector=o[0].sub(o[1]),y&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Rc(this._vector,y),pinchAround:u}}_isBelowThreshold(o){this._minDiameter=Math.min(this._minDiameter,o.mag());const u=25/(Math.PI*this._minDiameter)*360,y=this._startVector;if(!y)return!1;const O=Rc(o,y);return Math.abs(O)<u}}function wc(f){return Math.abs(f.y)>Math.abs(f.x)}class ku extends ld{constructor(o){super(),this._map=o}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(o){this._lastPoints=o,wc(o[0].sub(o[1]))&&(this._valid=!1)}_move(o,u,y){const O=this._lastPoints;if(!O)return;const I=o[0].sub(O[0]),z=o[1].sub(O[1]);return this._map._cooperativeGestures&&!c.isFullscreen()&&y.touches.length<3||(this._valid=this.gestureBeginsVertically(I,z,y.timeStamp),!this._valid)?void 0:(this._lastPoints=o,this._active=!0,{pitchDelta:(I.y+z.y)/2*-.5})}gestureBeginsVertically(o,u,y){if(void 0!==this._valid)return this._valid;const O=o.mag()>=2,I=u.mag()>=2;if(!O&&!I)return;if(!O||!I)return null==this._firstMove&&(this._firstMove=y),y-this._firstMove<100&&void 0;const z=o.y>0==u.y>0;return wc(o)&&wc(u)&&z}}const Yc={panStep:100,bearingStep:15,pitchStep:10};class Wi{constructor(){const o=Yc;this._panStep=o.panStep,this._bearingStep=o.bearingStep,this._pitchStep=o.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(o){if(o.altKey||o.ctrlKey||o.metaKey)return;let u=0,y=0,O=0,I=0,z=0;switch(o.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:o.shiftKey?y=-1:(o.preventDefault(),I=-1);break;case 39:o.shiftKey?y=1:(o.preventDefault(),I=1);break;case 38:o.shiftKey?O=1:(o.preventDefault(),z=-1);break;case 40:o.shiftKey?O=-1:(o.preventDefault(),z=1);break;default:return}return this._rotationDisabled&&(y=0,O=0),{cameraAnimation:H=>{const Y=H.getZoom();H.easeTo({duration:300,easeId:"keyboardHandler",easing:_i,zoom:u?Math.round(Y)+u*(o.shiftKey?2:1):Y,bearing:H.getBearing()+y*this._bearingStep,pitch:H.getPitch()+O*this._pitchStep,offset:[-I*this._panStep,-z*this._panStep],center:H.getCenter()},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function _i(f){return f*(2-f)}const vr=4.000244140625;class Ru{constructor(o,u){this._map=o,this._el=o.getCanvasContainer(),this._handler=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,c.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(o){this._defaultZoomRate=o}setWheelZoomRate(o){this._wheelZoomRate=o}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(o){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!o&&"center"===o.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(o){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(o.ctrlKey||o.metaKey||this.isZooming()||c.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let u=o.deltaMode===c.window.WheelEvent.DOM_DELTA_LINE?40*o.deltaY:o.deltaY;const y=c.exported.now(),O=y-(this._lastWheelEventTime||0);this._lastWheelEventTime=y,0!==u&&u%vr==0?this._type="wheel":0!==u&&Math.abs(u)<4?this._type="trackpad":O>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,o)):this._type||(this._type=Math.abs(O*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),o.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=o,this._delta-=u,this._active||this._start(o)),o.preventDefault()}_onTimeout(o){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(o)}_start(o){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const u=we(this._el,o);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:u,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const o=this._map.transform;"wheel"===this._type&&o.projection.wrap&&(o._center.lng>=180||o._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const u=()=>o._terrainEnabled()&&this._aroundCoord?o.computeZoomRelativeTo(this._aroundCoord):o.zoom;if(0!==this._delta){const Y="wheel"===this._type&&Math.abs(this._delta)>vr?this._wheelZoomRate:this._defaultZoomRate;let ue=2/(1+Math.exp(-Math.abs(this._delta*Y)));this._delta<0&&0!==ue&&(ue=1/ue);const de=u(),Re=Math.pow(2,de),it="number"==typeof this._targetZoom?o.zoomScale(this._targetZoom):Re;this._targetZoom=Math.min(o.maxZoom,Math.max(o.minZoom,o.scaleZoom(it*ue))),"wheel"===this._type&&(this._startZoom=de,this._easing=this._smoothOutEasing(200)),this._delta=0}const y="number"==typeof this._targetZoom?this._targetZoom:u(),O=this._startZoom,I=this._easing;let z,H=!1;if("wheel"===this._type&&O&&I){const Y=Math.min((c.exported.now()-this._lastWheelEventTime)/200,1),ue=I(Y);z=c.number(O,y,ue),Y<1?this._frameId||(this._frameId=!0):H=!0}else z=y,H=!0;return this._active=!0,H&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!H,zoomDelta:z-u(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(o){let u=c.ease;if(this._prevEase){const y=this._prevEase,O=(c.exported.now()-y.start)/y.duration,I=y.easing(O+.01)-y.easing(O),z=.27/Math.sqrt(I*I+1e-4)*.01,H=Math.sqrt(.0729-z*z);u=c.bezier(z,H,.25,1)}return this._prevEase={start:c.exported.now(),duration:o,easing:u},u}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=le("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(c.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Lu{constructor(o,u){this._clickZoom=o,this._tapZoom=u}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Br{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(o,u){return o.preventDefault(),{cameraAnimation:y=>{y.easeTo({duration:300,zoom:y.getZoom()+(o.shiftKey?-1:1),around:y.unproject(u)},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Nu{constructor(){this._tap=new va({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(o,u,y){this._swipePoint||(this._tapTime&&o.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?y.length>0&&(this._swipePoint=u[0],this._swipeTouch=y[0].identifier):this._tap.touchstart(o,u,y))}touchmove(o,u,y){if(this._tapTime){if(this._swipePoint){if(y[0].identifier!==this._swipeTouch)return;const O=u[0],I=O.y-this._swipePoint.y;return this._swipePoint=O,o.preventDefault(),this._active=!0,{zoomDelta:I/128}}}else this._tap.touchmove(o,u,y)}touchend(o,u,y){this._tapTime?this._swipePoint&&0===y.length&&this.reset():this._tap.touchend(o,u,y)&&(this._tapTime=o.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Lc{constructor(o,u,y){this._el=o,this._mousePan=u,this._touchPan=y}enable(o){this._inertiaOptions=o||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ta{constructor(o,u,y){this._pitchWithRotate=o.pitchWithRotate,this._mouseRotate=u,this._mousePitch=y}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Ql{constructor(o,u,y,O){this._el=o,this._touchZoom=u,this._touchRotate=y,this._tapDragZoom=O,this._rotationDisabled=!1,this._enabled=!0}enable(o){this._touchZoom.enable(o),this._rotationDisabled||this._touchRotate.enable(o),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const xr=f=>f.zoom||f.drag||f.pitch||f.rotate;class ec extends c.Event{}class jh{constructor(){this.constants=[1,1,.01],this.radius=0}setup(o,u){const y=c.sub([],u,o);this.radius=c.length(y[2]<0?c.div([],y,this.constants):[y[0],y[1],0])}projectRay(o){c.div(o,o,this.constants),c.normalize(o,o),c.mul$1(o,o,this.constants);const u=c.scale$2([],o,this.radius);if(u[2]>0){const y=c.scale$2([],[0,0,1],c.dot(u,[0,0,1])),O=c.scale$2([],c.normalize([],[u[0],u[1],0]),this.radius),I=c.add([],u,c.scale$2([],c.sub([],c.add([],O,y),u),2));u[0]=I[0],u[1]=I[1]}return u}}function Pl(f){return f.panDelta&&f.panDelta.mag()||f.zoomDelta||f.bearingDelta||f.pitchDelta}class ws{constructor(o,u){this._map=o,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Jl(o),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new jh,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(u),c.bindAll(["handleEvent","handleWindowEvent"],this);const y=this._el;this._listeners=[[y,"touchstart",{passive:!0}],[y,"touchmove",{passive:!1}],[y,"touchend",void 0],[y,"touchcancel",void 0],[y,"mousedown",void 0],[y,"mousemove",void 0],[y,"mouseup",void 0],[c.window.document,"mousemove",{capture:!0}],[c.window.document,"mouseup",void 0],[y,"mouseover",void 0],[y,"mouseout",void 0],[y,"dblclick",void 0],[y,"click",void 0],[y,"keydown",{capture:!1}],[y,"keyup",void 0],[y,"wheel",{passive:!1}],[y,"contextmenu",void 0],[c.window,"blur",void 0]];for(const[O,I,z]of this._listeners)O.addEventListener(I,O===c.window.document?this.handleWindowEvent:this.handleEvent,z)}destroy(){for(const[o,u,y]of this._listeners)o.removeEventListener(u,o===c.window.document?this.handleWindowEvent:this.handleEvent,y)}_addDefaultHandlers(o){const u=this._map,y=u.getCanvasContainer();this._add("mapEvent",new Eu(u,o));const O=u.boxZoom=new au(u,o);this._add("boxZoom",O);const I=new Iu,z=new Br;u.doubleClickZoom=new Lu(z,I),this._add("tapZoom",I),this._add("clickZoom",z);const H=new Nu;this._add("tapDragZoom",H);const Y=u.touchPitch=new ku(u);this._add("touchPitch",Y);const ue=new To(o),de=new Fl(o);u.dragRotate=new Ta(o,ue,de),this._add("mouseRotate",ue,["mousePitch"]),this._add("mousePitch",de,["mouseRotate"]);const Re=new lu(o),it=new Cc(u,o);u.dragPan=new Lc(y,Re,it),this._add("mousePan",Re),this._add("touchPan",it,["touchZoom","touchRotate"]);const vt=new Au,xt=new dd;u.touchZoomRotate=new Ql(y,xt,vt,H),this._add("touchRotate",vt,["touchPan","touchZoom"]),this._add("touchZoom",xt,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Wc(u));const Mt=u.scrollZoom=new Ru(u,this);this._add("scrollZoom",Mt,["mousePan"]);const Pt=u.keyboard=new Wi;this._add("keyboard",Pt);for(const Fe of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])o.interactive&&o[Fe]&&u[Fe].enable(o[Fe])}_add(o,u,y){this._handlers.push({handlerName:o,handler:u,allowed:y}),this._handlersById[o]=u}stop(o){if(!this._updatingCamera){for(const{handler:u}of this._handlers)u.reset();this._inertia.clear(),this._fireEvents({},{},o),this._changes=[]}}isActive(){for(const{handler:o}of this._handlers)if(o.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!xr(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(o,u,y){for(const O in o)if(O!==y&&(!u||u.indexOf(O)<0))return!0;return!1}handleWindowEvent(o){this.handleEvent(o,`${o.type}Window`)}_getMapTouches(o){const u=[];for(const y of o)this._el.contains(y.target)&&u.push(y);return u}handleEvent(o,u){this._updatingCamera=!0;const y="renderFrame"===o.type,O=y?void 0:o,I={needsRenderFrame:!1},z={},H={},Y=o.touches?this._getMapTouches(o.touches):void 0,ue=Y?he(this._el,Y):y?void 0:we(this._el,o);for(const{handlerName:it,handler:vt,allowed:xt}of this._handlers){if(!vt.isEnabled())continue;let Mt;this._blockedByActive(H,xt,it)?vt.reset():vt[u||o.type]&&(Mt=vt[u||o.type](o,ue,Y),this.mergeHandlerResult(I,z,Mt,it,O),Mt&&Mt.needsRenderFrame&&this._triggerRenderFrame()),(Mt||vt.isActive())&&(H[it]=vt)}const de={};for(const it in this._previousActiveHandlers)H[it]||(de[it]=O);this._previousActiveHandlers=H,(Object.keys(de).length||Pl(I))&&(this._changes.push([I,z,de]),this._triggerRenderFrame()),(Object.keys(H).length||Pl(I))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Re}=I;Re&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Re(this._map))}mergeHandlerResult(o,u,y,O,I){if(!y)return;c.extend(o,y);const z={handlerName:O,originalEvent:y.originalEvent||I};void 0!==y.zoomDelta&&(u.zoom=z),void 0!==y.panDelta&&(u.drag=z),void 0!==y.pitchDelta&&(u.pitch=z),void 0!==y.bearingDelta&&(u.rotate=z)}_applyChanges(){const o={},u={},y={};for(const[O,I,z]of this._changes)O.panDelta&&(o.panDelta=(o.panDelta||new c.Point(0,0))._add(O.panDelta)),O.zoomDelta&&(o.zoomDelta=(o.zoomDelta||0)+O.zoomDelta),O.bearingDelta&&(o.bearingDelta=(o.bearingDelta||0)+O.bearingDelta),O.pitchDelta&&(o.pitchDelta=(o.pitchDelta||0)+O.pitchDelta),void 0!==O.around&&(o.around=O.around),void 0!==O.aroundCoord&&(o.aroundCoord=O.aroundCoord),void 0!==O.pinchAround&&(o.pinchAround=O.pinchAround),O.noInertia&&(o.noInertia=O.noInertia),c.extend(u,I),c.extend(y,z);this._updateMapTransform(o,u,y),this._changes=[]}_updateMapTransform(o,u,y){const O=this._map,I=O.transform,z=_t=>[_t.x,_t.y,_t.z];if((_t=>{const Ut=this._eventsInProgress.drag;return Ut&&!this._handlersById[Ut.handlerName].isActive()})()&&!Pl(o)){const _t=I.zoom;I.cameraElevationReference="sea",I.recenterOnTerrain(),I.cameraElevationReference="ground",_t!==I.zoom&&this._map._update(!0)}if(I._isCameraConstrained&&O._stop(!0),!Pl(o))return void this._fireEvents(u,y,!0);let{panDelta:H,zoomDelta:Y,bearingDelta:ue,pitchDelta:de,around:Re,aroundCoord:it,pinchAround:vt}=o;I._isCameraConstrained&&(Y>0&&(Y=0),I._isCameraConstrained=!1),void 0!==vt&&(Re=vt),(Y||(_t=>u.drag&&!this._eventsInProgress.drag)())&&Re&&(this._dragOrigin=z(I.pointCoordinate3D(Re)),this._trackingEllipsoid.setup(I._camera.position,this._dragOrigin)),I.cameraElevationReference="sea",O._stop(!0),Re=Re||O.transform.centerPoint,ue&&(I.bearing+=ue),de&&(I.pitch+=de),I._updateCameraState();const xt=[0,0,0];if(H)if("mercator"===I.projection.name){const _t=this._trackingEllipsoid.projectRay(I.screenPointToMercatorRay(Re).dir),Ut=this._trackingEllipsoid.projectRay(I.screenPointToMercatorRay(Re.sub(H)).dir);xt[0]=Ut[0]-_t[0],xt[1]=Ut[1]-_t[1]}else{const _t=I.pointCoordinate(Re);if("globe"===I.projection.name){H=H.rotate(-I.angle);const Ut=I._pixelsPerMercatorPixel/I.worldSize;xt[0]=-H.x*c.mercatorScale(c.latFromMercatorY(_t.y))*Ut,xt[1]=-H.y*c.mercatorScale(I.center.lat)*Ut}else{const Ut=I.pointCoordinate(Re.sub(H));_t&&Ut&&(xt[0]=Ut.x-_t.x,xt[1]=Ut.y-_t.y)}}const Mt=I.zoom,Pt=[0,0,0];if(Y){const _t=z(it||I.pointCoordinate3D(Re)),Ut={dir:c.normalize([],c.sub([],_t,I._camera.position))};if(Ut.dir[2]<0){const Gt=I.zoomDeltaToMovement(_t,Y);c.scale$2(Pt,Ut.dir,Gt)}}const Fe=c.add(xt,xt,Pt);I._translateCameraConstrained(Fe),Y&&Math.abs(I.zoom-Mt)>1e-4&&I.recenterOnTerrain(),I.cameraElevationReference="ground",this._map._update(),o.noInertia||this._inertia.record(o),this._fireEvents(u,y,!0)}_fireEvents(o,u,y){const O=xr(this._eventsInProgress),I=xr(o),z={};for(const de in o){const{originalEvent:Re}=o[de];this._eventsInProgress[de]||(z[`${de}start`]=Re),this._eventsInProgress[de]=o[de]}!O&&I&&this._fireEvent("movestart",I.originalEvent);for(const de in z)this._fireEvent(de,z[de]);I&&this._fireEvent("move",I.originalEvent);for(const de in o){const{originalEvent:Re}=o[de];this._fireEvent(de,Re)}const H={};let Y;for(const de in this._eventsInProgress){const{handlerName:Re,originalEvent:it}=this._eventsInProgress[de];this._handlersById[Re].isActive()||(delete this._eventsInProgress[de],Y=u[Re]||it,H[`${de}end`]=Y)}for(const de in H)this._fireEvent(de,H[de]);const ue=xr(this._eventsInProgress);if(y&&(O||I)&&!ue){this._updatingCamera=!0;const de=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Re=it=>0!==it&&-this._bearingSnap<it&&it<this._bearingSnap;de?(Re(de.bearing||this._map.getBearing())&&(de.bearing=0),this._map.easeTo(de,{originalEvent:Y})):(this._map.fire(new c.Event("moveend",{originalEvent:Y})),Re(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(o,u){this._map.fire(new c.Event(o,u?{originalEvent:u}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(o=>{this._frameId=void 0,this.handleEvent(new ec("renderFrame",{timeStamp:o})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const la="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class qc extends c.Evented{constructor(o,u){super(),this._moving=!1,this._zooming=!1,this.transform=o,this._bearingSnap=u.bearingSnap,this._respectPrefersReducedMotion=!1!==u.respectPrefersReducedMotion,c.bindAll(["_renderFrameCallback"],this)}getCenter(){return new c.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(o,u){return this.jumpTo({center:o},u)}panBy(o,u,y){return o=c.Point.convert(o).mult(-1),this.panTo(this.transform.center,c.extend({offset:o},u),y)}panTo(o,u,y){return this.easeTo(c.extend({center:o},u),y)}getZoom(){return this.transform.zoom}setZoom(o,u){return this.jumpTo({zoom:o},u),this}zoomTo(o,u,y){return this.easeTo(c.extend({zoom:o},u),y)}zoomIn(o,u){return this.zoomTo(this.getZoom()+1,o,u),this}zoomOut(o,u){return this.zoomTo(this.getZoom()-1,o,u),this}getBearing(){return this.transform.bearing}setBearing(o,u){return this.jumpTo({bearing:o},u),this}getPadding(){return this.transform.padding}setPadding(o,u){return this.jumpTo({padding:o},u),this}rotateTo(o,u,y){return this.easeTo(c.extend({bearing:o},u),y)}resetNorth(o,u){return this.rotateTo(0,c.extend({duration:1e3},o),u),this}resetNorthPitch(o,u){return this.easeTo(c.extend({bearing:0,pitch:0,duration:1e3},o),u),this}snapToNorth(o,u){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(o,u):this}getPitch(){return this.transform.pitch}setPitch(o,u){return this.jumpTo({pitch:o},u),this}cameraForBounds(o,u){o=c.LngLatBounds.convert(o);const y=u&&u.bearing||0,O=u&&u.pitch||0,I=o.getNorthWest(),z=o.getSouthEast();return this._cameraForBounds(this.transform,I,z,y,O,u)}_extendCameraOptions(o){const u={top:0,bottom:0,right:0,left:0};if("number"==typeof(o=c.extend({padding:u,offset:[0,0],maxZoom:this.transform.maxZoom},o)).padding){const y=o.padding;o.padding={top:y,bottom:y,right:y,left:y}}return o.padding=c.extend(u,o.padding),o}_minimumAABBFrustumDistance(o,u){const y=u.max[0]-u.min[0],O=u.max[1]-u.min[1];return y/O>o.aspect?y/(2*Math.tan(.5*o.fovX)*o.aspect):O/(2*Math.tan(.5*o.fovY)*o.aspect)}_cameraForBoundsOnGlobe(o,u,y,O,I,z){const H=o.clone(),Y=this._extendCameraOptions(z);H.bearing=O,H.pitch=I;const ue=c.LngLat.convert(u),de=c.LngLat.convert(y),Re=.5*(ue.lat+de.lat),it=.5*(ue.lng+de.lng),vt=c.latLngToECEF(Re,it),xt=c.normalize([],vt),Mt=c.normalize([],c.cross([],xt,[0,1,0])),Pt=c.cross([],Mt,xt),Fe=[Mt[0],Mt[1],Mt[2],0,Pt[0],Pt[1],Pt[2],0,xt[0],xt[1],xt[2],0,0,0,0,1],_t=[vt,c.latLngToECEF(ue.lat,ue.lng),c.latLngToECEF(de.lat,ue.lng),c.latLngToECEF(de.lat,de.lng),c.latLngToECEF(ue.lat,de.lng),c.latLngToECEF(Re,ue.lng),c.latLngToECEF(Re,de.lng),c.latLngToECEF(ue.lat,it),c.latLngToECEF(de.lat,it)];let Ut=c.Aabb.fromPoints(_t.map(ci=>[c.dot(Mt,ci),c.dot(Pt,ci),c.dot(xt,ci)]));const Gt=c.transformMat4([],Ut.center,Fe);0===c.squaredLength(Gt)&&c.set(Gt,0,0,1),c.normalize(Gt,Gt),c.scale$2(Gt,Gt,c.GLOBE_RADIUS),H.center=c.ecefToLatLng(Gt);const hn=H.getWorldToCameraMatrix(),fn=c.invert(new Float64Array(16),hn);Ut=c.Aabb.applyTransform(Ut,c.multiply([],hn,Fe)),c.transformMat4(Gt,Gt,hn);const mn=.5*(Ut.max[2]-Ut.min[2]),Sn=this._minimumAABBFrustumDistance(H,Ut),Mn=c.scale$2([],[0,0,1],mn),zn=c.add(Mn,Gt,Mn),yi=Sn+(0===H.pitch?0:c.distance(Gt,zn)),kn=H.globeCenterInViewSpace,ai=c.sub([],Gt,[kn[0],kn[1],kn[2]]);c.normalize(ai,ai),c.scale$2(ai,ai,yi);const Vn=c.add([],Gt,ai);c.transformMat4(Vn,Vn,fn);const pi=c.earthRadius/c.GLOBE_RADIUS,An=c.length(Vn),oi=c.mercatorZfromAltitude(Math.max(An*pi-c.earthRadius,Number.EPSILON),0),gi=Math.min(H.zoomFromMercatorZAdjusted(oi),Y.maxZoom);return gi>.5*(c.GLOBE_ZOOM_THRESHOLD_MIN+c.GLOBE_ZOOM_THRESHOLD_MAX)?(H.setProjection({name:"mercator"}),H.zoom=gi,this._cameraForBounds(H,u,y,O,I,z)):{center:H.center,zoom:gi,bearing:O,pitch:I}}queryTerrainElevation(o,u){const y=this.transform.elevation;return y?(u=c.extend({},{exaggerated:!0},u),y.getAtPoint(c.MercatorCoordinate.fromLngLat(o),null,u.exaggerated)):null}_cameraForBounds(o,u,y,O,I,z){if("globe"===o.projection.name)return this._cameraForBoundsOnGlobe(o,u,y,O,I,z);const H=o.clone(),Y=this._extendCameraOptions(z),ue=H.padding;H.bearing=O,H.pitch=I;const de=c.LngLat.convert(u),Re=c.LngLat.convert(y),it=new c.LngLat(de.lng,Re.lat),vt=new c.LngLat(Re.lng,de.lat),xt=H.project(de),Mt=H.project(Re),Pt=this.queryTerrainElevation(de),Fe=this.queryTerrainElevation(Re),_t=this.queryTerrainElevation(it),Ut=this.queryTerrainElevation(vt),Gt=[[xt.x,xt.y,Math.min(Pt||0,Fe||0,_t||0,Ut||0)],[Mt.x,Mt.y,Math.max(Pt||0,Fe||0,_t||0,Ut||0)]];let hn=c.Aabb.fromPoints(Gt);const fn=H.getWorldToCameraMatrix(),mn=c.invert(new Float64Array(16),fn);hn=c.Aabb.applyTransform(hn,fn);const Sn=c.sub([],hn.max,hn.min),Mn=ue.left||0,zn=ue.right||0,yi=ue.bottom||0,kn=ue.top||0,{left:ai,right:Vn,top:pi,bottom:An}=Y.padding,oi=.5*(Mn+zn),gi=.5*(kn+yi),ci=Math.min(H.scaleZoom(H.scale*Math.min((H.width-(Mn+zn+ai+Vn))/Sn[0],(H.height-(yi+kn+An+pi))/Sn[1])),Y.maxZoom),vi=H.scale/H.zoomScale(ci);hn=new c.Aabb([hn.min[0]-(ai+oi)*vi,hn.min[1]-(An+gi)*vi,hn.min[2]],[hn.max[0]+(Vn+oi)*vi,hn.max[1]+(pi+gi)*vi,hn.max[2]]);const so=.5*Sn[2],So=this._minimumAABBFrustumDistance(H,hn),Yi=[0,0,1,0];c.transformMat4$1(Yi,Yi,fn),c.normalize$2(Yi,Yi);const po=c.scale$2([],Yi,So+so),Io=c.add([],hn.center,po),qo=("number"==typeof Y.offset.x&&"number"==typeof Y.offset.y?new c.Point(Y.offset.x,Y.offset.y):c.Point.convert(Y.offset)).rotate(-c.degToRad(O));hn.center[0]-=qo.x*vi,hn.center[1]+=qo.y*vi,c.transformMat4(hn.center,hn.center,mn),c.transformMat4(Io,Io,mn);const eo=[hn.center[0],hn.center[1],Io[2]*H.pixelsPerMeter];c.scale$2(eo,eo,1/H.worldSize);const Nr=c.lngFromMercatorX(eo[0]),Kr=c.latFromMercatorY(eo[1]),Hr=Math.min(H._zoomFromMercatorZ(eo[2]),Y.maxZoom),$r=new c.LngLat(Nr,Kr);return H.mercatorFromTransition&&Hr<.5*(c.GLOBE_ZOOM_THRESHOLD_MIN+c.GLOBE_ZOOM_THRESHOLD_MAX)?(H.setProjection({name:"globe"}),H.zoom=Hr,this._cameraForBounds(H,u,y,O,I,z)):{center:$r,zoom:Hr,bearing:O,pitch:I}}fitBounds(o,u,y){const O=this.cameraForBounds(o,u);return this._fitInternal(O,u,y)}fitScreenCoordinates(o,u,y,O,I){const z=c.Point.convert(o),H=c.Point.convert(u),Y=new c.Point(Math.min(z.x,H.x),Math.min(z.y,H.y)),ue=new c.Point(Math.max(z.x,H.x),Math.max(z.y,H.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(z,H))return this;const de=this.transform.pointLocation3D(Y),Re=this.transform.pointLocation3D(ue),it=this.transform.pointLocation3D(new c.Point(Y.x,ue.y)),vt=this.transform.pointLocation3D(new c.Point(ue.x,Y.y)),xt=[Math.min(de.lng,Re.lng,it.lng,vt.lng),Math.min(de.lat,Re.lat,it.lat,vt.lat)],Mt=[Math.max(de.lng,Re.lng,it.lng,vt.lng),Math.max(de.lat,Re.lat,it.lat,vt.lat)],Pt=O&&O.pitch?O.pitch:this.getPitch(),Fe=this._cameraForBounds(this.transform,xt,Mt,y,Pt,O);return this._fitInternal(Fe,O,I)}_fitInternal(o,u,y){return o?(delete(u=c.extend(o,u)).padding,u.linear?this.easeTo(u,y):this.flyTo(u,y)):this}jumpTo(o,u){this.stop();const y=o.preloadOnly?this.transform.clone():this.transform;let O=!1,I=!1,z=!1;return"zoom"in o&&y.zoom!==+o.zoom&&(O=!0,y.zoom=+o.zoom),void 0!==o.center&&(y.center=c.LngLat.convert(o.center)),"bearing"in o&&y.bearing!==+o.bearing&&(I=!0,y.bearing=+o.bearing),"pitch"in o&&y.pitch!==+o.pitch&&(z=!0,y.pitch=+o.pitch),null==o.padding||y.isPaddingEqual(o.padding)||(y.padding=o.padding),o.preloadOnly?(this._preloadTiles(y),this):(this.fire(new c.Event("movestart",u)).fire(new c.Event("move",u)),O&&this.fire(new c.Event("zoomstart",u)).fire(new c.Event("zoom",u)).fire(new c.Event("zoomend",u)),I&&this.fire(new c.Event("rotatestart",u)).fire(new c.Event("rotate",u)).fire(new c.Event("rotateend",u)),z&&this.fire(new c.Event("pitchstart",u)).fire(new c.Event("pitch",u)).fire(new c.Event("pitchend",u)),this.fire(new c.Event("moveend",u)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||c.warnOnce(la),this.transform.getFreeCameraOptions()}setFreeCameraOptions(o,u){const y=this.transform;if(!y.projection.supportsFreeCamera)return c.warnOnce(la),this;this.stop();const O=y.zoom,I=y.pitch,z=y.bearing;y.setFreeCameraOptions(o);const H=O!==y.zoom,Y=I!==y.pitch,ue=z!==y.bearing;return this.fire(new c.Event("movestart",u)).fire(new c.Event("move",u)),H&&this.fire(new c.Event("zoomstart",u)).fire(new c.Event("zoom",u)).fire(new c.Event("zoomend",u)),ue&&this.fire(new c.Event("rotatestart",u)).fire(new c.Event("rotate",u)).fire(new c.Event("rotateend",u)),Y&&this.fire(new c.Event("pitchstart",u)).fire(new c.Event("pitch",u)).fire(new c.Event("pitchend",u)),this.fire(new c.Event("moveend",u)),this}easeTo(o,u){this._stop(!1,o.easeId),(!1===(o=c.extend({offset:[0,0],duration:500,easing:c.ease},o)).animate||this._prefersReducedMotion(o))&&(o.duration=0);const y=this.transform,O=this.getZoom(),I=this.getBearing(),z=this.getPitch(),H=this.getPadding(),Y="zoom"in o?+o.zoom:O,ue="bearing"in o?this._normalizeBearing(o.bearing,I):I,de="pitch"in o?+o.pitch:z,Re="padding"in o?o.padding:y.padding,it=c.Point.convert(o.offset);let vt,xt,Mt;if("globe"===y.projection.name){const Mn=c.MercatorCoordinate.fromLngLat(y.center),zn=it.rotate(-y.angle);Mn.x+=zn.x/y.worldSize,Mn.y+=zn.y/y.worldSize;const yi=Mn.toLngLat(),kn=c.LngLat.convert(o.center||yi);this._normalizeCenter(kn),vt=y.centerPoint.add(zn),xt=new c.Point(Mn.x,Mn.y).mult(y.worldSize),Mt=new c.Point(c.mercatorXfromLng(kn.lng),c.mercatorYfromLat(kn.lat)).mult(y.worldSize).sub(xt)}else{vt=y.centerPoint.add(it);const Mn=y.pointLocation(vt),zn=c.LngLat.convert(o.center||Mn);this._normalizeCenter(zn),xt=y.project(Mn),Mt=y.project(zn).sub(xt)}const Pt=y.zoomScale(Y-O);let Fe,_t;o.around&&(Fe=c.LngLat.convert(o.around),_t=y.locationPoint(Fe));const Ut=this._zooming||Y!==O,Gt=this._rotating||I!==ue,hn=this._pitching||de!==z,fn=!y.isPaddingEqual(Re),mn=Mn=>zn=>{if(Ut&&(Mn.zoom=c.number(O,Y,zn)),Gt&&(Mn.bearing=c.number(I,ue,zn)),hn&&(Mn.pitch=c.number(z,de,zn)),fn&&(Mn.interpolatePadding(H,Re,zn),vt=Mn.centerPoint.add(it)),Fe)Mn.setLocationAtPoint(Fe,_t);else{const yi=Mn.zoomScale(Mn.zoom-O),kn=Y>O?Math.min(2,Pt):Math.max(.5,Pt),ai=Math.pow(kn,1-zn),Vn=Mn.unproject(xt.add(Mt.mult(zn*ai)).mult(yi));Mn.setLocationAtPoint(Mn.renderWorldCopies?Vn.wrap():Vn,vt)}return o.preloadOnly||this._fireMoveEvents(u),Mn};if(o.preloadOnly){const Mn=this._emulate(mn,o.duration,y);return this._preloadTiles(Mn),this}const Sn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Ut,this._rotating=Gt,this._pitching=hn,this._padding=fn,this._easeId=o.easeId,this._prepareEase(u,o.noMoveStart,Sn),this._ease(mn(y),Mn=>{y.recenterOnTerrain(),this._afterEase(u,Mn)},o),this}_prepareEase(o,u,y={}){this._moving=!0,this.transform.cameraElevationReference="sea",u||y.moving||this.fire(new c.Event("movestart",o)),this._zooming&&!y.zooming&&this.fire(new c.Event("zoomstart",o)),this._rotating&&!y.rotating&&this.fire(new c.Event("rotatestart",o)),this._pitching&&!y.pitching&&this.fire(new c.Event("pitchstart",o))}_fireMoveEvents(o){this.fire(new c.Event("move",o)),this._zooming&&this.fire(new c.Event("zoom",o)),this._rotating&&this.fire(new c.Event("rotate",o)),this._pitching&&this.fire(new c.Event("pitch",o))}_afterEase(o,u){if(this._easeId&&u&&this._easeId===u)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const y=this._zooming,O=this._rotating,I=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,y&&this.fire(new c.Event("zoomend",o)),O&&this.fire(new c.Event("rotateend",o)),I&&this.fire(new c.Event("pitchend",o)),this.fire(new c.Event("moveend",o))}flyTo(o,u){if(this._prefersReducedMotion(o)){const ci=c.pick(o,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ci,u)}this.stop(),o=c.extend({offset:[0,0],speed:1.2,curve:1.42,easing:c.ease},o);const y=this.transform,O=this.getZoom(),I=this.getBearing(),z=this.getPitch(),H=this.getPadding(),Y="zoom"in o?c.clamp(+o.zoom,y.minZoom,y.maxZoom):O,ue="bearing"in o?this._normalizeBearing(o.bearing,I):I,de="pitch"in o?+o.pitch:z,Re="padding"in o?o.padding:y.padding,it=y.zoomScale(Y-O),vt=c.Point.convert(o.offset);let xt=y.centerPoint.add(vt);const Mt=y.pointLocation(xt),Pt=c.LngLat.convert(o.center||Mt);this._normalizeCenter(Pt);const Fe=y.project(Mt),_t=y.project(Pt).sub(Fe);let Ut=o.curve;const Gt=Math.max(y.width,y.height),hn=Gt/it,fn=_t.mag();if("minZoom"in o){const ci=c.clamp(Math.min(o.minZoom,O,Y),y.minZoom,y.maxZoom),vi=Gt/y.zoomScale(ci-O);Ut=Math.sqrt(vi/fn*2)}const mn=Ut*Ut;function Sn(ci){const vi=(hn*hn-Gt*Gt+(ci?-1:1)*mn*mn*fn*fn)/(2*(ci?hn:Gt)*mn*fn);return Math.log(Math.sqrt(vi*vi+1)-vi)}function Mn(ci){return(Math.exp(ci)-Math.exp(-ci))/2}function zn(ci){return(Math.exp(ci)+Math.exp(-ci))/2}const yi=Sn(0);let kn=function(ci){return zn(yi)/zn(yi+Ut*ci)},ai=function(ci){return Gt*((zn(yi)*(Mn(vi=yi+Ut*ci)/zn(vi))-Mn(yi))/mn)/fn;var vi},Vn=(Sn(1)-yi)/Ut;if(Math.abs(fn)<1e-6||!isFinite(Vn)){if(Math.abs(Gt-hn)<1e-6)return this.easeTo(o,u);const ci=hn<Gt?-1:1;Vn=Math.abs(Math.log(hn/Gt))/Ut,ai=function(){return 0},kn=function(vi){return Math.exp(ci*Ut*vi)}}o.duration="duration"in o?+o.duration:1e3*Vn/("screenSpeed"in o?+o.screenSpeed/Ut:+o.speed),o.maxDuration&&o.duration>o.maxDuration&&(o.duration=0);const pi=I!==ue,An=de!==z,oi=!y.isPaddingEqual(Re),gi=ci=>vi=>{const so=vi*Vn,So=1/kn(so);ci.zoom=1===vi?Y:O+ci.scaleZoom(So),pi&&(ci.bearing=c.number(I,ue,vi)),An&&(ci.pitch=c.number(z,de,vi)),oi&&(ci.interpolatePadding(H,Re,vi),xt=ci.centerPoint.add(vt));const Yi=1===vi?Pt:ci.unproject(Fe.add(_t.mult(ai(so))).mult(So));return ci.setLocationAtPoint(ci.renderWorldCopies?Yi.wrap():Yi,xt),ci._updateCameraOnTerrain(),o.preloadOnly||this._fireMoveEvents(u),ci};if(o.preloadOnly){const ci=this._emulate(gi,o.duration,y);return this._preloadTiles(ci),this}return this._zooming=!0,this._rotating=pi,this._pitching=An,this._padding=oi,this._prepareEase(u,!1),this._ease(gi(y),()=>this._afterEase(u),o),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(o,u){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const y=this._onEaseEnd;this._onEaseEnd=void 0,y.call(this,u)}if(!o){const y=this.handlers;y&&y.stop(!1)}return this}_ease(o,u,y){!1===y.animate||0===y.duration?(o(1),u()):(this._easeStart=c.exported.now(),this._easeOptions=y,this._onEaseFrame=o,this._onEaseEnd=u,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const o=Math.min((c.exported.now()-this._easeStart)/this._easeOptions.duration,1),u=this._onEaseFrame;u&&u(this._easeOptions.easing(o)),o<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(o,u){o=c.wrap(o,-180,180);const y=Math.abs(o-u);return Math.abs(o-360-u)<y&&(o-=360),Math.abs(o+360-u)<y&&(o+=360),o}_normalizeCenter(o){const u=this.transform;if(!u.renderWorldCopies||u.maxBounds)return;const y=o.lng-u.center.lng;o.lng+=y>180?-360:y<-180?360:0}_prefersReducedMotion(o){return this._respectPrefersReducedMotion&&c.exported.prefersReducedMotion&&!(o&&o.essential)}_emulate(o,u,y){const O=Math.ceil(15*u/1e3),I=[],z=o(y.clone());for(let H=0;H<=O;H++){const Y=z(H/O);I.push(Y.clone())}return I}}class Vi{constructor(o={}){this.options=o,c.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(o){const u=this.options&&this.options.compact;return this._map=o,this._container=le("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=le("button","mapboxgl-ctrl-attrib-button",this._container),le("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=le("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),u&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===u&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(o,u){const y=this._map._getUIString(`AttributionControl.${u}`);o.setAttribute("aria-label",y),o.removeAttribute("title"),o.firstElementChild&&o.firstElementChild.setAttribute("title",y)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let o=this._editLink;o||(o=this._editLink=this._container.querySelector(".mapbox-improve-map"));const u=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||c.config.ACCESS_TOKEN}];if(o){const y=u.reduce((O,I,z)=>(I.value&&(O+=`${I.key}=${I.value}${z<u.length-1?"&":""}`),O),"?");o.href=`${c.config.FEEDBACK_URL}/${y}#${oa(this._map,!0)}`,o.rel="noopener nofollow",this._setElementTitle(o,"MapFeedback")}}_updateData(o){!o||"metadata"!==o.sourceDataType&&"visibility"!==o.sourceDataType&&"style"!==o.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let o=[];if(this._map.style.stylesheet){const O=this._map.style.stylesheet;this.styleOwner=O.owner,this.styleId=O.id}const u=this._map.style._sourceCaches;for(const O in u){const I=u[O];if(I.used){const z=I.getSource();z.attribution&&o.indexOf(z.attribution)<0&&o.push(z.attribution)}}o.sort((O,I)=>O.length-I.length),o=o.filter((O,I)=>{for(let z=I+1;z<o.length;z++)if(o[z].indexOf(O)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?o=[...this.options.customAttribution,...o]:o.unshift(this.options.customAttribution));const y=o.join(" | ");y!==this._attribHTML&&(this._attribHTML=y,o.length?(this._innerContainer.innerHTML=y,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class ${constructor(){c.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(o){this._map=o,this._container=le("div","mapboxgl-ctrl");const u=le("a","mapboxgl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://www.mapbox.com/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(o){o&&"metadata"!==o.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const o=this._map.style._sourceCaches;if(0===Object.entries(o).length)return!0;for(const u in o){const y=o[u].getSource();if(y.hasOwnProperty("mapbox_logo")&&!y.mapbox_logo)return!1}return!0}_updateCompact(){const o=this._container.children;if(o.length){const u=o[0];this._map.getCanvasContainer().offsetWidth<250?u.classList.add("mapboxgl-compact"):u.classList.remove("mapboxgl-compact")}}}class ee{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(o){const u=++this._id;return this._queue.push({callback:o,id:u,cancelled:!1}),u}remove(o){const u=this._currentlyRunning,y=u?this._queue.concat(u):this._queue;for(const O of y)if(O.id===o)return void(O.cancelled=!0)}run(o=0){const u=this._currentlyRunning=this._queue;this._queue=[];for(const y of u)if(!y.cancelled&&(y.callback(o),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function j(f,o,u){if(f=new c.LngLat(f.lng,f.lat),o){const y=new c.LngLat(f.lng-360,f.lat),O=new c.LngLat(f.lng+360,f.lat),I=360*Math.ceil(Math.abs(f.lng-u.center.lng)/360),z=u.locationPoint(f).distSqr(o),H=o.x<0||o.y<0||o.x>u.width||o.y>u.height;u.locationPoint(y).distSqr(o)<z&&(H||Math.abs(y.lng-u.center.lng)<I)?f=y:u.locationPoint(O).distSqr(o)<z&&(H||Math.abs(O.lng-u.center.lng)<I)&&(f=O)}for(;Math.abs(f.lng-u.center.lng)>180;){const y=u.locationPoint(f);if(y.x>=0&&y.y>=0&&y.x<=u.width&&y.y<=u.height)break;f.lng>u.center.lng?f.lng-=360:f.lng+=360}return f}const te={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class ne extends c.Evented{constructor(o,u){if(super(),(o instanceof c.window.HTMLElement||u)&&(o=c.extend({element:o},u)),c.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=o&&o.anchor||"center",this._color=o&&o.color||"#3FB1CE",this._scale=o&&o.scale||1,this._draggable=o&&o.draggable||!1,this._clickTolerance=o&&o.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=o&&o.rotation||0,this._rotationAlignment=o&&o.rotationAlignment||"auto",this._pitchAlignment=o&&o.pitchAlignment&&o.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=o&&o.occludedOpacity||.2,o&&o.element)this._element=o.element,this._offset=c.Point.convert(o&&o.offset||[0,0]);else{this._defaultMarker=!0,this._element=le("div");const O=41,I=27,z=me("svg",{display:"block",height:O*this._scale+"px",width:I*this._scale+"px",viewBox:`0 0 ${I} ${O}`},this._element),H=me("radialGradient",{id:"shadowGradient"},me("defs",{},z));me("stop",{offset:"10%","stop-opacity":.4},H),me("stop",{offset:"100%","stop-opacity":.05},H),me("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},z),me("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},z),me("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},z),me("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},z),this._offset=c.Point.convert(o&&o.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",O=>{O.preventDefault()}),this._element.addEventListener("mousedown",O=>{O.preventDefault()});const y=this._element.classList;for(const O in te)y.remove(`mapboxgl-marker-anchor-${O}`);y.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(o){return o===this._map||(this.remove(),this._map=o,o.getCanvasContainer().appendChild(this._element),o.on("move",this._updateMoving),o.on("moveend",this._update),o.on("remove",this._clearFadeTimer),o._addMarker(this),this.setDraggable(this._draggable),this._update(),o.on("click",this._onMapClick)),this}remove(){const o=this._map;return o&&(o.off("click",this._onMapClick),o.off("move",this._updateMoving),o.off("moveend",this._update),o.off("mousedown",this._addDragHandler),o.off("touchstart",this._addDragHandler),o.off("mouseup",this._onUp),o.off("touchend",this._onUp),o.off("mousemove",this._onMove),o.off("touchmove",this._onMove),o.off("remove",this._clearFadeTimer),o._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(o){return this._lngLat=c.LngLat.convert(o),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(o){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),o){if(!("offset"in o.options)){const O=Math.sqrt(Math.pow(13.5,2)/2);o.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[O,-1*(24.6+O)],"bottom-right":[-O,-1*(24.6+O)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=o,o._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(o){const u=o.code,y=o.charCode||o.keyCode;"Space"!==u&&"Enter"!==u&&32!==y&&13!==y||this.togglePopup()}_onMapClick(o){const u=o.originalEvent.target,y=this._element;this._popup&&(u===y||y.contains(u))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const o=this._popup;return o?(o.isOpen()?(o.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(o.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const o=this._map,u=this._pos;if(!o||!u)return!1;const y=o.unproject(u),O=o.getFreeCameraOptions();if(!O.position)return!1;const I=O.position.toLngLat();return I.distanceTo(y)<.9*I.distanceTo(this._lngLat)}_evaluateOpacity(){const o=this._map;if(!o)return;const u=this._pos;if(!u||u.x<0||u.x>o.transform.width||u.y<0||u.y>o.transform.height)return void this._clearFadeTimer();const y=o.unproject(u);let O;o._showingGlobe()&&c.isLngLatBehindGlobe(o.transform,this._lngLat)?O=0:(O=1-o._queryFogOpacity(y),o.transform._terrainEnabled()&&o.getTerrain()&&this._behindTerrain()&&(O*=this._occludedOpacity)),this._element.style.opacity=`${O}`,this._element.style.pointerEvents=O>0?"auto":"none",this._popup&&this._popup._setOpacity(O),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const o=this._pos;if(!o||!this._map)return;const u=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${o.x}px,${o.y}px)\n            ${te[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${u.x}px,${u.y}px)\n        `}_calculateXYTransform(){const o=this._pos,u=this._map,y=this.getPitchAlignment();if(!u||!o||"map"!==y)return"";if(!u._showingGlobe()){const Y=u.getPitch();return Y?`rotateX(${Y}deg)`:""}const O=c.radToDeg(c.globeTiltAtLngLat(u.transform,this._lngLat)),I=o.sub(c.globeCenterToScreenPoint(u.transform)),z=Math.abs(I.x)+Math.abs(I.y);if(0===z)return"";const H=O/z;return`rotateX(${-I.y*H}deg) rotateY(${I.x*H}deg)`}_calculateZTransform(){const o=this._pos,u=this._map;if(!u||!o)return"";let y=0;const O=this.getRotationAlignment();if("map"===O)if(u._showingGlobe()){const I=u.project(new c.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),z=u.project(new c.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(I);y=c.radToDeg(Math.atan2(z.y,z.x))-90}else y=-u.getBearing();else if("horizon"===O){const I=c.smoothstep(4,6,u.getZoom()),z=c.globeCenterToScreenPoint(u.transform);z.y+=I*u.transform.height;const H=o.sub(z),Y=c.radToDeg(Math.atan2(H.y,H.x));y=(Y>90?Y-270:Y+90)*(1-I)}return y+=this._rotation,y?`rotateZ(${y}deg)`:""}_update(o){c.window.cancelAnimationFrame(this._updateFrameId);const u=this._map;u&&(u.transform.renderWorldCopies&&(this._lngLat=j(this._lngLat,this._pos,u.transform)),this._pos=u.project(this._lngLat),!0===o?this._updateFrameId=c.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),u._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(u._showingGlobe()||u.getTerrain()||u.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(o){return this._offset=c.Point.convert(o),this._update(),this}_onMove(o){const u=this._map;if(!u)return;const y=this._pointerdownPos,O=this._positionDelta;if(y&&O){if(!this._isDragging){const I=this._clickTolerance||u._clickTolerance;if(o.point.dist(y)<I)return;this._isDragging=!0}this._pos=o.point.sub(O),this._lngLat=u.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new c.Event("dragstart"))),this.fire(new c.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const o=this._map;o&&(o.off("mousemove",this._onMove),o.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new c.Event("dragend")),this._state="inactive"}_addDragHandler(o){const u=this._map,y=this._pos;u&&y&&this._element.contains(o.originalEvent.target)&&(o.preventDefault(),this._positionDelta=o.point.sub(y),this._pointerdownPos=o.point,this._state="pending",u.on("mousemove",this._onMove),u.on("touchmove",this._onMove),u.once("mouseup",this._onUp),u.once("touchend",this._onUp))}setDraggable(o){this._draggable=!!o;const u=this._map;return u&&(o?(u.on("mousedown",this._addDragHandler),u.on("touchstart",this._addDragHandler)):(u.off("mousedown",this._addDragHandler),u.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(o){return this._rotation=o||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(o){return this._rotationAlignment=o||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(o){return this._pitchAlignment=o||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(o){return this._occludedOpacity=o||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const dt={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Xt=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Yn(f=new c.Point(0,0),o="bottom"){if("number"==typeof f){const u=Math.round(Math.sqrt(.5*Math.pow(f,2)));switch(o){case"top":return new c.Point(0,f);case"top-left":return new c.Point(u,u);case"top-right":return new c.Point(-u,u);case"bottom":return new c.Point(0,-f);case"bottom-left":return new c.Point(u,-u);case"bottom-right":return new c.Point(-u,-u);case"left":return new c.Point(f,0);case"right":return new c.Point(-f,0)}return new c.Point(0,0)}return f instanceof c.Point||Array.isArray(f)?c.Point.convert(f):c.Point.convert(f[o]||[0,0])}class Wn{constructor(o){this.jumpTo(o)}getValue(o){if(o<=this._startTime)return this._start;if(o>=this._endTime)return this._end;const u=c.easeCubicInOut((o-this._startTime)/(this._endTime-this._startTime));return this._start*(1-u)+this._end*u}isEasing(o){return o>=this._startTime&&o<=this._endTime}jumpTo(o){this._startTime=-1/0,this._endTime=-1/0,this._start=o,this._end=o}easeTo(o,u,y){this._start=this.getValue(u),this._end=o,this._startTime=u,this._endTime=u+y}}const Ki={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},Go={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},is={showCompass:!0,showZoom:!0,visualizePitch:!1};class Yo{constructor(o,u,y=!1){this._clickTolerance=10,this.element=u,this.mouseRotate=new To({clickTolerance:o.dragRotate._mouseRotate._clickTolerance}),this.map=o,y&&(this.mousePitch=new Fl({clickTolerance:o.dragRotate._mousePitch._clickTolerance})),c.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),u.addEventListener("mousedown",this.mousedown),u.addEventListener("touchstart",this.touchstart,{passive:!1}),u.addEventListener("touchmove",this.touchmove),u.addEventListener("touchend",this.touchend),u.addEventListener("touchcancel",this.reset)}down(o,u){this.mouseRotate.mousedown(o,u),this.mousePitch&&this.mousePitch.mousedown(o,u),J()}move(o,u){const y=this.map,O=this.mouseRotate.mousemoveWindow(o,u),I=O&&O.bearingDelta;if(I&&y.setBearing(y.getBearing()+I),this.mousePitch){const z=this.mousePitch.mousemoveWindow(o,u),H=z&&z.pitchDelta;H&&y.setPitch(y.getPitch()+H)}}off(){const o=this.element;o.removeEventListener("mousedown",this.mousedown),o.removeEventListener("touchstart",this.touchstart,{passive:!1}),o.removeEventListener("touchmove",this.touchmove),o.removeEventListener("touchend",this.touchend),o.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){fe(),c.window.removeEventListener("mousemove",this.mousemove),c.window.removeEventListener("mouseup",this.mouseup)}mousedown(o){this.down(c.extend({},o,{ctrlKey:!0,preventDefault:()=>o.preventDefault()}),we(this.element,o)),c.window.addEventListener("mousemove",this.mousemove),c.window.addEventListener("mouseup",this.mouseup)}mousemove(o){this.move(o,we(this.element,o))}mouseup(o){this.mouseRotate.mouseupWindow(o),this.mousePitch&&this.mousePitch.mouseupWindow(o),this.offTemp()}touchstart(o){1!==o.targetTouches.length?this.reset():(this._startPos=this._lastPos=he(this.element,o.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>o.preventDefault()},this._startPos))}touchmove(o){1!==o.targetTouches.length?this.reset():(this._lastPos=he(this.element,o.targetTouches)[0],this.move({preventDefault:()=>o.preventDefault()},this._lastPos))}touchend(o){0===o.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const fl={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Bl={maxWidth:100,unit:"metric"},Tl={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},zl={version:c.version,supported:V,setRTLTextPlugin:c.setRTLTextPlugin,getRTLTextPluginStatus:c.getRTLTextPluginStatus,Map:class extends qc{constructor(f){if(c.LivePerformanceUtils.mark(c.PerformanceMarkers.create),null!=(f=c.extend({},Go,f)).minZoom&&null!=f.maxZoom&&f.minZoom>f.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=f.minPitch&&null!=f.maxPitch&&f.minPitch>f.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=f.minPitch&&f.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=f.maxPitch&&f.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(f.antialias&&c.isSafariWithAntialiasingBug(c.window)&&(f.antialias=!1,c.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Ts(f.minZoom,f.maxZoom,f.minPitch,f.maxPitch,f.renderWorldCopies),f),this._interactive=f.interactive,this._minTileCacheSize=f.minTileCacheSize,this._maxTileCacheSize=f.maxTileCacheSize,this._failIfMajorPerformanceCaveat=f.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=f.preserveDrawingBuffer,this._antialias=f.antialias,this._useWebGL2=f.useWebGL2,this._trackResize=f.trackResize,this._bearingSnap=f.bearingSnap,this._refreshExpiredTiles=f.refreshExpiredTiles,this._fadeDuration=f.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=f.crossSourceCollisions,this._collectResourceTiming=f.collectResourceTiming,this._optimizeForTerrain=f.optimizeForTerrain,this._language=this._parseLanguage(f.language),this._worldview=f.worldview,this._renderTaskQueue=new ee,this._domRenderTaskQueue=new ee,this._controls=[],this._markers=[],this._popups=[],this._mapId=c.uniqueId(),this._locale=c.extend({},Ki,f.locale),this._clickTolerance=f.clickTolerance,this._cooperativeGestures=f.cooperativeGestures,this._performanceMetricsCollection=f.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Wn(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new c.RequestManager(f.transformRequest,f.accessToken,f.testMode),this._silenceAuthErrors=!!f.testMode,"string"==typeof f.container){if(this._container=c.window.document.getElementById(f.container),!this._container)throw new Error(`Container '${f.container}' not found.`)}else{if(!(f.container instanceof c.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=f.container}if(this._container.childNodes.length>0&&c.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),f.maxBounds&&this.setMaxBounds(f.maxBounds),c.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==c.window&&(c.window.addEventListener("online",this._onWindowOnline,!1),c.window.addEventListener("resize",this._onWindowResize,!1),c.window.addEventListener("orientationchange",this._onWindowResize,!1),c.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),c.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new ws(this,f),this._localFontFamily=f.localFontFamily,this._localIdeographFontFamily=f.localIdeographFontFamily,f.style&&this.setStyle(f.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),f.projection&&this.setProjection(f.projection),this._hash=f.hash&&new qs("string"==typeof f.hash&&f.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch}),f.bounds&&(this.resize(),this.fitBounds(f.bounds,c.extend({},f.fitBoundsOptions,{duration:0})))),this.resize(),f.attributionControl&&this.addControl(new Vi({customAttribution:f.customAttribution})),this._logoControl=new $,this.addControl(this._logoControl,f.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",o=>{this._update("style"===o.dataType),this.fire(new c.Event(`${o.dataType}data`,o))}),this.on("dataloading",o=>{this.fire(new c.Event(`${o.dataType}dataloading`,o))})}_getMapId(){return this._mapId}addControl(f,o){if(void 0===o&&(o=f.getDefaultPosition?f.getDefaultPosition():"top-right"),!f||!f.onAdd)return this.fire(new c.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const u=f.onAdd(this);this._controls.push(f);const y=this._controlPositions[o];return-1!==o.indexOf("bottom")?y.insertBefore(u,y.firstChild):y.appendChild(u),this}removeControl(f){if(!f||!f.onRemove)return this.fire(new c.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const o=this._controls.indexOf(f);return o>-1&&this._controls.splice(o,1),f.onRemove(this),this}hasControl(f){return this._controls.indexOf(f)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(f){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const o=!this._moving;return o&&this.fire(new c.Event("movestart",f)).fire(new c.Event("move",f)),this.fire(new c.Event("resize",f)),o&&this.fire(new c.Event("moveend",f)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(f){return this.transform.setMaxBounds(c.LngLatBounds.convert(f)),this._update()}setMinZoom(f){if((f=f??-2)>=-2&&f<=this.transform.maxZoom)return this.transform.minZoom=f,this._update(),this.getZoom()<f?this.setZoom(f):this.fire(new c.Event("zoomstart")).fire(new c.Event("zoom")).fire(new c.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(f){if((f=f??22)>=this.transform.minZoom)return this.transform.maxZoom=f,this._update(),this.getZoom()>f?this.setZoom(f):this.fire(new c.Event("zoomstart")).fire(new c.Event("zoom")).fire(new c.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(f){if((f=f??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(f>=0&&f<=this.transform.maxPitch)return this.transform.minPitch=f,this._update(),this.getPitch()<f?this.setPitch(f):this.fire(new c.Event("pitchstart")).fire(new c.Event("pitch")).fire(new c.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(f){if((f=f??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(f>=this.transform.minPitch)return this.transform.maxPitch=f,this._update(),this.getPitch()>f?this.setPitch(f):this.fire(new c.Event("pitchstart")).fire(new c.Event("pitch")).fire(new c.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(f){return this.transform.renderWorldCopies=f,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(f){return"auto"===f?c.window.navigator.language:Array.isArray(f)?0===f.length?void 0:f.map(o=>"auto"===o?c.window.navigator.language:o):f}setLanguage(f){const o=this._parseLanguage(f);if(!this.style||o===this._language)return this;this._language=o,this.style._reloadSources();for(const u of this._controls)u._setLanguage&&u._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(f){return this.style&&f!==this._worldview?(this._worldview=f,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(f){return this._lazyInitEmptyStyle(),f?"string"==typeof f&&(f={name:f}):f=null,this._useExplicitProjection=!!f,this._prioritizeAndUpdateProjection(f,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const f=this.transform,o=f.projection.name;let u;"globe"===o&&f.zoom>=c.GLOBE_ZOOM_THRESHOLD_MAX?(f.setMercatorFromTransition(),u=!0):"mercator"===o&&f.zoom<c.GLOBE_ZOOM_THRESHOLD_MAX&&(f.setProjection({name:"globe"}),u=!0),u&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(f,o){return this._updateProjection(f||o||{name:"mercator"})}_updateProjection(f){let o;if(o="globe"===f.name&&this.transform.zoom>=c.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(f),this.style.applyProjectionUpdate(),o){this.painter.clearBackgroundTiles();for(const u in this.style._sourceCaches)this.style._sourceCaches[u].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(f){return this.transform.locationPoint3D(c.LngLat.convert(f))}unproject(f){return this.transform.pointLocation3D(c.Point.convert(f))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(f,o,u){if("mouseenter"===f||"mouseover"===f){let y=!1;const O=z=>{const H=o.filter(ue=>this.getLayer(ue)),Y=H.length?this.queryRenderedFeatures(z.point,{layers:H}):[];Y.length?y||(y=!0,u.call(this,new Cs(f,this,z.originalEvent,{features:Y}))):y=!1},I=()=>{y=!1};return{layers:new Set(o),listener:u,delegates:{mousemove:O,mouseout:I}}}if("mouseleave"===f||"mouseout"===f){let y=!1;const O=z=>{const H=o.filter(Y=>this.getLayer(Y));(H.length?this.queryRenderedFeatures(z.point,{layers:H}):[]).length?y=!0:y&&(y=!1,u.call(this,new Cs(f,this,z.originalEvent)))},I=z=>{y&&(y=!1,u.call(this,new Cs(f,this,z.originalEvent)))};return{layers:new Set(o),listener:u,delegates:{mousemove:O,mouseout:I}}}{const y=O=>{const I=o.filter(H=>this.getLayer(H)),z=I.length?this.queryRenderedFeatures(O.point,{layers:I}):[];z.length&&(O.features=z,u.call(this,O),delete O.features)};return{layers:new Set(o),listener:u,delegates:{[f]:y}}}}on(f,o,u){if(void 0===u)return super.on(f,o);Array.isArray(o)||(o=[o]);const y=this._createDelegatedListener(f,o,u);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[f]=this._delegatedListeners[f]||[],this._delegatedListeners[f].push(y);for(const O in y.delegates)this.on(O,y.delegates[O]);return this}once(f,o,u){if(void 0===u)return super.once(f,o);Array.isArray(o)||(o=[o]);const y=this._createDelegatedListener(f,o,u);for(const O in y.delegates)this.once(O,y.delegates[O]);return this}off(f,o,u){if(void 0===u)return super.off(f,o);o=new Set(Array.isArray(o)?o:[o]);const y=(I,z)=>{if(I.size!==z.size)return!1;for(const H of I)if(!z.has(H))return!1;return!0},O=this._delegatedListeners?this._delegatedListeners[f]:void 0;return O&&(I=>{for(let z=0;z<I.length;z++){const H=I[z];if(H.listener===u&&y(H.layers,o)){for(const Y in H.delegates)this.off(Y,H.delegates[Y]);return I.splice(z,1),this}}})(O),this}queryRenderedFeatures(f,o){return this.style?(void 0!==o||void 0===f||f instanceof c.Point||Array.isArray(f)||(o=f,f=void 0),this.style.queryRenderedFeatures(f=f||[[0,0],[this.transform.width,this.transform.height]],o=o||{},this.transform)):[]}querySourceFeatures(f,o){return this.style.querySourceFeatures(f,o)}isPointOnSurface(f){const{name:o}=this.transform.projection;return"globe"!==o&&"mercator"!==o&&c.warnOnce(`${o} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(c.Point.convert(f))}setStyle(f,o){return!1!==(o=c.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},o)).diff&&o.localIdeographFontFamily===this._localIdeographFontFamily&&o.localFontFamily===this._localFontFamily&&this.style&&f?(this._diffStyle(f,o),this):(this._localIdeographFontFamily=o.localIdeographFontFamily,this._localFontFamily=o.localFontFamily,this._updateStyle(f,o))}_getUIString(f){const o=this._locale[f];if(null==o)throw new Error(`Missing UI string '${f}'`);return o}_updateStyle(f,o){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),f&&(this.style=new Ls(this,o||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof f?this.style.loadURL(f):this.style.loadJSON(f)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Ls(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(f,o){if("string"==typeof f){const u=this._requestManager.normalizeStyleURL(f),y=this._requestManager.transformRequest(u,c.ResourceType.Style);c.getJSON(y,(O,I)=>{O?this.fire(new c.ErrorEvent(O)):I&&this._updateDiff(I,o)})}else"object"==typeof f&&this._updateDiff(f,o)}_updateDiff(f,o){try{this.style.setState(f)&&this._update(!0)}catch(u){c.warnOnce(`Unable to perform style diff: ${u.message||u.error||u}.  Rebuilding the style from scratch.`),this._updateStyle(f,o)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(c.warnOnce("There is no style added to the map."),!1)}addSource(f,o){return this._lazyInitEmptyStyle(),this.style.addSource(f,o),this._update(!0)}isSourceLoaded(f){return!!this.style&&this.style._isSourceCacheLoaded(f)}areTilesLoaded(){const f=this.style&&this.style._sourceCaches;for(const o in f){const u=f[o]._tiles;for(const y in u){const O=u[y];if("loaded"!==O.state&&"errored"!==O.state)return!1}}return!0}addSourceType(f,o,u){this._lazyInitEmptyStyle(),this.style.addSourceType(f,o,u)}removeSource(f){return this.style.removeSource(f),this._updateTerrain(),this._update(!0)}getSource(f){return this.style.getSource(f)}addImage(f,o,{pixelRatio:u=1,sdf:y=!1,stretchX:O,stretchY:I,content:z}={}){if(this._lazyInitEmptyStyle(),o instanceof c.window.HTMLImageElement||c.window.ImageBitmap&&o instanceof c.window.ImageBitmap){const{width:H,height:Y,data:ue}=c.exported.getImageData(o);this.style.addImage(f,{data:new c.RGBAImage({width:H,height:Y},ue),pixelRatio:u,stretchX:O,stretchY:I,content:z,sdf:y,version:0})}else if(void 0===o.width||void 0===o.height)this.fire(new c.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:H,height:Y}=o,ue=o;this.style.addImage(f,{data:new c.RGBAImage({width:H,height:Y},new Uint8Array(ue.data)),pixelRatio:u,stretchX:O,stretchY:I,content:z,sdf:y,version:0,userImage:ue}),ue.onAdd&&ue.onAdd(this,f)}}updateImage(f,o){const u=this.style.getImage(f);if(!u)return void this.fire(new c.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const y=o instanceof c.window.HTMLImageElement||c.window.ImageBitmap&&o instanceof c.window.ImageBitmap?c.exported.getImageData(o):o,{width:O,height:I}=y;void 0!==O&&void 0!==I?O===u.data.width&&I===u.data.height?(u.data.replace(y.data,!(o instanceof c.window.HTMLImageElement||c.window.ImageBitmap&&o instanceof c.window.ImageBitmap)),this.style.updateImage(f,u)):this.fire(new c.ErrorEvent(new Error(`The width and height of the updated image (${O}, ${I})\n                must be that same as the previous version of the image\n                (${u.data.width}, ${u.data.height})`))):this.fire(new c.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(f){return f?!!this.style.getImage(f):(this.fire(new c.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(f){this.style.removeImage(f)}loadImage(f,o){c.getImage(this._requestManager.transformRequest(f,c.ResourceType.Image),(u,y)=>{o(u,y instanceof c.window.HTMLImageElement?c.exported.getImageData(y):y)})}listImages(){return this.style.listImages()}addLayer(f,o){return this._lazyInitEmptyStyle(),this.style.addLayer(f,o),this._update(!0)}moveLayer(f,o){return this.style.moveLayer(f,o),this._update(!0)}removeLayer(f){return this.style.removeLayer(f),this._update(!0)}getLayer(f){return this.style.getLayer(f)}setLayerZoomRange(f,o,u){return this.style.setLayerZoomRange(f,o,u),this._update(!0)}setFilter(f,o,u={}){return this.style.setFilter(f,o,u),this._update(!0)}getFilter(f){return this.style.getFilter(f)}setPaintProperty(f,o,u,y={}){return this.style.setPaintProperty(f,o,u,y),this._update(!0)}getPaintProperty(f,o){return this.style.getPaintProperty(f,o)}setLayoutProperty(f,o,u,y={}){return this.style.setLayoutProperty(f,o,u,y),this._update(!0)}getLayoutProperty(f,o){return this.style.getLayoutProperty(f,o)}setLight(f,o={}){return this._lazyInitEmptyStyle(),this.style.setLight(f,o),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(f){return this._lazyInitEmptyStyle(),!f&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(f),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(f){return this._lazyInitEmptyStyle(),this.style.setFog(f),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(f){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(c.LngLat.convert(f),this.transform):0}setFeatureState(f,o){return this.style.setFeatureState(f,o),this._update()}removeFeatureState(f,o){return this.style.removeFeatureState(f,o),this._update()}getFeatureState(f){return this.style.getFeatureState(f)}_updateContainerDimensions(){if(!this._container)return;const f=this._container.getBoundingClientRect().width||400,o=this._container.getBoundingClientRect().height||300;let u,y,O,I=this._container;for(;I&&(!y||!O);){const z=c.window.getComputedStyle(I).transform;z&&"none"!==z&&(u=z.match(/matrix.*\((.+)\)/)[1].split(", "),u[0]&&"0"!==u[0]&&"1"!==u[0]&&(y=u[0]),u[3]&&"0"!==u[3]&&"1"!==u[3]&&(O=u[3])),I=I.parentElement}this._containerWidth=y?Math.abs(f/y):f,this._containerHeight=O?Math.abs(o/O):o}_detectMissingCSS(){"rgb(250, 128, 114)"!==c.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&c.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const f=this._container;f.classList.add("mapboxgl-map"),(this._missingCSSCanary=le("div","mapboxgl-canary",f)).style.visibility="hidden",this._detectMissingCSS();const o=this._canvasContainer=le("div","mapboxgl-canvas-container",f);this._interactive&&o.classList.add("mapboxgl-interactive"),this._canvas=le("canvas","mapboxgl-canvas",o),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const u=this._controlContainer=le("div","mapboxgl-control-container",f),y=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(O=>{y[O]=le("div",`mapboxgl-ctrl-${O}`,u)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(f,o){const u=c.exported.devicePixelRatio||1;this._canvas.width=u*Math.ceil(f),this._canvas.height=u*Math.ceil(o),this._canvas.style.width=`${f}px`,this._canvas.style.height=`${o}px`}_addMarker(f){this._markers.push(f)}_removeMarker(f){const o=this._markers.indexOf(f);-1!==o&&this._markers.splice(o,1)}_addPopup(f){this._popups.push(f)}_removePopup(f){const o=this._popups.indexOf(f);-1!==o&&this._popups.splice(o,1)}_setupPainter(){const f=c.extend({},V.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),o=this._useWebGL2&&this._canvas.getContext("webgl2",f),u=o||this._canvas.getContext("webgl",f)||this._canvas.getContext("experimental-webgl",f);u?(this._useWebGL2&&!o&&c.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),c.storeAuthState(u,!0),this.painter=new ze(u,this.transform,!!o),this.on("data",y=>{"source"===y.dataType&&this.painter.setTileLoadedFlag(!0)}),c.exported$1.testSupport(u)):this.fire(new c.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(f){f.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new c.Event("webglcontextlost",{originalEvent:f}))}_contextRestored(f){this._setupPainter(),this.resize(),this._update(),this.fire(new c.Event("webglcontextrestored",{originalEvent:f}))}_onMapScroll(f){if(f.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(f){return this.style?(this._styleDirty=this._styleDirty||f,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(f){return this._update(),this._renderTaskQueue.add(f)}_cancelRenderFrame(f){this._renderTaskQueue.remove(f)}_requestDomTask(f){!this.loaded()||this.loaded()&&!this.isMoving()?f():this._domRenderTaskQueue.add(f)}_render(f){let o;const u=this.painter.context.extTimerQuery,y=c.exported.now();if(this.listens("gpu-timing-frame")&&(o=u.createQueryEXT(),u.beginQueryEXT(u.TIME_ELAPSED_EXT,o)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],c.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],c.window.performance.now())),this._renderTaskQueue.run(f),this._domRenderTaskQueue.run(f),this._removed)return;this._updateProjectionTransition();const O=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const H=this.transform.zoom,Y=this.transform.pitch,ue=c.exported.now(),de=new c.EvaluationParameters(H,{now:ue,fadeDuration:O,pitch:Y,transition:this.style.getTransition()});this.style.update(de)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let I=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),I=this._updateAverageElevation(y),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):I=this._updateAverageElevation(y),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,O,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:O,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new c.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new c.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),o){const H=c.exported.now()-y;u.endQueryEXT(u.TIME_ELAPSED_EXT,o),setTimeout(()=>{const Y=u.getQueryObjectEXT(o,u.QUERY_RESULT_EXT)/1e6;u.deleteQueryEXT(o),this.fire(new c.Event("gpu-timing-frame",{cpuTime:H,gpuTime:Y})),c.window.performance.mark("frame-gpu",{startTime:y,detail:{gpuTime:Y}})},50)}if(this.listens("gpu-timing-layer")){const H=this.painter.collectGpuTimers();setTimeout(()=>{const Y=this.painter.queryGpuTimers(H);this.fire(new c.Event("gpu-timing-layer",{layerTimes:Y}))},50)}if(this.listens("gpu-timing-deferred-render")){const H=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const Y=this.painter.queryGpuTimeDeferredRender(H);this.fire(new c.Event("gpu-timing-deferred-render",{gpuTime:Y}))},50)}const z=this._sourcesDirty||this._styleDirty||this._placementDirty||I;if(z||this._repaint)this.triggerRepaint();else{const H=!this.isMoving()&&this.loaded();if(H&&(I=this._updateAverageElevation(y,!0)),I)this.triggerRepaint();else if(this._triggerFrame(!1),H&&(this.fire(new c.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const Y=this._calculateSpeedIndex();this.fire(new c.Event("speedindexcompleted",{speedIndex:Y})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||z||(this._fullyLoaded=!0,c.LivePerformanceUtils.mark(c.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&c.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(f){for(const o of this._markers)f&&!this.getRenderWorldCopies()&&(o._lngLat=o._lngLat.wrap()),o._update();for(const o of this._popups)!f||this.getRenderWorldCopies()||o._trackPointer||(o._lngLat=o._lngLat.wrap()),o._update()}_updateAverageElevation(f,o=!1){const u=y=>(this.transform.averageElevation=y,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&u(0);if((o||f-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(f)){const y=this.transform.averageElevation;let O=this.transform.sampleAverageElevation(),I=!1;this.transform.elevation&&(I=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(O)?O=0:this._averageElevationLastSampledAt=f;const z=Math.abs(y-O);if(z>1){if(this._isInitialLoad||I)return this._averageElevation.jumpTo(O),u(O);this._averageElevation.easeTo(O,f,300)}else if(z>1e-4)return this._averageElevation.jumpTo(O),u(O)}return!!this._averageElevation.isEasing(f)&&u(this._averageElevation.getValue(f))}_authenticate(){c.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,f=>{if(f&&(f.message===c.AUTH_ERR_MSG||401===f.status)){const o=this.painter.context.gl;c.storeAuthState(o,!1),this._logoControl instanceof $&&this._logoControl._updateLogo(),o&&o.clear(o.DEPTH_BUFFER_BIT|o.COLOR_BUFFER_BIT|o.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new c.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),c.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const f=this._isDragging();this.painter.updateTerrain(this.style,f)}_calculateSpeedIndex(){const f=this.painter.canvasCopy(),o=this.painter.getCanvasCopiesAndTimestamps();o.timeStamps.push(performance.now());const u=this.painter.context.gl,y=u.createFramebuffer();function O(I){u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,I,0);const z=new Uint8Array(u.drawingBufferWidth*u.drawingBufferHeight*4);return u.readPixels(0,0,u.drawingBufferWidth,u.drawingBufferHeight,u.RGBA,u.UNSIGNED_BYTE,z),z}return u.bindFramebuffer(u.FRAMEBUFFER,y),this._canvasPixelComparison(O(f),o.canvasCopies.map(O),o.timeStamps)}_canvasPixelComparison(f,o,u){let y=u[1]-u[0];const O=f.length/4;for(let I=0;I<o.length;I++){const z=o[I];let H=0;for(let Y=0;Y<z.length;Y+=4)z[Y]===f[Y]&&z[Y+1]===f[Y+1]&&z[Y+2]===f[Y+2]&&z[Y+3]===f[Y+3]&&(H+=1);y+=(u[I+2]-u[I+1])*(1-H/O)}return y}remove(){this._hash&&this._hash.remove();for(const o of this._controls)o.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==c.window&&(c.window.removeEventListener("resize",this._onWindowResize,!1),c.window.removeEventListener("orientationchange",this._onWindowResize,!1),c.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),c.window.removeEventListener("online",this._onWindowOnline,!1),c.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const f=this.painter.context.gl.getExtension("WEBGL_lose_context");f&&f.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),c.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new c.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(f){this._renderNextFrame=this._renderNextFrame||f,this.style&&!this._frame&&(this._frame=c.exported.frame(o=>{const u=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,u&&this._render(o)}))}_preloadTiles(f){const o=this.style?Object.values(this.style._sourceCaches):[];return c.asyncAll(o,(u,y)=>u._preloadTiles(f,y),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(f){this._trackResize&&this.resize({originalEvent:f})._update()}_onVisibilityChange(){"hidden"===c.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(f){this._showTileBoundaries!==f&&(this._showTileBoundaries=f,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(f){this._showTerrainWireframe!==f&&(this._showTerrainWireframe=f,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(f){this._speedIndexTiming!==f&&(this._speedIndexTiming=f,this._update())}get showPadding(){return!!this._showPadding}set showPadding(f){this._showPadding!==f&&(this._showPadding=f,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(f){this._showCollisionBoxes!==f&&(this._showCollisionBoxes=f,f?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(f){this._showOverdrawInspector!==f&&(this._showOverdrawInspector=f,this._update())}get repaint(){return!!this._repaint}set repaint(f){this._repaint!==f&&(this._repaint=f,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(f){this._vertices=f,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(f){this._showTileAABBs!==f&&(this._showTileAABBs=f,f&&this._update())}_setCacheLimits(f,o){c.setCacheLimits(f,o)}get version(){return c.version}},NavigationControl:class{constructor(f){this.options=c.extend({},is,f),this._container=le("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",o=>o.preventDefault()),this.options.showZoom&&(c.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",o=>{this._map&&this._map.zoomIn({},{originalEvent:o})}),le("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",o=>{this._map&&this._map.zoomOut({},{originalEvent:o})}),le("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(c.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",o=>{const u=this._map;u&&(this.options.visualizePitch?u.resetNorthPitch({},{originalEvent:o}):u.resetNorth({},{originalEvent:o}))}),this._compassIcon=le("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const f=this._map;if(!f)return;const o=f.getZoom(),u=o===f.getMaxZoom(),y=o===f.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=y,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",y.toString())}_rotateCompassArrow(){const f=this._map;if(!f)return;const o=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(f.transform.pitch*(Math.PI/180)),.5)}) rotateX(${f.transform.pitch}deg) rotateZ(${f.transform.angle*(180/Math.PI)}deg)`:`rotate(${f.transform.angle*(180/Math.PI)}deg)`;f._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=o)})}onAdd(f){return this._map=f,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),f.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&f.on("pitch",this._rotateCompassArrow),f.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Yo(f,this._compass,this.options.visualizePitch)),this._container}onRemove(){const f=this._map;f&&(this._container.remove(),this.options.showZoom&&f.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&f.off("pitch",this._rotateCompassArrow),f.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(f,o){const u=le("button",f,this._container);return u.type="button",u.addEventListener("click",o),u}_setButtonTitle(f,o){if(!this._map)return;const u=this._map._getUIString(`NavigationControl.${o}`);f.setAttribute("aria-label",u),f.firstElementChild&&f.firstElementChild.setAttribute("title",u)}},GeolocateControl:class extends c.Evented{constructor(f){super(),this.options=c.extend({geolocation:c.window.navigator.geolocation},fl,f),c.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Pa(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(f){return this._map=f,this._container=le("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(f){const o=(u=!!this.options.geolocation)=>{this._supportsGeolocation=u,f(u)};void 0!==this._supportsGeolocation?f(this._supportsGeolocation):void 0!==c.window.navigator.permissions?c.window.navigator.permissions.query({name:"geolocation"}).then(u=>o("denied"!==u.state)).catch(()=>o()):o()}_isOutOfMapMaxBounds(f){const o=this._map.getMaxBounds(),u=f.coords;return!!o&&(u.longitude<o.getWest()||u.longitude>o.getEast()||u.latitude<o.getSouth()||u.latitude>o.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(f){if(this._map){if(this._isOutOfMapMaxBounds(f))return this._setErrorState(),this.fire(new c.Event("outofmaxbounds",f)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=f,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(f),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(f),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new c.Event("geolocate",f)),this._finish()}}_updateCamera(f){const o=new c.LngLat(f.coords.longitude,f.coords.latitude),u=f.coords.accuracy,y=this._map.getBearing(),O=c.extend({bearing:y},this.options.fitBoundsOptions);this._map.fitBounds(o.toBounds(u),O,{geolocateSource:!0})}_updateMarker(f){if(f){const o=new c.LngLat(f.coords.longitude,f.coords.latitude);this._accuracyCircleMarker.setLngLat(o).addTo(this._map),this._userLocationDotMarker.setLngLat(o).addTo(this._map),this._accuracy=f.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const f=this._map.transform,o=c.mercatorZfromAltitude(1,f._center.lat)*f.worldSize,u=Math.ceil(2*this._accuracy*o);this._circleElement.style.width=`${u}px`,this._circleElement.style.height=`${u}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(f){if(this._map){if(this.options.trackUserLocation)if(1===f.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const o=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",o),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",o),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===f.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new c.Event("error",f)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(f){if(void 0!==this._map){if(this._container.addEventListener("contextmenu",o=>o.preventDefault()),this._geolocateButton=le("button","mapboxgl-ctrl-geolocate",this._container),le("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===f){c.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const o=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",o),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",o)}else{const o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",o),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=le("div","mapboxgl-user-location"),this._dotElement.appendChild(le("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(le("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new ne({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=le("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ne({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",o=>{o.geolocateSource||"ACTIVE_LOCK"!==this._watchState||o.originalEvent&&"resize"===o.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new c.Event("trackuserlocationend")))})}}_onDeviceOrientation(f){this._userLocationDotMarker&&(f.webkitCompassHeading?this._heading=f.webkitCompassHeading:!0===f.absolute&&(this._heading=-1*f.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return c.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new c.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let f;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(f={maximumAge:6e5,timeout:0},this._noTimeout=!0):(f=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,f),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const f=()=>{c.window.addEventListener("ondeviceorientationabsolute"in c.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==c.window.DeviceMotionEvent&&"function"==typeof c.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(o=>{"granted"===o&&f()}).catch(console.error):f()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),c.window.removeEventListener("deviceorientation",this._onDeviceOrientation),c.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Vi,ScaleControl:class{constructor(f){this.options=c.extend({},Bl,f),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),c.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const f=this.options.maxWidth||100,o=this._map,u=o._containerHeight/2,y=o._containerWidth/2-f/2,O=o.unproject([y,u]),I=o.unproject([y+f,u]),z=O.distanceTo(I);if("imperial"===this.options.unit){const H=3.2808*z;H>5280?this._setScale(f,H/5280,"mile"):this._setScale(f,H,"foot")}else"nautical"===this.options.unit?this._setScale(f,z/1852,"nautical-mile"):z>=1e3?this._setScale(f,z/1e3,"kilometer"):this._setScale(f,z,"meter")}_setScale(f,o,u){this._map._requestDomTask(()=>{const y=function(I){const z=Math.pow(10,`${Math.floor(I)}`.length-1);let H=I/z;return H=H>=10?10:H>=5?5:H>=3?3:H>=2?2:H>=1?1:function(Y){const ue=Math.pow(10,Math.ceil(-Math.log(Y)/Math.LN10));return Math.round(Y*ue)/ue}(H),z*H}(o),O=y/o;this._container.innerHTML=this._isNumberFormatSupported&&"nautical-mile"!==u?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:u}).format(y):`${y}&nbsp;${Tl[u]}`,this._container.style.width=f*O+"px"})}onAdd(f){return this._map=f,this._language=f.getLanguage(),this._container=le("div","mapboxgl-ctrl mapboxgl-ctrl-scale",f.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(f){this._language=f,this._update()}setUnit(f){this.options.unit=f,this._update()}},FullscreenControl:class{constructor(f){this._fullscreen=!1,f&&f.container&&(f.container instanceof c.window.HTMLElement?this._container=f.container:c.warnOnce("Full screen control 'container' must be a DOM element.")),c.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in c.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in c.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(f){return this._map=f,this._container||(this._container=this._map.getContainer()),this._controlContainer=le("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",c.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,c.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!c.window.document.fullscreenEnabled&&!c.window.document.webkitFullscreenEnabled)}_setupUI(){const f=this._fullscreenButton=le("button","mapboxgl-ctrl-fullscreen",this._controlContainer);le("span","mapboxgl-ctrl-icon",f).setAttribute("aria-hidden","true"),f.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),c.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const f=this._getTitle();this._fullscreenButton.setAttribute("aria-label",f),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",f)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(c.window.document.fullscreenElement||c.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?c.window.document.exitFullscreen?c.window.document.exitFullscreen():c.window.document.webkitCancelFullScreen&&c.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends c.Evented{constructor(f){super(),this.options=c.extend(Object.create(dt),f),c.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(f&&f.className?f.className.trim().split(/\s+/):[])}addTo(f){return this._map&&this.remove(),this._map=f,this.options.closeOnClick&&f.on("preclick",this._onClose),this.options.closeOnMove&&f.on("move",this._onClose),f.on("remove",this.remove),this._update(),f._addPopup(this),this._focusFirstElement(),this._trackPointer?(f.on("mousemove",this._onMouseEvent),f.on("mouseup",this._onMouseEvent),f._canvasContainer.classList.add("mapboxgl-track-pointer")):f.on("move",this._update),this.fire(new c.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const f=this._map;return f&&(f.off("move",this._update),f.off("move",this._onClose),f.off("preclick",this._onClose),f.off("click",this._onClose),f.off("remove",this.remove),f.off("mousemove",this._onMouseEvent),f.off("mouseup",this._onMouseEvent),f.off("drag",this._onMouseEvent),f._canvasContainer&&f._canvasContainer.classList.remove("mapboxgl-track-pointer"),f._removePopup(this),this._map=void 0),this.fire(new c.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(f){this._lngLat=c.LngLat.convert(f),this._pos=null,this._trackPointer=!1,this._update();const o=this._map;return o&&(o.on("move",this._update),o.off("mousemove",this._onMouseEvent),o._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const f=this._map;return f&&(f.off("move",this._update),f.on("mousemove",this._onMouseEvent),f.on("drag",this._onMouseEvent),f._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(f){return this.setDOMContent(c.window.document.createTextNode(f))}setHTML(f){const o=c.window.document.createDocumentFragment(),u=c.window.document.createElement("body");let y;for(u.innerHTML=f;y=u.firstChild,y;)o.appendChild(y);return this.setDOMContent(o)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(f){return this.options.maxWidth=f,this._update(),this}setDOMContent(f){let o=this._content;if(o)for(;o.hasChildNodes();)o.firstChild&&o.removeChild(o.firstChild);else o=this._content=le("div","mapboxgl-popup-content",this._container||void 0);if(o.appendChild(f),this.options.closeButton){const u=this._closeButton=le("button","mapboxgl-popup-close-button",o);u.type="button",u.setAttribute("aria-label","Close popup"),u.setAttribute("aria-hidden","true"),u.innerHTML="&#215;",u.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(f){return this._classList.add(f),this._updateClassList(),this}removeClassName(f){return this._classList.delete(f),this._updateClassList(),this}setOffset(f){return this.options.offset=f,this._update(),this}toggleClassName(f){let o;return this._classList.delete(f)?o=!1:(this._classList.add(f),o=!0),this._updateClassList(),o}_onMouseEvent(f){this._update(f.point)}_getAnchor(f){if(this.options.anchor)return this.options.anchor;const o=this._map,u=this._container,y=this._pos;if(!o||!u||!y)return"bottom";const O=u.offsetWidth,I=u.offsetHeight,z=y.x<O/2,H=y.x>o.transform.width-O/2;if(y.y+f<I)return z?"top-left":H?"top-right":"top";if(y.y>o.transform.height-I){if(z)return"bottom-left";if(H)return"bottom-right"}return z?"left":H?"right":"bottom"}_updateClassList(){const f=this._container;if(!f)return;const o=[...this._classList];o.push("mapboxgl-popup"),this._anchor&&o.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&o.push("mapboxgl-popup-track-pointer"),f.className=o.join(" ")}_update(f){const o=this._map,u=this._content;if(!o||!this._lngLat&&!this._trackPointer||!u)return;let y=this._container;if(y||(y=this._container=le("div","mapboxgl-popup",o.getContainer()),this._tip=le("div","mapboxgl-popup-tip",y),y.appendChild(u)),this.options.maxWidth&&y.style.maxWidth!==this.options.maxWidth&&(y.style.maxWidth=this.options.maxWidth),o.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=j(this._lngLat,this._pos,o.transform)),!this._trackPointer||f){const O=this._pos=this._trackPointer&&f?f:o.project(this._lngLat),I=Yn(this.options.offset),z=this._anchor=this._getAnchor(I.y),H=Yn(this.options.offset,z),Y=O.add(H).round();o._requestDomTask(()=>{this._container&&z&&(this._container.style.transform=`${te[z]} translate(${Y.x}px,${Y.y}px)`)})}if(!this._marker&&o._showingGlobe()){const O=c.isLngLatBehindGlobe(o.transform,this._lngLat)?0:1;this._setOpacity(O)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const f=this._container.querySelector(Xt);f&&f.focus()}_onClose(){this.remove()}_setOpacity(f){this._container&&(this._container.style.opacity=`${f}`),this._content&&(this._content.style.pointerEvents=f?"auto":"none")}},Marker:ne,Style:Ls,LngLat:c.LngLat,LngLatBounds:c.LngLatBounds,Point:c.Point,MercatorCoordinate:c.MercatorCoordinate,FreeCameraOptions:hr,Evented:c.Evented,config:c.config,prewarm:function(){At().acquire(Je)},clearPrewarmedResources:function(){const f=ct;f&&(f.isPreloaded()&&1===f.numActive()?(f.release(Je),ct=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return c.config.ACCESS_TOKEN},set accessToken(f){c.config.ACCESS_TOKEN=f},get baseApiUrl(){return c.config.API_URL},set baseApiUrl(f){c.config.API_URL=f},get workerCount(){return yn.workerCount},set workerCount(f){yn.workerCount=f},get maxParallelImageRequests(){return c.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(f){c.config.MAX_PARALLEL_IMAGE_REQUESTS=f},clearStorage(f){c.clearTileCache(f)},workerUrl:"",workerClass:null,setNow:c.exported.setNow,restoreNow:c.exported.restoreNow};return zl}),a}()},5619:(Dt,Le,D)=>{"use strict";D.d(Le,{X:()=>s});var a=D(8645);class s extends a.x{constructor(c){super(),this._value=c}get value(){return this.getValue()}_subscribe(c){const T=super._subscribe(c);return!T.closed&&c.next(this._value),T}getValue(){const{hasError:c,thrownError:T,_value:V}=this;if(c)throw T;return this._throwIfClosed(),V}next(c){super.next(this._value=c)}}},5592:(Dt,Le,D)=>{"use strict";D.d(Le,{y:()=>Te});var a=D(305),s=D(7394),oe=D(4850),c=D(8407),T=D(2653),V=D(4674),ie=D(1441);let Te=(()=>{class be{constructor(J){J&&(this._subscribe=J)}lift(J){const fe=new be;return fe.source=this,fe.operator=J,fe}subscribe(J,fe,ke){const Ce=function ae(be){return be&&be instanceof a.Lv||function me(be){return be&&(0,V.m)(be.next)&&(0,V.m)(be.error)&&(0,V.m)(be.complete)}(be)&&(0,s.Nn)(be)}(J)?J:new a.Hp(J,fe,ke);return(0,ie.x)(()=>{const{operator:we,source:he}=this;Ce.add(we?we.call(Ce,he):he?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(J){try{return this._subscribe(J)}catch(fe){J.error(fe)}}forEach(J,fe){return new(fe=le(fe))((ke,Ce)=>{const we=new a.Hp({next:he=>{try{J(he)}catch(A){Ce(A),we.unsubscribe()}},error:Ce,complete:ke});this.subscribe(we)})}_subscribe(J){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(J)}[oe.L](){return this}pipe(...J){return(0,c.U)(J)(this)}toPromise(J){return new(J=le(J))((fe,ke)=>{let Ce;this.subscribe(we=>Ce=we,we=>ke(we),()=>fe(Ce))})}}return be.create=re=>new be(re),be})();function le(be){var re;return null!==(re=be??T.config.Promise)&&void 0!==re?re:Promise}},7328:(Dt,Le,D)=>{"use strict";D.d(Le,{t:()=>oe});var a=D(8645),s=D(4552);class oe extends a.x{constructor(T=1/0,V=1/0,ie=s.l){super(),this._bufferSize=T,this._windowTime=V,this._timestampProvider=ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=V===1/0,this._bufferSize=Math.max(1,T),this._windowTime=Math.max(1,V)}next(T){const{isStopped:V,_buffer:ie,_infiniteTimeWindow:Te,_timestampProvider:le,_windowTime:me}=this;V||(ie.push(T),!Te&&ie.push(le.now()+me)),this._trimBuffer(),super.next(T)}_subscribe(T){this._throwIfClosed(),this._trimBuffer();const V=this._innerSubscribe(T),{_infiniteTimeWindow:ie,_buffer:Te}=this,le=Te.slice();for(let me=0;me<le.length&&!T.closed;me+=ie?1:2)T.next(le[me]);return this._checkFinalizedStatuses(T),V}_trimBuffer(){const{_bufferSize:T,_timestampProvider:V,_buffer:ie,_infiniteTimeWindow:Te}=this,le=(Te?1:2)*T;if(T<1/0&&le<ie.length&&ie.splice(0,ie.length-le),!Te){const me=V.now();let ae=0;for(let be=1;be<ie.length&&ie[be]<=me;be+=2)ae=be;ae&&ie.splice(0,ae+1)}}}},8645:(Dt,Le,D)=>{"use strict";D.d(Le,{x:()=>ie});var a=D(5592),s=D(7394);const c=(0,D(2306).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var T=D(9039),V=D(1441);let ie=(()=>{class le extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const be=new Te(this,this);return be.operator=ae,be}_throwIfClosed(){if(this.closed)throw new c}next(ae){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(ae)}})}error(ae){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:be}=this;for(;be.length;)be.shift().error(ae)}})}complete(){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:be,isStopped:re,observers:J}=this;return be||re?s.Lc:(this.currentObservers=null,J.push(ae),new s.w0(()=>{this.currentObservers=null,(0,T.P)(J,ae)}))}_checkFinalizedStatuses(ae){const{hasError:be,thrownError:re,isStopped:J}=this;be?ae.error(re):J&&ae.complete()}asObservable(){const ae=new a.y;return ae.source=this,ae}}return le.create=(me,ae)=>new Te(me,ae),le})();class Te extends ie{constructor(me,ae){super(),this.destination=me,this.source=ae}next(me){var ae,be;null===(be=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===be||be.call(ae,me)}error(me){var ae,be;null===(be=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===be||be.call(ae,me)}complete(){var me,ae;null===(ae=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===ae||ae.call(me)}_subscribe(me){var ae,be;return null!==(be=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(me))&&void 0!==be?be:s.Lc}}},305:(Dt,Le,D)=>{"use strict";D.d(Le,{Hp:()=>ke,Lv:()=>be});var a=D(4674),s=D(7394),oe=D(2653),c=D(3894),T=D(2420);const V=le("C",void 0,void 0);function le(pe,ge,pt){return{kind:pe,value:ge,error:pt}}var me=D(7599),ae=D(1441);class be extends s.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,s.Nn)(ge)&&ge.add(this)):this.destination=A}static create(ge,pt,Pe){return new ke(ge,pt,Pe)}next(ge){this.isStopped?he(function Te(pe){return le("N",pe,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?he(function ie(pe){return le("E",void 0,pe)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?he(V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const re=Function.prototype.bind;function J(pe,ge){return re.call(pe,ge)}class fe{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:pt}=this;if(pt.next)try{pt.next(ge)}catch(Pe){Ce(Pe)}}error(ge){const{partialObserver:pt}=this;if(pt.error)try{pt.error(ge)}catch(Pe){Ce(Pe)}else Ce(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(pt){Ce(pt)}}}class ke extends be{constructor(ge,pt,Pe){let Be;if(super(),(0,a.m)(ge)||!ge)Be={next:ge??void 0,error:pt??void 0,complete:Pe??void 0};else{let rt;this&&oe.config.useDeprecatedNextContext?(rt=Object.create(ge),rt.unsubscribe=()=>this.unsubscribe(),Be={next:ge.next&&J(ge.next,rt),error:ge.error&&J(ge.error,rt),complete:ge.complete&&J(ge.complete,rt)}):Be=ge}this.destination=new fe(Be)}}function Ce(pe){oe.config.useDeprecatedSynchronousErrorHandling?(0,ae.O)(pe):(0,c.h)(pe)}function he(pe,ge){const{onStoppedNotification:pt}=oe.config;pt&&me.z.setTimeout(()=>pt(pe,ge))}const A={closed:!0,next:T.Z,error:function we(pe){throw pe},complete:T.Z}},7394:(Dt,Le,D)=>{"use strict";D.d(Le,{Lc:()=>V,w0:()=>T,Nn:()=>ie});var a=D(4674);const oe=(0,D(2306).d)(le=>function(ae){le(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((be,re)=>`${re+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var c=D(9039);class T{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const J of ae)J.remove(this);else ae.remove(this);const{initialTeardown:be}=this;if((0,a.m)(be))try{be()}catch(J){me=J instanceof oe?J.errors:[J]}const{_finalizers:re}=this;if(re){this._finalizers=null;for(const J of re)try{Te(J)}catch(fe){me=me??[],fe instanceof oe?me=[...me,...fe.errors]:me.push(fe)}}if(me)throw new oe(me)}}add(me){var ae;if(me&&me!==this)if(this.closed)Te(me);else{if(me instanceof T){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(me)}}_hasParent(me){const{_parentage:ae}=this;return ae===me||Array.isArray(ae)&&ae.includes(me)}_addParent(me){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(me),ae):ae?[ae,me]:me}_removeParent(me){const{_parentage:ae}=this;ae===me?this._parentage=null:Array.isArray(ae)&&(0,c.P)(ae,me)}remove(me){const{_finalizers:ae}=this;ae&&(0,c.P)(ae,me),me instanceof T&&me._removeParent(this)}}T.EMPTY=(()=>{const le=new T;return le.closed=!0,le})();const V=T.EMPTY;function ie(le){return le instanceof T||le&&"closed"in le&&(0,a.m)(le.remove)&&(0,a.m)(le.add)&&(0,a.m)(le.unsubscribe)}function Te(le){(0,a.m)(le)?le():le.unsubscribe()}},2653:(Dt,Le,D)=>{"use strict";D.d(Le,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Dt,Le,D)=>{"use strict";D.d(Le,{a:()=>me});var a=D(5592),s=D(7453),oe=D(9666),c=D(2737),T=D(7400),V=D(9940),ie=D(2714),Te=D(8251),le=D(7103);function me(...re){const J=(0,V.yG)(re),fe=(0,V.jO)(re),{args:ke,keys:Ce}=(0,s.D)(re);if(0===ke.length)return(0,oe.D)([],J);const we=new a.y(function ae(re,J,fe=c.y){return ke=>{be(J,()=>{const{length:Ce}=re,we=new Array(Ce);let he=Ce,A=Ce;for(let pe=0;pe<Ce;pe++)be(J,()=>{const ge=(0,oe.D)(re[pe],J);let pt=!1;ge.subscribe((0,Te.x)(ke,Pe=>{we[pe]=Pe,pt||(pt=!0,A--),A||ke.next(fe(we.slice()))},()=>{--he||ke.complete()}))},ke)},ke)}}(ke,J,Ce?he=>(0,ie.n)(Ce,he):c.y));return fe?we.pipe((0,T.Z)(fe)):we}function be(re,J,fe){re?(0,le.f)(fe,re,J):J()}},5211:(Dt,Le,D)=>{"use strict";D.d(Le,{z:()=>T});var a=D(7537),oe=D(9940),c=D(9666);function T(...V){return function s(){return(0,a.J)(1)}()((0,c.D)(V,(0,oe.yG)(V)))}},6232:(Dt,Le,D)=>{"use strict";D.d(Le,{E:()=>s});const s=new(D(5592).y)(T=>T.complete())},9666:(Dt,Le,D)=>{"use strict";D.d(Le,{D:()=>pt});var a=D(4829),s=D(3093),oe=D(9360);function c(Pe,Be=0){return(0,oe.e)((rt,wt)=>{wt.add(Pe.schedule(()=>rt.subscribe(wt),Be))})}var ie=D(5592),le=D(4971),me=D(4674),ae=D(7103);function re(Pe,Be){if(!Pe)throw new Error("Iterable cannot be null");return new ie.y(rt=>{(0,ae.f)(rt,Be,()=>{const wt=Pe[Symbol.asyncIterator]();(0,ae.f)(rt,Be,()=>{wt.next().then(It=>{It.done?rt.complete():rt.next(It.value)})},0,!0)})})}var J=D(8382),fe=D(4026),ke=D(4266),Ce=D(3664),we=D(5726),he=D(9853),A=D(541);function pt(Pe,Be){return Be?function ge(Pe,Be){if(null!=Pe){if((0,J.c)(Pe))return function T(Pe,Be){return(0,a.Xf)(Pe).pipe(c(Be),(0,s.Q)(Be))}(Pe,Be);if((0,ke.z)(Pe))return function Te(Pe,Be){return new ie.y(rt=>{let wt=0;return Be.schedule(function(){wt===Pe.length?rt.complete():(rt.next(Pe[wt++]),rt.closed||this.schedule())})})}(Pe,Be);if((0,fe.t)(Pe))return function V(Pe,Be){return(0,a.Xf)(Pe).pipe(c(Be),(0,s.Q)(Be))}(Pe,Be);if((0,we.D)(Pe))return re(Pe,Be);if((0,Ce.T)(Pe))return function be(Pe,Be){return new ie.y(rt=>{let wt;return(0,ae.f)(rt,Be,()=>{wt=Pe[le.h](),(0,ae.f)(rt,Be,()=>{let It,Ie;try{({value:It,done:Ie}=wt.next())}catch(L){return void rt.error(L)}Ie?rt.complete():rt.next(It)},0,!0)}),()=>(0,me.m)(wt?.return)&&wt.return()})}(Pe,Be);if((0,A.L)(Pe))return function pe(Pe,Be){return re((0,A.Q)(Pe),Be)}(Pe,Be)}throw(0,he.z)(Pe)}(Pe,Be):(0,a.Xf)(Pe)}},2438:(Dt,Le,D)=>{"use strict";D.d(Le,{R:()=>me});var a=D(4829),s=D(5592),oe=D(1631),c=D(4266),T=D(4674),V=D(7400);const ie=["addListener","removeListener"],Te=["addEventListener","removeEventListener"],le=["on","off"];function me(fe,ke,Ce,we){if((0,T.m)(Ce)&&(we=Ce,Ce=void 0),we)return me(fe,ke,Ce).pipe((0,V.Z)(we));const[he,A]=function J(fe){return(0,T.m)(fe.addEventListener)&&(0,T.m)(fe.removeEventListener)}(fe)?Te.map(pe=>ge=>fe[pe](ke,ge,Ce)):function be(fe){return(0,T.m)(fe.addListener)&&(0,T.m)(fe.removeListener)}(fe)?ie.map(ae(fe,ke)):function re(fe){return(0,T.m)(fe.on)&&(0,T.m)(fe.off)}(fe)?le.map(ae(fe,ke)):[];if(!he&&(0,c.z)(fe))return(0,oe.z)(pe=>me(pe,ke,Ce))((0,a.Xf)(fe));if(!he)throw new TypeError("Invalid event target");return new s.y(pe=>{const ge=(...pt)=>pe.next(1<pt.length?pt:pt[0]);return he(ge),()=>A(ge)})}function ae(fe,ke){return Ce=>we=>fe[Ce](ke,we)}},4829:(Dt,Le,D)=>{"use strict";D.d(Le,{Xf:()=>re});var a=D(7582),s=D(4266),oe=D(4026),c=D(5592),T=D(8382),V=D(5726),ie=D(9853),Te=D(3664),le=D(541),me=D(4674),ae=D(3894),be=D(4850);function re(pe){if(pe instanceof c.y)return pe;if(null!=pe){if((0,T.c)(pe))return function J(pe){return new c.y(ge=>{const pt=pe[be.L]();if((0,me.m)(pt.subscribe))return pt.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pe);if((0,s.z)(pe))return function fe(pe){return new c.y(ge=>{for(let pt=0;pt<pe.length&&!ge.closed;pt++)ge.next(pe[pt]);ge.complete()})}(pe);if((0,oe.t)(pe))return function ke(pe){return new c.y(ge=>{pe.then(pt=>{ge.closed||(ge.next(pt),ge.complete())},pt=>ge.error(pt)).then(null,ae.h)})}(pe);if((0,V.D)(pe))return we(pe);if((0,Te.T)(pe))return function Ce(pe){return new c.y(ge=>{for(const pt of pe)if(ge.next(pt),ge.closed)return;ge.complete()})}(pe);if((0,le.L)(pe))return function he(pe){return we((0,le.Q)(pe))}(pe)}throw(0,ie.z)(pe)}function we(pe){return new c.y(ge=>{(function A(pe,ge){var pt,Pe,Be,rt;return(0,a.__awaiter)(this,void 0,void 0,function*(){try{for(pt=(0,a.__asyncValues)(pe);!(Pe=yield pt.next()).done;)if(ge.next(Pe.value),ge.closed)return}catch(wt){Be={error:wt}}finally{try{Pe&&!Pe.done&&(rt=pt.return)&&(yield rt.call(pt))}finally{if(Be)throw Be.error}}ge.complete()})})(pe,ge).catch(pt=>ge.error(pt))})}},3019:(Dt,Le,D)=>{"use strict";D.d(Le,{T:()=>V});var a=D(7537),s=D(4829),oe=D(6232),c=D(9940),T=D(9666);function V(...ie){const Te=(0,c.yG)(ie),le=(0,c._6)(ie,1/0),me=ie;return me.length?1===me.length?(0,s.Xf)(me[0]):(0,a.J)(le)((0,T.D)(me,Te)):oe.E}},2096:(Dt,Le,D)=>{"use strict";D.d(Le,{of:()=>oe});var a=D(9940),s=D(9666);function oe(...c){const T=(0,a.yG)(c);return(0,s.D)(c,T)}},3684:(Dt,Le,D)=>{"use strict";D.d(Le,{S:()=>T});var a=D(5592),s=D(4829),oe=D(7728),c=D(8251);function T(...ie){return 1===(ie=(0,oe.k)(ie)).length?(0,s.Xf)(ie[0]):new a.y(function V(ie){return Te=>{let le=[];for(let me=0;le&&!Te.closed&&me<ie.length;me++)le.push((0,s.Xf)(ie[me]).subscribe((0,c.x)(Te,ae=>{if(le){for(let be=0;be<le.length;be++)be!==me&&le[be].unsubscribe();le=null}Te.next(ae)})))}}(ie))}},8504:(Dt,Le,D)=>{"use strict";D.d(Le,{_:()=>oe});var a=D(5592),s=D(4674);function oe(c,T){const V=(0,s.m)(c)?c:()=>c,ie=Te=>Te.error(V());return new a.y(T?Te=>T.schedule(ie,0,Te):ie)}},9080:(Dt,Le,D)=>{"use strict";D.d(Le,{H:()=>T});var a=D(5592),s=D(6321),oe=D(671),c=D(93);function T(V=0,ie,Te=s.P){let le=-1;return null!=ie&&((0,oe.K)(ie)?Te=ie:le=ie),new a.y(me=>{let ae=(0,c.q)(V)?+V-Te.now():V;ae<0&&(ae=0);let be=0;return Te.schedule(function(){me.closed||(me.next(be++),0<=le?this.schedule(void 0,le):me.complete())},ae)})}},8251:(Dt,Le,D)=>{"use strict";D.d(Le,{x:()=>s});var a=D(305);function s(c,T,V,ie,Te){return new oe(c,T,V,ie,Te)}class oe extends a.Lv{constructor(T,V,ie,Te,le,me){super(T),this.onFinalize=le,this.shouldUnsubscribe=me,this._next=V?function(ae){try{V(ae)}catch(be){T.error(be)}}:super._next,this._error=Te?function(ae){try{Te(ae)}catch(be){T.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(ae){T.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var T;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:V}=this;super.unsubscribe(),!V&&(null===(T=this.onFinalize)||void 0===T||T.call(this))}}}},6306:(Dt,Le,D)=>{"use strict";D.d(Le,{K:()=>c});var a=D(4829),s=D(8251),oe=D(9360);function c(T){return(0,oe.e)((V,ie)=>{let me,Te=null,le=!1;Te=V.subscribe((0,s.x)(ie,void 0,void 0,ae=>{me=(0,a.Xf)(T(ae,c(T)(V))),Te?(Te.unsubscribe(),Te=null,me.subscribe(ie)):le=!0})),le&&(Te.unsubscribe(),Te=null,me.subscribe(ie))})}},6328:(Dt,Le,D)=>{"use strict";D.d(Le,{b:()=>oe});var a=D(1631),s=D(4674);function oe(c,T){return(0,s.m)(T)?(0,a.z)(c,T,1):(0,a.z)(c,1)}},3620:(Dt,Le,D)=>{"use strict";D.d(Le,{b:()=>c});var a=D(6321),s=D(9360),oe=D(8251);function c(T,V=a.z){return(0,s.e)((ie,Te)=>{let le=null,me=null,ae=null;const be=()=>{if(le){le.unsubscribe(),le=null;const J=me;me=null,Te.next(J)}};function re(){const J=ae+T,fe=V.now();if(fe<J)return le=this.schedule(void 0,J-fe),void Te.add(le);be()}ie.subscribe((0,oe.x)(Te,J=>{me=J,ae=V.now(),le||(le=V.schedule(re,T),Te.add(le))},()=>{be(),Te.complete()},void 0,()=>{me=le=null}))})}},3572:(Dt,Le,D)=>{"use strict";D.d(Le,{d:()=>oe});var a=D(9360),s=D(8251);function oe(c){return(0,a.e)((T,V)=>{let ie=!1;T.subscribe((0,s.x)(V,Te=>{ie=!0,V.next(Te)},()=>{ie||V.next(c),V.complete()}))})}},3997:(Dt,Le,D)=>{"use strict";D.d(Le,{x:()=>c});var a=D(2737),s=D(9360),oe=D(8251);function c(V,ie=a.y){return V=V??T,(0,s.e)((Te,le)=>{let me,ae=!0;Te.subscribe((0,oe.x)(le,be=>{const re=ie(be);(ae||!V(me,re))&&(ae=!1,me=re,le.next(be))}))})}function T(V,ie){return V===ie}},2181:(Dt,Le,D)=>{"use strict";D.d(Le,{h:()=>oe});var a=D(9360),s=D(8251);function oe(c,T){return(0,a.e)((V,ie)=>{let Te=0;V.subscribe((0,s.x)(ie,le=>c.call(T,le,Te++)&&ie.next(le)))})}},4716:(Dt,Le,D)=>{"use strict";D.d(Le,{x:()=>s});var a=D(9360);function s(oe){return(0,a.e)((c,T)=>{try{c.subscribe(T)}finally{T.add(oe)}})}},1374:(Dt,Le,D)=>{"use strict";D.d(Le,{P:()=>ie});var a=D(6973),s=D(2181),oe=D(8180),c=D(3572),T=D(3026),V=D(2737);function ie(Te,le){const me=arguments.length>=2;return ae=>ae.pipe(Te?(0,s.h)((be,re)=>Te(be,re,ae)):V.y,(0,oe.q)(1),me?(0,c.d)(le):(0,T.T)(()=>new a.K))}},7398:(Dt,Le,D)=>{"use strict";D.d(Le,{U:()=>oe});var a=D(9360),s=D(8251);function oe(c,T){return(0,a.e)((V,ie)=>{let Te=0;V.subscribe((0,s.x)(ie,le=>{ie.next(c.call(T,le,Te++))}))})}},975:(Dt,Le,D)=>{"use strict";D.d(Le,{h:()=>s});var a=D(7398);function s(oe){return(0,a.U)(()=>oe)}},7537:(Dt,Le,D)=>{"use strict";D.d(Le,{J:()=>oe});var a=D(1631),s=D(2737);function oe(c=1/0){return(0,a.z)(s.y,c)}},1631:(Dt,Le,D)=>{"use strict";D.d(Le,{z:()=>Te});var a=D(7398),s=D(4829),oe=D(9360),c=D(7103),T=D(8251),ie=D(4674);function Te(le,me,ae=1/0){return(0,ie.m)(me)?Te((be,re)=>(0,a.U)((J,fe)=>me(be,J,re,fe))((0,s.Xf)(le(be,re))),ae):("number"==typeof me&&(ae=me),(0,oe.e)((be,re)=>function V(le,me,ae,be,re,J,fe,ke){const Ce=[];let we=0,he=0,A=!1;const pe=()=>{A&&!Ce.length&&!we&&me.complete()},ge=Pe=>we<be?pt(Pe):Ce.push(Pe),pt=Pe=>{J&&me.next(Pe),we++;let Be=!1;(0,s.Xf)(ae(Pe,he++)).subscribe((0,T.x)(me,rt=>{re?.(rt),J?ge(rt):me.next(rt)},()=>{Be=!0},void 0,()=>{if(Be)try{for(we--;Ce.length&&we<be;){const rt=Ce.shift();fe?(0,c.f)(me,fe,()=>pt(rt)):pt(rt)}pe()}catch(rt){me.error(rt)}}))};return le.subscribe((0,T.x)(me,ge,()=>{A=!0,pe()})),()=>{ke?.()}}(be,re,le,ae)))}},3093:(Dt,Le,D)=>{"use strict";D.d(Le,{Q:()=>c});var a=D(7103),s=D(9360),oe=D(8251);function c(T,V=0){return(0,s.e)((ie,Te)=>{ie.subscribe((0,oe.x)(Te,le=>(0,a.f)(Te,T,()=>Te.next(le),V),()=>(0,a.f)(Te,T,()=>Te.complete(),V),le=>(0,a.f)(Te,T,()=>Te.error(le),V)))})}},6699:(Dt,Le,D)=>{"use strict";D.d(Le,{R:()=>c});var a=D(9360),s=D(8251);function c(T,V){return(0,a.e)(function oe(T,V,ie,Te,le){return(me,ae)=>{let be=ie,re=V,J=0;me.subscribe((0,s.x)(ae,fe=>{const ke=J++;re=be?T(re,fe,ke):(be=!0,fe),Te&&ae.next(re)},le&&(()=>{be&&ae.next(re),ae.complete()})))}}(T,V,arguments.length>=2,!0))}},3020:(Dt,Le,D)=>{"use strict";D.d(Le,{B:()=>T});var a=D(4829),s=D(8645),oe=D(305),c=D(9360);function T(ie={}){const{connector:Te=(()=>new s.x),resetOnError:le=!0,resetOnComplete:me=!0,resetOnRefCountZero:ae=!0}=ie;return be=>{let re,J,fe,ke=0,Ce=!1,we=!1;const he=()=>{J?.unsubscribe(),J=void 0},A=()=>{he(),re=fe=void 0,Ce=we=!1},pe=()=>{const ge=re;A(),ge?.unsubscribe()};return(0,c.e)((ge,pt)=>{ke++,!we&&!Ce&&he();const Pe=fe=fe??Te();pt.add(()=>{ke--,0===ke&&!we&&!Ce&&(J=V(pe,ae))}),Pe.subscribe(pt),!re&&ke>0&&(re=new oe.Hp({next:Be=>Pe.next(Be),error:Be=>{we=!0,he(),J=V(A,le,Be),Pe.error(Be)},complete:()=>{Ce=!0,he(),J=V(A,me),Pe.complete()}}),(0,a.Xf)(ge).subscribe(re))})(be)}}function V(ie,Te,...le){if(!0===Te)return void ie();if(!1===Te)return;const me=new oe.Hp({next:()=>{me.unsubscribe(),ie()}});return(0,a.Xf)(Te(...le)).subscribe(me)}},836:(Dt,Le,D)=>{"use strict";D.d(Le,{T:()=>s});var a=D(2181);function s(oe){return(0,a.h)((c,T)=>oe<=T)}},7921:(Dt,Le,D)=>{"use strict";D.d(Le,{O:()=>c});var a=D(5211),s=D(9940),oe=D(9360);function c(...T){const V=(0,s.yG)(T);return(0,oe.e)((ie,Te)=>{(V?(0,a.z)(T,ie,V):(0,a.z)(T,ie)).subscribe(Te)})}},4664:(Dt,Le,D)=>{"use strict";D.d(Le,{w:()=>c});var a=D(4829),s=D(9360),oe=D(8251);function c(T,V){return(0,s.e)((ie,Te)=>{let le=null,me=0,ae=!1;const be=()=>ae&&!le&&Te.complete();ie.subscribe((0,oe.x)(Te,re=>{le?.unsubscribe();let J=0;const fe=me++;(0,a.Xf)(T(re,fe)).subscribe(le=(0,oe.x)(Te,ke=>Te.next(V?V(re,ke,fe,J++):ke),()=>{le=null,be()}))},()=>{ae=!0,be()}))})}},8180:(Dt,Le,D)=>{"use strict";D.d(Le,{q:()=>c});var a=D(6232),s=D(9360),oe=D(8251);function c(T){return T<=0?()=>a.E:(0,s.e)((V,ie)=>{let Te=0;V.subscribe((0,oe.x)(ie,le=>{++Te<=T&&(ie.next(le),T<=Te&&ie.complete())}))})}},9773:(Dt,Le,D)=>{"use strict";D.d(Le,{R:()=>T});var a=D(9360),s=D(8251),oe=D(4829),c=D(2420);function T(V){return(0,a.e)((ie,Te)=>{(0,oe.Xf)(V).subscribe((0,s.x)(Te,()=>Te.complete(),c.Z)),!Te.closed&&ie.subscribe(Te)})}},9397:(Dt,Le,D)=>{"use strict";D.d(Le,{b:()=>T});var a=D(4674),s=D(9360),oe=D(8251),c=D(2737);function T(V,ie,Te){const le=(0,a.m)(V)||ie||Te?{next:V,error:ie,complete:Te}:V;return le?(0,s.e)((me,ae)=>{var be;null===(be=le.subscribe)||void 0===be||be.call(le);let re=!0;me.subscribe((0,oe.x)(ae,J=>{var fe;null===(fe=le.next)||void 0===fe||fe.call(le,J),ae.next(J)},()=>{var J;re=!1,null===(J=le.complete)||void 0===J||J.call(le),ae.complete()},J=>{var fe;re=!1,null===(fe=le.error)||void 0===fe||fe.call(le,J),ae.error(J)},()=>{var J,fe;re&&(null===(J=le.unsubscribe)||void 0===J||J.call(le)),null===(fe=le.finalize)||void 0===fe||fe.call(le)}))}):c.y}},3026:(Dt,Le,D)=>{"use strict";D.d(Le,{T:()=>c});var a=D(6973),s=D(9360),oe=D(8251);function c(V=T){return(0,s.e)((ie,Te)=>{let le=!1;ie.subscribe((0,oe.x)(Te,me=>{le=!0,Te.next(me)},()=>le?Te.complete():Te.error(V())))})}function T(){return new a.K}},5178:(Dt,Le,D)=>{"use strict";D.d(Le,{V:()=>le});var a=D(6321),s=D(93),oe=D(9360),c=D(4829),T=D(2306),V=D(8251),ie=D(7103);const Te=(0,T.d)(ae=>function(re=null){ae(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=re});function le(ae,be){const{first:re,each:J,with:fe=me,scheduler:ke=be??a.z,meta:Ce=null}=(0,s.q)(ae)?{first:ae}:"number"==typeof ae?{each:ae}:ae;if(null==re&&null==J)throw new TypeError("No timeout provided.");return(0,oe.e)((we,he)=>{let A,pe,ge=null,pt=0;const Pe=Be=>{pe=(0,ie.f)(he,ke,()=>{try{A.unsubscribe(),(0,c.Xf)(fe({meta:Ce,lastValue:ge,seen:pt})).subscribe(he)}catch(rt){he.error(rt)}},Be)};A=we.subscribe((0,V.x)(he,Be=>{pe?.unsubscribe(),pt++,he.next(ge=Be),J>0&&Pe(J)},void 0,void 0,()=>{pe?.closed||pe?.unsubscribe(),ge=null})),!pt&&Pe(null!=re?"number"==typeof re?re:+re-ke.now():J)})}function me(ae){throw new Te(ae)}},2460:(Dt,Le,D)=>{"use strict";D.d(Le,{M:()=>ie});var a=D(9360),s=D(8251),oe=D(4829),c=D(2737),T=D(2420),V=D(9940);function ie(...Te){const le=(0,V.jO)(Te);return(0,a.e)((me,ae)=>{const be=Te.length,re=new Array(be);let J=Te.map(()=>!1),fe=!1;for(let ke=0;ke<be;ke++)(0,oe.Xf)(Te[ke]).subscribe((0,s.x)(ae,Ce=>{re[ke]=Ce,!fe&&!J[ke]&&(J[ke]=!0,(fe=J.every(c.y))&&(J=null))},T.Z));me.subscribe((0,s.x)(ae,ke=>{if(fe){const Ce=[ke,...re];ae.next(le?le(...Ce):Ce)}}))})}},1954:(Dt,Le,D)=>{"use strict";D.d(Le,{o:()=>T});var a=D(7394);class s extends a.w0{constructor(ie,Te){super()}schedule(ie,Te=0){return this}}const oe={setInterval(V,ie,...Te){const{delegate:le}=oe;return le?.setInterval?le.setInterval(V,ie,...Te):setInterval(V,ie,...Te)},clearInterval(V){const{delegate:ie}=oe;return(ie?.clearInterval||clearInterval)(V)},delegate:void 0};var c=D(9039);class T extends s{constructor(ie,Te){super(ie,Te),this.scheduler=ie,this.work=Te,this.pending=!1}schedule(ie,Te=0){var le;if(this.closed)return this;this.state=ie;const me=this.id,ae=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(ae,me,Te)),this.pending=!0,this.delay=Te,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId(ae,this.id,Te),this}requestAsyncId(ie,Te,le=0){return oe.setInterval(ie.flush.bind(ie,this),le)}recycleAsyncId(ie,Te,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return Te;null!=Te&&oe.clearInterval(Te)}execute(ie,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ie,Te);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,Te){let me,le=!1;try{this.work(ie)}catch(ae){le=!0,me=ae||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),me}unsubscribe(){if(!this.closed){const{id:ie,scheduler:Te}=this,{actions:le}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,c.P)(le,this),null!=ie&&(this.id=this.recycleAsyncId(Te,ie,null)),this.delay=null,super.unsubscribe()}}}},2631:(Dt,Le,D)=>{"use strict";D.d(Le,{v:()=>oe});var a=D(4552);class s{constructor(T,V=s.now){this.schedulerActionCtor=T,this.now=V}schedule(T,V=0,ie){return new this.schedulerActionCtor(this,T).schedule(ie,V)}}s.now=a.l.now;class oe extends s{constructor(T,V=s.now){super(T,V),this.actions=[],this._active=!1}flush(T){const{actions:V}=this;if(this._active)return void V.push(T);let ie;this._active=!0;do{if(ie=T.execute(T.state,T.delay))break}while(T=V.shift());if(this._active=!1,ie){for(;T=V.shift();)T.unsubscribe();throw ie}}}},6321:(Dt,Le,D)=>{"use strict";D.d(Le,{P:()=>c,z:()=>oe});var a=D(1954);const oe=new(D(2631).v)(a.o),c=oe},4552:(Dt,Le,D)=>{"use strict";D.d(Le,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},2381:(Dt,Le,D)=>{"use strict";D.d(Le,{N:()=>T});var a=D(1954),oe=D(2631);const T=new class c extends oe.v{}(class s extends a.o{constructor(Te,le){super(Te,le),this.scheduler=Te,this.work=le}schedule(Te,le=0){return le>0?super.schedule(Te,le):(this.delay=le,this.state=Te,this.scheduler.flush(this),this)}execute(Te,le){return le>0||this.closed?super.execute(Te,le):this._execute(Te,le)}requestAsyncId(Te,le,me=0){return null!=me&&me>0||null==me&&this.delay>0?super.requestAsyncId(Te,le,me):(Te.flush(this),0)}})},7599:(Dt,Le,D)=>{"use strict";D.d(Le,{z:()=>a});const a={setTimeout(s,oe,...c){const{delegate:T}=a;return T?.setTimeout?T.setTimeout(s,oe,...c):setTimeout(s,oe,...c)},clearTimeout(s){const{delegate:oe}=a;return(oe?.clearTimeout||clearTimeout)(s)},delegate:void 0}},4971:(Dt,Le,D)=>{"use strict";D.d(Le,{h:()=>s});const s=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Dt,Le,D)=>{"use strict";D.d(Le,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Dt,Le,D)=>{"use strict";D.d(Le,{K:()=>s});const s=(0,D(2306).d)(oe=>function(){oe(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Dt,Le,D)=>{"use strict";D.d(Le,{_6:()=>V,jO:()=>c,yG:()=>T});var a=D(4674),s=D(671);function oe(ie){return ie[ie.length-1]}function c(ie){return(0,a.m)(oe(ie))?ie.pop():void 0}function T(ie){return(0,s.K)(oe(ie))?ie.pop():void 0}function V(ie,Te){return"number"==typeof oe(ie)?ie.pop():Te}},7453:(Dt,Le,D)=>{"use strict";D.d(Le,{D:()=>T});const{isArray:a}=Array,{getPrototypeOf:s,prototype:oe,keys:c}=Object;function T(ie){if(1===ie.length){const Te=ie[0];if(a(Te))return{args:Te,keys:null};if(function V(ie){return ie&&"object"==typeof ie&&s(ie)===oe}(Te)){const le=c(Te);return{args:le.map(me=>Te[me]),keys:le}}}return{args:ie,keys:null}}},7728:(Dt,Le,D)=>{"use strict";D.d(Le,{k:()=>s});const{isArray:a}=Array;function s(oe){return 1===oe.length&&a(oe[0])?oe[0]:oe}},9039:(Dt,Le,D)=>{"use strict";function a(s,oe){if(s){const c=s.indexOf(oe);0<=c&&s.splice(c,1)}}D.d(Le,{P:()=>a})},2306:(Dt,Le,D)=>{"use strict";function a(s){const c=s(T=>{Error.call(T),T.stack=(new Error).stack});return c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c}D.d(Le,{d:()=>a})},2714:(Dt,Le,D)=>{"use strict";function a(s,oe){return s.reduce((c,T,V)=>(c[T]=oe[V],c),{})}D.d(Le,{n:()=>a})},1441:(Dt,Le,D)=>{"use strict";D.d(Le,{O:()=>c,x:()=>oe});var a=D(2653);let s=null;function oe(T){if(a.config.useDeprecatedSynchronousErrorHandling){const V=!s;if(V&&(s={errorThrown:!1,error:null}),T(),V){const{errorThrown:ie,error:Te}=s;if(s=null,ie)throw Te}}else T()}function c(T){a.config.useDeprecatedSynchronousErrorHandling&&s&&(s.errorThrown=!0,s.error=T)}},7103:(Dt,Le,D)=>{"use strict";function a(s,oe,c,T=0,V=!1){const ie=oe.schedule(function(){c(),V?s.add(this.schedule(null,T)):this.unsubscribe()},T);if(s.add(ie),!V)return ie}D.d(Le,{f:()=>a})},2737:(Dt,Le,D)=>{"use strict";function a(s){return s}D.d(Le,{y:()=>a})},4266:(Dt,Le,D)=>{"use strict";D.d(Le,{z:()=>a});const a=s=>s&&"number"==typeof s.length&&"function"!=typeof s},5726:(Dt,Le,D)=>{"use strict";D.d(Le,{D:()=>s});var a=D(4674);function s(oe){return Symbol.asyncIterator&&(0,a.m)(oe?.[Symbol.asyncIterator])}},93:(Dt,Le,D)=>{"use strict";function a(s){return s instanceof Date&&!isNaN(s)}D.d(Le,{q:()=>a})},4674:(Dt,Le,D)=>{"use strict";function a(s){return"function"==typeof s}D.d(Le,{m:()=>a})},8382:(Dt,Le,D)=>{"use strict";D.d(Le,{c:()=>oe});var a=D(4850),s=D(4674);function oe(c){return(0,s.m)(c[a.L])}},3664:(Dt,Le,D)=>{"use strict";D.d(Le,{T:()=>oe});var a=D(4971),s=D(4674);function oe(c){return(0,s.m)(c?.[a.h])}},4026:(Dt,Le,D)=>{"use strict";D.d(Le,{t:()=>s});var a=D(4674);function s(oe){return(0,a.m)(oe?.then)}},541:(Dt,Le,D)=>{"use strict";D.d(Le,{L:()=>c,Q:()=>oe});var a=D(7582),s=D(4674);function oe(T){return(0,a.__asyncGenerator)(this,arguments,function*(){const ie=T.getReader();try{for(;;){const{value:Te,done:le}=yield(0,a.__await)(ie.read());if(le)return yield(0,a.__await)(void 0);yield yield(0,a.__await)(Te)}}finally{ie.releaseLock()}})}function c(T){return(0,s.m)(T?.getReader)}},671:(Dt,Le,D)=>{"use strict";D.d(Le,{K:()=>s});var a=D(4674);function s(oe){return oe&&(0,a.m)(oe.schedule)}},9360:(Dt,Le,D)=>{"use strict";D.d(Le,{A:()=>s,e:()=>oe});var a=D(4674);function s(c){return(0,a.m)(c?.lift)}function oe(c){return T=>{if(s(T))return T.lift(function(V){try{return c(V,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Dt,Le,D)=>{"use strict";D.d(Le,{Z:()=>c});var a=D(7398);const{isArray:s}=Array;function c(T){return(0,a.U)(V=>function oe(T,V){return s(V)?T(...V):T(V)}(T,V))}},2420:(Dt,Le,D)=>{"use strict";function a(){}D.d(Le,{Z:()=>a})},8407:(Dt,Le,D)=>{"use strict";D.d(Le,{U:()=>oe,z:()=>s});var a=D(2737);function s(...c){return oe(c)}function oe(c){return 0===c.length?a.y:1===c.length?c[0]:function(V){return c.reduce((ie,Te)=>Te(ie),V)}}},3894:(Dt,Le,D)=>{"use strict";D.d(Le,{h:()=>oe});var a=D(2653),s=D(7599);function oe(c){s.z.setTimeout(()=>{const{onUnhandledError:T}=a.config;if(!T)throw c;T(c)})}},9853:(Dt,Le,D)=>{"use strict";function a(s){return new TypeError(`You provided ${null!==s&&"object"==typeof s?"an invalid object":`'${s}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(Le,{z:()=>a})},2372:(Dt,Le,D)=>{"use strict";D.d(Le,{Z:()=>be});var a,s=new Uint8Array(16);function oe(){if(!a&&!(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)}const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var ie=[],Te=0;Te<256;++Te)ie.push((Te+256).toString(16).substr(1));const me=function le(re){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,fe=(ie[re[J+0]]+ie[re[J+1]]+ie[re[J+2]]+ie[re[J+3]]+"-"+ie[re[J+4]]+ie[re[J+5]]+"-"+ie[re[J+6]]+ie[re[J+7]]+"-"+ie[re[J+8]]+ie[re[J+9]]+"-"+ie[re[J+10]]+ie[re[J+11]]+ie[re[J+12]]+ie[re[J+13]]+ie[re[J+14]]+ie[re[J+15]]).toLowerCase();if(!function T(re){return"string"==typeof re&&c.test(re)}(fe))throw TypeError("Stringified UUID is invalid");return fe},be=function ae(re,J,fe){var ke=(re=re||{}).random||(re.rng||oe)();if(ke[6]=15&ke[6]|64,ke[8]=63&ke[8]|128,J){fe=fe||0;for(var Ce=0;Ce<16;++Ce)J[fe+Ce]=ke[Ce];return J}return me(ke)}},863:(Dt,Le,D)=>{var a={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,566],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,5421,433],"./ion-datetime_3.entry.js":[7059,5421,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,8289],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,9420],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,8891],"./ion-reorder_2.entry.js":[2975,8592,6004],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,6754],"./ion-slide_2.entry.js":[5487,5487],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,8592,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,3734],"./ion-toast.entry.js":[6642,6642],"./ion-toggle.entry.js":[8866,8592,8866],"./ion-virtual-scroll.entry.js":[8808,8808]};function s(oe){if(!D.o(a,oe))return Promise.resolve().then(()=>{var V=new Error("Cannot find module '"+oe+"'");throw V.code="MODULE_NOT_FOUND",V});var c=a[oe],T=c[0];return Promise.all(c.slice(1).map(D.e)).then(()=>D(T))}s.keys=()=>Object.keys(a),s.id=863,Dt.exports=s},1371:()=>{},6127:()=>{},6825:(Dt,Le,D)=>{"use strict";D.d(Le,{IO:()=>fe,LC:()=>s,X$:()=>c,ZE:()=>we,ZN:()=>Ce,_j:()=>a,eR:()=>ae,jt:()=>T,k1:()=>he,l3:()=>oe,oB:()=>Te,ru:()=>V,vP:()=>ie});class a{}class s{}const oe="*";function c(A,pe){return{type:7,name:A,definitions:pe,options:{}}}function T(A,pe=null){return{type:4,styles:pe,timings:A}}function V(A,pe=null){return{type:3,steps:A,options:pe}}function ie(A,pe=null){return{type:2,steps:A,options:pe}}function Te(A){return{type:6,styles:A,offset:null}}function ae(A,pe,ge=null){return{type:1,expr:A,animation:pe,options:ge}}function fe(A,pe,ge=null){return{type:11,selector:A,animation:pe,options:ge}}class Ce{constructor(pe=0,ge=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=pe+ge}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}onStart(pe){this._originalOnStartFns.push(pe),this._onStartFns.push(pe)}onDone(pe){this._originalOnDoneFns.push(pe),this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(pe=>pe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(pe){this._position=this.totalTime?pe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(pe){const ge="start"==pe?this._onStartFns:this._onDoneFns;ge.forEach(pt=>pt()),ge.length=0}}class we{constructor(pe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=pe;let ge=0,pt=0,Pe=0;const Be=this.players.length;0==Be?queueMicrotask(()=>this._onFinish()):this.players.forEach(rt=>{rt.onDone(()=>{++ge==Be&&this._onFinish()}),rt.onDestroy(()=>{++pt==Be&&this._onDestroy()}),rt.onStart(()=>{++Pe==Be&&this._onStart()})}),this.totalTime=this.players.reduce((rt,wt)=>Math.max(rt,wt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}init(){this.players.forEach(pe=>pe.init())}onStart(pe){this._onStartFns.push(pe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(pe=>pe()),this._onStartFns=[])}onDone(pe){this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(pe=>pe.play())}pause(){this.players.forEach(pe=>pe.pause())}restart(){this.players.forEach(pe=>pe.restart())}finish(){this._onFinish(),this.players.forEach(pe=>pe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(pe=>pe.destroy()),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}reset(){this.players.forEach(pe=>pe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(pe){const ge=pe*this.totalTime;this.players.forEach(pt=>{const Pe=pt.totalTime?Math.min(1,ge/pt.totalTime):1;pt.setPosition(Pe)})}getPosition(){const pe=this.players.reduce((ge,pt)=>null===ge||pt.totalTime>ge.totalTime?pt:ge,null);return null!=pe?pe.getPosition():0}beforeDestroy(){this.players.forEach(pe=>{pe.beforeDestroy&&pe.beforeDestroy()})}triggerCallback(pe){const ge="start"==pe?this._onStartFns:this._onDoneFns;ge.forEach(pt=>pt()),ge.length=0}}const he="!"},6814:(Dt,Le,D)=>{"use strict";D.d(Le,{Do:()=>ke,EM:()=>na,HT:()=>c,JF:()=>La,K0:()=>V,Mn:()=>ut,Mx:()=>dr,NF:()=>Es,O5:()=>vs,OU:()=>Ws,Ov:()=>Ei,PM:()=>$s,S$:()=>re,Tn:()=>rt,UT:()=>Nt,V_:()=>Te,Ye:()=>Ce,Zx:()=>Ii,ax:()=>kr,b0:()=>fe,bD:()=>Vr,ez:()=>kl,mk:()=>Dn,mr:()=>J,p6:()=>qi,q:()=>oe,sg:()=>kr,tP:()=>ki,uU:()=>rs,w_:()=>T,x:()=>Be});var a=D(5879);let s=null;function oe(){return s}function c(K){s||(s=K)}class T{}const V=new a.OlP("DocumentToken");let ie=(()=>{class K{historyGo(Me){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ze){return new(ze||K)};static#t=this.\u0275prov=a.Yz7({token:K,factory:function(){return(0,a.f3M)(le)},providedIn:"platform"})}return K})();const Te=new a.OlP("Location Initialized");let le=(()=>{class K extends ie{constructor(){super(),this._doc=(0,a.f3M)(V),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oe().getBaseHref(this._doc)}onPopState(Me){const ze=oe().getGlobalEventTarget(this._doc,"window");return ze.addEventListener("popstate",Me,!1),()=>ze.removeEventListener("popstate",Me)}onHashChange(Me){const ze=oe().getGlobalEventTarget(this._doc,"window");return ze.addEventListener("hashchange",Me,!1),()=>ze.removeEventListener("hashchange",Me)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Me){this._location.pathname=Me}pushState(Me,ze,Kt){this._history.pushState(Me,ze,Kt)}replaceState(Me,ze,Kt){this._history.replaceState(Me,ze,Kt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Me=0){this._history.go(Me)}getState(){return this._history.state}static#e=this.\u0275fac=function(ze){return new(ze||K)};static#t=this.\u0275prov=a.Yz7({token:K,factory:function(){return new K},providedIn:"platform"})}return K})();function me(K,Ye){if(0==K.length)return Ye;if(0==Ye.length)return K;let Me=0;return K.endsWith("/")&&Me++,Ye.startsWith("/")&&Me++,2==Me?K+Ye.substring(1):1==Me?K+Ye:K+"/"+Ye}function ae(K){const Ye=K.match(/#|\?|$/),Me=Ye&&Ye.index||K.length;return K.slice(0,Me-("/"===K[Me-1]?1:0))+K.slice(Me)}function be(K){return K&&"?"!==K[0]?"?"+K:K}let re=(()=>{class K{historyGo(Me){throw new Error("Not implemented")}static#e=this.\u0275fac=function(ze){return new(ze||K)};static#t=this.\u0275prov=a.Yz7({token:K,factory:function(){return(0,a.f3M)(fe)},providedIn:"root"})}return K})();const J=new a.OlP("appBaseHref");let fe=(()=>{class K extends re{constructor(Me,ze){super(),this._platformLocation=Me,this._removeListenerFns=[],this._baseHref=ze??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(V).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Me){this._removeListenerFns.push(this._platformLocation.onPopState(Me),this._platformLocation.onHashChange(Me))}getBaseHref(){return this._baseHref}prepareExternalUrl(Me){return me(this._baseHref,Me)}path(Me=!1){const ze=this._platformLocation.pathname+be(this._platformLocation.search),Kt=this._platformLocation.hash;return Kt&&Me?`${ze}${Kt}`:ze}pushState(Me,ze,Kt,Fn){const Un=this.prepareExternalUrl(Kt+be(Fn));this._platformLocation.pushState(Me,ze,Un)}replaceState(Me,ze,Kt,Fn){const Un=this.prepareExternalUrl(Kt+be(Fn));this._platformLocation.replaceState(Me,ze,Un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Me=0){this._platformLocation.historyGo?.(Me)}static#e=this.\u0275fac=function(ze){return new(ze||K)(a.LFG(ie),a.LFG(J,8))};static#t=this.\u0275prov=a.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})(),ke=(()=>{class K extends re{constructor(Me,ze){super(),this._platformLocation=Me,this._baseHref="",this._removeListenerFns=[],null!=ze&&(this._baseHref=ze)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Me){this._removeListenerFns.push(this._platformLocation.onPopState(Me),this._platformLocation.onHashChange(Me))}getBaseHref(){return this._baseHref}path(Me=!1){let ze=this._platformLocation.hash;return null==ze&&(ze="#"),ze.length>0?ze.substring(1):ze}prepareExternalUrl(Me){const ze=me(this._baseHref,Me);return ze.length>0?"#"+ze:ze}pushState(Me,ze,Kt,Fn){let Un=this.prepareExternalUrl(Kt+be(Fn));0==Un.length&&(Un=this._platformLocation.pathname),this._platformLocation.pushState(Me,ze,Un)}replaceState(Me,ze,Kt,Fn){let Un=this.prepareExternalUrl(Kt+be(Fn));0==Un.length&&(Un=this._platformLocation.pathname),this._platformLocation.replaceState(Me,ze,Un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Me=0){this._platformLocation.historyGo?.(Me)}static#e=this.\u0275fac=function(ze){return new(ze||K)(a.LFG(ie),a.LFG(J,8))};static#t=this.\u0275prov=a.Yz7({token:K,factory:K.\u0275fac})}return K})(),Ce=(()=>{class K{constructor(Me){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Me;const ze=this._locationStrategy.getBaseHref();this._basePath=function pe(K){if(new RegExp("^(https?:)?//").test(K)){const[,Me]=K.split(/\/\/[^\/]+/);return Me}return K}(ae(A(ze))),this._locationStrategy.onPopState(Kt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Kt.state,type:Kt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Me=!1){return this.normalize(this._locationStrategy.path(Me))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Me,ze=""){return this.path()==this.normalize(Me+be(ze))}normalize(Me){return K.stripTrailingSlash(function he(K,Ye){if(!K||!Ye.startsWith(K))return Ye;const Me=Ye.substring(K.length);return""===Me||["/",";","?","#"].includes(Me[0])?Me:Ye}(this._basePath,A(Me)))}prepareExternalUrl(Me){return Me&&"/"!==Me[0]&&(Me="/"+Me),this._locationStrategy.prepareExternalUrl(Me)}go(Me,ze="",Kt=null){this._locationStrategy.pushState(Kt,"",Me,ze),this._notifyUrlChangeListeners(this.prepareExternalUrl(Me+be(ze)),Kt)}replaceState(Me,ze="",Kt=null){this._locationStrategy.replaceState(Kt,"",Me,ze),this._notifyUrlChangeListeners(this.prepareExternalUrl(Me+be(ze)),Kt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Me=0){this._locationStrategy.historyGo?.(Me)}onUrlChange(Me){return this._urlChangeListeners.push(Me),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ze=>{this._notifyUrlChangeListeners(ze.url,ze.state)})),()=>{const ze=this._urlChangeListeners.indexOf(Me);this._urlChangeListeners.splice(ze,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Me="",ze){this._urlChangeListeners.forEach(Kt=>Kt(Me,ze))}subscribe(Me,ze,Kt){return this._subject.subscribe({next:Me,error:ze,complete:Kt})}static#e=this.normalizeQueryParams=be;static#t=this.joinWithSlash=me;static#n=this.stripTrailingSlash=ae;static#i=this.\u0275fac=function(ze){return new(ze||K)(a.LFG(re))};static#o=this.\u0275prov=a.Yz7({token:K,factory:function(){return function we(){return new Ce((0,a.LFG)(re))}()},providedIn:"root"})}return K})();function A(K){return K.replace(/\/index.html$/,"")}var pt=function(K){return K[K.Decimal=0]="Decimal",K[K.Percent=1]="Percent",K[K.Currency=2]="Currency",K[K.Scientific=3]="Scientific",K}(pt||{}),Be=function(K){return K[K.Format=0]="Format",K[K.Standalone=1]="Standalone",K}(Be||{}),rt=function(K){return K[K.Narrow=0]="Narrow",K[K.Abbreviated=1]="Abbreviated",K[K.Wide=2]="Wide",K[K.Short=3]="Short",K}(rt||{}),wt=function(K){return K[K.Short=0]="Short",K[K.Medium=1]="Medium",K[K.Long=2]="Long",K[K.Full=3]="Full",K}(wt||{}),It=function(K){return K[K.Decimal=0]="Decimal",K[K.Group=1]="Group",K[K.List=2]="List",K[K.PercentSign=3]="PercentSign",K[K.PlusSign=4]="PlusSign",K[K.MinusSign=5]="MinusSign",K[K.Exponential=6]="Exponential",K[K.SuperscriptingExponent=7]="SuperscriptingExponent",K[K.PerMille=8]="PerMille",K[K.Infinity=9]="Infinity",K[K.NaN=10]="NaN",K[K.TimeSeparator=11]="TimeSeparator",K[K.CurrencyDecimal=12]="CurrencyDecimal",K[K.CurrencyGroup=13]="CurrencyGroup",K}(It||{});function ut(K,Ye,Me){const ze=(0,a.cg1)(K),Fn=st([ze[a.wAp.DaysFormat],ze[a.wAp.DaysStandalone]],Ye);return st(Fn,Me)}function Nt(K,Ye,Me){const ze=(0,a.cg1)(K),Fn=st([ze[a.wAp.MonthsFormat],ze[a.wAp.MonthsStandalone]],Ye);return st(Fn,Me)}function jt(K,Ye){return st((0,a.cg1)(K)[a.wAp.DateFormat],Ye)}function gt(K,Ye){return st((0,a.cg1)(K)[a.wAp.TimeFormat],Ye)}function yt(K,Ye){return st((0,a.cg1)(K)[a.wAp.DateTimeFormat],Ye)}function at(K,Ye){const Me=(0,a.cg1)(K),ze=Me[a.wAp.NumberSymbols][Ye];if(typeof ze>"u"){if(Ye===It.CurrencyDecimal)return Me[a.wAp.NumberSymbols][It.Decimal];if(Ye===It.CurrencyGroup)return Me[a.wAp.NumberSymbols][It.Group]}return ze}function $t(K){if(!K[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${K[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function st(K,Ye){for(let Me=Ye;Me>-1;Me--)if(typeof K[Me]<"u")return K[Me];throw new Error("Locale data API: locale data undefined")}function U(K){const[Ye,Me]=K.split(":");return{hours:+Ye,minutes:+Me}}const jn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mi={},dn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pn=function(K){return K[K.Short=0]="Short",K[K.ShortGMT=1]="ShortGMT",K[K.Long=2]="Long",K[K.Extended=3]="Extended",K}(Pn||{}),qn=function(K){return K[K.FullYear=0]="FullYear",K[K.Month=1]="Month",K[K.Date=2]="Date",K[K.Hours=3]="Hours",K[K.Minutes=4]="Minutes",K[K.Seconds=5]="Seconds",K[K.FractionalSeconds=6]="FractionalSeconds",K[K.Day=7]="Day",K}(qn||{}),ti=function(K){return K[K.DayPeriods=0]="DayPeriods",K[K.Days=1]="Days",K[K.Months=2]="Months",K[K.Eras=3]="Eras",K}(ti||{});function qi(K,Ye,Me,ze){let Kt=function kt(K){if(ft(K))return K;if("number"==typeof K&&!isNaN(K))return new Date(K);if("string"==typeof K){if(K=K.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(K)){const[Kt,Fn=1,Un=1]=K.split("-").map(Qi=>+Qi);return to(Kt,Fn-1,Un)}const Me=parseFloat(K);if(!isNaN(K-Me))return new Date(Me);let ze;if(ze=K.match(jn))return function cn(K){const Ye=new Date(0);let Me=0,ze=0;const Kt=K[8]?Ye.setUTCFullYear:Ye.setFullYear,Fn=K[8]?Ye.setUTCHours:Ye.setHours;K[9]&&(Me=Number(K[9]+K[10]),ze=Number(K[9]+K[11])),Kt.call(Ye,Number(K[1]),Number(K[2])-1,Number(K[3]));const Un=Number(K[4]||0)-Me,Qi=Number(K[5]||0)-ze,hr=Number(K[6]||0),Ir=Math.floor(1e3*parseFloat("0."+(K[7]||0)));return Fn.call(Ye,Un,Qi,hr,Ir),Ye}(ze)}const Ye=new Date(K);if(!ft(Ye))throw new Error(`Unable to convert "${K}" into a date`);return Ye}(K);Ye=Zi(Me,Ye)||Ye;let Qi,Un=[];for(;Ye;){if(Qi=dn.exec(Ye),!Qi){Un.push(Ye);break}{Un=Un.concat(Qi.slice(1));const Qo=Un.pop();if(!Qo)break;Ye=Qo}}let hr=Kt.getTimezoneOffset();ze&&(hr=nn(ze,hr),Kt=function Bn(K,Ye,Me){const ze=Me?-1:1,Kt=K.getTimezoneOffset();return function bn(K,Ye){return(K=new Date(K.getTime())).setMinutes(K.getMinutes()+Ye),K}(K,ze*(nn(Ye,Kt)-Kt))}(Kt,ze,!0));let Ir="";return Un.forEach(Qo=>{const Ro=function lt(K){if($e[K])return $e[K];let Ye;switch(K){case"G":case"GG":case"GGG":Ye=no(ti.Eras,rt.Abbreviated);break;case"GGGG":Ye=no(ti.Eras,rt.Wide);break;case"GGGGG":Ye=no(ti.Eras,rt.Narrow);break;case"y":Ye=xi(qn.FullYear,1,0,!1,!0);break;case"yy":Ye=xi(qn.FullYear,2,0,!0,!0);break;case"yyy":Ye=xi(qn.FullYear,3,0,!1,!0);break;case"yyyy":Ye=xi(qn.FullYear,4,0,!1,!0);break;case"Y":Ye=tt(1);break;case"YY":Ye=tt(2,!0);break;case"YYY":Ye=tt(3);break;case"YYYY":Ye=tt(4);break;case"M":case"L":Ye=xi(qn.Month,1,1);break;case"MM":case"LL":Ye=xi(qn.Month,2,1);break;case"MMM":Ye=no(ti.Months,rt.Abbreviated);break;case"MMMM":Ye=no(ti.Months,rt.Wide);break;case"MMMMM":Ye=no(ti.Months,rt.Narrow);break;case"LLL":Ye=no(ti.Months,rt.Abbreviated,Be.Standalone);break;case"LLLL":Ye=no(ti.Months,rt.Wide,Be.Standalone);break;case"LLLLL":Ye=no(ti.Months,rt.Narrow,Be.Standalone);break;case"w":Ye=Q(1);break;case"ww":Ye=Q(2);break;case"W":Ye=Q(1,!0);break;case"d":Ye=xi(qn.Date,1);break;case"dd":Ye=xi(qn.Date,2);break;case"c":case"cc":Ye=xi(qn.Day,1);break;case"ccc":Ye=no(ti.Days,rt.Abbreviated,Be.Standalone);break;case"cccc":Ye=no(ti.Days,rt.Wide,Be.Standalone);break;case"ccccc":Ye=no(ti.Days,rt.Narrow,Be.Standalone);break;case"cccccc":Ye=no(ti.Days,rt.Short,Be.Standalone);break;case"E":case"EE":case"EEE":Ye=no(ti.Days,rt.Abbreviated);break;case"EEEE":Ye=no(ti.Days,rt.Wide);break;case"EEEEE":Ye=no(ti.Days,rt.Narrow);break;case"EEEEEE":Ye=no(ti.Days,rt.Short);break;case"a":case"aa":case"aaa":Ye=no(ti.DayPeriods,rt.Abbreviated);break;case"aaaa":Ye=no(ti.DayPeriods,rt.Wide);break;case"aaaaa":Ye=no(ti.DayPeriods,rt.Narrow);break;case"b":case"bb":case"bbb":Ye=no(ti.DayPeriods,rt.Abbreviated,Be.Standalone,!0);break;case"bbbb":Ye=no(ti.DayPeriods,rt.Wide,Be.Standalone,!0);break;case"bbbbb":Ye=no(ti.DayPeriods,rt.Narrow,Be.Standalone,!0);break;case"B":case"BB":case"BBB":Ye=no(ti.DayPeriods,rt.Abbreviated,Be.Format,!0);break;case"BBBB":Ye=no(ti.DayPeriods,rt.Wide,Be.Format,!0);break;case"BBBBB":Ye=no(ti.DayPeriods,rt.Narrow,Be.Format,!0);break;case"h":Ye=xi(qn.Hours,1,-12);break;case"hh":Ye=xi(qn.Hours,2,-12);break;case"H":Ye=xi(qn.Hours,1);break;case"HH":Ye=xi(qn.Hours,2);break;case"m":Ye=xi(qn.Minutes,1);break;case"mm":Ye=xi(qn.Minutes,2);break;case"s":Ye=xi(qn.Seconds,1);break;case"ss":Ye=xi(qn.Seconds,2);break;case"S":Ye=xi(qn.FractionalSeconds,1);break;case"SS":Ye=xi(qn.FractionalSeconds,2);break;case"SSS":Ye=xi(qn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Ye=Bt(Pn.Short);break;case"ZZZZZ":Ye=Bt(Pn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ye=Bt(Pn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Ye=Bt(Pn.Long);break;default:return null}return $e[K]=Ye,Ye}(Qo);Ir+=Ro?Ro(Kt,Me,hr):"''"===Qo?"'":Qo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ir}function to(K,Ye,Me){const ze=new Date(0);return ze.setFullYear(K,Ye,Me),ze.setHours(0,0,0),ze}function Zi(K,Ye){const Me=function L(K){return(0,a.cg1)(K)[a.wAp.LocaleId]}(K);if(Mi[Me]=Mi[Me]||{},Mi[Me][Ye])return Mi[Me][Ye];let ze="";switch(Ye){case"shortDate":ze=jt(K,wt.Short);break;case"mediumDate":ze=jt(K,wt.Medium);break;case"longDate":ze=jt(K,wt.Long);break;case"fullDate":ze=jt(K,wt.Full);break;case"shortTime":ze=gt(K,wt.Short);break;case"mediumTime":ze=gt(K,wt.Medium);break;case"longTime":ze=gt(K,wt.Long);break;case"fullTime":ze=gt(K,wt.Full);break;case"short":const Kt=Zi(K,"shortTime"),Fn=Zi(K,"shortDate");ze=Fi(yt(K,wt.Short),[Kt,Fn]);break;case"medium":const Un=Zi(K,"mediumTime"),Qi=Zi(K,"mediumDate");ze=Fi(yt(K,wt.Medium),[Un,Qi]);break;case"long":const hr=Zi(K,"longTime"),Ir=Zi(K,"longDate");ze=Fi(yt(K,wt.Long),[hr,Ir]);break;case"full":const Qo=Zi(K,"fullTime"),Ro=Zi(K,"fullDate");ze=Fi(yt(K,wt.Full),[Qo,Ro])}return ze&&(Mi[Me][Ye]=ze),ze}function Fi(K,Ye){return Ye&&(K=K.replace(/\{([^}]+)}/g,function(Me,ze){return null!=Ye&&ze in Ye?Ye[ze]:Me})),K}function yo(K,Ye,Me="-",ze,Kt){let Fn="";(K<0||Kt&&K<=0)&&(Kt?K=1-K:(K=-K,Fn=Me));let Un=String(K);for(;Un.length<Ye;)Un="0"+Un;return ze&&(Un=Un.slice(Un.length-Ye)),Fn+Un}function xi(K,Ye,Me=0,ze=!1,Kt=!1){return function(Fn,Un){let Qi=function Mo(K,Ye){switch(K){case qn.FullYear:return Ye.getFullYear();case qn.Month:return Ye.getMonth();case qn.Date:return Ye.getDate();case qn.Hours:return Ye.getHours();case qn.Minutes:return Ye.getMinutes();case qn.Seconds:return Ye.getSeconds();case qn.FractionalSeconds:return Ye.getMilliseconds();case qn.Day:return Ye.getDay();default:throw new Error(`Unknown DateType value "${K}".`)}}(K,Fn);if((Me>0||Qi>-Me)&&(Qi+=Me),K===qn.Hours)0===Qi&&-12===Me&&(Qi=12);else if(K===qn.FractionalSeconds)return function Ji(K,Ye){return yo(K,3).substring(0,Ye)}(Qi,Ye);const hr=at(Un,It.MinusSign);return yo(Qi,Ye,hr,ze,Kt)}}function no(K,Ye,Me=Be.Format,ze=!1){return function(Kt,Fn){return function Wo(K,Ye,Me,ze,Kt,Fn){switch(Me){case ti.Months:return Nt(Ye,Kt,ze)[K.getMonth()];case ti.Days:return ut(Ye,Kt,ze)[K.getDay()];case ti.DayPeriods:const Un=K.getHours(),Qi=K.getMinutes();if(Fn){const Ir=function Cn(K){const Ye=(0,a.cg1)(K);return $t(Ye),(Ye[a.wAp.ExtraData][2]||[]).map(ze=>"string"==typeof ze?U(ze):[U(ze[0]),U(ze[1])])}(Ye),Qo=function Ot(K,Ye,Me){const ze=(0,a.cg1)(K);$t(ze);const Fn=st([ze[a.wAp.ExtraData][0],ze[a.wAp.ExtraData][1]],Ye)||[];return st(Fn,Me)||[]}(Ye,Kt,ze),Ro=Ir.findIndex(Jr=>{if(Array.isArray(Jr)){const[or,ls]=Jr,za=Un>=or.hours&&Qi>=or.minutes,Ts=Un<ls.hours||Un===ls.hours&&Qi<ls.minutes;if(or.hours<ls.hours){if(za&&Ts)return!0}else if(za||Ts)return!0}else if(Jr.hours===Un&&Jr.minutes===Qi)return!0;return!1});if(-1!==Ro)return Qo[Ro]}return function Oe(K,Ye,Me){const ze=(0,a.cg1)(K),Fn=st([ze[a.wAp.DayPeriodsFormat],ze[a.wAp.DayPeriodsStandalone]],Ye);return st(Fn,Me)}(Ye,Kt,ze)[Un<12?0:1];case ti.Eras:return function an(K,Ye){return st((0,a.cg1)(K)[a.wAp.Eras],Ye)}(Ye,ze)[K.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Me}`)}}(Kt,Fn,K,Ye,Me,ze)}}function Bt(K){return function(Ye,Me,ze){const Kt=-1*ze,Fn=at(Me,It.MinusSign),Un=Kt>0?Math.floor(Kt/60):Math.ceil(Kt/60);switch(K){case Pn.Short:return(Kt>=0?"+":"")+yo(Un,2,Fn)+yo(Math.abs(Kt%60),2,Fn);case Pn.ShortGMT:return"GMT"+(Kt>=0?"+":"")+yo(Un,1,Fn);case Pn.Long:return"GMT"+(Kt>=0?"+":"")+yo(Un,2,Fn)+":"+yo(Math.abs(Kt%60),2,Fn);case Pn.Extended:return 0===ze?"Z":(Kt>=0?"+":"")+yo(Un,2,Fn)+":"+yo(Math.abs(Kt%60),2,Fn);default:throw new Error(`Unknown zone width "${K}"`)}}}const Ue=0,We=4;function Et(K){return to(K.getFullYear(),K.getMonth(),K.getDate()+(We-K.getDay()))}function Q(K,Ye=!1){return function(Me,ze){let Kt;if(Ye){const Fn=new Date(Me.getFullYear(),Me.getMonth(),1).getDay()-1,Un=Me.getDate();Kt=1+Math.floor((Un+Fn)/7)}else{const Fn=Et(Me),Un=function Ge(K){const Ye=to(K,Ue,1).getDay();return to(K,0,1+(Ye<=We?We:We+7)-Ye)}(Fn.getFullYear()),Qi=Fn.getTime()-Un.getTime();Kt=1+Math.round(Qi/6048e5)}return yo(Kt,K,at(ze,It.MinusSign))}}function tt(K,Ye=!1){return function(Me,ze){return yo(Et(Me).getFullYear(),K,at(ze,It.MinusSign),Ye)}}const $e={};function nn(K,Ye){K=K.replace(/:/g,"");const Me=Date.parse("Jan 01, 1970 00:00:00 "+K)/6e4;return isNaN(Me)?Ye:Me}function ft(K){return K instanceof Date&&!isNaN(K.valueOf())}const Ze=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Di(K){const Ye=parseInt(K);if(isNaN(Ye))throw new Error("Invalid integer literal when parsing "+K);return Ye}function dr(K,Ye){Ye=encodeURIComponent(Ye);for(const Me of K.split(";")){const ze=Me.indexOf("="),[Kt,Fn]=-1==ze?[Me,""]:[Me.slice(0,ze),Me.slice(ze+1)];if(Kt.trim()===Ye)return decodeURIComponent(Fn)}return null}const Ko=/\s+/,jo=[];let Dn=(()=>{class K{constructor(Me,ze,Kt,Fn){this._iterableDiffers=Me,this._keyValueDiffers=ze,this._ngEl=Kt,this._renderer=Fn,this.initialClasses=jo,this.stateMap=new Map}set klass(Me){this.initialClasses=null!=Me?Me.trim().split(Ko):jo}set ngClass(Me){this.rawClass="string"==typeof Me?Me.trim().split(Ko):Me}ngDoCheck(){for(const ze of this.initialClasses)this._updateState(ze,!0);const Me=this.rawClass;if(Array.isArray(Me)||Me instanceof Set)for(const ze of Me)this._updateState(ze,!0);else if(null!=Me)for(const ze of Object.keys(Me))this._updateState(ze,!!Me[ze]);this._applyStateDiff()}_updateState(Me,ze){const Kt=this.stateMap.get(Me);void 0!==Kt?(Kt.enabled!==ze&&(Kt.changed=!0,Kt.enabled=ze),Kt.touched=!0):this.stateMap.set(Me,{enabled:ze,changed:!0,touched:!0})}_applyStateDiff(){for(const Me of this.stateMap){const ze=Me[0],Kt=Me[1];Kt.changed?(this._toggleClass(ze,Kt.enabled),Kt.changed=!1):Kt.touched||(Kt.enabled&&this._toggleClass(ze,!1),this.stateMap.delete(ze)),Kt.touched=!1}}_toggleClass(Me,ze){(Me=Me.trim()).length>0&&Me.split(Ko).forEach(Kt=>{ze?this._renderer.addClass(this._ngEl.nativeElement,Kt):this._renderer.removeClass(this._ngEl.nativeElement,Kt)})}static#e=this.\u0275fac=function(ze){return new(ze||K)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:K,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return K})();class Eo{constructor(Ye,Me,ze,Kt){this.$implicit=Ye,this.ngForOf=Me,this.index=ze,this.count=Kt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kr=(()=>{class K{set ngForOf(Me){this._ngForOf=Me,this._ngForOfDirty=!0}set ngForTrackBy(Me){this._trackByFn=Me}get ngForTrackBy(){return this._trackByFn}constructor(Me,ze,Kt){this._viewContainer=Me,this._template=ze,this._differs=Kt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Me){Me&&(this._template=Me)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Me=this._ngForOf;!this._differ&&Me&&(this._differ=this._differs.find(Me).create(this.ngForTrackBy))}if(this._differ){const Me=this._differ.diff(this._ngForOf);Me&&this._applyChanges(Me)}}_applyChanges(Me){const ze=this._viewContainer;Me.forEachOperation((Kt,Fn,Un)=>{if(null==Kt.previousIndex)ze.createEmbeddedView(this._template,new Eo(Kt.item,this._ngForOf,-1,-1),null===Un?void 0:Un);else if(null==Un)ze.remove(null===Fn?void 0:Fn);else if(null!==Fn){const Qi=ze.get(Fn);ze.move(Qi,Un),gr(Qi,Kt)}});for(let Kt=0,Fn=ze.length;Kt<Fn;Kt++){const Qi=ze.get(Kt).context;Qi.index=Kt,Qi.count=Fn,Qi.ngForOf=this._ngForOf}Me.forEachIdentityChange(Kt=>{gr(ze.get(Kt.currentIndex),Kt)})}static ngTemplateContextGuard(Me,ze){return!0}static#e=this.\u0275fac=function(ze){return new(ze||K)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))};static#t=this.\u0275dir=a.lG2({type:K,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return K})();function gr(K,Ye){K.context.$implicit=Ye.item}let vs=(()=>{class K{constructor(Me,ze){this._viewContainer=Me,this._context=new et,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ze}set ngIf(Me){this._context.$implicit=this._context.ngIf=Me,this._updateView()}set ngIfThen(Me){nt("ngIfThen",Me),this._thenTemplateRef=Me,this._thenViewRef=null,this._updateView()}set ngIfElse(Me){nt("ngIfElse",Me),this._elseTemplateRef=Me,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Me,ze){return!0}static#e=this.\u0275fac=function(ze){return new(ze||K)(a.Y36(a.s_b),a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:K,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return K})();class et{constructor(){this.$implicit=null,this.ngIf=null}}function nt(K,Ye){if(Ye&&!Ye.createEmbeddedView)throw new Error(`${K} must be a TemplateRef, but received '${(0,a.AaK)(Ye)}'.`)}let ki=(()=>{class K{constructor(Me){this._viewContainerRef=Me,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Me){if(Me.ngTemplateOutlet||Me.ngTemplateOutletInjector){const ze=this._viewContainerRef;if(this._viewRef&&ze.remove(ze.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Kt,ngTemplateOutletContext:Fn,ngTemplateOutletInjector:Un}=this;this._viewRef=ze.createEmbeddedView(Kt,Fn,Un?{injector:Un}:void 0)}else this._viewRef=null}else this._viewRef&&Me.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(ze){return new(ze||K)(a.Y36(a.s_b))};static#t=this.\u0275dir=a.lG2({type:K,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]})}return K})();function uo(K,Ye){return new a.vHH(2100,!1)}class zt{createSubscription(Ye,Me){return(0,a.rg0)(()=>Ye.subscribe({next:Me,error:ze=>{throw ze}}))}dispose(Ye){(0,a.rg0)(()=>Ye.unsubscribe())}}class Xn{createSubscription(Ye,Me){return Ye.then(Me,ze=>{throw ze})}dispose(Ye){}}const On=new Xn,Rn=new zt;let Ei=(()=>{class K{constructor(Me){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Me}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Me){return this._obj?Me!==this._obj?(this._dispose(),this.transform(Me)):this._latestValue:(Me&&this._subscribe(Me),this._latestValue)}_subscribe(Me){this._obj=Me,this._strategy=this._selectStrategy(Me),this._subscription=this._strategy.createSubscription(Me,ze=>this._updateLatestValue(Me,ze))}_selectStrategy(Me){if((0,a.QGY)(Me))return On;if((0,a.F4k)(Me))return Rn;throw uo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Me,ze){Me===this._obj&&(this._latestValue=ze,this._ref.markForCheck())}static#e=this.\u0275fac=function(ze){return new(ze||K)(a.Y36(a.sBO,16))};static#t=this.\u0275pipe=a.Yjl({name:"async",type:K,pure:!1,standalone:!0})}return K})();const Ni=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Xo=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let rs=(()=>{class K{constructor(Me,ze,Kt){this.locale=Me,this.defaultTimezone=ze,this.defaultOptions=Kt}transform(Me,ze,Kt,Fn){if(null==Me||""===Me||Me!=Me)return null;try{return qi(Me,ze??this.defaultOptions?.dateFormat??"mediumDate",Fn||this.locale,Kt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Un){throw uo()}}static#e=this.\u0275fac=function(ze){return new(ze||K)(a.Y36(a.soG,16),a.Y36(Ni,24),a.Y36(Xo,24))};static#t=this.\u0275pipe=a.Yjl({name:"date",type:K,pure:!0,standalone:!0})}return K})(),Ii=(()=>{class K{constructor(Me){this._locale=Me}transform(Me,ze,Kt){if(!function _r(K){return!(null==K||""===K||K!=K)}(Me))return null;Kt=Kt||this._locale;try{return function Jt(K,Ye,Me){return function ct(K,Ye,Me,ze,Kt,Fn,Un=!1){let Qi="",hr=!1;if(isFinite(K)){let Ir=function hi(K){let ze,Kt,Fn,Un,Qi,Ye=Math.abs(K)+"",Me=0;for((Kt=Ye.indexOf("."))>-1&&(Ye=Ye.replace(".","")),(Fn=Ye.search(/e/i))>0?(Kt<0&&(Kt=Fn),Kt+=+Ye.slice(Fn+1),Ye=Ye.substring(0,Fn)):Kt<0&&(Kt=Ye.length),Fn=0;"0"===Ye.charAt(Fn);Fn++);if(Fn===(Qi=Ye.length))ze=[0],Kt=1;else{for(Qi--;"0"===Ye.charAt(Qi);)Qi--;for(Kt-=Fn,ze=[],Un=0;Fn<=Qi;Fn++,Un++)ze[Un]=Number(Ye.charAt(Fn))}return Kt>22&&(ze=ze.splice(0,21),Me=Kt-1,Kt=1),{digits:ze,exponent:Me,integerLen:Kt}}(K);Un&&(Ir=function Ci(K){if(0===K.digits[0])return K;const Ye=K.digits.length-K.integerLen;return K.exponent?K.exponent+=2:(0===Ye?K.digits.push(0,0):1===Ye&&K.digits.push(0),K.integerLen+=2),K}(Ir));let Qo=Ye.minInt,Ro=Ye.minFrac,Jr=Ye.maxFrac;if(Fn){const qs=Fn.match(Ze);if(null===qs)throw new Error(`${Fn} is not a valid digit info`);const oa=qs[1],yr=qs[3],xl=qs[5];null!=oa&&(Qo=Di(oa)),null!=yr&&(Ro=Di(yr)),null!=xl?Jr=Di(xl):null!=yr&&Ro>Jr&&(Jr=Ro)}!function vo(K,Ye,Me){if(Ye>Me)throw new Error(`The minimum number of digits after fraction (${Ye}) is higher than the maximum (${Me}).`);let ze=K.digits,Kt=ze.length-K.integerLen;const Fn=Math.min(Math.max(Ye,Kt),Me);let Un=Fn+K.integerLen,Qi=ze[Un];if(Un>0){ze.splice(Math.max(K.integerLen,Un));for(let Ro=Un;Ro<ze.length;Ro++)ze[Ro]=0}else{Kt=Math.max(0,Kt),K.integerLen=1,ze.length=Math.max(1,Un=Fn+1),ze[0]=0;for(let Ro=1;Ro<Un;Ro++)ze[Ro]=0}if(Qi>=5)if(Un-1<0){for(let Ro=0;Ro>Un;Ro--)ze.unshift(0),K.integerLen++;ze.unshift(1),K.integerLen++}else ze[Un-1]++;for(;Kt<Math.max(0,Fn);Kt++)ze.push(0);let hr=0!==Fn;const Ir=Ye+K.integerLen,Qo=ze.reduceRight(function(Ro,Jr,or,ls){return ls[or]=(Jr+=Ro)<10?Jr:Jr-10,hr&&(0===ls[or]&&or>=Ir?ls.pop():hr=!1),Jr>=10?1:0},0);Qo&&(ze.unshift(Qo),K.integerLen++)}(Ir,Ro,Jr);let or=Ir.digits,ls=Ir.integerLen;const za=Ir.exponent;let Ts=[];for(hr=or.every(qs=>!qs);ls<Qo;ls++)or.unshift(0);for(;ls<0;ls++)or.unshift(0);ls>0?Ts=or.splice(ls,or.length):(Ts=or,or=[0]);const Pa=[];for(or.length>=Ye.lgSize&&Pa.unshift(or.splice(-Ye.lgSize,or.length).join(""));or.length>Ye.gSize;)Pa.unshift(or.splice(-Ye.gSize,or.length).join(""));or.length&&Pa.unshift(or.join("")),Qi=Pa.join(at(Me,ze)),Ts.length&&(Qi+=at(Me,Kt)+Ts.join("")),za&&(Qi+=at(Me,It.Exponential)+"+"+za)}else Qi=at(Me,It.Infinity);return Qi=K<0&&!hr?Ye.negPre+Qi+Ye.negSuf:Ye.posPre+Qi+Ye.posSuf,Qi}(K,function Zn(K,Ye="-"){const Me={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ze=K.split(";"),Kt=ze[0],Fn=ze[1],Un=-1!==Kt.indexOf(".")?Kt.split("."):[Kt.substring(0,Kt.lastIndexOf("0")+1),Kt.substring(Kt.lastIndexOf("0")+1)],Qi=Un[0],hr=Un[1]||"";Me.posPre=Qi.substring(0,Qi.indexOf("#"));for(let Qo=0;Qo<hr.length;Qo++){const Ro=hr.charAt(Qo);"0"===Ro?Me.minFrac=Me.maxFrac=Qo+1:"#"===Ro?Me.maxFrac=Qo+1:Me.posSuf+=Ro}const Ir=Qi.split(",");if(Me.gSize=Ir[1]?Ir[1].length:0,Me.lgSize=Ir[2]||Ir[1]?(Ir[2]||Ir[1]).length:0,Fn){const Qo=Kt.length-Me.posPre.length-Me.posSuf.length,Ro=Fn.indexOf("#");Me.negPre=Fn.substring(0,Ro).replace(/'/g,""),Me.negSuf=Fn.slice(Ro+Qo).replace(/'/g,"")}else Me.negPre=Ye+Me.posPre,Me.negSuf=Me.posSuf;return Me}(function Xe(K,Ye){return(0,a.cg1)(K)[a.wAp.NumberFormats][Ye]}(Ye,pt.Percent),at(Ye,It.MinusSign)),Ye,It.Group,It.Decimal,Me,!0).replace(new RegExp("%","g"),at(Ye,It.PercentSign))}(function Ur(K){if("string"==typeof K&&!isNaN(Number(K)-parseFloat(K)))return Number(K);if("number"!=typeof K)throw new Error(`${K} is not a number`);return K}(Me),Kt,ze)}catch(Fn){throw uo()}}static#e=this.\u0275fac=function(ze){return new(ze||K)(a.Y36(a.soG,16))};static#t=this.\u0275pipe=a.Yjl({name:"percent",type:K,pure:!0,standalone:!0})}return K})();let Ws=(()=>{class K{transform(Me,ze,Kt){if(null==Me)return null;if(!this.supports(Me))throw uo();return Me.slice(ze,Kt)}supports(Me){return"string"==typeof Me||Array.isArray(Me)}static#e=this.\u0275fac=function(ze){return new(ze||K)};static#t=this.\u0275pipe=a.Yjl({name:"slice",type:K,pure:!1,standalone:!0})}return K})(),kl=(()=>{class K{static#e=this.\u0275fac=function(ze){return new(ze||K)};static#t=this.\u0275mod=a.oAB({type:K});static#n=this.\u0275inj=a.cJS({})}return K})();const Vr="browser",Ds="server";function Es(K){return K===Vr}function $s(K){return K===Ds}let na=(()=>{class K{static#e=this.\u0275prov=(0,a.Yz7)({token:K,providedIn:"root",factory:()=>new Ns((0,a.LFG)(V),window)})}return K})();class Ns{constructor(Ye,Me){this.document=Ye,this.window=Me,this.offset=()=>[0,0]}setOffset(Ye){this.offset=Array.isArray(Ye)?()=>Ye:Ye}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Ye){this.supportsScrolling()&&this.window.scrollTo(Ye[0],Ye[1])}scrollToAnchor(Ye){if(!this.supportsScrolling())return;const Me=function Zl(K,Ye){const Me=K.getElementById(Ye)||K.getElementsByName(Ye)[0];if(Me)return Me;if("function"==typeof K.createTreeWalker&&K.body&&"function"==typeof K.body.attachShadow){const ze=K.createTreeWalker(K.body,NodeFilter.SHOW_ELEMENT);let Kt=ze.currentNode;for(;Kt;){const Fn=Kt.shadowRoot;if(Fn){const Un=Fn.getElementById(Ye)||Fn.querySelector(`[name="${Ye}"]`);if(Un)return Un}Kt=ze.nextNode()}}return null}(this.document,Ye);Me&&(this.scrollToElement(Me),Me.focus())}setHistoryScrollRestoration(Ye){this.supportsScrolling()&&(this.window.history.scrollRestoration=Ye)}scrollToElement(Ye){const Me=Ye.getBoundingClientRect(),ze=Me.left+this.window.pageXOffset,Kt=Me.top+this.window.pageYOffset,Fn=this.offset();this.window.scrollTo(ze-Fn[0],Kt-Fn[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class La{}},9862:(Dt,Le,D)=>{"use strict";D.d(Le,{JF:()=>Ze,LE:()=>pe,TP:()=>$t,WM:()=>re,eN:()=>Qe,qT:()=>pt});var a=D(5879),s=D(2096),oe=D(9666),c=D(5592),T=D(6328),V=D(2181),ie=D(7398),Te=D(4716),le=D(4664),me=D(6814);class ae{}class be{}class re{constructor(At){this.normalizedNames=new Map,this.lazyUpdate=null,At?"string"==typeof At?this.lazyInit=()=>{this.headers=new Map,At.split("\n").forEach(Jt=>{const ei=Jt.indexOf(":");if(ei>0){const Zn=Jt.slice(0,ei),Ci=Zn.toLowerCase(),hi=Jt.slice(ei+1).trim();this.maybeSetNormalizedName(Zn,Ci),this.headers.has(Ci)?this.headers.get(Ci).push(hi):this.headers.set(Ci,[hi])}})}:typeof Headers<"u"&&At instanceof Headers?(this.headers=new Map,At.forEach((Jt,ei)=>{this.setHeaderEntries(ei,Jt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(At).forEach(([Jt,ei])=>{this.setHeaderEntries(Jt,ei)})}:this.headers=new Map}has(At){return this.init(),this.headers.has(At.toLowerCase())}get(At){this.init();const Jt=this.headers.get(At.toLowerCase());return Jt&&Jt.length>0?Jt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(At){return this.init(),this.headers.get(At.toLowerCase())||null}append(At,Jt){return this.clone({name:At,value:Jt,op:"a"})}set(At,Jt){return this.clone({name:At,value:Jt,op:"s"})}delete(At,Jt){return this.clone({name:At,value:Jt,op:"d"})}maybeSetNormalizedName(At,Jt){this.normalizedNames.has(Jt)||this.normalizedNames.set(Jt,At)}init(){this.lazyInit&&(this.lazyInit instanceof re?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(At=>this.applyUpdate(At)),this.lazyUpdate=null))}copyFrom(At){At.init(),Array.from(At.headers.keys()).forEach(Jt=>{this.headers.set(Jt,At.headers.get(Jt)),this.normalizedNames.set(Jt,At.normalizedNames.get(Jt))})}clone(At){const Jt=new re;return Jt.lazyInit=this.lazyInit&&this.lazyInit instanceof re?this.lazyInit:this,Jt.lazyUpdate=(this.lazyUpdate||[]).concat([At]),Jt}applyUpdate(At){const Jt=At.name.toLowerCase();switch(At.op){case"a":case"s":let ei=At.value;if("string"==typeof ei&&(ei=[ei]),0===ei.length)return;this.maybeSetNormalizedName(At.name,Jt);const Zn=("a"===At.op?this.headers.get(Jt):void 0)||[];Zn.push(...ei),this.headers.set(Jt,Zn);break;case"d":const Ci=At.value;if(Ci){let hi=this.headers.get(Jt);if(!hi)return;hi=hi.filter(vo=>-1===Ci.indexOf(vo)),0===hi.length?(this.headers.delete(Jt),this.normalizedNames.delete(Jt)):this.headers.set(Jt,hi)}else this.headers.delete(Jt),this.normalizedNames.delete(Jt)}}setHeaderEntries(At,Jt){const ei=(Array.isArray(Jt)?Jt:[Jt]).map(Ci=>Ci.toString()),Zn=At.toLowerCase();this.headers.set(Zn,ei),this.maybeSetNormalizedName(At,Zn)}forEach(At){this.init(),Array.from(this.normalizedNames.keys()).forEach(Jt=>At(this.normalizedNames.get(Jt),this.headers.get(Jt)))}}class fe{encodeKey(At){return he(At)}encodeValue(At){return he(At)}decodeKey(At){return decodeURIComponent(At)}decodeValue(At){return decodeURIComponent(At)}}const Ce=/%(\d[a-f0-9])/gi,we={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function he(ct){return encodeURIComponent(ct).replace(Ce,(At,Jt)=>we[Jt]??At)}function A(ct){return`${ct}`}class pe{constructor(At={}){if(this.updates=null,this.cloneFrom=null,this.encoder=At.encoder||new fe,At.fromString){if(At.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ke(ct,At){const Jt=new Map;return ct.length>0&&ct.replace(/^\?/,"").split("&").forEach(Zn=>{const Ci=Zn.indexOf("="),[hi,vo]=-1==Ci?[At.decodeKey(Zn),""]:[At.decodeKey(Zn.slice(0,Ci)),At.decodeValue(Zn.slice(Ci+1))],Di=Jt.get(hi)||[];Di.push(vo),Jt.set(hi,Di)}),Jt}(At.fromString,this.encoder)}else At.fromObject?(this.map=new Map,Object.keys(At.fromObject).forEach(Jt=>{const ei=At.fromObject[Jt],Zn=Array.isArray(ei)?ei.map(A):[A(ei)];this.map.set(Jt,Zn)})):this.map=null}has(At){return this.init(),this.map.has(At)}get(At){this.init();const Jt=this.map.get(At);return Jt?Jt[0]:null}getAll(At){return this.init(),this.map.get(At)||null}keys(){return this.init(),Array.from(this.map.keys())}append(At,Jt){return this.clone({param:At,value:Jt,op:"a"})}appendAll(At){const Jt=[];return Object.keys(At).forEach(ei=>{const Zn=At[ei];Array.isArray(Zn)?Zn.forEach(Ci=>{Jt.push({param:ei,value:Ci,op:"a"})}):Jt.push({param:ei,value:Zn,op:"a"})}),this.clone(Jt)}set(At,Jt){return this.clone({param:At,value:Jt,op:"s"})}delete(At,Jt){return this.clone({param:At,value:Jt,op:"d"})}toString(){return this.init(),this.keys().map(At=>{const Jt=this.encoder.encodeKey(At);return this.map.get(At).map(ei=>Jt+"="+this.encoder.encodeValue(ei)).join("&")}).filter(At=>""!==At).join("&")}clone(At){const Jt=new pe({encoder:this.encoder});return Jt.cloneFrom=this.cloneFrom||this,Jt.updates=(this.updates||[]).concat(At),Jt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(At=>this.map.set(At,this.cloneFrom.map.get(At))),this.updates.forEach(At=>{switch(At.op){case"a":case"s":const Jt=("a"===At.op?this.map.get(At.param):void 0)||[];Jt.push(A(At.value)),this.map.set(At.param,Jt);break;case"d":if(void 0===At.value){this.map.delete(At.param);break}{let ei=this.map.get(At.param)||[];const Zn=ei.indexOf(A(At.value));-1!==Zn&&ei.splice(Zn,1),ei.length>0?this.map.set(At.param,ei):this.map.delete(At.param)}}}),this.cloneFrom=this.updates=null)}}class pt{constructor(){this.map=new Map}set(At,Jt){return this.map.set(At,Jt),this}get(At){return this.map.has(At)||this.map.set(At,At.defaultValue()),this.map.get(At)}delete(At){return this.map.delete(At),this}has(At){return this.map.has(At)}keys(){return this.map.keys()}}function Be(ct){return typeof ArrayBuffer<"u"&&ct instanceof ArrayBuffer}function rt(ct){return typeof Blob<"u"&&ct instanceof Blob}function wt(ct){return typeof FormData<"u"&&ct instanceof FormData}class Ie{constructor(At,Jt,ei,Zn){let Ci;if(this.url=Jt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=At.toUpperCase(),function Pe(ct){switch(ct){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Zn?(this.body=void 0!==ei?ei:null,Ci=Zn):Ci=ei,Ci&&(this.reportProgress=!!Ci.reportProgress,this.withCredentials=!!Ci.withCredentials,Ci.responseType&&(this.responseType=Ci.responseType),Ci.headers&&(this.headers=Ci.headers),Ci.context&&(this.context=Ci.context),Ci.params&&(this.params=Ci.params)),this.headers||(this.headers=new re),this.context||(this.context=new pt),this.params){const hi=this.params.toString();if(0===hi.length)this.urlWithParams=Jt;else{const vo=Jt.indexOf("?");this.urlWithParams=Jt+(-1===vo?"?":vo<Jt.length-1?"&":"")+hi}}else this.params=new pe,this.urlWithParams=Jt}serializeBody(){return null===this.body?null:Be(this.body)||rt(this.body)||wt(this.body)||function It(ct){return typeof URLSearchParams<"u"&&ct instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wt(this.body)?null:rt(this.body)?this.body.type||null:Be(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(At={}){const Jt=At.method||this.method,ei=At.url||this.url,Zn=At.responseType||this.responseType,Ci=void 0!==At.body?At.body:this.body,hi=void 0!==At.withCredentials?At.withCredentials:this.withCredentials,vo=void 0!==At.reportProgress?At.reportProgress:this.reportProgress;let Di=At.headers||this.headers,Do=At.params||this.params;const ir=At.context??this.context;return void 0!==At.setHeaders&&(Di=Object.keys(At.setHeaders).reduce((wr,Ho)=>wr.set(Ho,At.setHeaders[Ho]),Di)),At.setParams&&(Do=Object.keys(At.setParams).reduce((wr,Ho)=>wr.set(Ho,At.setParams[Ho]),Do)),new Ie(Jt,ei,Ci,{params:Do,headers:Di,context:ir,reportProgress:vo,responseType:Zn,withCredentials:hi})}}var L=function(ct){return ct[ct.Sent=0]="Sent",ct[ct.UploadProgress=1]="UploadProgress",ct[ct.ResponseHeader=2]="ResponseHeader",ct[ct.DownloadProgress=3]="DownloadProgress",ct[ct.Response=4]="Response",ct[ct.User=5]="User",ct}(L||{});class Oe{constructor(At,Jt=200,ei="OK"){this.headers=At.headers||new re,this.status=void 0!==At.status?At.status:Jt,this.statusText=At.statusText||ei,this.url=At.url||null,this.ok=this.status>=200&&this.status<300}}class ut extends Oe{constructor(At={}){super(At),this.type=L.ResponseHeader}clone(At={}){return new ut({headers:At.headers||this.headers,status:void 0!==At.status?At.status:this.status,statusText:At.statusText||this.statusText,url:At.url||this.url||void 0})}}class Nt extends Oe{constructor(At={}){super(At),this.type=L.Response,this.body=void 0!==At.body?At.body:null}clone(At={}){return new Nt({body:void 0!==At.body?At.body:this.body,headers:At.headers||this.headers,status:void 0!==At.status?At.status:this.status,statusText:At.statusText||this.statusText,url:At.url||this.url||void 0})}}class an extends Oe{constructor(At){super(At,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${At.url||"(unknown url)"}`:`Http failure response for ${At.url||"(unknown url)"}: ${At.status} ${At.statusText}`,this.error=At.error||null}}function bt(ct,At){return{body:At,headers:ct.headers,context:ct.context,observe:ct.observe,params:ct.params,reportProgress:ct.reportProgress,responseType:ct.responseType,withCredentials:ct.withCredentials}}let Qe=(()=>{class ct{constructor(Jt){this.handler=Jt}request(Jt,ei,Zn={}){let Ci;if(Jt instanceof Ie)Ci=Jt;else{let Di,Do;Di=Zn.headers instanceof re?Zn.headers:new re(Zn.headers),Zn.params&&(Do=Zn.params instanceof pe?Zn.params:new pe({fromObject:Zn.params})),Ci=new Ie(Jt,ei,void 0!==Zn.body?Zn.body:null,{headers:Di,context:Zn.context,params:Do,reportProgress:Zn.reportProgress,responseType:Zn.responseType||"json",withCredentials:Zn.withCredentials})}const hi=(0,s.of)(Ci).pipe((0,T.b)(Di=>this.handler.handle(Di)));if(Jt instanceof Ie||"events"===Zn.observe)return hi;const vo=hi.pipe((0,V.h)(Di=>Di instanceof Nt));switch(Zn.observe||"body"){case"body":switch(Ci.responseType){case"arraybuffer":return vo.pipe((0,ie.U)(Di=>{if(null!==Di.body&&!(Di.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Di.body}));case"blob":return vo.pipe((0,ie.U)(Di=>{if(null!==Di.body&&!(Di.body instanceof Blob))throw new Error("Response is not a Blob.");return Di.body}));case"text":return vo.pipe((0,ie.U)(Di=>{if(null!==Di.body&&"string"!=typeof Di.body)throw new Error("Response is not a string.");return Di.body}));default:return vo.pipe((0,ie.U)(Di=>Di.body))}case"response":return vo;default:throw new Error(`Unreachable: unhandled observe type ${Zn.observe}}`)}}delete(Jt,ei={}){return this.request("DELETE",Jt,ei)}get(Jt,ei={}){return this.request("GET",Jt,ei)}head(Jt,ei={}){return this.request("HEAD",Jt,ei)}jsonp(Jt,ei){return this.request("JSONP",Jt,{params:(new pe).append(ei,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Jt,ei={}){return this.request("OPTIONS",Jt,ei)}patch(Jt,ei,Zn={}){return this.request("PATCH",Jt,bt(Zn,ei))}post(Jt,ei,Zn={}){return this.request("POST",Jt,bt(Zn,ei))}put(Jt,ei,Zn={}){return this.request("PUT",Jt,bt(Zn,ei))}static#e=this.\u0275fac=function(ei){return new(ei||ct)(a.LFG(ae))};static#t=this.\u0275prov=a.Yz7({token:ct,factory:ct.\u0275fac})}return ct})();function Ve(ct,At){return At(ct)}function St(ct,At){return(Jt,ei)=>At.intercept(Jt,{handle:Zn=>ct(Zn,ei)})}const $t=new a.OlP(""),Cn=new a.OlP(""),Ot=new a.OlP("");function Wt(){let ct=null;return(At,Jt)=>{null===ct&&(ct=((0,a.f3M)($t,{optional:!0})??[]).reduceRight(St,Ve));const ei=(0,a.f3M)(a.HDt),Zn=ei.add();return ct(At,Jt).pipe((0,Te.x)(()=>ei.remove(Zn)))}}let st=(()=>{class ct extends ae{constructor(Jt,ei){super(),this.backend=Jt,this.injector=ei,this.chain=null,this.pendingTasks=(0,a.f3M)(a.HDt)}handle(Jt){if(null===this.chain){const Zn=Array.from(new Set([...this.injector.get(Cn),...this.injector.get(Ot,[])]));this.chain=Zn.reduceRight((Ci,hi)=>function wn(ct,At,Jt){return(ei,Zn)=>Jt.runInContext(()=>At(ei,Ci=>ct(Ci,Zn)))}(Ci,hi,this.injector),Ve)}const ei=this.pendingTasks.add();return this.chain(Jt,Zn=>this.backend.handle(Zn)).pipe((0,Te.x)(()=>this.pendingTasks.remove(ei)))}static#e=this.\u0275fac=function(ei){return new(ei||ct)(a.LFG(be),a.LFG(a.lqb))};static#t=this.\u0275prov=a.Yz7({token:ct,factory:ct.\u0275fac})}return ct})();const to=/^\)\]\}',?\n/;let Fi=(()=>{class ct{constructor(Jt){this.xhrFactory=Jt}handle(Jt){if("JSONP"===Jt.method)throw new a.vHH(-2800,!1);const ei=this.xhrFactory;return(ei.\u0275loadImpl?(0,oe.D)(ei.\u0275loadImpl()):(0,s.of)(null)).pipe((0,le.w)(()=>new c.y(Ci=>{const hi=ei.build();if(hi.open(Jt.method,Jt.urlWithParams),Jt.withCredentials&&(hi.withCredentials=!0),Jt.headers.forEach((jo,Dn)=>hi.setRequestHeader(jo,Dn.join(","))),Jt.headers.has("Accept")||hi.setRequestHeader("Accept","application/json, text/plain, */*"),!Jt.headers.has("Content-Type")){const jo=Jt.detectContentTypeHeader();null!==jo&&hi.setRequestHeader("Content-Type",jo)}if(Jt.responseType){const jo=Jt.responseType.toLowerCase();hi.responseType="json"!==jo?jo:"text"}const vo=Jt.serializeBody();let Di=null;const Do=()=>{if(null!==Di)return Di;const jo=hi.statusText||"OK",Dn=new re(hi.getAllResponseHeaders()),Tr=function Zi(ct){return"responseURL"in ct&&ct.responseURL?ct.responseURL:/^X-Request-URL:/m.test(ct.getAllResponseHeaders())?ct.getResponseHeader("X-Request-URL"):null}(hi)||Jt.url;return Di=new ut({headers:Dn,status:hi.status,statusText:jo,url:Tr}),Di},ir=()=>{let{headers:jo,status:Dn,statusText:Tr,url:Jo}=Do(),Eo=null;204!==Dn&&(Eo=typeof hi.response>"u"?hi.responseText:hi.response),0===Dn&&(Dn=Eo?200:0);let kr=Dn>=200&&Dn<300;if("json"===Jt.responseType&&"string"==typeof Eo){const gr=Eo;Eo=Eo.replace(to,"");try{Eo=""!==Eo?JSON.parse(Eo):null}catch(ys){Eo=gr,kr&&(kr=!1,Eo={error:ys,text:Eo})}}kr?(Ci.next(new Nt({body:Eo,headers:jo,status:Dn,statusText:Tr,url:Jo||void 0})),Ci.complete()):Ci.error(new an({error:Eo,headers:jo,status:Dn,statusText:Tr,url:Jo||void 0}))},wr=jo=>{const{url:Dn}=Do(),Tr=new an({error:jo,status:hi.status||0,statusText:hi.statusText||"Unknown Error",url:Dn||void 0});Ci.error(Tr)};let Ho=!1;const dr=jo=>{Ho||(Ci.next(Do()),Ho=!0);let Dn={type:L.DownloadProgress,loaded:jo.loaded};jo.lengthComputable&&(Dn.total=jo.total),"text"===Jt.responseType&&hi.responseText&&(Dn.partialText=hi.responseText),Ci.next(Dn)},Ko=jo=>{let Dn={type:L.UploadProgress,loaded:jo.loaded};jo.lengthComputable&&(Dn.total=jo.total),Ci.next(Dn)};return hi.addEventListener("load",ir),hi.addEventListener("error",wr),hi.addEventListener("timeout",wr),hi.addEventListener("abort",wr),Jt.reportProgress&&(hi.addEventListener("progress",dr),null!==vo&&hi.upload&&hi.upload.addEventListener("progress",Ko)),hi.send(vo),Ci.next({type:L.Sent}),()=>{hi.removeEventListener("error",wr),hi.removeEventListener("abort",wr),hi.removeEventListener("load",ir),hi.removeEventListener("timeout",wr),Jt.reportProgress&&(hi.removeEventListener("progress",dr),null!==vo&&hi.upload&&hi.upload.removeEventListener("progress",Ko)),hi.readyState!==hi.DONE&&hi.abort()}})))}static#e=this.\u0275fac=function(ei){return new(ei||ct)(a.LFG(me.JF))};static#t=this.\u0275prov=a.Yz7({token:ct,factory:ct.\u0275fac})}return ct})();const yo=new a.OlP("XSRF_ENABLED"),xi=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),no=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Wo{}let Bt=(()=>{class ct{constructor(Jt,ei,Zn){this.doc=Jt,this.platform=ei,this.cookieName=Zn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Jt=this.doc.cookie||"";return Jt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,me.Mx)(Jt,this.cookieName),this.lastCookieString=Jt),this.lastToken}static#e=this.\u0275fac=function(ei){return new(ei||ct)(a.LFG(me.K0),a.LFG(a.Lbi),a.LFG(xi))};static#t=this.\u0275prov=a.Yz7({token:ct,factory:ct.\u0275fac})}return ct})();function Ue(ct,At){const Jt=ct.url.toLowerCase();if(!(0,a.f3M)(yo)||"GET"===ct.method||"HEAD"===ct.method||Jt.startsWith("http://")||Jt.startsWith("https://"))return At(ct);const ei=(0,a.f3M)(Wo).getToken(),Zn=(0,a.f3M)(no);return null!=ei&&!ct.headers.has(Zn)&&(ct=ct.clone({headers:ct.headers.set(Zn,ei)})),At(ct)}var Ge=function(ct){return ct[ct.Interceptors=0]="Interceptors",ct[ct.LegacyInterceptors=1]="LegacyInterceptors",ct[ct.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ct[ct.NoXsrfProtection=3]="NoXsrfProtection",ct[ct.JsonpSupport=4]="JsonpSupport",ct[ct.RequestsMadeViaParent=5]="RequestsMadeViaParent",ct[ct.Fetch=6]="Fetch",ct}(Ge||{});function Q(...ct){const At=[Qe,Fi,st,{provide:ae,useExisting:st},{provide:be,useExisting:Fi},{provide:Cn,useValue:Ue,multi:!0},{provide:yo,useValue:!0},{provide:Wo,useClass:Bt}];for(const Jt of ct)At.push(...Jt.\u0275providers);return(0,a.MR2)(At)}const $e=new a.OlP("LEGACY_INTERCEPTOR_FN");function lt(){return function Et(ct,At){return{\u0275kind:ct,\u0275providers:At}}(Ge.LegacyInterceptors,[{provide:$e,useFactory:Wt},{provide:Cn,useExisting:$e,multi:!0}])}let Ze=(()=>{class ct{static#e=this.\u0275fac=function(ei){return new(ei||ct)};static#t=this.\u0275mod=a.oAB({type:ct});static#n=this.\u0275inj=a.cJS({providers:[Q(lt())]})}return ct})()},5879:(Dt,Le,D)=>{"use strict";D.d(Le,{$8M:()=>pd,$WT:()=>qr,$Z:()=>V_,AFp:()=>jc,ALo:()=>$v,AaK:()=>be,Akn:()=>Bh,AsE:()=>n1,BQk:()=>d0,CHM:()=>Ru,CRH:()=>cb,DdM:()=>Nv,Dn7:()=>Kv,EJc:()=>Ex,EiD:()=>dp,EpF:()=>ty,F$t:()=>ly,F4k:()=>ny,FYo:()=>qu,FiY:()=>ch,Flj:()=>ru,G48:()=>gO,Gf:()=>ab,GfV:()=>um,GkF:()=>$0,Gpc:()=>fe,HDt:()=>Ab,HOy:()=>o1,Hsn:()=>cy,Ikx:()=>r1,JOm:()=>Hu,JVY:()=>$u,JZr:()=>A,Jf7:()=>ta,KtG:()=>Lu,L6k:()=>Ig,LAX:()=>Zu,LFG:()=>gn,LMc:()=>GO,LSH:()=>up,Lbi:()=>Sh,Lck:()=>CM,MAs:()=>X1,MGl:()=>u0,MMx:()=>Sv,MR2:()=>yf,MT6:()=>zy,NdJ:()=>W0,O4$:()=>I,Ojb:()=>zm,OlP:()=>xi,Oqu:()=>t1,P3R:()=>pp,PXZ:()=>rO,Q2q:()=>Wa,Q6J:()=>j0,QGY:()=>Z0,QbO:()=>Cp,Qsj:()=>$m,QtT:()=>Mv,R0b:()=>ea,RDi:()=>Fc,Rgc:()=>T_,SBq:()=>Pp,SDv:()=>wv,Sil:()=>kx,Suo:()=>lb,TTD:()=>Ro,TgZ:()=>a0,Tol:()=>Oy,Udp:()=>X0,VKq:()=>Fv,VuI:()=>jO,W1O:()=>pb,WLB:()=>Bv,X6Q:()=>pO,XFs:()=>Pn,Xpm:()=>Xn,Xq5:()=>Co,Xts:()=>fp,Y36:()=>Lh,YKP:()=>Pv,YNc:()=>Y1,Yjl:()=>ur,Yz7:()=>$t,Z0I:()=>st,ZZ4:()=>U1,_Bn:()=>Ov,_UZ:()=>G0,_Vd:()=>Zd,_c5:()=>EO,_uU:()=>Ay,aQg:()=>H1,c2e:()=>Ib,cJS:()=>Ot,cg1:()=>s1,dDg:()=>tO,dqk:()=>Fi,eBb:()=>Ag,eFA:()=>jb,eJc:()=>x1,ekj:()=>Q0,eoX:()=>Bb,f3M:()=>Jn,g9A:()=>uc,gHi:()=>h,h0i:()=>Zf,hGG:()=>IO,hij:()=>g0,iGM:()=>sb,ifc:()=>hi,ip1:()=>Eb,jDz:()=>Dv,kEZ:()=>zv,kL8:()=>qy,kcU:()=>H,ktI:()=>wa,lG2:()=>mr,lcZ:()=>Zv,lnq:()=>i1,lqb:()=>Hc,lri:()=>Nb,mCW:()=>Mh,n5z:()=>Mc,oAB:()=>Li,oJD:()=>eg,oxw:()=>ay,pB0:()=>ap,pQV:()=>c1,q3G:()=>Gd,qFp:()=>$O,qLn:()=>js,qOj:()=>$n,qZA:()=>l0,qzn:()=>Uc,rWj:()=>Fb,rg0:()=>Fn,s9C:()=>K0,sBO:()=>fO,s_b:()=>C0,soG:()=>M0,tBr:()=>zu,tb:()=>R1,tdS:()=>Nl,tp0:()=>Wh,uIk:()=>ha,vHH:()=>pe,vpe:()=>bl,wAp:()=>Sm,xi3:()=>Wv,xp6:()=>fm,ynx:()=>c0,z2F:()=>Am,z3N:()=>zc,zSh:()=>Cf,zW0:()=>Bo,zs3:()=>Gi});var a=D(8645),s=D(7394),oe=D(5592),c=D(3019),T=D(5619),V=D(2096),ie=D(3020),Te=D(4664),le=D(3997);function me(t){for(let r in t)if(t[r]===me)return r;throw Error("Could not find renamed property on target object.")}function ae(t,r){for(const l in r)r.hasOwnProperty(l)&&!t.hasOwnProperty(l)&&(t[l]=r[l])}function be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const l=r.indexOf("\n");return-1===l?r:r.substring(0,l)}function re(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const J=me({__forward_ref__:me});function fe(t){return t.__forward_ref__=fe,t.toString=function(){return be(this())},t}function ke(t){return Ce(t)?t():t}function Ce(t){return"function"==typeof t&&t.hasOwnProperty(J)&&t.__forward_ref__===fe}function we(t){return t&&!!t.\u0275providers}const A="https://g.co/ng/security#xss";class pe extends Error{constructor(r,l){super(function ge(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,l)),this.code=r}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function It(t,r){throw new pe(-201,!1)}function ve(t,r,l,g){throw new Error(`ASSERTION ERROR: ${t}`+(null==g?"":` [Expected=> ${l} ${g} ${r} <=Actual]`))}function $t(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ot(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wt(t){return U(t,en)||U(t,Mi)}function st(t){return null!==Wt(t)}function U(t,r){return t.hasOwnProperty(r)?t[r]:null}function Vt(t){return t&&(t.hasOwnProperty(jn)||t.hasOwnProperty(dn))?t[jn]:null}const en=me({\u0275prov:me}),jn=me({\u0275inj:me}),Mi=me({ngInjectableDef:me}),dn=me({ngInjectorDef:me});var Pn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Pn||{});let qn;function ti(){return qn}function qi(t){const r=qn;return qn=t,r}function to(t,r,l){const g=Wt(t);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:l&Pn.Optional?null:void 0!==r?r:void It(be(t))}const Fi=globalThis;class xi{constructor(r,l){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=$t({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lt={},nn="__NG_DI_FLAG__",bn="ngTempTokenPath",kt=/\n/gm,ft="__source";let Ze;function _e(t){const r=Ze;return Ze=t,r}function Lt(t,r=Pn.Default){if(void 0===Ze)throw new pe(-203,!1);return null===Ze?to(t,void 0,r):Ze.get(t,r&Pn.Optional?null:void 0,r)}function gn(t,r=Pn.Default){return(ti()||Lt)(ke(t),r)}function Jn(t,r=Pn.Default){return gn(t,Je(r))}function Je(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yn(t){const r=[];for(let l=0;l<t.length;l++){const g=ke(t[l]);if(Array.isArray(g)){if(0===g.length)throw new pe(900,!1);let C,S=Pn.Default;for(let F=0;F<g.length;F++){const G=g[F],X=At(G);"number"==typeof X?-1===X?C=G.token:S|=X:C=G}r.push(gn(C,S))}else r.push(gn(g))}return r}function ct(t,r){return t[nn]=r,t.prototype[nn]=r,t}function At(t){return t[nn]}function Zn(t){return{toString:t}.toString()}var Ci=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ci||{}),hi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(hi||{});const vo={},Di=[],Do=me({\u0275cmp:me}),ir=me({\u0275dir:me}),wr=me({\u0275pipe:me}),Ho=me({\u0275mod:me}),dr=me({\u0275fac:me}),Ko=me({__NG_ELEMENT_ID__:me}),jo=me({__NG_ENV_ID__:me});function Dn(t,r,l){let g=t.length;for(;;){const C=t.indexOf(r,l);if(-1===C)return C;if(0===C||t.charCodeAt(C-1)<=32){const S=r.length;if(C+S===g||t.charCodeAt(C+S)<=32)return C}l=C+1}}function Tr(t,r,l){let g=0;for(;g<l.length;){const C=l[g];if("number"==typeof C){if(0!==C)break;g++;const S=l[g++],F=l[g++],G=l[g++];t.setAttribute(r,F,G,S)}else{const S=C,F=l[++g];Eo(S)?t.setProperty(r,S,F):t.setAttribute(r,S,F),g++}}return g}function Jo(t){return 3===t||4===t||6===t}function Eo(t){return 64===t.charCodeAt(0)}function kr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let l=-1;for(let g=0;g<r.length;g++){const C=r[g];"number"==typeof C?l=C:0===l||gr(t,l,C,null,-1===l||2===l?r[++g]:null)}}return t}function gr(t,r,l,g,C){let S=0,F=t.length;if(-1===r)F=-1;else for(;S<t.length;){const G=t[S++];if("number"==typeof G){if(G===r){F=-1;break}if(G>r){F=S-1;break}}}for(;S<t.length;){const G=t[S];if("number"==typeof G)break;if(G===l){if(null===g)return void(null!==C&&(t[S+1]=C));if(g===t[S+1])return void(t[S+2]=C)}S++,null!==g&&S++,null!==C&&S++}-1!==F&&(t.splice(F,0,r),S=F+1),t.splice(S++,0,l),null!==g&&t.splice(S++,0,g),null!==C&&t.splice(S++,0,C)}const ys="ng-template";function vs(t,r,l){let g=0,C=!0;for(;g<t.length;){let S=t[g++];if("string"==typeof S&&C){const F=t[g++];if(l&&"class"===S&&-1!==Dn(F.toLowerCase(),r,0))return!0}else{if(1===S){for(;g<t.length&&"string"==typeof(S=t[g++]);)if(S.toLowerCase()===r)return!0;return!1}"number"==typeof S&&(C=!1)}}return!1}function et(t){return 4===t.type&&t.value!==ys}function nt(t,r,l){return r===(4!==t.type||l?t.value:ys)}function rn(t,r,l){let g=4;const C=t.attrs||[],S=function Tn(t){for(let r=0;r<t.length;r++)if(Jo(t[r]))return r;return t.length}(C);let F=!1;for(let G=0;G<r.length;G++){const X=r[G];if("number"!=typeof X){if(!F)if(4&g){if(g=2|1&g,""!==X&&!nt(t,X,l)||""===X&&1===r.length){if(ln(g))return!1;F=!0}}else{const Ae=8&g?X:r[++G];if(8&g&&null!==t.attrs){if(!vs(t.attrs,Ae,l)){if(ln(g))return!1;F=!0}continue}const Yt=Gn(8&g?"class":X,C,et(t),l);if(-1===Yt){if(ln(g))return!1;F=!0;continue}if(""!==Ae){let xn;xn=Yt>S?"":C[Yt+1].toLowerCase();const Nn=8&g?xn:null;if(Nn&&-1!==Dn(Nn,Ae,0)||2&g&&Ae!==xn){if(ln(g))return!1;F=!0}}}}else{if(!F&&!ln(g)&&!ln(X))return!1;if(F&&ln(X))continue;F=!1,g=X|1&g}}return ln(g)||F}function ln(t){return 0==(1&t)}function Gn(t,r,l,g){if(null===r)return-1;let C=0;if(g||!l){let S=!1;for(;C<r.length;){const F=r[C];if(F===t)return C;if(3===F||6===F)S=!0;else{if(1===F||2===F){let G=r[++C];for(;"string"==typeof G;)G=r[++C];continue}if(4===F)break;if(0===F){C+=4;continue}}C+=S?1:2}return-1}return function ni(t,r){let l=t.indexOf(4);if(l>-1)for(l++;l<t.length;){const g=t[l];if("number"==typeof g)return-1;if(g===r)return l;l++}return-1}(r,t)}function Tt(t,r,l=!1){for(let g=0;g<r.length;g++)if(rn(t,r[g],l))return!0;return!1}function si(t,r){e:for(let l=0;l<r.length;l++){const g=r[l];if(t.length===g.length){for(let C=0;C<t.length;C++)if(t[C]!==g[C])continue e;return!0}}return!1}function ki(t,r){return t?":not("+r.trim()+")":r}function Ri(t){let r=t[0],l=1,g=2,C="",S=!1;for(;l<t.length;){let F=t[l];if("string"==typeof F)if(2&g){const G=t[++l];C+="["+F+(G.length>0?'="'+G+'"':"")+"]"}else 8&g?C+="."+F:4&g&&(C+=" "+F);else""!==C&&!ln(F)&&(r+=ki(S,C),C=""),g=F,S=S||!ln(g);l++}return""!==C&&(r+=ki(S,C)),r}function Xn(t){return Zn(()=>{const r=Ka(t),l={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ci.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||hi.Emulated,styles:t.styles||Di,_:null,schemas:t.schemas||null,tView:null,id:""};cl(l);const g=t.dependencies;return l.directiveDefs=Lr(g,!1),l.pipeDefs=Lr(g,!0),l.id=function wl(t){let r=0;const l=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const C of l)r=Math.imul(31,r)+C.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(l),l})}function Rn(t){return Ni(t)||Xo(t)}function Ei(t){return null!==t}function Li(t){return Zn(()=>({type:t.type,bootstrap:t.bootstrap||Di,declarations:t.declarations||Di,imports:t.imports||Di,exports:t.exports||Di,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fr(t,r){if(null==t)return vo;const l={};for(const g in t)if(t.hasOwnProperty(g)){let C=t[g],S=C;Array.isArray(C)&&(S=C[1],C=C[0]),l[C]=g,r&&(r[C]=S)}return l}function mr(t){return Zn(()=>{const r=Ka(t);return cl(r),r})}function ur(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ni(t){return t[Do]||null}function Xo(t){return t[ir]||null}function rs(t){return t[wr]||null}function qr(t){const r=Ni(t)||Xo(t)||rs(t);return null!==r&&r.standalone}function Rr(t,r){const l=t[Ho]||null;if(!l&&!0===r)throw new Error(`Type ${be(t)} does not have '\u0275mod' property.`);return l}function Ka(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||vo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Di,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fr(t.inputs,r),outputs:fr(t.outputs)}}function cl(t){t.features?.forEach(r=>r(t))}function Lr(t,r){if(!t)return null;const l=r?rs:Rn;return()=>("function"==typeof t?t():t).map(g=>l(g)).filter(Ei)}const Mr=0,Ii=1,xo=2,_r=3,Ur=4,Ws=5,ts=6,kl=7,Vr=8,Ds=9,Ls=10,lo=11,Es=12,$s=13,ga=14,Sr=15,ul=16,na=17,Ns=18,Zl=19,Ml=20,La=21,Fs=22,ia=23,Vo=24,Oo=25,Rl=1,Is=2,Ks=7,Oa=9,ss=11;function Gr(t){return Array.isArray(t)&&"object"==typeof t[Rl]}function bs(t){return Array.isArray(t)&&!0===t[Rl]}function Wl(t){return 0!=(4&t.flags)}function As(t){return t.componentOffset>-1}function pl(t){return 1==(1&t.flags)}function ma(t){return!!t.template}function Kl(t){return 0!=(512&t[xo])}function Ys(t,r){return t.hasOwnProperty(dr)?t[dr]:null}const _a=Symbol("SIGNAL");function Ll(t,r){return(null===t||"object"!=typeof t)&&Object.is(t,r)}let ns=null,Ja=!1;function ya(t){const r=ns;return ns=t,r}const mc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function iu(t){if(Ja)throw new Error("");if(null===ns)return;const r=ns.nextProducerIndex++;Ac(ns),r<ns.producerNode.length&&ns.producerNode[r]!==t&&Xa(ns)&&$c(ns.producerNode[r],ns.producerIndexOfThis[r]),ns.producerNode[r]!==t&&(ns.producerNode[r]=t,ns.producerIndexOfThis[r]=Xa(ns)?yc(t,ns,r):0),ns.producerLastReadVersion[r]=t.version}function _c(t){if(!Xa(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Id(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ql(t){if(void 0===t.liveConsumerNode)return;const r=Ja;Ja=!0;try{for(const l of t.liveConsumerNode)l.dirty||Ic(l)}finally{Ja=r}}function Bs(){return!1!==ns?.consumerAllowSignalWrites}function Ic(t){t.dirty=!0,ql(t),t.consumerMarkedDirty?.(t)}function Gc(t){return t&&(t.nextProducerIndex=0),ya(t)}function Ed(t,r){if(ya(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Xa(t))for(let l=t.nextProducerIndex;l<t.producerNode.length;l++)$c(t.producerNode[l],t.producerIndexOfThis[l]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Id(t){Ac(t);for(let r=0;r<t.producerNode.length;r++){const l=t.producerNode[r],g=t.producerLastReadVersion[r];if(g!==l.version||(_c(l),g!==l.version))return!0}return!1}function ou(t){if(Ac(t),Xa(t))for(let r=0;r<t.producerNode.length;r++)$c(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yc(t,r,l){if(ho(t),Ac(t),0===t.liveConsumerNode.length)for(let g=0;g<t.producerNode.length;g++)t.producerIndexOfThis[g]=yc(t.producerNode[g],t,g);return t.liveConsumerIndexOfThis.push(l),t.liveConsumerNode.push(r)-1}function $c(t,r){if(ho(t),Ac(t),1===t.liveConsumerNode.length)for(let g=0;g<t.producerNode.length;g++)$c(t.producerNode[g],t.producerIndexOfThis[g]);const l=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[l],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[l],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const g=t.liveConsumerIndexOfThis[r],C=t.liveConsumerNode[r];Ac(C),C.producerIndexOfThis[g]=r}}function Xa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ac(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ho(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ru(t,r){const l=Object.create(gl);l.computation=t,r?.equal&&(l.equal=r.equal);const g=()=>{if(_c(l),iu(l),l.value===Rd)throw l.error;return l.value};return g[_a]=l,g}const Ad=Symbol("UNSET"),kd=Symbol("COMPUTING"),Rd=Symbol("ERRORED"),gl=(()=>({...mc,value:Ad,dirty:!0,error:null,equal:Ll,producerMustRecompute:t=>t.value===Ad||t.value===kd,producerRecomputeValue(t){if(t.value===kd)throw new Error("Detected cycle in computations.");const r=t.value;t.value=kd;const l=Gc(t);let g;try{g=t.computation()}catch(C){g=Rd,t.error=C}finally{Ed(t,l)}r!==Ad&&r!==Rd&&g!==Rd&&t.equal(r,g)?t.value=r:(t.value=g,t.version++)}}))();let Zc=function su(){throw new Error};function vc(){Zc()}let Ld=null;function Nl(t,r){const l=Object.create(Qa);function g(){return iu(l),l.value}return l.value=t,r?.equal&&(l.equal=r.equal),g.set=Ye,g.update=Me,g.mutate=ze,g.asReadonly=Kt,g[_a]=l,g}const Qa=(()=>({...mc,equal:Ll,readonlyFn:void 0}))();function K(t){t.version++,ql(t),Ld?.()}function Ye(t){const r=this[_a];Bs()||vc(),r.equal(r.value,t)||(r.value=t,K(r))}function Me(t){Bs()||vc(),Ye.call(this,t(this[_a].value))}function ze(t){const r=this[_a];Bs()||vc(),t(r.value),K(r)}function Kt(){const t=this[_a];if(void 0===t.readonlyFn){const r=()=>this();r[_a]=t,t.readonlyFn=r}return t.readonlyFn}function Fn(t){const r=ya(null);try{return t()}finally{ya(r)}}const Qi=()=>{},hr=(()=>({...mc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Qi}))();class Qo{constructor(r,l,g){this.previousValue=r,this.currentValue=l,this.firstChange=g}isFirstChange(){return this.firstChange}}function Ro(){return Jr}function Jr(t){return t.type.prototype.ngOnChanges&&(t.setInput=ls),or}function or(){const t=Ts(this),r=t?.current;if(r){const l=t.previous;if(l===vo)t.previous=r;else for(let g in r)l[g]=r[g];t.current=null,this.ngOnChanges(r)}}function ls(t,r,l,g){const C=this.declaredInputs[l],S=Ts(t)||function Pa(t,r){return t[za]=r}(t,{previous:vo,current:null}),F=S.current||(S.current={}),G=S.previous,X=G[C];F[C]=new Qo(X&&X.currentValue,r,G===vo),t[g]=r}Ro.ngInherit=!0;const za="__ngSimpleChanges__";function Ts(t){return t[za]||null}const yr=function(t,r,l){},xl="svg";function mi(t){for(;Array.isArray(t);)t=t[Mr];return t}function Jl(t,r){return mi(r[t])}function Js(t,r){return mi(r[t.index])}function Cs(t,r){return t.data[r]}function aa(t,r){return t[r]}function zs(t,r){const l=r[t];return Gr(l)?l:l[Mr]}function Xl(t,r){return null==r?null:t[r]}function Ol(t){t[na]=0}function va(t){1024&t[xo]||(t[xo]|=1024,kc(t,1))}function Iu(t){1024&t[xo]&&(t[xo]&=-1025,kc(t,-1))}function kc(t,r){let l=t[_r];if(null===l)return;l[Ws]+=r;let g=l;for(l=l[_r];null!==l&&(1===r&&1===g[Ws]||-1===r&&0===g[Ws]);)l[Ws]+=r,g=l,l=l[_r]}function Kc(t,r){if(256==(256&t[xo]))throw new pe(911,!1);null===t[La]&&(t[La]=[]),t[La].push(r)}const To={lFrame:fl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dd(){return To.bindingsEnabled}function Rc(){return null!==To.skipHydrationRootTNode}function _i(){return To.lFrame.lView}function vr(){return To.lFrame.tView}function Ru(t){return To.lFrame.contextLView=t,t[Vr]}function Lu(t){return To.lFrame.contextLView=null,t}function Br(){let t=Nu();for(;null!==t&&64===t.type;)t=t.parent;return t}function Nu(){return To.lFrame.currentTNode}function Lc(){const t=To.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}function Ta(t,r){const l=To.lFrame;l.currentTNode=t,l.isParent=r}function Ql(){return To.lFrame.isParent}function xr(){To.lFrame.isParent=!1}function ws(){const t=To.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function la(){return To.lFrame.bindingIndex}function Vi(){return To.lFrame.bindingIndex++}function $(t){const r=To.lFrame,l=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,l}function j(t){To.lFrame.inI18n=t}function te(t,r){const l=To.lFrame;l.bindingIndex=l.bindingRootIndex=t,dt(r)}function dt(t){To.lFrame.currentDirectiveIndex=t}function Yn(){return To.lFrame.currentQueryIndex}function Wn(t){To.lFrame.currentQueryIndex=t}function Ki(t){const r=t[Ii];return 2===r.type?r.declTNode:1===r.type?t[ts]:null}function Go(t,r,l){if(l&Pn.SkipSelf){let C=r,S=t;for(;!(C=C.parent,null!==C||l&Pn.Host||(C=Ki(S),null===C||(S=S[ga],10&C.type))););if(null===C)return!1;r=C,t=S}const g=To.lFrame=Yo();return g.currentTNode=r,g.lView=t,!0}function is(t){const r=Yo(),l=t[Ii];To.lFrame=r,r.currentTNode=l.firstChild,r.lView=t,r.tView=l,r.contextLView=t,r.bindingIndex=l.bindingStartIndex,r.inI18n=!1}function Yo(){const t=To.lFrame,r=null===t?null:t.child;return null===r?fl(t):r}function fl(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Bl(){const t=To.lFrame;return To.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Tl=Bl;function zl(){const t=Bl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function u(){return To.lFrame.selectedIndex}function y(t){To.lFrame.selectedIndex=t}function O(){const t=To.lFrame;return Cs(t.tView,t.selectedIndex)}function I(){To.lFrame.currentNamespace=xl}function H(){!function Y(){To.lFrame.currentNamespace=null}()}let de=!0;function Re(){return de}function it(t){de=t}function xt(t,r){for(let l=r.directiveStart,g=r.directiveEnd;l<g;l++){const S=t.data[l].type.prototype,{ngAfterContentInit:F,ngAfterContentChecked:G,ngAfterViewInit:X,ngAfterViewChecked:Ae,ngOnDestroy:ot}=S;F&&(t.contentHooks??=[]).push(-l,F),G&&((t.contentHooks??=[]).push(l,G),(t.contentCheckHooks??=[]).push(l,G)),X&&(t.viewHooks??=[]).push(-l,X),Ae&&((t.viewHooks??=[]).push(l,Ae),(t.viewCheckHooks??=[]).push(l,Ae)),null!=ot&&(t.destroyHooks??=[]).push(l,ot)}}function Mt(t,r,l){_t(t,r,3,l)}function Pt(t,r,l,g){(3&t[xo])===l&&_t(t,r,l,g)}function Fe(t,r){let l=t[xo];(3&l)===r&&(l&=8191,l+=1,t[xo]=l)}function _t(t,r,l,g){const S=g??-1,F=r.length-1;let G=0;for(let X=void 0!==g?65535&t[na]:0;X<F;X++)if("number"==typeof r[X+1]){if(G=r[X],null!=g&&G>=g)break}else r[X]<0&&(t[na]+=65536),(G<S||-1==S)&&(Gt(t,l,r,X),t[na]=(4294901760&t[na])+X+2),X++}function Ut(t,r){yr(4,t,r);const l=ya(null);try{r.call(t)}finally{ya(l),yr(5,t,r)}}function Gt(t,r,l,g){const C=l[g]<0,S=l[g+1],G=t[C?-l[g]:l[g]];C?t[xo]>>13<t[na]>>16&&(3&t[xo])===r&&(t[xo]+=8192,Ut(G,S)):Ut(G,S)}const hn=-1;class fn{constructor(r,l,g){this.factory=r,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=g}}function pi(t){return t!==hn}function An(t){return 32767&t}function gi(t,r){let l=function oi(t){return t>>16}(t),g=r;for(;l>0;)g=g[ga],l--;return g}let ci=!0;function vi(t){const r=ci;return ci=t,r}const So=255,Yi=5;let po=0;const Io={};function eo(t,r){const l=Kr(t,r);if(-1!==l)return l;const g=r[Ii];g.firstCreatePass&&(t.injectorIndex=r.length,Nr(g.data,t),Nr(r,null),Nr(g.blueprint,null));const C=Hr(t,r),S=t.injectorIndex;if(pi(C)){const F=An(C),G=gi(C,r),X=G[Ii].data;for(let Ae=0;Ae<8;Ae++)r[S+Ae]=G[F+Ae]|X[F+Ae]}return r[S+8]=C,S}function Nr(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Kr(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Hr(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let l=0,g=null,C=r;for(;null!==C;){if(g=Nd(C),null===g)return hn;if(l++,C=C[ga],-1!==g.injectorIndex)return g.injectorIndex|l<<16}return hn}function $r(t,r,l){!function qo(t,r,l){let g;"string"==typeof l?g=l.charCodeAt(0)||0:l.hasOwnProperty(Ko)&&(g=l[Ko]),null==g&&(g=l[Ko]=po++);const C=g&So;r.data[t+(C>>Yi)]|=1<<C}(t,r,l)}function ba(t,r,l){if(l&Pn.Optional||void 0!==t)return t;It()}function Ul(t,r,l,g){if(l&Pn.Optional&&void 0===g&&(g=null),!(l&(Pn.Self|Pn.Host))){const C=t[Ds],S=qi(void 0);try{return C?C.get(r,g,l&Pn.Optional):to(r,g,l&Pn.Optional)}finally{qi(S)}}return ba(g,0,l)}function tc(t,r,l,g=Pn.Default,C){if(null!==t){if(2048&r[xo]&&!(g&Pn.Self)){const F=function hd(t,r,l,g,C){let S=t,F=r;for(;null!==S&&null!==F&&2048&F[xo]&&!(512&F[xo]);){const G=gs(S,F,l,g|Pn.Self,Io);if(G!==Io)return G;let X=S.parent;if(!X){const Ae=F[Ml];if(Ae){const ot=Ae.get(l,Io,g);if(ot!==Io)return ot}X=Nd(F),F=F[ga]}S=X}return C}(t,r,l,g,Io);if(F!==Io)return F}const S=gs(t,r,l,g,Io);if(S!==Io)return S}return Ul(r,l,g,C)}function gs(t,r,l,g,C){const S=function tl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Ko)?t[Ko]:void 0;return"number"==typeof r?r>=0?r&So:nc:r}(l);if("function"==typeof S){if(!Go(r,t,g))return g&Pn.Host?ba(C,0,g):Ul(r,l,g,C);try{let F;if(F=S(g),null!=F||g&Pn.Optional)return F;It()}finally{Tl()}}else if("number"==typeof S){let F=null,G=Kr(t,r),X=hn,Ae=g&Pn.Host?r[Sr][ts]:null;for((-1===G||g&Pn.SkipSelf)&&(X=-1===G?Hr(t,r):r[G+8],X!==hn&&Ua(g,!1)?(F=r[Ii],G=An(X),r=gi(X,r)):G=-1);-1!==G;){const ot=r[Ii];if(cs(S,G,ot.data)){const Yt=Xr(G,r,l,F,g,Ae);if(Yt!==Io)return Yt}X=r[G+8],X!==hn&&Ua(g,r[Ii].data[G+8]===Ae)&&cs(S,G,r)?(F=ot,G=An(X),r=gi(X,r)):G=-1}}return C}function Xr(t,r,l,g,C,S){const F=r[Ii],G=F.data[t+8],ot=br(G,F,l,null==g?As(G)&&ci:g!=F&&0!=(3&G.type),C&Pn.Host&&S===G);return null!==ot?fs(r,F,ot,G):Io}function br(t,r,l,g,C){const S=t.providerIndexes,F=r.data,G=1048575&S,X=t.directiveStart,ot=S>>20,xn=C?G+ot:t.directiveEnd;for(let Nn=g?G:G+ot;Nn<xn;Nn++){const ui=F[Nn];if(Nn<X&&l===ui||Nn>=X&&ui.type===l)return Nn}if(C){const Nn=F[X];if(Nn&&ma(Nn)&&Nn.type===l)return X}return null}function fs(t,r,l,g){let C=t[l];const S=r.data;if(function mn(t){return t instanceof fn}(C)){const F=C;F.resolving&&function Be(t,r){const l=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new pe(-200,`Circular dependency in DI detected for ${t}${l}`)}(function Pe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}(S[l]));const G=vi(F.canSeeViewProviders);F.resolving=!0;const Ae=F.injectImpl?qi(F.injectImpl):null;Go(t,g,Pn.Default);try{C=t[l]=F.factory(void 0,S,t,g),r.firstCreatePass&&l>=g.directiveStart&&function vt(t,r,l){const{ngOnChanges:g,ngOnInit:C,ngDoCheck:S}=r.type.prototype;if(g){const F=Jr(r);(l.preOrderHooks??=[]).push(t,F),(l.preOrderCheckHooks??=[]).push(t,F)}C&&(l.preOrderHooks??=[]).push(0-t,C),S&&((l.preOrderHooks??=[]).push(t,S),(l.preOrderCheckHooks??=[]).push(t,S))}(l,S[l],r)}finally{null!==Ae&&qi(Ae),vi(G),F.resolving=!1,Tl()}}return C}function cs(t,r,l){return!!(l[r+(t>>Yi)]&1<<t)}function Ua(t,r){return!(t&Pn.Self||t&Pn.Host&&r)}class er{constructor(r,l){this._tNode=r,this._lView=l}get(r,l,g){return tc(this._tNode,this._lView,r,Je(g),l)}}function nc(){return new er(Br(),_i())}function Mc(t){return Zn(()=>{const r=t.prototype.constructor,l=r[dr]||Hl(r),g=Object.prototype;let C=Object.getPrototypeOf(t.prototype).constructor;for(;C&&C!==g;){const S=C[dr]||Hl(C);if(S&&S!==l)return S;C=Object.getPrototypeOf(C)}return S=>new S})}function Hl(t){return Ce(t)?()=>{const r=Hl(ke(t));return r&&r()}:Ys(t)}function Nd(t){const r=t[Ii],l=r.type;return 2===l?r.declTNode:1===l?t[ts]:null}function pd(t){return function el(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const l=t.attrs;if(l){const g=l.length;let C=0;for(;C<g;){const S=l[C];if(Jo(S))break;if(0===S)C+=2;else if("number"==typeof S)for(C++;C<g&&"string"==typeof l[C];)C++;else{if(S===r)return l[C+1];C+=2}}}return null}(Br(),t)}const xc="__parameters__";function cu(t,r,l){return Zn(()=>{const g=function Bu(t){return function(...l){if(t){const g=t(...l);for(const C in g)this[C]=g[C]}}}(r);function C(...S){if(this instanceof C)return g.apply(this,S),this;const F=new C(...S);return G.annotation=F,G;function G(X,Ae,ot){const Yt=X.hasOwnProperty(xc)?X[xc]:Object.defineProperty(X,xc,{value:[]})[xc];for(;Yt.length<=ot;)Yt.push(null);return(Yt[ot]=Yt[ot]||[]).push(F),X}}return l&&(C.prototype=Object.create(l.prototype)),C.prototype.ngMetadataName=t,C.annotationCls=C,C})}function _l(t,r){t.forEach(l=>Array.isArray(l)?_l(l,r):r(l))}function sh(t,r,l){r>=t.length?t.push(l):t.splice(r,0,l)}function Np(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ah(t,r){const l=[];for(let g=0;g<t;g++)l.push(r);return l}function Pc(t,r,l){let g=os(t,r);return g>=0?t[1|g]=l:(g=~g,function ef(t,r,l,g){let C=t.length;if(C==r)t.push(l,g);else if(1===C)t.push(g,t[0]),t[0]=l;else{for(C--,t.push(t[C-1],t[C]);C>r;)t[C]=t[C-2],C--;t[r]=l,t[r+1]=g}}(t,g,r,l)),g}function _g(t,r){const l=os(t,r);if(l>=0)return t[1|l]}function os(t,r){return function md(t,r,l){let g=0,C=t.length>>l;for(;C!==g;){const S=g+(C-g>>1),F=t[S<<l];if(r===F)return S<<l;F>r?C=S:g=S+1}return~(C<<l)}(t,r,1)}const zu=ct(cu("Inject",t=>({token:t})),-1),ch=ct(cu("Optional"),8),Wh=ct(cu("SkipSelf"),4);function Ea(t){return 128==(128&t.flags)}var Hu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hu||{});const Vp=/^>|^->|<!--|-->|--!>|<!-$/g,Cd=/(<|>)/g,Gp="\u200b$1\u200b";const sc=new Map;let mu=0;const mh="__ngContext__";function yl(t,r){Gr(r)?(t[mh]=r[Zl],function nf(t){sc.set(t[Zl],t)}(r)):t[mh]=r}let wd;function Zr(t,r){return wd(t,r)}function vl(t){const r=t[_r];return bs(r)?r[_r]:r}function ac(t){return ep(t[Es])}function Va(t){return ep(t[Ur])}function ep(t){for(;null!==t&&!bs(t);)t=t[Ur];return t}function Xs(t,r,l,g,C){if(null!=g){let S,F=!1;bs(g)?S=g:Gr(g)&&(F=!0,g=g[Mr]);const G=mi(g);0===t&&null!==l?null==C?Eg(r,l,G):td(r,l,G,C||null,!0):1===t&&null!==l?td(r,l,G,C||null,!0):2===t?No(r,G,F):3===t&&r.destroyNode(G),null!=S&&function ar(t,r,l,g,C){const S=l[Ks];S!==mi(l)&&Xs(r,t,g,S,C);for(let G=ss;G<l.length;G++){const X=l[G];sr(X[Ii],X,t,r,g,S)}}(r,t,S,l,C)}}function tp(t,r){return t.createText(r)}function ju(t,r,l){t.setValue(r,l)}function np(t,r){return t.createComment(function Ud(t){return t.replace(Vp,r=>r.replace(Cd,Gp))}(r))}function yh(t,r,l){return t.createElement(r,l)}function bu(t,r){const l=t[Oa],g=l.indexOf(r);Iu(r),l.splice(g,1)}function Cu(t,r){if(t.length<=ss)return;const l=ss+r,g=t[l];if(g){const C=g[ul];null!==C&&C!==t&&bu(C,g),r>0&&(t[l-1][Ur]=g[Ur]);const S=Np(t,ss+r);!function qp(t,r){sr(t,r,r[lo],2,null,null),r[Mr]=null,r[ts]=null}(g[Ii],g);const F=S[Ns];null!==F&&F.detachView(S[Ii]),g[_r]=null,g[Ur]=null,g[xo]&=-129}return g}function vh(t,r){if(!(256&r[xo])){const l=r[lo];r[ia]&&ou(r[ia]),r[Vo]&&ou(r[Vo]),l.destroyNode&&sr(t,r,l,3,null,null),function Yf(t){let r=t[Es];if(!r)return ip(t[Ii],t);for(;r;){let l=null;if(Gr(r))l=r[Es];else{const g=r[ss];g&&(l=g)}if(!l){for(;r&&!r[Ur]&&r!==t;)Gr(r)&&ip(r[Ii],r),r=r[_r];null===r&&(r=t),Gr(r)&&ip(r[Ii],r),l=r&&r[Ur]}r=l}}(r)}}function ip(t,r){if(!(256&r[xo])){r[xo]&=-129,r[xo]|=256,function qf(t,r){let l;if(null!=t&&null!=(l=t.destroyHooks))for(let g=0;g<l.length;g+=2){const C=r[l[g]];if(!(C instanceof fn)){const S=l[g+1];if(Array.isArray(S))for(let F=0;F<S.length;F+=2){const G=C[S[F]],X=S[F+1];yr(4,G,X);try{X.call(G)}finally{yr(5,G,X)}}else{yr(4,C,S);try{S.call(C)}finally{yr(5,C,S)}}}}}(t,r),function lf(t,r){const l=t.cleanup,g=r[kl];if(null!==l)for(let S=0;S<l.length-1;S+=2)if("string"==typeof l[S]){const F=l[S+3];F>=0?g[F]():g[-F].unsubscribe(),S+=2}else l[S].call(g[l[S+1]]);null!==g&&(r[kl]=null);const C=r[La];if(null!==C){r[La]=null;for(let S=0;S<C.length;S++)(0,C[S])()}}(t,r),1===r[Ii].type&&r[lo].destroy();const l=r[ul];if(null!==l&&bs(r[_r])){l!==r[_r]&&bu(l,r);const g=r[Ns];null!==g&&g.detachView(t)}!function $p(t){sc.delete(t[Zl])}(r)}}function op(t,r,l){return Jp(t,r.parent,l)}function Jp(t,r,l){let g=r;for(;null!==g&&40&g.type;)g=(r=g).parent;if(null===g)return l[Mr];{const{componentOffset:C}=g;if(C>-1){const{encapsulation:S}=t.data[g.directiveStart+C];if(S===hi.None||S===hi.Emulated)return null}return Js(g,l)}}function td(t,r,l,g,C){t.insertBefore(r,l,g,C)}function Eg(t,r,l){t.appendChild(r,l)}function x(t,r,l,g,C){null!==g?td(t,r,l,g,C):Eg(t,r,l)}function E(t,r){return t.parentNode(r)}function De(t,r,l){return _n(t,r,l)}function Ke(t,r,l){return 40&t.type?Js(t,l):null}let En,ca,ka,Od,_n=Ke;function Qn(t,r){_n=t,En=r}function Kn(t,r,l,g){const C=op(t,g,r),S=r[lo],G=De(g.parent||r[ts],g,r);if(null!=C)if(Array.isArray(l))for(let X=0;X<l.length;X++)x(S,C,l[X],G,!1);else x(S,C,l,G,!1);void 0!==En&&En(S,g,r,l,C)}function Hi(t,r){if(null!==r){const l=r.type;if(3&l)return Js(r,t);if(4&l)return Ui(-1,t[r.index]);if(8&l){const g=r.child;if(null!==g)return Hi(t,g);{const C=t[r.index];return bs(C)?Ui(-1,C):mi(C)}}if(32&l)return Zr(r,t)()||mi(t[r.index]);{const g=Ai(t,r);return null!==g?Array.isArray(g)?g[0]:Hi(vl(t[Sr]),g):Hi(t,r.next)}}return null}function Ai(t,r){return null!==r?t[Sr][ts].projection[r.projection]:null}function Ui(t,r){const l=ss+t+1;if(l<r.length){const g=r[l],C=g[Ii].firstChild;if(null!==C)return Hi(g,C)}return r[Ks]}function No(t,r,l){const g=E(t,r);g&&function W(t,r,l,g){t.removeChild(r,l,g)}(t,g,r,l)}function bo(t,r,l,g,C,S,F){for(;null!=l;){const G=g[l.index],X=l.type;if(F&&0===r&&(G&&yl(mi(G),g),l.flags|=2),32!=(32&l.flags))if(8&X)bo(t,r,l.child,g,C,S,!1),Xs(r,t,C,G,S);else if(32&X){const Ae=Zr(l,g);let ot;for(;ot=Ae();)Xs(r,t,C,ot,S);Xs(r,t,C,G,S)}else 16&X?Ms(t,r,g,l,C,S):Xs(r,t,C,G,S);l=F?l.projectionNext:l.next}}function sr(t,r,l,g,C,S){bo(l,g,t.firstChild,r,C,S,!1)}function Ms(t,r,l,g,C,S){const F=l[Sr],X=F[ts].projection[g.projection];if(Array.isArray(X))for(let Ae=0;Ae<X.length;Ae++)Xs(r,t,C,X[Ae],S);else{let Ae=X;const ot=F[_r];Ea(g)&&(Ae.flags|=128),bo(t,r,Ae,ot,C,S,!0)}}function Ss(t,r,l){""===l?t.removeAttribute(r,"class"):t.setAttribute(r,"class",l)}function ds(t,r,l){const{mergedAttrs:g,classes:C,styles:S}=l;null!==g&&Tr(t,r,g),null!==C&&Ss(t,r,C),null!==S&&function tr(t,r,l){t.setAttribute(r,"style",l)}(t,r,S)}function ua(t){return function da(){if(void 0===ca&&(ca=null,Fi.trustedTypes))try{ca=Fi.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ca}()?.createHTML(t)||t}function Fc(t){ka=t}function xd(){if(void 0!==ka)return ka;if(typeof document<"u")return document;throw new pe(210,!1)}function Vu(){if(void 0===Od&&(Od=null,Fi.trustedTypes))try{Od=Fi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Od}function rp(t){return Vu()?.createHTML(t)||t}function bh(t){return Vu()?.createScriptURL(t)||t}class $l{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${A})`}}class jd extends $l{getTypeName(){return"HTML"}}class Bc extends $l{getTypeName(){return"Style"}}class Ch extends $l{getTypeName(){return"Script"}}class us extends $l{getTypeName(){return"URL"}}class Gu extends $l{getTypeName(){return"ResourceURL"}}function zc(t){return t instanceof $l?t.changingThisBreaksApplicationSecurity:t}function Uc(t,r){const l=function sp(t){return t instanceof $l&&t.getTypeName()||null}(t);if(null!=l&&l!==r){if("ResourceURL"===l&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${l} (see ${A})`)}return l===r}function $u(t){return new jd(t)}function Ig(t){return new Bc(t)}function Ag(t){return new Ch(t)}function Zu(t){return new us(t)}function ap(t){return new Gu(t)}function lp(t){const r=new xu(t);return function wh(){try{return!!(new window.DOMParser).parseFromString(ua(""),"text/html")}catch{return!1}}()?new Xp(r):r}class Xp{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const l=(new window.DOMParser).parseFromString(ua(r),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(r):(l.removeChild(l.firstChild),l)}catch{return null}}}class xu{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const l=this.inertDocument.createElement("template");return l.innerHTML=ua(r),l}}const Ou=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mh(t){return(t=String(t)).match(Ou)?t:"unsafe:"+t}function dc(t){const r={};for(const l of t.split(","))r[l]=!0;return r}function Vd(...t){const r={};for(const l of t)for(const g in l)l.hasOwnProperty(g)&&(r[g]=!0);return r}const xh=dc("area,br,col,hr,img,wbr"),Oh=dc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wu=dc("rp,rt"),cf=Vd(xh,Vd(Oh,dc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vd(Wu,dc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vd(Wu,Oh)),df=dc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jf=Vd(df,dc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xf=dc("script,style,template");class cp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let l=r.firstChild,g=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?g=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,g&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let C=this.checkClobberedElement(l,l.nextSibling);if(C){l=C;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(r){const l=r.nodeName.toLowerCase();if(!cf.hasOwnProperty(l))return this.sanitizedSomething=!0,!Xf.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const g=r.attributes;for(let C=0;C<g.length;C++){const S=g.item(C),F=S.name,G=F.toLowerCase();if(!Jf.hasOwnProperty(G)){this.sanitizedSomething=!0;continue}let X=S.value;df[G]&&(X=Mh(X)),this.buf.push(" ",F,'="',Qf(X),'"')}return this.buf.push(">"),!0}endElement(r){const l=r.nodeName.toLowerCase();cf.hasOwnProperty(l)&&!xh.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(r){this.buf.push(Qf(r))}checkClobberedElement(r,l){if(l&&(r.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return l}}const Rm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qp=/([^\#-~ |!])/g;function Qf(t){return t.replace(/&/g,"&amp;").replace(Rm,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Qp,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $o;function dp(t,r){let l=null;try{$o=$o||lp(t);let g=r?String(r):"";l=$o.getInertBodyElement(g);let C=5,S=g;do{if(0===C)throw new Error("Failed to sanitize html because the input is unstable");C--,g=S,S=l.innerHTML,l=$o.getInertBodyElement(g)}while(g!==S);return ua((new cp).sanitizeChildren(hf(l)||l))}finally{if(l){const g=hf(l)||l;for(;g.firstChild;)g.removeChild(g.firstChild)}}}function hf(t){return"content"in t&&function pf(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Gd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Gd||{});function eg(t){const r=gp();return r?rp(r.sanitize(Gd.HTML,t)||""):Uc(t,"HTML")?rp(zc(t)):dp(xd(),pt(t))}function up(t){const r=gp();return r?r.sanitize(Gd.URL,t)||"":Uc(t,"URL")?zc(t):Mh(pt(t))}function hp(t){const r=gp();if(r)return bh(r.sanitize(Gd.RESOURCE_URL,t)||"");if(Uc(t,"ResourceURL"))return bh(zc(t));throw new pe(904,!1)}function pp(t,r,l){return function ff(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?hp:up}(r,l)(t)}function gp(){const t=_i();return t&&t[Ls].sanitizer}const fp=new xi("ENVIRONMENT_INITIALIZER"),mf=new xi("INJECTOR",-1),mp=new xi("INJECTOR_DEF_TYPES");class _f{get(r,l=lt){if(l===lt){const g=new Error(`NullInjectorError: No provider for ${be(r)}!`);throw g.name="NullInjectorError",g}return l}}function yf(t){return{\u0275providers:t}}function L_(...t){return{\u0275providers:Pu(0,t),\u0275fromNgModule:!0}}function Pu(t,...r){const l=[],g=new Set;let C;const S=F=>{l.push(F)};return _l(r,F=>{const G=F;_p(G,S,[],g)&&(C||=[],C.push(G))}),void 0!==C&&vf(C,S),l}function vf(t,r){for(let l=0;l<t.length;l++){const{ngModule:g,providers:C}=t[l];rl(C,S=>{r(S,g)})}}function _p(t,r,l,g){if(!(t=ke(t)))return!1;let C=null,S=Vt(t);const F=!S&&Ni(t);if(S||F){if(F&&!F.standalone)return!1;C=t}else{const X=t.ngModule;if(S=Vt(X),!S)return!1;C=X}const G=g.has(C);if(F){if(G)return!1;if(g.add(C),F.dependencies){const X="function"==typeof F.dependencies?F.dependencies():F.dependencies;for(const Ae of X)_p(Ae,r,l,g)}}else{if(!S)return!1;{if(null!=S.imports&&!G){let Ae;g.add(C);try{_l(S.imports,ot=>{_p(ot,r,l,g)&&(Ae||=[],Ae.push(ot))})}finally{}void 0!==Ae&&vf(Ae,r)}if(!G){const Ae=Ys(C)||(()=>new C);r({provide:C,useFactory:Ae,deps:Di},C),r({provide:mp,useValue:C,multi:!0},C),r({provide:fp,useValue:()=>gn(C),multi:!0},C)}const X=S.providers;if(null!=X&&!G){const Ae=t;rl(X,ot=>{r(ot,Ae)})}}}return C!==t&&void 0!==t.providers}function rl(t,r){for(let l of t)we(l)&&(l=l.\u0275providers),Array.isArray(l)?rl(l,r):r(l)}const Tu=me({provide:String,useValue:me});function $d(t){return null!==t&&"object"==typeof t&&Tu in t}function Ku(t){return"function"==typeof t}const Cf=new xi("Set Injector scope."),ng={},Nm={};let wf;function kg(){return void 0===wf&&(wf=new _f),wf}class Hc{}class vp extends Hc{get destroyed(){return this._destroyed}constructor(r,l,g,C){super(),this.parent=l,this.source=g,this.scopes=C,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hs(r,F=>this.processProvider(F)),this.records.set(mf,bp(void 0,this)),C.has("environment")&&this.records.set(Hc,bp(void 0,this));const S=this.records.get(Cf);null!=S&&"string"==typeof S.value&&this.scopes.add(S.value),this.injectorDefTypes=new Set(this.get(mp.multi,Di,Pn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of r)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const l=_e(this),g=qi(void 0);try{return r()}finally{_e(l),qi(g)}}get(r,l=lt,g=Pn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(jo))return r[jo](this);g=Je(g);const S=_e(this),F=qi(void 0);try{if(!(g&Pn.SkipSelf)){let X=this.records.get(r);if(void 0===X){const Ae=function tm(t){return"function"==typeof t||"object"==typeof t&&t instanceof xi}(r)&&Wt(r);X=Ae&&this.injectableDefInScope(Ae)?bp(ig(r),ng):null,this.records.set(r,X)}if(null!=X)return this.hydrate(r,X)}return(g&Pn.Self?kg():this.parent).get(r,l=g&Pn.Optional&&l===lt?null:l)}catch(G){if("NullInjectorError"===G.name){if((G[bn]=G[bn]||[]).unshift(be(r)),S)throw G;return function Jt(t,r,l,g){const C=t[bn];throw r[ft]&&C.unshift(r[ft]),t.message=function ei(t,r,l,g=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let C=be(r);if(Array.isArray(r))C=r.map(be).join(" -> ");else if("object"==typeof r){let S=[];for(let F in r)if(r.hasOwnProperty(F)){let G=r[F];S.push(F+":"+("string"==typeof G?JSON.stringify(G):be(G)))}C=`{${S.join(", ")}}`}return`${l}${g?"("+g+")":""}[${C}]: ${t.replace(kt,"\n  ")}`}("\n"+t.message,C,l,g),t.ngTokenPath=C,t[bn]=null,t}(G,r,"R3InjectorError",this.source)}throw G}finally{qi(F),_e(S)}}resolveInjectorInitializers(){const r=_e(this),l=qi(void 0);try{const C=this.get(fp.multi,Di,Pn.Self);for(const S of C)S()}finally{_e(r),qi(l)}}toString(){const r=[],l=this.records;for(const g of l.keys())r.push(be(g));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(r){let l=Ku(r=ke(r))?r:ke(r&&r.provide);const g=function Mf(t){return $d(t)?bp(void 0,t.useValue):bp(xf(t),ng)}(r);if(Ku(r)||!0!==r.multi)this.records.get(l);else{let C=this.records.get(l);C||(C=bp(void 0,ng,!0),C.factory=()=>yn(C.multi),this.records.set(l,C)),l=r,C.multi.push(r)}this.records.set(l,g)}hydrate(r,l){return l.value===ng&&(l.value=Nm,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Bm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(r){if(!r.providedIn)return!1;const l=ke(r.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(r){const l=this._onDestroyHooks.indexOf(r);-1!==l&&this._onDestroyHooks.splice(l,1)}}function ig(t){const r=Wt(t),l=null!==r?r.factory:Ys(t);if(null!==l)return l;if(t instanceof xi)throw new pe(204,!1);if(t instanceof Function)return function Rg(t){const r=t.length;if(r>0)throw ah(r,"?"),new pe(204,!1);const l=function Se(t){return t&&(t[en]||t[Mi])||null}(t);return null!==l?()=>l.factory(t):()=>new t}(t);throw new pe(204,!1)}function xf(t,r,l){let g;if(Ku(t)){const C=ke(t);return Ys(C)||ig(C)}if($d(t))g=()=>ke(t.useValue);else if(function bf(t){return!(!t||!t.useFactory)}(t))g=()=>t.useFactory(...yn(t.deps||[]));else if(function yp(t){return!(!t||!t.useExisting)}(t))g=()=>gn(ke(t.useExisting));else{const C=ke(t&&(t.useClass||t.provide));if(!function Fm(t){return!!t.deps}(t))return Ys(C)||ig(C);g=()=>new C(...yn(t.deps))}return g}function bp(t,r,l=!1){return{factory:t,value:r,multi:l?[]:void 0}}function Hs(t,r){for(const l of t)Array.isArray(l)?Hs(l,r):l&&we(l)?Hs(l.\u0275providers,r):r(l)}const jc=new xi("AppId",{providedIn:"root",factory:()=>Ca}),Ca="ng",uc=new xi("Platform Initializer"),Sh=new xi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Cp=new xi("AnimationModuleType"),zm=new xi("CSP nonce",{providedIn:"root",factory:()=>xd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let sm=(t,r,l)=>null;function wp(t,r,l=!1){return sm(t,r,l)}class Df{}class hc{}class jg{resolveComponentFactory(r){throw function Td(t){const r=Error(`No component factory found for ${be(t)}.`);return r.ngComponent=t,r}(r)}}let Zd=(()=>{class t{static#e=this.NULL=new jg}return t})();function Vm(){return Op(Br(),_i())}function Op(t,r){return new Pp(Js(t,r))}let Pp=(()=>{class t{constructor(l){this.nativeElement=l}static#e=this.__NG_ELEMENT_ID__=Vm}return t})();function Gm(t){return t instanceof Pp?t.nativeElement:t}class qu{}let $m=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Ef(){const t=_i(),l=zs(Br().index,t);return(Gr(l)?l:t)[lo]}()}return t})(),Ih=(()=>{class t{static#e=this.\u0275prov=$t({token:t,providedIn:"root",factory:()=>null})}return t})();class um{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const If=new um("16.2.12"),_={};function h(t){if(!ti()&&!function on(){return Ze}())throw new pe(-203,!1)}function ro(t,r=null,l=null,g){const C=go(t,r,l,g);return C.resolveInjectorInitializers(),C}function go(t,r=null,l=null,g,C=new Set){const S=[l||Di,L_(t)];return g=g||("object"==typeof t?void 0:be(t)),new vp(S,r||kg(),g||null,C)}let Gi=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=lt;static#t=this.NULL=new _f;static create(l,g){if(Array.isArray(l))return ro({name:""},g,l,"");{const C=l.name??"";return ro({name:C},l.parent,l.providers,C)}}static#n=this.\u0275prov=$t({token:t,providedIn:"any",factory:()=>gn(mf)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function Qs(t){return t.ngOriginalError}class js{constructor(){this._console=console}handleError(r){const l=this._findOriginalError(r);this._console.error("ERROR",r),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(r){let l=r&&Qs(r);for(;l&&Qs(l);)l=Qs(l);return l||null}}let wa=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Tp;static#t=this.__NG_ENV_ID__=l=>l}return t})();class Za extends wa{constructor(r){super(),this._lView=r}onDestroy(r){return Kc(this._lView,r),()=>function lu(t,r){if(null===t[La])return;const l=t[La].indexOf(r);-1!==l&&t[La].splice(l,1)}(this._lView,r)}}function Tp(){return new Za(_i())}function El(t){return r=>{setTimeout(t,void 0,r)}}const bl=class Wd extends a.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,l,g){let C=r,S=l||(()=>null),F=g;if(r&&"object"==typeof r){const X=r;C=X.next?.bind(X),S=X.error?.bind(X),F=X.complete?.bind(X)}this.__isAsync&&(S=El(S),C&&(C=El(C)),F&&(F=El(F)));const G=super.subscribe({next:C,error:S,complete:F});return r instanceof s.w0&&r.add(G),G}};function Kd(...t){}class ea{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bl(!1),this.onMicrotaskEmpty=new bl(!1),this.onStable=new bl(!1),this.onError=new bl(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const C=this;C._nesting=0,C._outer=C._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(C._inner=C._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(C._inner=C._inner.fork(Zone.longStackTraceZoneSpec)),C.shouldCoalesceEventChangeDetection=!g&&l,C.shouldCoalesceRunChangeDetection=g,C.lastRequestAnimationFrameId=-1,C.nativeRequestAnimationFrame=function Ec(){const t="function"==typeof Fi.requestAnimationFrame;let r=Fi[t?"requestAnimationFrame":"setTimeout"],l=Fi[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&l){const g=r[Zone.__symbol__("OriginalDelegate")];g&&(r=g);const C=l[Zone.__symbol__("OriginalDelegate")];C&&(l=C)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function fo(t){const r=()=>{!function hm(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ao(t),t.isCheckStableRunning=!0,lg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ao(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,g,C,S,F,G)=>{if(function Yd(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(G))return l.invokeTask(C,S,F,G);try{return Lo(t),l.invokeTask(C,S,F,G)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===S.type||t.shouldCoalesceRunChangeDetection)&&r(),Cr(t)}},onInvoke:(l,g,C,S,F,G,X)=>{try{return Lo(t),l.invoke(C,S,F,G,X)}finally{t.shouldCoalesceRunChangeDetection&&r(),Cr(t)}},onHasTask:(l,g,C,S)=>{l.hasTask(C,S),g===C&&("microTask"==S.change?(t._hasPendingMicrotasks=S.microTask,Ao(t),lg(t)):"macroTask"==S.change&&(t.hasPendingMacrotasks=S.macroTask))},onHandleError:(l,g,C,S)=>(l.handleError(C,S),t.runOutsideAngular(()=>t.onError.emit(S)),!1)})}(C)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ea.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(ea.isInAngularZone())throw new pe(909,!1)}run(r,l,g){return this._inner.run(r,l,g)}runTask(r,l,g,C){const S=this._inner,F=S.scheduleEventTask("NgZoneEvent: "+C,r,Ah,Kd,Kd);try{return S.runTask(F,l,g)}finally{S.cancelTask(F)}}runGuarded(r,l,g){return this._inner.runGuarded(r,l,g)}runOutsideAngular(r){return this._outer.run(r)}}const Ah={};function lg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ao(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Lo(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cr(t){t._nesting--,lg(t)}class sl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bl,this.onMicrotaskEmpty=new bl,this.onStable=new bl,this.onError=new bl}run(r,l,g){return r.apply(l,g)}runGuarded(r,l,g){return r.apply(l,g)}runOutsideAngular(r){return r()}runTask(r,l,g,C){return r.apply(l,g)}}const id=new xi("",{providedIn:"root",factory:Il});function Il(){const t=Jn(ea);let r=!0;const l=new oe.y(C=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{C.next(r),C.complete()})}),g=new oe.y(C=>{let S;t.runOutsideAngular(()=>{S=t.onStable.subscribe(()=>{ea.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,C.next(!0))})})});const F=t.onUnstable.subscribe(()=>{ea.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),F.unsubscribe()}});return(0,c.T)(l,g.pipe((0,ie.B)()))}function ta(t){return t.ownerDocument.defaultView}function Ma(t){return t instanceof Function?t():t}let $g=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=$t({token:t,providedIn:"root",factory:()=>new t})}return t})();function kf(t){for(;t;){t[xo]|=64;const r=vl(t);if(Kl(t)&&!r)return t;t=r}return null}const Rf=new xi("",{providedIn:"root",factory:()=>!1});let dg=null;function Lf(t,r){return t[r]??Rh()}function j_(t,r){const l=Rh();l.producerNode?.length&&(t[r]=dg,l.lView=t,dg=gm())}const Km={...mc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{kf(t.lView)},lView:null};function gm(){return Object.create(Km)}function Rh(){return dg??=gm(),dg}const pr={};function fm(t){Ym(vr(),_i(),u()+t,!1)}function Ym(t,r,l,g){if(!g)if(3==(3&r[xo])){const S=t.preOrderCheckHooks;null!==S&&Mt(r,S,l)}else{const S=t.preOrderHooks;null!==S&&Pt(r,S,0,l)}y(l)}function Lh(t,r=Pn.Default){const l=_i();return null===l?gn(t,r):tc(Br(),l,ke(t),r)}function V_(){throw new Error("invalid")}function mm(t,r,l,g,C,S,F,G,X,Ae,ot){const Yt=r.blueprint.slice();return Yt[Mr]=C,Yt[xo]=140|g,(null!==Ae||t&&2048&t[xo])&&(Yt[xo]|=2048),Ol(Yt),Yt[_r]=Yt[ga]=t,Yt[Vr]=l,Yt[Ls]=F||t&&t[Ls],Yt[lo]=G||t&&t[lo],Yt[Ds]=X||t&&t[Ds]||null,Yt[ts]=S,Yt[Zl]=function xg(){return mu++}(),Yt[Fs]=ot,Yt[Ml]=Ae,Yt[Sr]=2==r.type?t[Sr]:Yt,Yt}function Zg(t,r,l,g,C){let S=t.data[r];if(null===S)S=Nf(t,r,l,g,C),function ee(){return To.lFrame.inI18n}()&&(S.flags|=32);else if(64&S.type){S.type=l,S.value=g,S.attrs=C;const F=Lc();S.injectorIndex=null===F?-1:F.injectorIndex}return Ta(S,!0),S}function Nf(t,r,l,g,C){const S=Nu(),F=Ql(),X=t.data[r]=function Z_(t,r,l,g,C,S){let F=r?r.injectorIndex:-1,G=0;return Rc()&&(G|=128),{type:l,index:g,insertBeforeIndex:null,injectorIndex:F,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:G,providerIndexes:0,value:C,attrs:S,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,F?S:S&&S.parent,l,r,g,C);return null===t.firstChild&&(t.firstChild=X),null!==S&&(F?null==S.child&&null!==X.parent&&(S.child=X):null===S.next&&(S.next=X,X.prev=S)),X}function Ff(t,r,l,g){if(0===l)return-1;const C=r.length;for(let S=0;S<l;S++)r.push(g),t.blueprint.push(g),t.data.push(null);return C}function Wg(t,r,l,g,C){const S=Lf(r,ia),F=u(),G=2&g;try{y(-1),G&&r.length>Oo&&Ym(t,r,Oo,!1),yr(G?2:0,C);const Ae=G?S:null,ot=Gc(Ae);try{null!==Ae&&(Ae.dirty=!1),l(g,C)}finally{Ed(Ae,ot)}}finally{G&&null===r[ia]&&j_(r,ia),y(F),yr(G?3:1,C)}}function qm(t,r,l){if(Wl(r)){const g=ya(null);try{const S=r.directiveEnd;for(let F=r.directiveStart;F<S;F++){const G=t.data[F];G.contentQueries&&G.contentQueries(1,l[F],F)}}finally{ya(g)}}}function Jm(t,r,l){dd()&&(function L0(t,r,l,g){const C=l.directiveStart,S=l.directiveEnd;As(l)&&function i_(t,r,l){const g=Js(r,t),C=G_(l);let F=16;l.signals?F=4096:l.onPush&&(F=64);const G=Uf(t,mm(t,C,null,F,g,r,null,t[Ls].rendererFactory.createRenderer(g,l),null,null,null));t[r.index]=G}(r,l,t.data[C+l.componentOffset]),t.firstCreatePass||eo(l,r),yl(g,r);const F=l.initialInputs;for(let G=C;G<S;G++){const X=t.data[G],Ae=fs(r,t,G,l);yl(Ae,r),null!==F&&X_(0,G-C,Ae,X,0,F),ma(X)&&(zs(l.index,r)[Vr]=fs(r,t,G,l))}}(t,r,l,Js(l,r)),64==(64&l.flags)&&J_(t,r,l))}function _m(t,r,l=Js){const g=r.localNames;if(null!==g){let C=r.index+1;for(let S=0;S<g.length;S+=2){const F=g[S+1],G=-1===F?l(r,t):t[F];t[C++]=G}}}function G_(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=ym(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function ym(t,r,l,g,C,S,F,G,X,Ae,ot){const Yt=Oo+g,xn=Yt+C,Nn=function qd(t,r){const l=[];for(let g=0;g<r;g++)l.push(g<t?null:pr);return l}(Yt,xn),ui="function"==typeof Ae?Ae():Ae;return Nn[Ii]={type:t,blueprint:Nn,template:l,queries:null,viewQuery:G,declTNode:r,data:Nn.slice().fill(null,Yt),bindingStartIndex:Yt,expandoStartIndex:xn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof S?S():S,pipeRegistry:"function"==typeof F?F():F,firstChild:null,schemas:X,consts:ui,incompleteFirstPass:!1,ssrId:ot}}let Su=t=>null;function Xm(t,r,l,g){for(let C in t)if(t.hasOwnProperty(C)){l=null===l?{}:l;const S=t[C];null===g?bm(l,r,C,S):g.hasOwnProperty(C)&&bm(l,r,g[C],S)}return l}function bm(t,r,l,g){t.hasOwnProperty(l)?t[l].push(r,g):t[l]=[r,g]}function od(t,r,l,g,C,S,F,G){const X=Js(r,l);let ot,Ae=r.inputs;!G&&null!=Ae&&(ot=Ae[g])?(xm(t,l,ot,g,C),As(r)&&function K_(t,r){const l=zs(r,t);16&l[xo]||(l[xo]|=64)}(l,r.index)):3&r.type&&(g=function W_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(g),C=null!=F?F(C,r.value||"",g):C,S.setProperty(X,g,C))}function Cm(t,r,l,g){if(dd()){const C=null===g?null:{"":-1},S=function N0(t,r){const l=t.directiveRegistry;let g=null,C=null;if(l)for(let S=0;S<l.length;S++){const F=l[S];if(Tt(r,F.selectors,!1))if(g||(g=[]),ma(F))if(null!==F.findHostDirectiveDefs){const G=[];C=C||new Map,F.findHostDirectiveDefs(F,G,C),g.unshift(...G,F),Ap(t,r,G.length)}else g.unshift(F),Ap(t,r,0);else C=C||new Map,F.findHostDirectiveDefs?.(F,g,C),g.push(F)}return null===g?null:[g,C]}(t,l);let F,G;null===S?F=G=null:[F,G]=S,null!==F&&Qm(t,r,l,F,C,G),C&&function e_(t,r,l){if(r){const g=t.localNames=[];for(let C=0;C<r.length;C+=2){const S=l[r[C+1]];if(null==S)throw new pe(-301,!1);g.push(r[C],S)}}}(l,g,C)}l.mergedAttrs=kr(l.mergedAttrs,l.attrs)}function Qm(t,r,l,g,C,S){for(let Ae=0;Ae<g.length;Ae++)$r(eo(l,r),t,g[Ae].type);!function eh(t,r,l){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+l,t.providerIndexes=r}(l,t.data.length,g.length);for(let Ae=0;Ae<g.length;Ae++){const ot=g[Ae];ot.providersResolver&&ot.providersResolver(ot)}let F=!1,G=!1,X=Ff(t,r,g.length,null);for(let Ae=0;Ae<g.length;Ae++){const ot=g[Ae];l.mergedAttrs=kr(l.mergedAttrs,ot.hostAttrs),n_(t,l,r,X,ot),t_(X,ot,C),null!==ot.contentQueries&&(l.flags|=4),(null!==ot.hostBindings||null!==ot.hostAttrs||0!==ot.hostVars)&&(l.flags|=64);const Yt=ot.type.prototype;!F&&(Yt.ngOnChanges||Yt.ngOnInit||Yt.ngDoCheck)&&((t.preOrderHooks??=[]).push(l.index),F=!0),!G&&(Yt.ngOnChanges||Yt.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(l.index),G=!0),X++}!function k0(t,r,l){const C=r.directiveEnd,S=t.data,F=r.attrs,G=[];let X=null,Ae=null;for(let ot=r.directiveStart;ot<C;ot++){const Yt=S[ot],xn=l?l.get(Yt):null,ui=xn?xn.outputs:null;X=Xm(Yt.inputs,ot,X,xn?xn.inputs:null),Ae=Xm(Yt.outputs,ot,Ae,ui);const Bi=null===X||null===F||et(r)?null:Bf(X,ot,F);G.push(Bi)}null!==X&&(X.hasOwnProperty("class")&&(r.flags|=8),X.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=G,r.inputs=X,r.outputs=Ae}(t,l,S)}function J_(t,r,l){const g=l.directiveStart,C=l.directiveEnd,S=l.index,F=function ne(){return To.lFrame.currentDirectiveIndex}();try{y(S);for(let G=g;G<C;G++){const X=t.data[G],Ae=r[G];dt(G),(null!==X.hostBindings||0!==X.hostVars||null!==X.hostAttrs)&&wm(X,Ae)}}finally{y(-1),dt(F)}}function wm(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Ap(t,r,l){r.componentOffset=l,(t.components??=[]).push(r.index)}function t_(t,r,l){if(l){if(r.exportAs)for(let g=0;g<r.exportAs.length;g++)l[r.exportAs[g]]=t;ma(r)&&(l[""]=t)}}function n_(t,r,l,g,C){t.data[g]=C;const S=C.factory||(C.factory=Ys(C.type)),F=new fn(S,ma(C),Lh);t.blueprint[g]=F,l[g]=F,function Ip(t,r,l,g,C){const S=C.hostBindings;if(S){let F=t.hostBindingOpCodes;null===F&&(F=t.hostBindingOpCodes=[]);const G=~r.index;(function q_(t){let r=t.length;for(;r>0;){const l=t[--r];if("number"==typeof l&&l<0)return l}return 0})(F)!=G&&F.push(G),F.push(l,g,S)}}(t,r,g,Ff(t,l,C.hostVars,pr),C)}function Cl(t,r,l,g,C,S){const F=Js(t,r);Nh(r[lo],F,S,t.value,l,g,C)}function Nh(t,r,l,g,C,S,F){if(null==S)t.removeAttribute(r,C,l);else{const G=null==F?pt(S):F(S,g||"",C);t.setAttribute(r,C,G,l)}}function X_(t,r,l,g,C,S){const F=S[r];if(null!==F)for(let G=0;G<F.length;)o_(g,l,F[G++],F[G++],F[G++])}function o_(t,r,l,g,C){const S=ya(null);try{const F=t.inputTransforms;null!==F&&F.hasOwnProperty(g)&&(C=F[g].call(r,C)),null!==t.setInput?t.setInput(r,C,l,g):r[g]=C}finally{ya(S)}}function Bf(t,r,l){let g=null,C=0;for(;C<l.length;){const S=l[C];if(0!==S)if(5!==S){if("number"==typeof S)break;if(t.hasOwnProperty(S)){null===g&&(g=[]);const F=t[S];for(let G=0;G<F.length;G+=2)if(F[G]===r){g.push(S,F[G+1],l[C+1]);break}}C+=2}else C+=2;else C+=4}return g}function zf(t,r,l,g){return[t,!0,!1,r,null,0,g,l,null,null,null]}function r_(t,r){const l=t.contentQueries;if(null!==l)for(let g=0;g<l.length;g+=2){const S=l[g+1];if(-1!==S){const F=t.data[S];Wn(l[g]),F.contentQueries(2,r[S],S)}}}function Uf(t,r){return t[Es]?t[$s][Ur]=r:t[Es]=r,t[$s]=r,r}function s_(t,r,l){Wn(0);const g=ya(null);try{r(t,l)}finally{ya(g)}}function a_(t){return t[kl]||(t[kl]=[])}function l_(t){return t.cleanup||(t.cleanup=[])}function Mm(t,r){const l=t[Ds],g=l?l.get(js,null):null;g&&g.handleError(r)}function xm(t,r,l,g,C){for(let S=0;S<l.length;){const F=l[S++],G=l[S++];o_(t.data[F],r[F],g,G,C)}}function th(t,r,l){const g=Jl(r,t);ju(t[lo],g,l)}function e0(t,r){const l=zs(r,t),g=l[Ii];!function c_(t,r){for(let l=r.length;l<t.blueprint.length;l++)r.push(t.blueprint[l])}(g,l);const C=l[Mr];null!==C&&null===l[Fs]&&(l[Fs]=wp(C,l[Ds])),Hf(g,l,l[Vr])}function Hf(t,r,l){is(r);try{const g=t.viewQuery;null!==g&&s_(1,g,l);const C=t.template;null!==C&&Wg(t,r,C,1,l),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&r_(t,r),t.staticViewQueries&&s_(2,t.viewQuery,l);const S=t.components;null!==S&&function t0(t,r){for(let l=0;l<r.length;l++)e0(t,r[l])}(r,S)}catch(g){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),g}finally{r[xo]&=-5,zl()}}let Kg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(l,g,C){const S=typeof Zone>"u"?null:Zone.current,F=function Un(t,r,l){const g=Object.create(hr);l&&(g.consumerAllowSignalWrites=!0),g.fn=t,g.schedule=r;const C=F=>{g.cleanupFn=F};return g.ref={notify:()=>Ic(g),run:()=>{if(g.dirty=!1,g.hasRun&&!Id(g))return;g.hasRun=!0;const F=Gc(g);try{g.cleanupFn(),g.cleanupFn=Qi,g.fn(C)}finally{Ed(g,F)}},cleanup:()=>g.cleanupFn()},g.ref}(l,Ae=>{this.all.has(Ae)&&this.queue.set(Ae,S)},C);let G;this.all.add(F),F.notify();const X=()=>{F.cleanup(),G?.(),this.all.delete(F),this.queue.delete(F)};return G=g?.onDestroy(X),{destroy:X}}flush(){if(0!==this.queue.size)for(const[l,g]of this.queue)this.queue.delete(l),g?g.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=$t({token:t,providedIn:"root",factory:()=>new t})}return t})();function jf(t,r,l){let g=l?t.styles:null,C=l?t.classes:null,S=0;if(null!==r)for(let F=0;F<r.length;F++){const G=r[F];"number"==typeof G?S=G:1==S?C=re(C,G):2==S&&(g=re(g,G+": "+r[++F]+";"))}l?t.styles=g:t.stylesWithoutHost=g,l?t.classes=C:t.classesWithoutHost=C}function n(t,r,l,g,C=!1){for(;null!==l;){const S=r[l.index];null!==S&&g.push(mi(S)),bs(S)&&e(S,g);const F=l.type;if(8&F)n(t,r,l.child,g);else if(32&F){const G=Zr(l,r);let X;for(;X=G();)g.push(X)}else if(16&F){const G=Ai(r,l);if(Array.isArray(G))g.push(...G);else{const X=vl(r[Sr]);n(X[Ii],X,G,g,!0)}}l=C?l.projectionNext:l.next}return g}function e(t,r){for(let l=ss;l<t.length;l++){const g=t[l],C=g[Ii].firstChild;null!==C&&n(g[Ii],g,C,r)}t[Ks]!==t[Mr]&&r.push(t[Ks])}function i(t,r,l,g=!0){const C=r[Ls],S=C.rendererFactory,F=C.afterRenderEventManager;S.begin?.(),F?.begin();try{m(t,r,t.template,l)}catch(X){throw g&&Mm(r,X),X}finally{S.end?.(),C.effectManager?.flush(),F?.end()}}function m(t,r,l,g){const C=r[xo];if(256!=(256&C)){r[Ls].effectManager?.flush(),is(r);try{Ol(r),function qc(t){return To.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==l&&Wg(t,r,l,2,g);const F=3==(3&C);if(F){const Ae=t.preOrderCheckHooks;null!==Ae&&Mt(r,Ae,null)}else{const Ae=t.preOrderHooks;null!==Ae&&Pt(r,Ae,0,null),Fe(r,0)}if(function P(t){for(let r=ac(t);null!==r;r=Va(r)){if(!r[Is])continue;const l=r[Oa];for(let g=0;g<l.length;g++){va(l[g])}}}(r),w(r,2),null!==t.contentQueries&&r_(t,r),F){const Ae=t.contentCheckHooks;null!==Ae&&Mt(r,Ae)}else{const Ae=t.contentHooks;null!==Ae&&Pt(r,Ae,1),Fe(r,1)}!function A0(t,r){const l=t.hostBindingOpCodes;if(null===l)return;const g=Lf(r,Vo);try{for(let C=0;C<l.length;C++){const S=l[C];if(S<0)y(~S);else{const F=S,G=l[++C],X=l[++C];te(G,F),g.dirty=!1;const Ae=Gc(g);try{X(2,r[F])}finally{Ed(g,Ae)}}}}finally{null===r[Vo]&&j_(r,Vo),y(-1)}}(t,r);const G=t.components;null!==G&&Z(r,G,0);const X=t.viewQuery;if(null!==X&&s_(2,X,g),F){const Ae=t.viewCheckHooks;null!==Ae&&Mt(r,Ae)}else{const Ae=t.viewHooks;null!==Ae&&Pt(r,Ae,2),Fe(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[xo]&=-73,Iu(r)}finally{zl()}}}function w(t,r){for(let l=ac(t);null!==l;l=Va(l))for(let g=ss;g<l.length;g++)N(l[g],r)}function k(t,r,l){N(zs(r,t),l)}function N(t,r){if(!function Wc(t){return 128==(128&t[xo])}(t))return;const l=t[Ii],g=t[xo];if(80&g&&0===r||1024&g||2===r)m(l,t,l.template,t[Vr]);else if(t[Ws]>0){w(t,1);const C=l.components;null!==C&&Z(t,C,1)}}function Z(t,r,l){for(let g=0;g<r.length;g++)k(t,r[g],l)}class q{get rootNodes(){const r=this._lView,l=r[Ii];return n(l,r,l.firstChild,[])}constructor(r,l){this._lView=r,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vr]}set context(r){this._lView[Vr]=r}get destroyed(){return 256==(256&this._lView[xo])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[_r];if(bs(r)){const l=r[8],g=l?l.indexOf(this):-1;g>-1&&(Cu(r,g),Np(l,g))}this._attachedToViewContainer=!1}vh(this._lView[Ii],this._lView)}onDestroy(r){Kc(this._lView,r)}markForCheck(){kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[xo]&=-129}reattach(){this._lView[xo]|=128}detectChanges(){i(this._lView[Ii],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Dg(t,r){sr(t,r,r[lo],2,null,null)}(this._lView[Ii],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=r}}class ce extends q{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;i(r[Ii],r,r[Vr],!1)}checkNoChanges(){}get context(){return null}}class xe extends Zd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const l=Ni(r);return new Rt(l,this.ngModule)}}function Ee(t){const r=[];for(let l in t)t.hasOwnProperty(l)&&r.push({propName:t[l],templateName:l});return r}class ht{constructor(r,l){this.injector=r,this.parentInjector=l}get(r,l,g){g=Je(g);const C=this.injector.get(r,_,g);return C!==_||l===_?C:this.parentInjector.get(r,l,g)}}class Rt extends hc{get inputs(){const r=this.componentDef,l=r.inputTransforms,g=Ee(r.inputs);if(null!==l)for(const C of g)l.hasOwnProperty(C.propName)&&(C.transform=l[C.propName]);return g}get outputs(){return Ee(this.componentDef.outputs)}constructor(r,l){super(),this.componentDef=r,this.ngModule=l,this.componentType=r.type,this.selector=function uo(t){return t.map(Ri).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!l}create(r,l,g,C){let S=(C=C||this.ngModule)instanceof Hc?C:C?.injector;S&&null!==this.componentDef.getStandaloneInjector&&(S=this.componentDef.getStandaloneInjector(S)||S);const F=S?new ht(r,S):r,G=F.get(qu,null);if(null===G)throw new pe(407,!1);const Yt={rendererFactory:G,sanitizer:F.get(Ih,null),effectManager:F.get(Kg,null),afterRenderEventManager:F.get($g,null)},xn=G.createRenderer(null,this.componentDef),Nn=this.componentDef.selectors[0][0]||"div",ui=g?function Qu(t,r,l,g){const S=g.get(Rf,!1)||l===hi.ShadowDom,F=t.selectRootElement(r,S);return function Dp(t){Su(t)}(F),F}(xn,g,this.componentDef.encapsulation,F):yh(xn,Nn,function He(t){const r=t.toLowerCase();return"svg"===r?xl:"math"===r?"math":null}(Nn)),ko=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Si=null;null!==ui&&(Si=wp(ui,F,!0));const cr=ym(0,null,null,1,0,null,null,null,null,null,null),jr=mm(null,cr,null,ko,null,null,Yt,xn,F,null,Si);let Zs,eu;is(jr);try{const fg=this.componentDef;let km,V1=null;fg.findHostDirectiveDefs?(km=[],V1=new Map,fg.findHostDirectiveDefs(fg,km,V1),km.push(fg)):km=[fg];const ZO=function Ft(t,r){const l=t[Ii],g=Oo;return t[g]=r,Zg(l,g,2,"#host",null)}(jr,ui),WO=function Qt(t,r,l,g,C,S,F){const G=C[Ii];!function pn(t,r,l,g){for(const C of t)r.mergedAttrs=kr(r.mergedAttrs,C.hostAttrs);null!==r.mergedAttrs&&(jf(r,r.mergedAttrs,!0),null!==l&&ds(g,l,r))}(g,t,r,F);let X=null;null!==r&&(X=wp(r,C[Ds]));const Ae=S.rendererFactory.createRenderer(r,l);let ot=16;l.signals?ot=4096:l.onPush&&(ot=64);const Yt=mm(C,G_(l),null,ot,C[t.index],t,S,Ae,null,null,X);return G.firstCreatePass&&Ap(G,t,g.length-1),Uf(C,Yt),C[t.index]=Yt}(ZO,ui,fg,km,jr,Yt,xn);eu=Cs(cr,Oo),ui&&function Hn(t,r,l,g){if(g)Tr(t,l,["ng-version",If.full]);else{const{attrs:C,classes:S}=function zt(t){const r=[],l=[];let g=1,C=2;for(;g<t.length;){let S=t[g];if("string"==typeof S)2===C?""!==S&&r.push(S,t[++g]):8===C&&l.push(S);else{if(!ln(C))break;C=S}g++}return{attrs:r,classes:l}}(r.selectors[0]);C&&Tr(t,l,C),S&&S.length>0&&Ss(t,l,S.join(" "))}}(xn,fg,ui,g),void 0!==l&&function Ln(t,r,l){const g=t.projection=[];for(let C=0;C<r.length;C++){const S=l[C];g.push(null!=S?Array.from(S):null)}}(eu,this.ngContentSelectors,l),Zs=function un(t,r,l,g,C,S){const F=Br(),G=C[Ii],X=Js(F,C);Qm(G,C,F,l,null,g);for(let ot=0;ot<l.length;ot++)yl(fs(C,G,F.directiveStart+ot,F),C);J_(G,C,F),X&&yl(X,C);const Ae=fs(C,G,F.directiveStart+F.componentOffset,F);if(t[Vr]=C[Vr]=Ae,null!==S)for(const ot of S)ot(Ae,r);return qm(G,F,t),Ae}(WO,fg,km,V1,jr,[ri]),Hf(cr,jr,null)}finally{zl()}return new tn(this.componentType,Zs,Op(eu,jr),jr,eu)}}class tn extends Df{constructor(r,l,g,C,S){super(),this.location=g,this._rootLView=C,this._tNode=S,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new ce(C),this.componentType=r}setInput(r,l){const g=this._tNode.inputs;let C;if(null!==g&&(C=g[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),l))return;const S=this._rootLView;xm(S[Ii],S,C,r,l),this.previousInputValues.set(r,l),kf(zs(this._tNode.index,S))}}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ri(){const t=Br();xt(_i()[Ii],t)}function $n(t){let r=function wi(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),l=!0;const g=[t];for(;r;){let C;if(ma(t))C=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new pe(903,!1);C=r.\u0275dir}if(C){if(l){g.push(C);const F=t;F.inputs=li(t.inputs),F.inputTransforms=li(t.inputTransforms),F.declaredInputs=li(t.declaredInputs),F.outputs=li(t.outputs);const G=C.hostBindings;G&&ii(t,G);const X=C.viewQuery,Ae=C.contentQueries;if(X&&fi(t,X),Ae&&Pi(t,Ae),ae(t.inputs,C.inputs),ae(t.declaredInputs,C.declaredInputs),ae(t.outputs,C.outputs),null!==C.inputTransforms&&(null===F.inputTransforms&&(F.inputTransforms={}),ae(F.inputTransforms,C.inputTransforms)),ma(C)&&C.data.animation){const ot=t.data;ot.animation=(ot.animation||[]).concat(C.data.animation)}}const S=C.features;if(S)for(let F=0;F<S.length;F++){const G=S[F];G&&G.ngInherit&&G(t),G===$n&&(l=!1)}}r=Object.getPrototypeOf(r)}!function di(t){let r=0,l=null;for(let g=t.length-1;g>=0;g--){const C=t[g];C.hostVars=r+=C.hostVars,C.hostAttrs=kr(C.hostAttrs,l=kr(l,C.hostAttrs))}}(g)}function li(t){return t===vo?{}:t===Di?[]:t}function fi(t,r){const l=t.viewQuery;t.viewQuery=l?(g,C)=>{r(g,C),l(g,C)}:r}function Pi(t,r){const l=t.contentQueries;t.contentQueries=l?(g,C,S)=>{r(g,C,S),l(g,C,S)}:r}function ii(t,r){const l=t.hostBindings;t.hostBindings=l?(g,C)=>{r(g,C),l(g,C)}:r}function Bo(t){return r=>{r.findHostDirectiveDefs=Ti,r.hostDirectives=(Array.isArray(t)?t:t()).map(l=>"function"==typeof l?{directive:ke(l),inputs:vo,outputs:vo}:{directive:ke(l.directive),inputs:co(l.inputs),outputs:co(l.outputs)})}}function Ti(t,r,l){if(null!==t.hostDirectives)for(const g of t.hostDirectives){const C=Xo(g.directive);Uo(C.declaredInputs,g.inputs),Ti(C,r,l),l.set(C,g),r.push(C)}}function co(t){if(void 0===t||0===t.length)return vo;const r={};for(let l=0;l<t.length;l+=2)r[t[l]]=t[l+1];return r}function Uo(t,r){for(const l in r)r.hasOwnProperty(l)&&(t[r[l]]=t[l])}function Co(t){const r=t.inputConfig,l={};for(const g in r)if(r.hasOwnProperty(g)){const C=r[g];Array.isArray(C)&&C[2]&&(l[g]=C[2])}t.inputTransforms=l}function Fo(t){return!!hs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function hs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ar(t,r,l){return t[r]=l}function Fr(t,r,l){return!Object.is(t[r],l)&&(t[r]=l,!0)}function Rs(t,r,l,g){const C=Fr(t,r,l);return Fr(t,r+1,g)||C}function es(t,r,l,g,C){const S=Rs(t,r,l,g);return Fr(t,r+2,C)||S}function ha(t,r,l,g){const C=_i();return Fr(C,Vi(),r)&&(vr(),Cl(O(),C,t,r,l,g)),ha}function Pr(t,r,l,g){return Fr(t,Vi(),l)?r+pt(l)+g:pr}function Vs(t,r,l,g,C,S){const G=Rs(t,la(),l,C);return $(2),G?r+pt(l)+g+pt(C)+S:pr}function al(t,r,l,g,C,S,F,G,X,Ae){const Yt=function ps(t,r,l,g,C,S){const F=Rs(t,r,l,g);return Rs(t,r+2,C,S)||F}(t,la(),l,C,F,X);return $(4),Yt?r+pt(l)+g+pt(C)+S+pt(F)+G+pt(X)+Ae:pr}function Wa(t,r,l,g,C,S){const F=_i(),G=Pr(F,r,l,g);return G!==pr&&Cl(O(),F,t,G,C,S),Wa}function Y1(t,r,l,g,C,S,F,G){const X=_i(),Ae=vr(),ot=t+Oo,Yt=Ae.firstCreatePass?function xC(t,r,l,g,C,S,F,G,X){const Ae=r.consts,ot=Zg(r,t,4,F||null,Xl(Ae,G));Cm(r,l,ot,Xl(Ae,X)),xt(r,ot);const Yt=ot.tView=ym(2,ot,g,C,S,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Ae,null);return null!==r.queries&&(r.queries.template(r,ot),Yt.queries=r.queries.embeddedTView(ot)),ot}(ot,Ae,X,r,l,g,C,S,F):Ae.data[ot];Ta(Yt,!1);const xn=q1(Ae,X,Yt,t);Re()&&Kn(Ae,X,xn,Yt),yl(xn,X),Uf(X,X[ot]=zf(xn,X,xn,Yt)),pl(Yt)&&Jm(Ae,X,Yt),null!=F&&_m(X,Yt,G)}let q1=function J1(t,r,l,g){return it(!0),r[lo].createComment("")};function X1(t){return aa(function ec(){return To.lFrame.contextLView}(),Oo+t)}function j0(t,r,l){const g=_i();return Fr(g,Vi(),r)&&od(vr(),O(),g,t,r,g[lo],l,!1),j0}function V0(t,r,l,g,C){const F=C?"class":"style";xm(t,l,r.inputs[F],F,g)}function a0(t,r,l,g){const C=_i(),S=vr(),F=Oo+t,G=C[lo],X=S.firstCreatePass?function SC(t,r,l,g,C,S){const F=r.consts,X=Zg(r,t,2,g,Xl(F,C));return Cm(r,l,X,Xl(F,S)),null!==X.attrs&&jf(X,X.attrs,!1),null!==X.mergedAttrs&&jf(X,X.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,X),X}(F,S,C,r,l,g):S.data[F],Ae=Q1(S,C,X,G,r,t);C[F]=Ae;const ot=pl(X);return Ta(X,!0),ds(G,Ae,X),32!=(32&X.flags)&&Re()&&Kn(S,C,Ae,X),0===function ld(){return To.lFrame.elementDepthCount}()&&yl(Ae,C),function cd(){To.lFrame.elementDepthCount++}(),ot&&(Jm(S,C,X),qm(S,X,C)),null!==g&&_m(C,X),a0}function l0(){let t=Br();Ql()?xr():(t=t.parent,Ta(t,!1));const r=t;(function Au(t){return To.skipHydrationRootTNode===t})(r)&&function Wi(){To.skipHydrationRootTNode=null}(),function Hh(){To.lFrame.elementDepthCount--}();const l=vr();return l.firstCreatePass&&(xt(l,t),Wl(t)&&l.queries.elementEnd(t)),null!=r.classesWithoutHost&&function yi(t){return 0!=(8&t.flags)}(r)&&V0(l,r,_i(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function kn(t){return 0!=(16&t.flags)}(r)&&V0(l,r,_i(),r.stylesWithoutHost,!1),l0}function G0(t,r,l,g){return a0(t,r,l,g),l0(),G0}let Q1=(t,r,l,g,C,S)=>(it(!0),yh(g,C,function ue(){return To.lFrame.currentNamespace}()));function c0(t,r,l){const g=_i(),C=vr(),S=t+Oo,F=C.firstCreatePass?function IC(t,r,l,g,C){const S=r.consts,F=Xl(S,g),G=Zg(r,t,8,"ng-container",F);return null!==F&&jf(G,F,!0),Cm(r,l,G,Xl(S,C)),null!==r.queries&&r.queries.elementStart(r,G),G}(S,C,g,r,l):C.data[S];Ta(F,!0);const G=ey(C,g,F,t);return g[S]=G,Re()&&Kn(C,g,G,F),yl(G,g),pl(F)&&(Jm(C,g,F),qm(C,F,g)),null!=l&&_m(g,F),c0}function d0(){let t=Br();const r=vr();return Ql()?xr():(t=t.parent,Ta(t,!1)),r.firstCreatePass&&(xt(r,t),Wl(t)&&r.queries.elementEnd(t)),d0}function $0(t,r,l){return c0(t,r,l),d0(),$0}let ey=(t,r,l,g)=>(it(!0),np(r[lo],""));function ty(){return _i()}function Z0(t){return!!t&&"function"==typeof t.then}function ny(t){return!!t&&"function"==typeof t.subscribe}function W0(t,r,l,g){const C=_i(),S=vr(),F=Br();return function oy(t,r,l,g,C,S,F){const G=pl(g),Ae=t.firstCreatePass&&l_(t),ot=r[Vr],Yt=a_(r);let xn=!0;if(3&g.type||F){const Bi=Js(g,r),io=F?F(Bi):Bi,ko=Yt.length,Si=F?jr=>F(mi(jr[g.index])):g.index;let cr=null;if(!F&&G&&(cr=function RC(t,r,l,g){const C=t.cleanup;if(null!=C)for(let S=0;S<C.length-1;S+=2){const F=C[S];if(F===l&&C[S+1]===g){const G=r[kl],X=C[S+2];return G.length>X?G[X]:null}"string"==typeof F&&(S+=2)}return null}(t,r,C,g.index)),null!==cr)(cr.__ngLastListenerFn__||cr).__ngNextListenerFn__=S,cr.__ngLastListenerFn__=S,xn=!1;else{S=sy(g,r,ot,S,!1);const jr=l.listen(io,C,S);Yt.push(S,jr),Ae&&Ae.push(C,Si,ko,ko+1)}}else S=sy(g,r,ot,S,!1);const Nn=g.outputs;let ui;if(xn&&null!==Nn&&(ui=Nn[C])){const Bi=ui.length;if(Bi)for(let io=0;io<Bi;io+=2){const Zs=r[ui[io]][ui[io+1]].subscribe(S),eu=Yt.length;Yt.push(S,Zs),Ae&&Ae.push(C,g.index,eu,-(eu+1))}}}(S,C,C[lo],F,t,r,g),W0}function ry(t,r,l,g){try{return yr(6,r,l),!1!==l(g)}catch(C){return Mm(t,C),!1}finally{yr(7,r,l)}}function sy(t,r,l,g,C){return function S(F){if(F===Function)return g;kf(t.componentOffset>-1?zs(t.index,r):r);let X=ry(r,l,g,F),Ae=S.__ngNextListenerFn__;for(;Ae;)X=ry(r,l,Ae,F)&&X,Ae=Ae.__ngNextListenerFn__;return C&&!1===X&&F.preventDefault(),X}}function ay(t=1){return function f(t){return(To.lFrame.contextLView=function o(t,r){for(;t>0;)r=r[ga],t--;return r}(t,To.lFrame.contextLView))[Vr]}(t)}function LC(t,r){let l=null;const g=function sn(t){const r=t.attrs;if(null!=r){const l=r.indexOf(5);if(!(1&l))return r[l+1]}return null}(t);for(let C=0;C<r.length;C++){const S=r[C];if("*"!==S){if(null===g?Tt(t,S,!0):si(g,S))return C}else l=C}return l}function ly(t){const r=_i()[Sr][ts];if(!r.projection){const g=r.projection=ah(t?t.length:1,null),C=g.slice();let S=r.child;for(;null!==S;){const F=t?LC(S,t):0;null!==F&&(C[F]?C[F].projectionNext=S:g[F]=S,C[F]=S),S=S.next}}}function cy(t,r=0,l){const g=_i(),C=vr(),S=Zg(C,Oo+t,16,null,l||null);null===S.projection&&(S.projection=r),xr(),(!g[Fs]||Rc())&&32!=(32&S.flags)&&function Or(t,r,l){Ms(r[lo],0,r,l,op(t,l,r),De(l.parent||r[ts],l,r))}(C,g,S)}function K0(t,r,l){return u0(t,"",r,"",l),K0}function u0(t,r,l,g,C){const S=_i(),F=Pr(S,r,l,g);return F!==pr&&od(vr(),O(),S,t,F,S[lo],C,!1),u0}function h0(t,r){return t<<17|r<<2}function Jg(t){return t>>17&32767}function Y0(t){return 2|t}function Gf(t){return(131068&t)>>2}function q0(t,r){return-131069&t|r<<2}function J0(t){return 1|t}function yy(t,r,l,g,C){const S=t[l+1],F=null===r;let G=g?Jg(S):Gf(S),X=!1;for(;0!==G&&(!1===X||F);){const ot=t[G+1];HC(t[G],r)&&(X=!0,t[G+1]=g?J0(ot):Y0(ot)),G=g?Jg(ot):Gf(ot)}X&&(t[l+1]=g?Y0(S):J0(S))}function HC(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&os(t,r)>=0}const pc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vy(t){return t.substring(pc.key,pc.keyEnd)}function jC(t){return t.substring(pc.value,pc.valueEnd)}function by(t,r){const l=pc.textEnd;return l===r?-1:(r=pc.keyEnd=function $C(t,r,l){for(;r<l&&t.charCodeAt(r)>32;)r++;return r}(t,pc.key=r,l),Pm(t,r,l))}function Cy(t,r){const l=pc.textEnd;let g=pc.key=Pm(t,r,l);return l===g?-1:(g=pc.keyEnd=function ZC(t,r,l){let g;for(;r<l&&(45===(g=t.charCodeAt(r))||95===g||(-33&g)>=65&&(-33&g)<=90||g>=48&&g<=57);)r++;return r}(t,g,l),g=My(t,g,l),g=pc.value=Pm(t,g,l),g=pc.valueEnd=function WC(t,r,l){let g=-1,C=-1,S=-1,F=r,G=F;for(;F<l;){const X=t.charCodeAt(F++);if(59===X)return G;34===X||39===X?G=F=xy(t,X,F,l):r===F-4&&85===S&&82===C&&76===g&&40===X?G=F=xy(t,41,F,l):X>32&&(G=F),S=C,C=g,g=-33&X}return G}(t,g,l),My(t,g,l))}function wy(t){pc.key=0,pc.keyEnd=0,pc.value=0,pc.valueEnd=0,pc.textEnd=t.length}function Pm(t,r,l){for(;r<l&&t.charCodeAt(r)<=32;)r++;return r}function My(t,r,l,g){return(r=Pm(t,r,l))<l&&r++,r}function xy(t,r,l,g){let C=-1,S=l;for(;S<g;){const F=t.charCodeAt(S++);if(F==r&&92!==C)return S;C=92==F&&92===C?0:F}throw new Error}function X0(t,r,l){return zh(t,r,l,!1),X0}function Q0(t,r){return zh(t,r,null,!0),Q0}function Bh(t){Uh(Sy,KC,t,!1)}function KC(t,r){for(let l=function GC(t){return wy(t),Cy(t,Pm(t,0,pc.textEnd))}(r);l>=0;l=Cy(r,l))Sy(t,vy(r),jC(r))}function Oy(t){Uh(ew,Rp,t,!0)}function Rp(t,r){for(let l=function VC(t){return wy(t),by(t,Pm(t,0,pc.textEnd))}(r);l>=0;l=by(r,l))Pc(t,vy(r),!0)}function zh(t,r,l,g){const C=_i(),S=vr(),F=$(2);S.firstUpdatePass&&Ty(S,t,F,g),r!==pr&&Fr(C,F,r)&&Dy(S,S.data[u()],C,C[lo],t,C[F+1]=function nw(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=be(zc(t)))),t}(r,l),g,F)}function Uh(t,r,l,g){const C=vr(),S=$(2);C.firstUpdatePass&&Ty(C,null,S,g);const F=_i();if(l!==pr&&Fr(F,S,l)){const G=C.data[u()];if(Iy(G,g)&&!Py(C,S)){let X=g?G.classesWithoutHost:G.stylesWithoutHost;null!==X&&(l=re(X,l||"")),V0(C,G,F,l,g)}else!function tw(t,r,l,g,C,S,F,G){C===pr&&(C=Di);let X=0,Ae=0,ot=0<C.length?C[0]:null,Yt=0<S.length?S[0]:null;for(;null!==ot||null!==Yt;){const xn=X<C.length?C[X+1]:void 0,Nn=Ae<S.length?S[Ae+1]:void 0;let Bi,ui=null;ot===Yt?(X+=2,Ae+=2,xn!==Nn&&(ui=Yt,Bi=Nn)):null===Yt||null!==ot&&ot<Yt?(X+=2,ui=ot):(Ae+=2,ui=Yt,Bi=Nn),null!==ui&&Dy(t,r,l,g,ui,Bi,F,G),ot=X<C.length?C[X]:null,Yt=Ae<S.length?S[Ae]:null}}(C,G,F,F[lo],F[S+1],F[S+1]=function QC(t,r,l){if(null==l||""===l)return Di;const g=[],C=zc(l);if(Array.isArray(C))for(let S=0;S<C.length;S++)t(g,C[S],!0);else if("object"==typeof C)for(const S in C)C.hasOwnProperty(S)&&t(g,S,C[S]);else"string"==typeof C&&r(g,C);return g}(t,r,l),g,S)}}function Py(t,r){return r>=t.expandoStartIndex}function Ty(t,r,l,g){const C=t.data;if(null===C[l+1]){const S=C[u()],F=Py(t,l);Iy(S,g)&&null===r&&!F&&(r=!1),r=function YC(t,r,l,g){const C=function Xt(t){const r=To.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let S=g?r.residualClasses:r.residualStyles;if(null===C)0===(g?r.classBindings:r.styleBindings)&&(l=v_(l=e1(null,t,r,l,g),r.attrs,g),S=null);else{const F=r.directiveStylingLast;if(-1===F||t[F]!==C)if(l=e1(C,t,r,l,g),null===S){let X=function qC(t,r,l){const g=l?r.classBindings:r.styleBindings;if(0!==Gf(g))return t[Jg(g)]}(t,r,g);void 0!==X&&Array.isArray(X)&&(X=e1(null,t,r,X[1],g),X=v_(X,r.attrs,g),function JC(t,r,l,g){t[Jg(l?r.classBindings:r.styleBindings)]=g}(t,r,g,X))}else S=function XC(t,r,l){let g;const C=r.directiveEnd;for(let S=1+r.directiveStylingLast;S<C;S++)g=v_(g,t[S].hostAttrs,l);return v_(g,r.attrs,l)}(t,r,g)}return void 0!==S&&(g?r.residualClasses=S:r.residualStyles=S),l}(C,S,r,g),function zC(t,r,l,g,C,S){let F=S?r.classBindings:r.styleBindings,G=Jg(F),X=Gf(F);t[g]=l;let ot,Ae=!1;if(Array.isArray(l)?(ot=l[1],(null===ot||os(l,ot)>0)&&(Ae=!0)):ot=l,C)if(0!==X){const xn=Jg(t[G+1]);t[g+1]=h0(xn,G),0!==xn&&(t[xn+1]=q0(t[xn+1],g)),t[G+1]=function FC(t,r){return 131071&t|r<<17}(t[G+1],g)}else t[g+1]=h0(G,0),0!==G&&(t[G+1]=q0(t[G+1],g)),G=g;else t[g+1]=h0(X,0),0===G?G=g:t[X+1]=q0(t[X+1],g),X=g;Ae&&(t[g+1]=Y0(t[g+1])),yy(t,ot,g,!0),yy(t,ot,g,!1),function UC(t,r,l,g,C){const S=C?t.residualClasses:t.residualStyles;null!=S&&"string"==typeof r&&os(S,r)>=0&&(l[g+1]=J0(l[g+1]))}(r,ot,t,g,S),F=h0(G,X),S?r.classBindings=F:r.styleBindings=F}(C,S,r,l,F,g)}}function e1(t,r,l,g,C){let S=null;const F=l.directiveEnd;let G=l.directiveStylingLast;for(-1===G?G=l.directiveStart:G++;G<F&&(S=r[G],g=v_(g,S.hostAttrs,C),S!==t);)G++;return null!==t&&(l.directiveStylingLast=G),g}function v_(t,r,l){const g=l?1:2;let C=-1;if(null!==r)for(let S=0;S<r.length;S++){const F=r[S];"number"==typeof F?C=F:C===g&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Pc(t,F,!!l||r[++S]))}return void 0===t?null:t}function Sy(t,r,l){Pc(t,r,zc(l))}function ew(t,r,l){const g=String(r);""!==g&&!g.includes(" ")&&Pc(t,g,l)}function Dy(t,r,l,g,C,S,F,G){if(!(3&r.type))return;const X=t.data,Ae=X[G+1],ot=function BC(t){return 1==(1&t)}(Ae)?Ey(X,r,l,C,Gf(Ae),F):void 0;p0(ot)||(p0(S)||function NC(t){return 2==(2&t)}(Ae)&&(S=Ey(X,null,l,C,G,F)),function lr(t,r,l,g,C){if(r)C?t.addClass(l,g):t.removeClass(l,g);else{let S=-1===g.indexOf("-")?void 0:Hu.DashCase;null==C?t.removeStyle(l,g,S):("string"==typeof C&&C.endsWith("!important")&&(C=C.slice(0,-10),S|=Hu.Important),t.setStyle(l,g,C,S))}}(g,F,Jl(u(),l),C,S))}function Ey(t,r,l,g,C,S){const F=null===r;let G;for(;C>0;){const X=t[C],Ae=Array.isArray(X),ot=Ae?X[1]:X,Yt=null===ot;let xn=l[C+1];xn===pr&&(xn=Yt?Di:void 0);let Nn=Yt?_g(xn,g):ot===g?xn:void 0;if(Ae&&!p0(Nn)&&(Nn=_g(X,g)),p0(Nn)&&(G=Nn,F))return G;const ui=t[C+1];C=F?Jg(ui):Gf(ui)}if(null!==r){let X=S?r.residualClasses:r.residualStyles;null!=X&&(G=_g(X,g))}return G}function p0(t){return void 0!==t}function Iy(t,r){return 0!=(t.flags&(r?8:16))}function Ay(t,r=""){const l=_i(),g=vr(),C=t+Oo,S=g.firstCreatePass?Zg(g,C,1,r,null):g.data[C],F=ky(g,l,S,r,t);l[C]=F,Re()&&Kn(g,l,F,S),Ta(S,!1)}let ky=(t,r,l,g,C)=>(it(!0),tp(r[lo],g));function t1(t){return g0("",t,""),t1}function g0(t,r,l){const g=_i(),C=Pr(g,t,r,l);return C!==pr&&th(g,u(),C),g0}function n1(t,r,l,g,C){const S=_i(),F=Vs(S,t,r,l,g,C);return F!==pr&&th(S,u(),F),n1}function i1(t,r,l,g,C,S,F){const G=_i(),X=function Yr(t,r,l,g,C,S,F,G){const Ae=es(t,la(),l,C,F);return $(3),Ae?r+pt(l)+g+pt(C)+S+pt(F)+G:pr}(G,t,r,l,g,C,S,F);return X!==pr&&th(G,u(),X),i1}function o1(t,r,l,g,C,S,F,G,X){const Ae=_i(),ot=al(Ae,t,r,l,g,C,S,F,G,X);return ot!==pr&&th(Ae,u(),ot),o1}function zy(t,r,l,g,C){Uh(Pc,Rp,Vs(_i(),t,r,l,g,C),!0)}function r1(t,r,l){const g=_i();return Fr(g,Vi(),r)&&od(vr(),O(),g,t,r,g[lo],l,!0),r1}const $f=void 0;var Mw=["en",[["a","p"],["AM","PM"],$f],[["AM","PM"],$f,$f],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$f,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$f,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$f,"{1} 'at' {0}",$f],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ww(t){const l=Math.floor(Math.abs(t)),g=t.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===g?1:5}];let Tm={};function s1(t){const r=function xw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let l=Jy(r);if(l)return l;const g=r.split("-")[0];if(l=Jy(g),l)return l;if("en"===g)return Mw;throw new pe(701,!1)}function qy(t){return s1(t)[Sm.PluralCase]}function Jy(t){return t in Tm||(Tm[t]=Fi.ng&&Fi.ng.common&&Fi.ng.common.locales&&Fi.ng.common.locales[t]),Tm[t]}var Sm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Sm||{});const Ow=["zero","one","two","few","many"],Dm="en-US",f0={marker:"element"},m0={marker:"ICU"};var Xd=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(Xd||{});let Xy=Dm;function Qy(t){(function Zt(t,r){null==t&&ve(r,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(Xy=t.toLowerCase().replace(/_/g,"-"))}function ev(t,r,l){const g=r.insertBeforeIndex,C=Array.isArray(g)?g[0]:g;return null===C?Ke(t,0,l):mi(l[C])}function tv(t,r,l,g,C){const S=r.insertBeforeIndex;if(Array.isArray(S)){let F=g,G=null;if(3&r.type||(G=F,F=C),null!==F&&-1===r.componentOffset)for(let X=1;X<S.length;X++)td(t,F,l[S[X]],G,!1)}}function nv(t,r){if(t.push(r),t.length>1)for(let l=t.length-2;l>=0;l--){const g=t[l];iv(g)||Dw(g,r)&&null===Ew(g)&&Iw(g,r.index)}}function iv(t){return!(64&t.type)}function Dw(t,r){return iv(r)||t.index>r.index}function Ew(t){const r=t.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function Iw(t,r){const l=t.insertBeforeIndex;Array.isArray(l)?l[0]=r:(Qn(ev,tv),t.insertBeforeIndex=r)}function b_(t,r){const l=t.data[r];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function Rw(t,r,l){const g=Nf(t,l,64,null,null);return nv(r,g),g}function _0(t,r){const l=r[t.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function ov(t){return t>>>17}function rv(t){return(131070&t)>>>1}let C_=0,w_=0;function av(t,r,l,g){const C=l[lo];let F,S=null;for(let G=0;G<r.length;G++){const X=r[G];if("string"==typeof X){const Ae=r[++G];null===l[Ae]&&(l[Ae]=tp(C,X))}else if("number"==typeof X)switch(1&X){case 0:const Ae=ov(X);let ot,Yt;if(null===S&&(S=Ae,F=E(C,g)),Ae===S?(ot=g,Yt=F):(ot=null,Yt=mi(l[Ae])),null!==Yt){const Bi=rv(X);td(C,Yt,l[Bi],ot,!1);const ko=b_(t,Bi);if(null!==ko&&"object"==typeof ko){const Si=_0(ko,l);null!==Si&&av(t,ko.create[Si],l,l[ko.anchorIdx])}}break;case 1:const Nn=r[++G],ui=r[++G];Nh(C,Jl(X>>>1,l),null,null,Nn,ui,null)}else switch(X){case m0:const Ae=r[++G],ot=r[++G];null===l[ot]&&yl(l[ot]=np(C,Ae),l);break;case f0:const Yt=r[++G],xn=r[++G];null===l[xn]&&yl(l[xn]=yh(C,Yt,null),l)}}}function lv(t,r,l,g,C){for(let S=0;S<l.length;S++){const F=l[S],G=l[++S];if(F&C){let X="";for(let Ae=S+1;Ae<=S+G;Ae++){const ot=l[Ae];if("string"==typeof ot)X+=ot;else if("number"==typeof ot)if(ot<0)X+=pt(r[g-ot]);else{const Yt=ot>>>2;switch(3&ot){case 1:const xn=l[++Ae],Nn=l[++Ae],ui=t.data[Yt];"string"==typeof ui?Nh(r[lo],r[Yt],null,ui,xn,X,Nn):od(t,ui,r,xn,X,r[lo],Nn,!1);break;case 0:const Bi=r[Yt];null!==Bi&&ju(r[lo],Bi,X);break;case 2:zw(t,b_(t,Yt),r,X);break;case 3:cv(t,b_(t,Yt),g,r)}}}}else{const X=l[S+1];if(X>0&&3==(3&X)){const ot=b_(t,X>>>2);r[ot.currentCaseLViewIndex]<0&&cv(t,ot,g,r)}}S+=G}}function cv(t,r,l,g){let C=g[r.currentCaseLViewIndex];if(null!==C){let S=C_;C<0&&(C=g[r.currentCaseLViewIndex]=~C,S=-1),lv(t,g,r.update[C],l,S)}}function zw(t,r,l,g){const C=function Uw(t,r){let l=t.cases.indexOf(r);if(-1===l)switch(t.type){case 1:{const g=function Pw(t,r){const l=qy(r)(parseInt(t,10)),g=Ow[l];return void 0!==g?g:"other"}(r,function Sw(){return Xy}());l=t.cases.indexOf(g),-1===l&&"other"!==g&&(l=t.cases.indexOf("other"));break}case 0:l=t.cases.indexOf("other")}return-1===l?null:l}(r,g);if(_0(r,l)!==C&&(dv(t,r,l),l[r.currentCaseLViewIndex]=null===C?null:~C,null!==C)){const F=l[r.anchorIdx];F&&av(t,r.create[C],l,F)}}function dv(t,r,l){let g=_0(r,l);if(null!==g){const C=r.remove[g];for(let S=0;S<C.length;S++){const F=C[S];if(F>0){const G=Jl(F,l);null!==G&&No(l[lo],G)}else dv(t,b_(t,~F),l)}}}function Hw(){const t=[];let l,g,r=-1;function S(G,X){r=0;const Ae=_0(G,X);g=null!==Ae?G.remove[Ae]:Di}function F(){if(r<g.length){const G=g[r++];return G>0?l[G]:(t.push(r,g),S(l[Ii].data[~G],l),F())}return 0===t.length?null:(g=t.pop(),r=t.pop(),F())}return function C(G,X){for(l=X;t.length;)t.pop();return S(G.value,X),F}}const y0=/\ufffd(\d+):?\d*\ufffd/gi,Vw=/\ufffd(\d+)\ufffd/,hv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,M_="\ufffd",Gw=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,$w=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Zw=/\uE500/g;function pv(t,r,l,g,C,S,F){const G=Ff(t,g,1,null);let X=G<<Xd.SHIFT,Ae=Lc();r===Ae&&(Ae=null),null===Ae&&(X|=Xd.APPEND_EAGERLY),F&&(X|=Xd.COMMENT,function Yp(t){void 0===wd&&(wd=t())}(Hw)),C.push(X,null===S?"":S);const ot=Nf(t,G,F?32:1,null===S?"":S,null);nv(l,ot);const Yt=ot.index;return Ta(ot,!1),null!==Ae&&r!==Ae&&function kw(t,r){let l=t.insertBeforeIndex;null===l?(Qn(ev,tv),l=t.insertBeforeIndex=[null,r]):(function Nt(t,r,l){t!=r&&ve(l,t,r,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(r))}(Ae,Yt),ot}function Yw(t,r,l,g,C,S,F){const G=F.match(y0),X=pv(t,r,l,S,g,G?null:F,!1);G&&x_(C,F,X.index,null,0,null)}function x_(t,r,l,g,C,S){const F=t.length,G=F+1;t.push(null,null);const X=F+2,Ae=r.split(y0);let ot=0;for(let Yt=0;Yt<Ae.length;Yt++){const xn=Ae[Yt];if(1&Yt){const Nn=C+parseInt(xn,10);t.push(-1-Nn),ot|=gv(Nn)}else""!==xn&&t.push(xn)}return t.push(l<<2|(g?1:0)),g&&t.push(g,S),t[F]=ot,t[G]=t.length-X,ot}function gv(t){return 1<<Math.min(t,31)}function fv(t){let r,S,l="",g=0,C=!1;for(;null!==(r=Gw.exec(t));)C?r[0]===`${M_}/*${S}${M_}`&&(g=r.index,C=!1):(l+=t.substring(g,r.index+r[0].length),S=r[1],C=!0);return l+=t.slice(g),l}function mv(t,r,l,g,C,S){let F=0;const G={type:C.type,currentCaseLViewIndex:Ff(t,r,1,null),anchorIdx:S,cases:[],create:[],remove:[],update:[]};(function iM(t,r,l){t.push(gv(r.mainBinding),2,-1-r.mainBinding,l<<2|2)})(l,C,S),function Aw(t,r,l){const g=t.data[r];null===g?t.data[r]=l:g.value=l}(t,S,G);const X=C.values;for(let Ae=0;Ae<X.length;Ae++){const ot=X[Ae],Yt=[];for(let xn=0;xn<ot.length;xn++){const Nn=ot[xn];if("string"!=typeof Nn){const ui=Yt.push(Nn)-1;ot[xn]=`\x3c!--\ufffd${ui}\ufffd--\x3e`}}F=tM(t,G,r,l,g,C.cases[Ae],ot.join(""),Yt)|F}F&&function oM(t,r,l){t.push(r,1,l<<2|3)}(l,F,S)}function eM(t){const r=[],l=[];let g=1,C=0;const S=a1(t=t.replace(hv,function(F,G,X){return g="select"===X?0:1,C=parseInt(G.slice(1),10),""}));for(let F=0;F<S.length;){let G=S[F++].trim();1===g&&(G=G.replace(/\s*(?:=)?(\w+)\s*/,"$1")),G.length&&r.push(G);const X=a1(S[F++]);r.length>l.length&&l.push(X)}return{type:g,mainBinding:C,cases:r,values:l}}function a1(t){if(!t)return[];let r=0;const l=[],g=[],C=/[{}]/g;let S;for(C.lastIndex=0;S=C.exec(t);){const G=S.index;if("}"==S[0]){if(l.pop(),0==l.length){const X=t.substring(r,G);hv.test(X)?g.push(eM(X)):g.push(X),r=G+1}}else{if(0==l.length){const X=t.substring(r,G);g.push(X),r=G+1}l.push("{")}}const F=t.substring(r);return g.push(F),g}function tM(t,r,l,g,C,S,F,G){const X=[],Ae=[],ot=[];r.cases.push(S),r.create.push(X),r.remove.push(Ae),r.update.push(ot);const xn=lp(xd()).getInertBodyElement(F),Nn=hf(xn)||xn;return Nn?_v(t,r,l,g,X,Ae,ot,Nn,C,G,0):0}function _v(t,r,l,g,C,S,F,G,X,Ae,ot){let Yt=0,xn=G.firstChild;for(;xn;){const Nn=Ff(t,l,1,null);switch(xn.nodeType){case Node.ELEMENT_NODE:const ui=xn,Bi=ui.tagName.toLowerCase();if(cf.hasOwnProperty(Bi)){l1(C,f0,Bi,X,Nn),t.data[Nn]=Bi;const cr=ui.attributes;for(let jr=0;jr<cr.length;jr++){const Zs=cr.item(jr),eu=Zs.name.toLowerCase();Zs.value.match(y0)?Jf.hasOwnProperty(eu)&&x_(F,Zs.value,Nn,Zs.name,0,df[eu]?Mh:null):rM(C,Nn,Zs)}Yt=_v(t,r,l,g,C,S,F,xn,Nn,Ae,ot+1)|Yt,yv(S,Nn,ot)}break;case Node.TEXT_NODE:const io=xn.textContent||"",ko=io.match(y0);l1(C,null,ko?"":io,X,Nn),yv(S,Nn,ot),ko&&(Yt=x_(F,io,Nn,null,0,null)|Yt);break;case Node.COMMENT_NODE:const Si=Vw.exec(xn.textContent||"");if(Si){const jr=Ae[parseInt(Si[1],10)];l1(C,m0,"",X,Nn),mv(t,l,g,X,jr,Nn),nM(S,Nn,ot)}}xn=xn.nextSibling}return Yt}function yv(t,r,l){0===l&&t.push(r)}function nM(t,r,l){0===l&&(t.push(~r),t.push(r))}function l1(t,r,l,g,C){null!==r&&t.push(r),t.push(l,C,function Lw(t,r,l){return t|r<<17|l<<1}(0,g,C))}function rM(t,r,l){t.push(r<<1|1,l.name,l.value)}function bv(t,r,l=-1){const g=vr(),C=_i(),S=Oo+t,F=Xl(g.consts,r),G=Lc();g.firstCreatePass&&function Kw(t,r,l,g,C,S){const F=Lc(),G=[],X=[],Ae=[[]];C=function Qw(t,r){if(function Xw(t){return-1===t}(r))return fv(t);{const l=t.indexOf(`:${r}${M_}`)+2+r.toString().length,g=t.search(new RegExp(`${M_}\\/\\*\\d+:${r}${M_}`));return fv(t.substring(l,g))}}(C,S);const ot=function Ww(t){return t.replace(Zw," ")}(C).split($w);for(let Yt=0;Yt<ot.length;Yt++){let xn=ot[Yt];if(1&Yt){const Nn=47===xn.charCodeAt(0),Bi=(xn.charCodeAt(Nn?1:0),Oo+Number.parseInt(xn.substring(Nn?2:1)));if(Nn)Ae.shift(),Ta(Lc(),!1);else{const io=Rw(t,Ae[0],Bi);Ae.unshift([]),Ta(io,!0)}}else{const Nn=a1(xn);for(let ui=0;ui<Nn.length;ui++){let Bi=Nn[ui];if(1&ui){const io=Bi;if("object"!=typeof io)throw new Error(`Unable to parse ICU expression in "${C}" message.`);mv(t,l,X,r,io,pv(t,F,Ae[0],l,G,"",!0).index)}else""!==Bi&&Yw(t,F,Ae[0],G,X,l,Bi)}}}t.data[g]={create:G,update:X}}(g,null===G?0:G.index,C,S,F,l),2===g.type?C[Sr][xo]|=32:C[xo]|=32;const X=g.data[S],ot=Jp(g,G===C[ts]?null:G,C);(function Bw(t,r,l,g){const C=t[lo];for(let S=0;S<r.length;S++){const F=r[S++],G=r[S],Ae=(F&Xd.APPEND_EAGERLY)===Xd.APPEND_EAGERLY,ot=F>>>Xd.SHIFT;let Yt=t[ot];null===Yt&&(Yt=t[ot]=(F&Xd.COMMENT)===Xd.COMMENT?C.createComment(G):tp(C,G)),Ae&&null!==l&&td(C,l,Yt,g,!1)}})(C,X.create,ot,G&&8&G.type?C[G.index]:null),j(!0)}function wv(t,r,l){bv(t,r,l),function Cv(){j(!1)}()}function c1(t){return function Nw(t){t&&(C_|=1<<Math.min(w_,31)),w_++}(Fr(_i(),Vi(),t)),c1}function Mv(t){!function Fw(t,r,l){if(w_>0){const g=t.data[l];lv(t,r,Array.isArray(g)?g:g.update,la()-w_-1,C_)}C_=0,w_=0}(vr(),_i(),t+Oo)}function d1(t,r,l,g,C){if(t=ke(t),Array.isArray(t))for(let S=0;S<t.length;S++)d1(t[S],r,l,g,C);else{const S=vr(),F=_i(),G=Br();let X=Ku(t)?t:ke(t.provide);const Ae=xf(t),ot=1048575&G.providerIndexes,Yt=G.directiveStart,xn=G.providerIndexes>>20;if(Ku(t)||!t.multi){const Nn=new fn(Ae,C,Lh),ui=h1(X,r,C?ot:ot+xn,Yt);-1===ui?($r(eo(G,F),S,X),u1(S,t,r.length),r.push(X),G.directiveStart++,G.directiveEnd++,C&&(G.providerIndexes+=1048576),l.push(Nn),F.push(Nn)):(l[ui]=Nn,F[ui]=Nn)}else{const Nn=h1(X,r,ot+xn,Yt),ui=h1(X,r,ot,ot+xn),io=ui>=0&&l[ui];if(C&&!io||!C&&!(Nn>=0&&l[Nn])){$r(eo(G,F),S,X);const ko=function bM(t,r,l,g,C){const S=new fn(t,l,Lh);return S.multi=[],S.index=r,S.componentProviders=0,xv(S,C,g&&!l),S}(C?vM:yM,l.length,C,g,Ae);!C&&io&&(l[ui].providerFactory=ko),u1(S,t,r.length,0),r.push(X),G.directiveStart++,G.directiveEnd++,C&&(G.providerIndexes+=1048576),l.push(ko),F.push(ko)}else u1(S,t,Nn>-1?Nn:ui,xv(l[C?ui:Nn],Ae,!C&&g));!C&&g&&io&&l[ui].componentProviders++}}}function u1(t,r,l,g){const C=Ku(r),S=function Lm(t){return!!t.useClass}(r);if(C||S){const X=(S?ke(r.useClass):r).prototype.ngOnDestroy;if(X){const Ae=t.destroyHooks||(t.destroyHooks=[]);if(!C&&r.multi){const ot=Ae.indexOf(l);-1===ot?Ae.push(l,[g,X]):Ae[ot+1].push(g,X)}else Ae.push(l,X)}}}function xv(t,r,l){return l&&t.componentProviders++,t.multi.push(r)-1}function h1(t,r,l,g){for(let C=l;C<g;C++)if(r[C]===t)return C;return-1}function yM(t,r,l,g){return p1(this.multi,[])}function vM(t,r,l,g){const C=this.multi;let S;if(this.providerFactory){const F=this.providerFactory.componentProviders,G=fs(l,l[Ii],this.providerFactory.index,g);S=G.slice(0,F),p1(C,S);for(let X=F;X<G.length;X++)S.push(G[X])}else S=[],p1(C,S);return S}function p1(t,r){for(let l=0;l<t.length;l++)r.push((0,t[l])());return r}function Ov(t,r=[]){return l=>{l.providersResolver=(g,C)=>function _M(t,r,l){const g=vr();if(g.firstCreatePass){const C=ma(t);d1(l,g.data,g.blueprint,C,!0),d1(r,g.data,g.blueprint,C,!1)}}(g,C?C(t):t,r)}}class Zf{}class Pv{}function CM(t,r){return new g1(t,r??null,[])}class g1 extends Zf{constructor(r,l,g){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xe(this);const C=Rr(r);this._bootstrapComponents=Ma(C.bootstrap),this._r3Injector=go(r,l,[{provide:Zf,useValue:this},{provide:Zd,useValue:this.componentFactoryResolver},...g],be(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class f1 extends Pv{constructor(r){super(),this.moduleType=r}create(r){return new g1(this.moduleType,r,[])}}class Tv extends Zf{constructor(r){super(),this.componentFactoryResolver=new xe(this),this.instance=null;const l=new vp([...r.providers,{provide:Zf,useValue:this},{provide:Zd,useValue:this.componentFactoryResolver}],r.parent||kg(),r.debugName,new Set(["environment"]));this.injector=l,r.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Sv(t,r,l=null){return new Tv({providers:t,parent:r,debugName:l,runEnvironmentInitializers:!0}).injector}let MM=(()=>{class t{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const g=Pu(0,l.type),C=g.length>0?Sv([g],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,C)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=$t({token:t,providedIn:"environment",factory:()=>new t(gn(Hc))})}return t})();function Dv(t){t.getStandaloneInjector=r=>r.get(MM).getOrCreateStandaloneInjector(t)}function Nv(t,r,l){const g=ws()+t,C=_i();return C[g]===pr?Ar(C,g,l?r.call(l):r()):function Os(t,r){return t[r]}(C,g)}function Fv(t,r,l,g){return Uv(_i(),ws(),t,r,l,g)}function Bv(t,r,l,g,C){return Hv(_i(),ws(),t,r,l,g,C)}function zv(t,r,l,g,C,S){return jv(_i(),ws(),t,r,l,g,C,S)}function O_(t,r){const l=t[r];return l===pr?void 0:l}function Uv(t,r,l,g,C,S){const F=r+l;return Fr(t,F,C)?Ar(t,F+1,S?g.call(S,C):g(C)):O_(t,F+1)}function Hv(t,r,l,g,C,S,F){const G=r+l;return Rs(t,G,C,S)?Ar(t,G+2,F?g.call(F,C,S):g(C,S)):O_(t,G+2)}function jv(t,r,l,g,C,S,F,G){const X=r+l;return es(t,X,C,S,F)?Ar(t,X+3,G?g.call(G,C,S,F):g(C,S,F)):O_(t,X+3)}function $v(t,r){const l=vr();let g;const C=t+Oo;l.firstCreatePass?(g=function BM(t,r){if(r)for(let l=r.length-1;l>=0;l--){const g=r[l];if(t===g.name)return g}}(r,l.pipeRegistry),l.data[C]=g,g.onDestroy&&(l.destroyHooks??=[]).push(C,g.onDestroy)):g=l.data[C];const S=g.factory||(g.factory=Ys(g.type)),G=qi(Lh);try{const X=vi(!1),Ae=S();return vi(X),function TC(t,r,l,g){l>=t.data.length&&(t.data[l]=null,t.blueprint[l]=null),r[l]=g}(l,_i(),C,Ae),Ae}finally{qi(G)}}function Zv(t,r,l){const g=t+Oo,C=_i(),S=aa(C,g);return P_(C,g)?Uv(C,ws(),r,S.transform,l,S):S.transform(l)}function Wv(t,r,l,g){const C=t+Oo,S=_i(),F=aa(S,C);return P_(S,C)?Hv(S,ws(),r,F.transform,l,g,F):F.transform(l,g)}function Kv(t,r,l,g,C){const S=t+Oo,F=_i(),G=aa(F,S);return P_(F,S)?jv(F,ws(),r,G.transform,l,g,C,G):G.transform(l,g,C)}function P_(t,r){return t[Ii].data[r].pure}function HM(){return this._results[Symbol.iterator]()}class _1{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new bl)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=_1.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=HM)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,l){return this._results.reduce(r,l)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,l){const g=this;g.dirty=!1;const C=function Ha(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function du(t,r,l){if(t.length!==r.length)return!1;for(let g=0;g<t.length;g++){let C=t[g],S=r[g];if(l&&(C=l(C),S=l(S)),S!==C)return!1}return!0}(g._results,C,l))&&(g._results=C,g.length=C.length,g.last=C[this.length-1],g.first=C[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function VM(t,r,l,g=!0){const C=r[Ii];if(function af(t,r,l,g){const C=ss+g,S=l.length;g>0&&(l[C-1][Ur]=r),g<S-ss?(r[Ur]=l[C],sh(l,ss+g,r)):(l.push(r),r[Ur]=null),r[_r]=l;const F=r[ul];null!==F&&l!==F&&function vu(t,r){const l=t[Oa];r[Sr]!==r[_r][_r][Sr]&&(t[Is]=!0),null===l?t[Oa]=[r]:l.push(r)}(F,r);const G=r[Ns];null!==G&&G.insertView(t),r[xo]|=128}(C,r,t,l),g){const S=Ui(l,t),F=r[lo],G=E(F,t[Ks]);null!==G&&function Sg(t,r,l,g,C,S){g[Mr]=C,g[ts]=r,sr(t,g,l,1,C,S)}(C,t[ts],F,r,G,S)}}let T_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ZM}return t})();const GM=T_,$M=class extends GM{constructor(r,l,g){super(),this._declarationLView=r,this._declarationTContainer=l,this.elementRef=g}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,l){return this.createEmbeddedViewImpl(r,l)}createEmbeddedViewImpl(r,l,g){const C=function jM(t,r,l,g){const C=r.tView,G=mm(t,C,l,4096&t[xo]?4096:16,null,r,null,null,null,g?.injector??null,g?.hydrationInfo??null);G[ul]=t[r.index];const Ae=t[Ns];return null!==Ae&&(G[Ns]=Ae.createEmbeddedView(C)),Hf(C,G,l),G}(this._declarationLView,this._declarationTContainer,r,{injector:l,hydrationInfo:g});return new q(C)}};function ZM(){return v0(Br(),_i())}function v0(t,r){return 4&t.type?new $M(r,t,Op(t,r)):null}let C0=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=XM}return t})();function XM(){return tb(Br(),_i())}const QM=C0,Qv=class extends QM{constructor(r,l,g){super(),this._lContainer=r,this._hostTNode=l,this._hostLView=g}get element(){return Op(this._hostTNode,this._hostLView)}get injector(){return new er(this._hostTNode,this._hostLView)}get parentInjector(){const r=Hr(this._hostTNode,this._hostLView);if(pi(r)){const l=gi(r,this._hostLView),g=An(r);return new er(l[Ii].data[g+8],l)}return new er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const l=eb(this._lContainer);return null!==l&&l[r]||null}get length(){return this._lContainer.length-ss}createEmbeddedView(r,l,g){let C,S;"number"==typeof g?C=g:null!=g&&(C=g.index,S=g.injector);const G=r.createEmbeddedViewImpl(l||{},S,null);return this.insertImpl(G,C,false),G}createComponent(r,l,g,C,S){const F=r&&!function ml(t){return"function"==typeof t}(r);let G;if(F)G=l;else{const Bi=l||{};G=Bi.index,g=Bi.injector,C=Bi.projectableNodes,S=Bi.environmentInjector||Bi.ngModuleRef}const X=F?r:new Rt(Ni(r)),Ae=g||this.parentInjector;if(!S&&null==X.ngModule){const io=(F?Ae:this.parentInjector).get(Hc,null);io&&(S=io)}Ni(X.componentType??{});const Nn=X.create(Ae,C,null,S);return this.insertImpl(Nn.hostView,G,false),Nn}insert(r,l){return this.insertImpl(r,l,!1)}insertImpl(r,l,g){const C=r._lView;if(function au(t){return bs(t[_r])}(C)){const X=this.indexOf(r);if(-1!==X)this.detach(X);else{const Ae=C[_r],ot=new Qv(Ae,Ae[ts],Ae[_r]);ot.detach(ot.indexOf(r))}}const F=this._adjustIndex(l),G=this._lContainer;return VM(G,C,F,!g),r.attachToViewContainerRef(),sh(y1(G),F,r),r}move(r,l){return this.insert(r,l)}indexOf(r){const l=eb(this._lContainer);return null!==l?l.indexOf(r):-1}remove(r){const l=this._adjustIndex(r,-1),g=Cu(this._lContainer,l);g&&(Np(y1(this._lContainer),l),vh(g[Ii],g))}detach(r){const l=this._adjustIndex(r,-1),g=Cu(this._lContainer,l);return g&&null!=Np(y1(this._lContainer),l)?new q(g):null}_adjustIndex(r,l=0){return r??this.length+l}};function eb(t){return t[8]}function y1(t){return t[8]||(t[8]=[])}function tb(t,r){let l;const g=r[t.index];return bs(g)?l=g:(l=zf(g,r,null,t),r[t.index]=l,Uf(r,l)),nb(l,r,t,g),new Qv(l,t,r)}let nb=function ib(t,r,l,g){if(t[Ks])return;let C;C=8&l.type?mi(g):function ex(t,r){const l=t[lo],g=l.createComment(""),C=Js(r,t);return td(l,E(l,C),g,function B(t,r){return t.nextSibling(r)}(l,C),!1),g}(r,l),t[Ks]=C};class v1{constructor(r){this.queryList=r,this.matches=null}clone(){return new v1(this.queryList)}setDirty(){this.queryList.setDirty()}}class b1{constructor(r=[]){this.queries=r}createEmbeddedView(r){const l=r.queries;if(null!==l){const g=null!==r.contentQueries?r.contentQueries[0]:l.length,C=[];for(let S=0;S<g;S++){const F=l.getByIndex(S);C.push(this.queries[F.indexInDeclarationView].clone())}return new b1(C)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let l=0;l<this.queries.length;l++)null!==hb(r,l).matches&&this.queries[l].setDirty()}}class ob{constructor(r,l,g=null){this.predicate=r,this.flags=l,this.read=g}}class C1{constructor(r=[]){this.queries=r}elementStart(r,l){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(r,l)}elementEnd(r){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(r)}embeddedTView(r){let l=null;for(let g=0;g<this.length;g++){const C=null!==l?l.length:0,S=this.getByIndex(g).embeddedTView(r,C);S&&(S.indexInDeclarationView=g,null!==l?l.push(S):l=[S])}return null!==l?new C1(l):null}template(r,l){for(let g=0;g<this.queries.length;g++)this.queries[g].template(r,l)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class w1{constructor(r,l=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(r,l){this.isApplyingToNode(l)&&this.matchTNode(r,l)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,l){this.elementStart(r,l)}embeddedTView(r,l){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,l),new w1(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let g=r.parent;for(;null!==g&&8&g.type&&g.index!==l;)g=g.parent;return l===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(r,l){const g=this.metadata.predicate;if(Array.isArray(g))for(let C=0;C<g.length;C++){const S=g[C];this.matchTNodeWithReadOption(r,l,ix(l,S)),this.matchTNodeWithReadOption(r,l,br(l,r,S,!1,!1))}else g===T_?4&l.type&&this.matchTNodeWithReadOption(r,l,-1):this.matchTNodeWithReadOption(r,l,br(l,r,g,!1,!1))}matchTNodeWithReadOption(r,l,g){if(null!==g){const C=this.metadata.read;if(null!==C)if(C===Pp||C===C0||C===T_&&4&l.type)this.addMatch(l.index,-2);else{const S=br(l,r,C,!1,!1);null!==S&&this.addMatch(l.index,S)}else this.addMatch(l.index,g)}}addMatch(r,l){null===this.matches?this.matches=[r,l]:this.matches.push(r,l)}}function ix(t,r){const l=t.localNames;if(null!==l)for(let g=0;g<l.length;g+=2)if(l[g]===r)return l[g+1];return null}function rx(t,r,l,g){return-1===l?function ox(t,r){return 11&t.type?Op(t,r):4&t.type?v0(t,r):null}(r,t):-2===l?function sx(t,r,l){return l===Pp?Op(r,t):l===T_?v0(r,t):l===C0?tb(r,t):void 0}(t,r,g):fs(t,t[Ii],l,r)}function rb(t,r,l,g){const C=r[Ns].queries[g];if(null===C.matches){const S=t.data,F=l.matches,G=[];for(let X=0;X<F.length;X+=2){const Ae=F[X];G.push(Ae<0?null:rx(r,S[Ae],F[X+1],l.metadata.read))}C.matches=G}return C.matches}function M1(t,r,l,g){const C=t.queries.getByIndex(l),S=C.matches;if(null!==S){const F=rb(t,r,C,l);for(let G=0;G<S.length;G+=2){const X=S[G];if(X>0)g.push(F[G/2]);else{const Ae=S[G+1],ot=r[-X];for(let Yt=ss;Yt<ot.length;Yt++){const xn=ot[Yt];xn[ul]===xn[_r]&&M1(xn[Ii],xn,Ae,g)}if(null!==ot[Oa]){const Yt=ot[Oa];for(let xn=0;xn<Yt.length;xn++){const Nn=Yt[xn];M1(Nn[Ii],Nn,Ae,g)}}}}}return g}function sb(t){const r=_i(),l=vr(),g=Yn();Wn(g+1);const C=hb(l,g);if(t.dirty&&function Eu(t){return 4==(4&t[xo])}(r)===(2==(2&C.metadata.flags))){if(null===C.matches)t.reset([]);else{const S=C.crossesNgTemplate?M1(l,r,g,[]):rb(l,r,C,g);t.reset(S,Gm),t.notifyOnChanges()}return!0}return!1}function ab(t,r,l){const g=vr();g.firstCreatePass&&(ub(g,new ob(t,r,l),-1),2==(2&r)&&(g.staticViewQueries=!0)),db(g,_i(),r)}function lb(t,r,l,g){const C=vr();if(C.firstCreatePass){const S=Br();ub(C,new ob(r,l,g),S.index),function lx(t,r){const l=t.contentQueries||(t.contentQueries=[]);r!==(l.length?l[l.length-1]:-1)&&l.push(t.queries.length-1,r)}(C,t),2==(2&l)&&(C.staticContentQueries=!0)}db(C,_i(),l)}function cb(){return function ax(t,r){return t[Ns].queries[r].queryList}(_i(),Yn())}function db(t,r,l){const g=new _1(4==(4&l));(function $_(t,r,l,g){const C=a_(r);C.push(l),t.firstCreatePass&&l_(t).push(g,C.length-1)})(t,r,g,g.destroy),null===r[Ns]&&(r[Ns]=new b1),r[Ns].queries.push(new v1(g))}function ub(t,r,l){null===t.queries&&(t.queries=new C1),t.queries.track(new w1(r,l))}function hb(t,r){return t.queries.getByIndex(r)}function pb(t,r){return v0(t,r)}function x1(t){return!!Rr(t)}const Eb=new xi("Application Initializer");let D1=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,g)=>{this.resolve=l,this.reject=g}),this.appInits=Jn(Eb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const C of this.appInits){const S=C();if(Z0(S))l.push(S);else if(ny(S)){const F=new Promise((G,X)=>{S.subscribe({complete:G,error:X})});l.push(F)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{g()}).catch(C=>{this.reject(C)}),0===l.length&&g(),this.initialized=!0}static#e=this.\u0275fac=function(g){return new(g||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ib=(()=>{class t{log(l){console.log(l)}warn(l){console.warn(l)}static#e=this.\u0275fac=function(g){return new(g||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const M0=new xi("LocaleId",{providedIn:"root",factory:()=>Jn(M0,Pn.Optional|Pn.SkipSelf)||function Dx(){return typeof $localize<"u"&&$localize.locale||Dm}()}),Ex=new xi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Ab=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new T.X(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(g){return new(g||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Ax{constructor(r,l){this.ngModuleFactory=r,this.componentFactories=l}}let kx=(()=>{class t{compileModuleSync(l){return new f1(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const g=this.compileModuleSync(l),S=Ma(Rr(l).declarations).reduce((F,G)=>{const X=Ni(G);return X&&F.push(new Rt(X)),F},[]);return new Ax(g,S)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static#e=this.\u0275fac=function(g){return new(g||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Nb=new xi(""),Fb=new xi("");let A1,tO=(()=>{class t{constructor(l,g,C){this._ngZone=l,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,A1||(function nO(t){A1=t}(C),C.addToWindow(g)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ea.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(l)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,g,C){let S=-1;g&&g>0&&(S=setTimeout(()=>{this._callbacks=this._callbacks.filter(F=>F.timeoutId!==S),l(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:l,timeoutId:S,updateCb:C})}whenStable(l,g,C){if(C&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,g,C),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,g,C){return[]}static#e=this.\u0275fac=function(g){return new(g||t)(gn(ea),gn(Bb),gn(Fb))};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac})}return t})(),Bb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(l,g){this._applications.set(l,g)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,g=!0){return A1?.findTestabilityInTree(this,l,g)??null}static#e=this.\u0275fac=function(g){return new(g||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Xg=null;const zb=new xi("AllowMultipleToken"),k1=new xi("PlatformDestroyListeners"),R1=new xi("appBootstrapListener");class rO{constructor(r,l){this.name=r,this.token=l}}function jb(t,r,l=[]){const g=`Platform: ${r}`,C=new xi(g);return(S=[])=>{let F=L1();if(!F||F.injector.get(zb,!1)){const G=[...l,...S,{provide:C,useValue:!0}];t?t(G):function sO(t){if(Xg&&!Xg.get(zb,!1))throw new pe(400,!1);(function Ub(){!function Du(t){Zc=t}(()=>{throw new pe(600,!1)})})(),Xg=t;const r=t.get(Gb);(function Hb(t){t.get(uc,null)?.forEach(l=>l())})(t)}(function Vb(t=[],r){return Gi.create({name:r,providers:[{provide:Cf,useValue:"platform"},{provide:k1,useValue:new Set([()=>Xg=null])},...t]})}(G,g))}return function lO(t){const r=L1();if(!r)throw new pe(401,!1);return r}()}}function L1(){return Xg?.get(Gb)??null}let Gb=(()=>{class t{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,g){const C=function cO(t="zone.js",r){return"noop"===t?new sl:"zone.js"===t?new ea(r):t}(g?.ngZone,function $b(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:g?.ngZoneEventCoalescing,runCoalescing:g?.ngZoneRunCoalescing}));return C.run(()=>{const S=function wM(t,r,l){return new g1(t,r,l)}(l.moduleType,this.injector,function qb(t){return[{provide:ea,useFactory:t},{provide:fp,multi:!0,useFactory:()=>{const r=Jn(uO,{optional:!0});return()=>r.initialize()}},{provide:Yb,useFactory:dO},{provide:id,useFactory:Il}]}(()=>C)),F=S.injector.get(js,null);return C.runOutsideAngular(()=>{const G=C.onError.subscribe({next:X=>{F.handleError(X)}});S.onDestroy(()=>{O0(this._modules,S),G.unsubscribe()})}),function Zb(t,r,l){try{const g=l();return Z0(g)?g.catch(C=>{throw r.runOutsideAngular(()=>t.handleError(C)),C}):g}catch(g){throw r.runOutsideAngular(()=>t.handleError(g)),g}}(F,C,()=>{const G=S.injector.get(D1);return G.runInitializers(),G.donePromise.then(()=>(Qy(S.injector.get(M0,Dm)||Dm),this._moduleDoBootstrap(S),S))})})}bootstrapModule(l,g=[]){const C=Wb({},g);return function iO(t,r,l){const g=new f1(l);return Promise.resolve(g)}(0,0,l).then(S=>this.bootstrapModuleFactory(S,C))}_moduleDoBootstrap(l){const g=l.injector.get(Am);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(C=>g.bootstrap(C));else{if(!l.instance.ngDoBootstrap)throw new pe(-403,!1);l.instance.ngDoBootstrap(g)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const l=this._injector.get(k1,null);l&&(l.forEach(g=>g()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(g){return new(g||t)(gn(Gi))};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Wb(t,r){return Array.isArray(r)?r.reduce(Wb,t):{...t,...r}}let Am=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Jn(Yb),this.zoneIsStable=Jn(id),this.componentTypes=[],this.components=[],this.isStable=Jn(Ab).hasPendingTasks.pipe((0,Te.w)(l=>l?(0,V.of)(!1):this.zoneIsStable),(0,le.x)(),(0,ie.B)()),this._injector=Jn(Hc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,g){const C=l instanceof hc;if(!this._injector.get(D1).done)throw!C&&qr(l),new pe(405,!1);let F;F=C?l:this._injector.get(Zd).resolveComponentFactory(l),this.componentTypes.push(F.componentType);const G=function oO(t){return t.isBoundToModule}(F)?void 0:this._injector.get(Zf),Ae=F.create(Gi.NULL,[],g||F.selector,G),ot=Ae.location.nativeElement,Yt=Ae.injector.get(Nb,null);return Yt?.registerApplication(ot),Ae.onDestroy(()=>{this.detachView(Ae.hostView),O0(this.components,Ae),Yt?.unregisterApplication(ot)}),this._loadComponent(Ae),Ae}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const g=l;this._views.push(g),g.attachToAppRef(this)}detachView(l){const g=l;O0(this._views,g),g.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const g=this._injector.get(R1,[]);g.push(...this._bootstrapListeners),g.forEach(C=>C(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>O0(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new pe(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(g){return new(g||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function O0(t,r){const l=t.indexOf(r);l>-1&&t.splice(l,1)}const Yb=new xi("",{providedIn:"root",factory:()=>Jn(js).handleError.bind(void 0)});function dO(){const t=Jn(ea),r=Jn(js);return l=>t.runOutsideAngular(()=>r.handleError(l))}let uO=(()=>{class t{constructor(){this.zone=Jn(ea),this.applicationRef=Jn(Am)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(g){return new(g||t)};static#t=this.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pO(){return!1}function gO(){}let fO=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=mO}return t})();function mO(t){return function _O(t,r,l){if(As(t)&&!l){const g=zs(t.index,r);return new q(g,g)}return 47&t.type?new q(r[Sr],r):null}(Br(),_i(),16==(16&t))}class eC{constructor(){}supports(r){return Fo(r)}create(r){return new MO(r)}}const wO=(t,r)=>r;class MO{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||wO}forEachItem(r){let l;for(l=this._itHead;null!==l;l=l._next)r(l)}forEachOperation(r){let l=this._itHead,g=this._removalsHead,C=0,S=null;for(;l||g;){const F=!g||l&&l.currentIndex<nC(g,C,S)?l:g,G=nC(F,C,S),X=F.currentIndex;if(F===g)C--,g=g._nextRemoved;else if(l=l._next,null==F.previousIndex)C++;else{S||(S=[]);const Ae=G-C,ot=X-C;if(Ae!=ot){for(let xn=0;xn<Ae;xn++){const Nn=xn<S.length?S[xn]:S[xn]=0,ui=Nn+xn;ot<=ui&&ui<Ae&&(S[xn]=Nn+1)}S[F.previousIndex]=ot-Ae}}G!==X&&r(F,G,X)}}forEachPreviousItem(r){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)r(l)}forEachAddedItem(r){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)r(l)}forEachMovedItem(r){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)r(l)}forEachRemovedItem(r){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)r(l)}forEachIdentityChange(r){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)r(l)}diff(r){if(null==r&&(r=[]),!Fo(r))throw new pe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let C,S,F,l=this._itHead,g=!1;if(Array.isArray(r)){this.length=r.length;for(let G=0;G<this.length;G++)S=r[G],F=this._trackByFn(G,S),null!==l&&Object.is(l.trackById,F)?(g&&(l=this._verifyReinsertion(l,S,F,G)),Object.is(l.item,S)||this._addIdentityChange(l,S)):(l=this._mismatch(l,S,F,G),g=!0),l=l._next}else C=0,function _s(t,r){if(Array.isArray(t))for(let l=0;l<t.length;l++)r(t[l]);else{const l=t[Symbol.iterator]();let g;for(;!(g=l.next()).done;)r(g.value)}}(r,G=>{F=this._trackByFn(C,G),null!==l&&Object.is(l.trackById,F)?(g&&(l=this._verifyReinsertion(l,G,F,C)),Object.is(l.item,G)||this._addIdentityChange(l,G)):(l=this._mismatch(l,G,F,C),g=!0),l=l._next,C++}),this.length=C;return this._truncate(l),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,l,g,C){let S;return null===r?S=this._itTail:(S=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(r.item,l)||this._addIdentityChange(r,l),this._reinsertAfter(r,S,C)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(g,C))?(Object.is(r.item,l)||this._addIdentityChange(r,l),this._moveAfter(r,S,C)):r=this._addAfter(new xO(l,g),S,C),r}_verifyReinsertion(r,l,g,C){let S=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==S?r=this._reinsertAfter(S,r._prev,C):r.currentIndex!=C&&(r.currentIndex=C,this._addToMoves(r,C)),r}_truncate(r){for(;null!==r;){const l=r._next;this._addToRemovals(this._unlink(r)),r=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,l,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const C=r._prevRemoved,S=r._nextRemoved;return null===C?this._removalsHead=S:C._nextRemoved=S,null===S?this._removalsTail=C:S._prevRemoved=C,this._insertAfter(r,l,g),this._addToMoves(r,g),r}_moveAfter(r,l,g){return this._unlink(r),this._insertAfter(r,l,g),this._addToMoves(r,g),r}_addAfter(r,l,g){return this._insertAfter(r,l,g),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,l,g){const C=null===l?this._itHead:l._next;return r._next=C,r._prev=l,null===C?this._itTail=r:C._prev=r,null===l?this._itHead=r:l._next=r,null===this._linkedRecords&&(this._linkedRecords=new tC),this._linkedRecords.put(r),r.currentIndex=g,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const l=r._prev,g=r._next;return null===l?this._itHead=g:l._next=g,null===g?this._itTail=l:g._prev=l,r}_addToMoves(r,l){return r.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tC),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,l){return r.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class xO{constructor(r,l){this.item=r,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OO{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,l){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===l||l<=g.currentIndex)&&Object.is(g.trackById,r))return g;return null}remove(r){const l=r._prevDup,g=r._nextDup;return null===l?this._head=g:l._nextDup=g,null===g?this._tail=l:g._prevDup=l,null===this._head}}class tC{constructor(){this.map=new Map}put(r){const l=r.trackById;let g=this.map.get(l);g||(g=new OO,this.map.set(l,g)),g.add(r)}get(r,l){const C=this.map.get(r);return C?C.get(r,l):null}remove(r){const l=r.trackById;return this.map.get(l).remove(r)&&this.map.delete(l),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nC(t,r,l){const g=t.previousIndex;if(null===g)return g;let C=0;return l&&g<l.length&&(C=l[g]),g+r+C}class iC{constructor(){}supports(r){return r instanceof Map||hs(r)}create(){return new PO}}class PO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let l;for(l=this._mapHead;null!==l;l=l._next)r(l)}forEachPreviousItem(r){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)r(l)}forEachChangedItem(r){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)r(l)}forEachAddedItem(r){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)r(l)}forEachRemovedItem(r){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)r(l)}diff(r){if(r){if(!(r instanceof Map||hs(r)))throw new pe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(r,(g,C)=>{if(l&&l.key===C)this._maybeAddToChanges(l,g),this._appendAfter=l,l=l._next;else{const S=this._getOrCreateRecordForKey(C,g);l=this._insertBeforeOrAppend(l,S)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let g=l;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,l){if(r){const g=r._prev;return l._next=r,l._prev=g,r._prev=l,g&&(g._next=l),r===this._mapHead&&(this._mapHead=l),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(r,l){if(this._records.has(r)){const C=this._records.get(r);this._maybeAddToChanges(C,l);const S=C._prev,F=C._next;return S&&(S._next=F),F&&(F._prev=S),C._next=null,C._prev=null,C}const g=new TO(r);return this._records.set(r,g),g.currentValue=l,this._addToAdditions(g),g}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,l){Object.is(l,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=l,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,l){r instanceof Map?r.forEach(l):Object.keys(r).forEach(g=>l(r[g],g))}}class TO{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oC(){return new U1([new eC])}let U1=(()=>{class t{static#e=this.\u0275prov=$t({token:t,providedIn:"root",factory:oC});constructor(l){this.factories=l}static create(l,g){if(null!=g){const C=g.factories.slice();l=l.concat(C)}return new t(l)}static extend(l){return{provide:t,useFactory:g=>t.create(l,g||oC()),deps:[[t,new Wh,new ch]]}}find(l){const g=this.factories.find(C=>C.supports(l));if(null!=g)return g;throw new pe(901,!1)}}return t})();function rC(){return new H1([new iC])}let H1=(()=>{class t{static#e=this.\u0275prov=$t({token:t,providedIn:"root",factory:rC});constructor(l){this.factories=l}static create(l,g){if(g){const C=g.factories.slice();l=l.concat(C)}return new t(l)}static extend(l){return{provide:t,useFactory:g=>t.create(l,g||rC()),deps:[[t,new Wh,new ch]]}}find(l){const g=this.factories.find(C=>C.supports(l));if(g)return g;throw new pe(901,!1)}}return t})();const EO=jb(null,"core",[]);let IO=(()=>{class t{constructor(l){}static#e=this.\u0275fac=function(g){return new(g||t)(gn(Am))};static#t=this.\u0275mod=Li({type:t});static#n=this.\u0275inj=Ot({})}return t})();function jO(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function GO(t,r){const l=Ni(t),g=r.elementInjector||kg();return new Rt(l).create(g,r.projectableNodes,r.hostElement,r.environmentInjector)}function $O(t){const r=Ni(t);if(!r)return null;const l=new Rt(r);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},1993:(Dt,Le,D)=>{"use strict";D.d(Le,{O4:()=>Mi,sL:()=>c});var a=D(5879),s=D(5592),oe=D(9773);function c(dn){dn||((0,a.gHi)(c),dn=(0,a.f3M)(a.ktI));const Pn=new s.y(qn=>dn.onDestroy(qn.next.bind(qn)));return qn=>qn.pipe((0,oe.R)(Pn))}class Te extends Error{constructor(Pn,qn){super(function le(dn,Pn){return`NG0${Math.abs(dn)}${Pn?": "+Pn:""}`}(Pn,qn)),this.code=Pn}}let ke=null;function we(dn){const Pn=ke;return ke=dn,Pn}function Mi(dn,Pn){const qn=!Pn?.manualCleanup;qn&&!Pn?.injector&&(0,a.gHi)(Mi);const ti=qn?Pn?.injector?.get(a.ktI)??(0,a.f3M)(a.ktI):null;let qi;return qi=(0,a.tdS)(Pn?.requireSync?{kind:0}:{kind:1,value:Pn?.initialValue}),function U(dn){const Pn=we(null);try{return dn()}finally{we(Pn)}}(()=>{const to=dn.subscribe({next:Zi=>qi.set({kind:1,value:Zi}),error:Zi=>qi.set({kind:2,error:Zi})});ti?.onDestroy(to.unsubscribe.bind(to))}),(0,a.Flj)(()=>{const to=qi();switch(to.kind){case 1:return to.value;case 2:throw to.error;case 0:throw new Te(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},95:(Dt,Le,D)=>{"use strict";D.d(Le,{Wl:()=>Ce,Fj:()=>pe,u:()=>Vr,sg:()=>Ii,u5:()=>nu,Cf:()=>Pe,JU:()=>fe,a5:()=>jn,JJ:()=>qn,JL:()=>ti,On:()=>mo,UX:()=>Dd,p4:()=>ni,nJ:()=>Ht,kI:()=>wt,_Y:()=>fr});var a=D(5879),s=D(6814),oe=D(9666),c=D(5592),T=D(7453),V=D(4829),ie=D(9940),Te=D(8251),le=D(7400),me=D(2714),be=D(7398);let re=(()=>{class Ne{constructor(ye,mt){this._renderer=ye,this._elementRef=mt,this.onChange=vn=>{},this.onTouched=()=>{}}setProperty(ye,mt){this._renderer.setProperty(this._elementRef.nativeElement,ye,mt)}registerOnTouched(ye){this.onTouched=ye}registerOnChange(ye){this.onChange=ye}setDisabledState(ye){this.setProperty("disabled",ye)}static#e=this.\u0275fac=function(mt){return new(mt||Ne)(a.Y36(a.Qsj),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:Ne})}return Ne})(),J=(()=>{class Ne extends re{static#e=this.\u0275fac=function(){let ye;return function(vn){return(ye||(ye=a.n5z(Ne)))(vn||Ne)}}();static#t=this.\u0275dir=a.lG2({type:Ne,features:[a.qOj]})}return Ne})();const fe=new a.OlP("NgValueAccessor"),ke={provide:fe,useExisting:(0,a.Gpc)(()=>Ce),multi:!0};let Ce=(()=>{class Ne extends J{writeValue(ye){this.setProperty("checked",ye)}static#e=this.\u0275fac=function(){let ye;return function(vn){return(ye||(ye=a.n5z(Ne)))(vn||Ne)}}();static#t=this.\u0275dir=a.lG2({type:Ne,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(mt,vn){1&mt&&a.NdJ("change",function(Po){return vn.onChange(Po.target.checked)})("blur",function(){return vn.onTouched()})},features:[a._Bn([ke]),a.qOj]})}return Ne})();const we={provide:fe,useExisting:(0,a.Gpc)(()=>pe),multi:!0},A=new a.OlP("CompositionEventMode");let pe=(()=>{class Ne extends re{constructor(ye,mt,vn){super(ye,mt),this._compositionMode=vn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function he(){const Ne=(0,s.q)()?(0,s.q)().getUserAgent():"";return/android (\d+)/.test(Ne.toLowerCase())}())}writeValue(ye){this.setProperty("value",ye??"")}_handleInput(ye){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ye)}_compositionStart(){this._composing=!0}_compositionEnd(ye){this._composing=!1,this._compositionMode&&this.onChange(ye)}static#e=this.\u0275fac=function(mt){return new(mt||Ne)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(A,8))};static#t=this.\u0275dir=a.lG2({type:Ne,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(mt,vn){1&mt&&a.NdJ("input",function(Po){return vn._handleInput(Po.target.value)})("blur",function(){return vn.onTouched()})("compositionstart",function(){return vn._compositionStart()})("compositionend",function(Po){return vn._compositionEnd(Po.target.value)})},features:[a._Bn([we]),a.qOj]})}return Ne})();function ge(Ne){return null==Ne||("string"==typeof Ne||Array.isArray(Ne))&&0===Ne.length}function pt(Ne){return null!=Ne&&"number"==typeof Ne.length}const Pe=new a.OlP("NgValidators"),Be=new a.OlP("NgAsyncValidators"),rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wt{static min(je){return function It(Ne){return je=>{if(ge(je.value)||ge(Ne))return null;const ye=parseFloat(je.value);return!isNaN(ye)&&ye<Ne?{min:{min:Ne,actual:je.value}}:null}}(je)}static max(je){return function Ie(Ne){return je=>{if(ge(je.value)||ge(Ne))return null;const ye=parseFloat(je.value);return!isNaN(ye)&&ye>Ne?{max:{max:Ne,actual:je.value}}:null}}(je)}static required(je){return function L(Ne){return ge(Ne.value)?{required:!0}:null}(je)}static requiredTrue(je){return function Oe(Ne){return!0===Ne.value?null:{required:!0}}(je)}static email(je){return function ut(Ne){return ge(Ne.value)||rt.test(Ne.value)?null:{email:!0}}(je)}static minLength(je){return function Nt(Ne){return je=>ge(je.value)||!pt(je.value)?null:je.value.length<Ne?{minlength:{requiredLength:Ne,actualLength:je.value.length}}:null}(je)}static maxLength(je){return function an(Ne){return je=>pt(je.value)&&je.value.length>Ne?{maxlength:{requiredLength:Ne,actualLength:je.value.length}}:null}(je)}static pattern(je){return function bt(Ne){if(!Ne)return Qe;let je,ye;return"string"==typeof Ne?(ye="","^"!==Ne.charAt(0)&&(ye+="^"),ye+=Ne,"$"!==Ne.charAt(Ne.length-1)&&(ye+="$"),je=new RegExp(ye)):(ye=Ne.toString(),je=Ne),mt=>{if(ge(mt.value))return null;const vn=mt.value;return je.test(vn)?null:{pattern:{requiredPattern:ye,actualValue:vn}}}}(je)}static nullValidator(je){return null}static compose(je){return ve(je)}static composeAsync(je){return St(je)}}function Qe(Ne){return null}function jt(Ne){return null!=Ne}function gt(Ne){return(0,a.QGY)(Ne)?(0,oe.D)(Ne):Ne}function yt(Ne){let je={};return Ne.forEach(ye=>{je=null!=ye?{...je,...ye}:je}),0===Object.keys(je).length?null:je}function at(Ne,je){return je.map(ye=>ye(Ne))}function Zt(Ne){return Ne.map(je=>function Xe(Ne){return!Ne.validate}(je)?je:ye=>je.validate(ye))}function ve(Ne){if(!Ne)return null;const je=Ne.filter(jt);return 0==je.length?null:function(ye){return yt(at(ye,je))}}function Ve(Ne){return null!=Ne?ve(Zt(Ne)):null}function St(Ne){if(!Ne)return null;const je=Ne.filter(jt);return 0==je.length?null:function(ye){return function ae(...Ne){const je=(0,ie.jO)(Ne),{args:ye,keys:mt}=(0,T.D)(Ne),vn=new c.y(ao=>{const{length:Po}=ye;if(!Po)return void ao.complete();const Dr=new Array(Po);let _o=Po,Ba=Po;for(let Yl=0;Yl<Po;Yl++){let Ys=!1;(0,V.Xf)(ye[Yl]).subscribe((0,Te.x)(ao,_a=>{Ys||(Ys=!0,Ba--),Dr[Yl]=_a},()=>_o--,void 0,()=>{(!_o||!Ys)&&(Ba||ao.next(mt?(0,me.n)(mt,Dr):Dr),ao.complete())}))}});return je?vn.pipe((0,le.Z)(je)):vn}(at(ye,je).map(gt)).pipe((0,be.U)(yt))}}function wn(Ne){return null!=Ne?St(Zt(Ne)):null}function $t(Ne,je){return null===Ne?[je]:Array.isArray(Ne)?[...Ne,je]:[Ne,je]}function Cn(Ne){return Ne._rawValidators}function Ot(Ne){return Ne._rawAsyncValidators}function Wt(Ne){return Ne?Array.isArray(Ne)?Ne:[Ne]:[]}function st(Ne,je){return Array.isArray(Ne)?Ne.includes(je):Ne===je}function U(Ne,je){const ye=Wt(je);return Wt(Ne).forEach(vn=>{st(ye,vn)||ye.push(vn)}),ye}function Se(Ne,je){return Wt(je).filter(ye=>!st(Ne,ye))}class Vt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(je){this._rawValidators=je||[],this._composedValidatorFn=Ve(this._rawValidators)}_setAsyncValidators(je){this._rawAsyncValidators=je||[],this._composedAsyncValidatorFn=wn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(je){this._onDestroyCallbacks.push(je)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(je=>je()),this._onDestroyCallbacks=[]}reset(je=void 0){this.control&&this.control.reset(je)}hasError(je,ye){return!!this.control&&this.control.hasError(je,ye)}getError(je,ye){return this.control?this.control.getError(je,ye):null}}class en extends Vt{get formDirective(){return null}get path(){return null}}class jn extends Vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mi{constructor(je){this._cd=je}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qn=(()=>{class Ne extends Mi{constructor(ye){super(ye)}static#e=this.\u0275fac=function(mt){return new(mt||Ne)(a.Y36(jn,2))};static#t=this.\u0275dir=a.lG2({type:Ne,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(mt,vn){2&mt&&a.ekj("ng-untouched",vn.isUntouched)("ng-touched",vn.isTouched)("ng-pristine",vn.isPristine)("ng-dirty",vn.isDirty)("ng-valid",vn.isValid)("ng-invalid",vn.isInvalid)("ng-pending",vn.isPending)},features:[a.qOj]})}return Ne})(),ti=(()=>{class Ne extends Mi{constructor(ye){super(ye)}static#e=this.\u0275fac=function(mt){return new(mt||Ne)(a.Y36(en,10))};static#t=this.\u0275dir=a.lG2({type:Ne,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(mt,vn){2&mt&&a.ekj("ng-untouched",vn.isUntouched)("ng-touched",vn.isTouched)("ng-pristine",vn.isPristine)("ng-dirty",vn.isDirty)("ng-valid",vn.isValid)("ng-invalid",vn.isInvalid)("ng-pending",vn.isPending)("ng-submitted",vn.isSubmitted)},features:[a.qOj]})}return Ne})();const $e="VALID",lt="INVALID",nn="PENDING",bn="DISABLED";function Bn(Ne){return(Ze(Ne)?Ne.validators:Ne)||null}function cn(Ne,je){return(Ze(je)?je.asyncValidators:Ne)||null}function Ze(Ne){return null!=Ne&&!Array.isArray(Ne)&&"object"==typeof Ne}class Lt{constructor(je,ye){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(je),this._assignAsyncValidators(ye)}get validator(){return this._composedValidatorFn}set validator(je){this._rawValidators=this._composedValidatorFn=je}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(je){this._rawAsyncValidators=this._composedAsyncValidatorFn=je}get parent(){return this._parent}get valid(){return this.status===$e}get invalid(){return this.status===lt}get pending(){return this.status==nn}get disabled(){return this.status===bn}get enabled(){return this.status!==bn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(je){this._assignValidators(je)}setAsyncValidators(je){this._assignAsyncValidators(je)}addValidators(je){this.setValidators(U(je,this._rawValidators))}addAsyncValidators(je){this.setAsyncValidators(U(je,this._rawAsyncValidators))}removeValidators(je){this.setValidators(Se(je,this._rawValidators))}removeAsyncValidators(je){this.setAsyncValidators(Se(je,this._rawAsyncValidators))}hasValidator(je){return st(this._rawValidators,je)}hasAsyncValidator(je){return st(this._rawAsyncValidators,je)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(je={}){this.touched=!0,this._parent&&!je.onlySelf&&this._parent.markAsTouched(je)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(je=>je.markAllAsTouched())}markAsUntouched(je={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ye=>{ye.markAsUntouched({onlySelf:!0})}),this._parent&&!je.onlySelf&&this._parent._updateTouched(je)}markAsDirty(je={}){this.pristine=!1,this._parent&&!je.onlySelf&&this._parent.markAsDirty(je)}markAsPristine(je={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ye=>{ye.markAsPristine({onlySelf:!0})}),this._parent&&!je.onlySelf&&this._parent._updatePristine(je)}markAsPending(je={}){this.status=nn,!1!==je.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!je.onlySelf&&this._parent.markAsPending(je)}disable(je={}){const ye=this._parentMarkedDirty(je.onlySelf);this.status=bn,this.errors=null,this._forEachChild(mt=>{mt.disable({...je,onlySelf:!0})}),this._updateValue(),!1!==je.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...je,skipPristineCheck:ye}),this._onDisabledChange.forEach(mt=>mt(!0))}enable(je={}){const ye=this._parentMarkedDirty(je.onlySelf);this.status=$e,this._forEachChild(mt=>{mt.enable({...je,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:je.emitEvent}),this._updateAncestors({...je,skipPristineCheck:ye}),this._onDisabledChange.forEach(mt=>mt(!1))}_updateAncestors(je){this._parent&&!je.onlySelf&&(this._parent.updateValueAndValidity(je),je.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(je){this._parent=je}getRawValue(){return this.value}updateValueAndValidity(je={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$e||this.status===nn)&&this._runAsyncValidator(je.emitEvent)),!1!==je.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!je.onlySelf&&this._parent.updateValueAndValidity(je)}_updateTreeValidity(je={emitEvent:!0}){this._forEachChild(ye=>ye._updateTreeValidity(je)),this.updateValueAndValidity({onlySelf:!0,emitEvent:je.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bn:$e}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(je){if(this.asyncValidator){this.status=nn,this._hasOwnPendingAsyncValidator=!0;const ye=gt(this.asyncValidator(this));this._asyncValidationSubscription=ye.subscribe(mt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(mt,{emitEvent:je})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(je,ye={}){this.errors=je,this._updateControlsErrors(!1!==ye.emitEvent)}get(je){let ye=je;return null==ye||(Array.isArray(ye)||(ye=ye.split(".")),0===ye.length)?null:ye.reduce((mt,vn)=>mt&&mt._find(vn),this)}getError(je,ye){const mt=ye?this.get(ye):this;return mt&&mt.errors?mt.errors[je]:null}hasError(je,ye){return!!this.getError(je,ye)}get root(){let je=this;for(;je._parent;)je=je._parent;return je}_updateControlsErrors(je){this.status=this._calculateStatus(),je&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(je)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?bn:this.errors?lt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nn)?nn:this._anyControlsHaveStatus(lt)?lt:$e}_anyControlsHaveStatus(je){return this._anyControls(ye=>ye.status===je)}_anyControlsDirty(){return this._anyControls(je=>je.dirty)}_anyControlsTouched(){return this._anyControls(je=>je.touched)}_updatePristine(je={}){this.pristine=!this._anyControlsDirty(),this._parent&&!je.onlySelf&&this._parent._updatePristine(je)}_updateTouched(je={}){this.touched=this._anyControlsTouched(),this._parent&&!je.onlySelf&&this._parent._updateTouched(je)}_registerOnCollectionChange(je){this._onCollectionChange=je}_setUpdateStrategy(je){Ze(je)&&null!=je.updateOn&&(this._updateOn=je.updateOn)}_parentMarkedDirty(je){return!je&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(je){return null}_assignValidators(je){this._rawValidators=Array.isArray(je)?je.slice():je,this._composedValidatorFn=function kt(Ne){return Array.isArray(Ne)?Ve(Ne):Ne||null}(this._rawValidators)}_assignAsyncValidators(je){this._rawAsyncValidators=Array.isArray(je)?je.slice():je,this._composedAsyncValidatorFn=function ft(Ne){return Array.isArray(Ne)?wn(Ne):Ne||null}(this._rawAsyncValidators)}}const Ht=class gn extends Lt{constructor(je,ye,mt){super(Bn(ye),cn(mt,ye)),this.controls=je,this._initObservables(),this._setUpdateStrategy(ye),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(je,ye){return this.controls[je]?this.controls[je]:(this.controls[je]=ye,ye.setParent(this),ye._registerOnCollectionChange(this._onCollectionChange),ye)}addControl(je,ye,mt={}){this.registerControl(je,ye),this.updateValueAndValidity({emitEvent:mt.emitEvent}),this._onCollectionChange()}removeControl(je,ye={}){this.controls[je]&&this.controls[je]._registerOnCollectionChange(()=>{}),delete this.controls[je],this.updateValueAndValidity({emitEvent:ye.emitEvent}),this._onCollectionChange()}setControl(je,ye,mt={}){this.controls[je]&&this.controls[je]._registerOnCollectionChange(()=>{}),delete this.controls[je],ye&&this.registerControl(je,ye),this.updateValueAndValidity({emitEvent:mt.emitEvent}),this._onCollectionChange()}contains(je){return this.controls.hasOwnProperty(je)&&this.controls[je].enabled}setValue(je,ye={}){(function _e(Ne,je,ye){Ne._forEachChild((mt,vn)=>{if(void 0===ye[vn])throw new a.vHH(1002,"")})})(this,0,je),Object.keys(je).forEach(mt=>{(function on(Ne,je,ye){const mt=Ne.controls;if(!(je?Object.keys(mt):mt).length)throw new a.vHH(1e3,"");if(!mt[ye])throw new a.vHH(1001,"")})(this,!0,mt),this.controls[mt].setValue(je[mt],{onlySelf:!0,emitEvent:ye.emitEvent})}),this.updateValueAndValidity(ye)}patchValue(je,ye={}){null!=je&&(Object.keys(je).forEach(mt=>{const vn=this.controls[mt];vn&&vn.patchValue(je[mt],{onlySelf:!0,emitEvent:ye.emitEvent})}),this.updateValueAndValidity(ye))}reset(je={},ye={}){this._forEachChild((mt,vn)=>{mt.reset(je?je[vn]:null,{onlySelf:!0,emitEvent:ye.emitEvent})}),this._updatePristine(ye),this._updateTouched(ye),this.updateValueAndValidity(ye)}getRawValue(){return this._reduceChildren({},(je,ye,mt)=>(je[mt]=ye.getRawValue(),je))}_syncPendingControls(){let je=this._reduceChildren(!1,(ye,mt)=>!!mt._syncPendingControls()||ye);return je&&this.updateValueAndValidity({onlySelf:!0}),je}_forEachChild(je){Object.keys(this.controls).forEach(ye=>{const mt=this.controls[ye];mt&&je(mt,ye)})}_setUpControls(){this._forEachChild(je=>{je.setParent(this),je._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(je){for(const[ye,mt]of Object.entries(this.controls))if(this.contains(ye)&&je(mt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ye,mt,vn)=>((mt.enabled||this.disabled)&&(ye[vn]=mt.value),ye))}_reduceChildren(je,ye){let mt=je;return this._forEachChild((vn,ao)=>{mt=ye(mt,vn,ao)}),mt}_allControlsDisabled(){for(const je of Object.keys(this.controls))if(this.controls[je].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(je){return this.controls.hasOwnProperty(je)?this.controls[je]:null}},ct=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>At}),At="always";function Jt(Ne,je){return[...je.path,Ne]}function ei(Ne,je,ye=At){vo(Ne,je),je.valueAccessor.writeValue(Ne.value),(Ne.disabled||"always"===ye)&&je.valueAccessor.setDisabledState?.(Ne.disabled),function Do(Ne,je){je.valueAccessor.registerOnChange(ye=>{Ne._pendingValue=ye,Ne._pendingChange=!0,Ne._pendingDirty=!0,"change"===Ne.updateOn&&wr(Ne,je)})}(Ne,je),function Ho(Ne,je){const ye=(mt,vn)=>{je.valueAccessor.writeValue(mt),vn&&je.viewToModelUpdate(mt)};Ne.registerOnChange(ye),je._registerOnDestroy(()=>{Ne._unregisterOnChange(ye)})}(Ne,je),function ir(Ne,je){je.valueAccessor.registerOnTouched(()=>{Ne._pendingTouched=!0,"blur"===Ne.updateOn&&Ne._pendingChange&&wr(Ne,je),"submit"!==Ne.updateOn&&Ne.markAsTouched()})}(Ne,je),function hi(Ne,je){if(je.valueAccessor.setDisabledState){const ye=mt=>{je.valueAccessor.setDisabledState(mt)};Ne.registerOnDisabledChange(ye),je._registerOnDestroy(()=>{Ne._unregisterOnDisabledChange(ye)})}}(Ne,je)}function Zn(Ne,je,ye=!0){const mt=()=>{};je.valueAccessor&&(je.valueAccessor.registerOnChange(mt),je.valueAccessor.registerOnTouched(mt)),Di(Ne,je),Ne&&(je._invokeOnDestroyCallbacks(),Ne._registerOnCollectionChange(()=>{}))}function Ci(Ne,je){Ne.forEach(ye=>{ye.registerOnValidatorChange&&ye.registerOnValidatorChange(je)})}function vo(Ne,je){const ye=Cn(Ne);null!==je.validator?Ne.setValidators($t(ye,je.validator)):"function"==typeof ye&&Ne.setValidators([ye]);const mt=Ot(Ne);null!==je.asyncValidator?Ne.setAsyncValidators($t(mt,je.asyncValidator)):"function"==typeof mt&&Ne.setAsyncValidators([mt]);const vn=()=>Ne.updateValueAndValidity();Ci(je._rawValidators,vn),Ci(je._rawAsyncValidators,vn)}function Di(Ne,je){let ye=!1;if(null!==Ne){if(null!==je.validator){const vn=Cn(Ne);if(Array.isArray(vn)&&vn.length>0){const ao=vn.filter(Po=>Po!==je.validator);ao.length!==vn.length&&(ye=!0,Ne.setValidators(ao))}}if(null!==je.asyncValidator){const vn=Ot(Ne);if(Array.isArray(vn)&&vn.length>0){const ao=vn.filter(Po=>Po!==je.asyncValidator);ao.length!==vn.length&&(ye=!0,Ne.setAsyncValidators(ao))}}}const mt=()=>{};return Ci(je._rawValidators,mt),Ci(je._rawAsyncValidators,mt),ye}function wr(Ne,je){Ne._pendingDirty&&Ne.markAsDirty(),Ne.setValue(Ne._pendingValue,{emitModelToViewChange:!1}),je.viewToModelUpdate(Ne._pendingValue),Ne._pendingChange=!1}function kr(Ne,je){if(!Ne.hasOwnProperty("model"))return!1;const ye=Ne.model;return!!ye.isFirstChange()||!Object.is(je,ye.currentValue)}function vs(Ne,je){if(!je)return null;let ye,mt,vn;return Array.isArray(je),je.forEach(ao=>{ao.constructor===pe?ye=ao:function gr(Ne){return Object.getPrototypeOf(Ne.constructor)===J}(ao)?mt=ao:vn=ao}),vn||mt||ye||null}function Tt(Ne,je){const ye=Ne.indexOf(je);ye>-1&&Ne.splice(ye,1)}function sn(Ne){return"object"==typeof Ne&&null!==Ne&&2===Object.keys(Ne).length&&"value"in Ne&&"disabled"in Ne}const Tn=class extends Lt{constructor(je=null,ye,mt){super(Bn(ye),cn(mt,ye)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(je),this._setUpdateStrategy(ye),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ze(ye)&&(ye.nonNullable||ye.initialValueIsDefault)&&(this.defaultValue=sn(je)?je.value:je)}setValue(je,ye={}){this.value=this._pendingValue=je,this._onChange.length&&!1!==ye.emitModelToViewChange&&this._onChange.forEach(mt=>mt(this.value,!1!==ye.emitViewToModelChange)),this.updateValueAndValidity(ye)}patchValue(je,ye={}){this.setValue(je,ye)}reset(je=this.defaultValue,ye={}){this._applyFormState(je),this.markAsPristine(ye),this.markAsUntouched(ye),this.setValue(this.value,ye),this._pendingChange=!1}_updateValue(){}_anyControls(je){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(je){this._onChange.push(je)}_unregisterOnChange(je){Tt(this._onChange,je)}registerOnDisabledChange(je){this._onDisabledChange.push(je)}_unregisterOnDisabledChange(je){Tt(this._onDisabledChange,je)}_forEachChild(je){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(je){sn(je)?(this.value=this._pendingValue=je.value,je.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=je}},ni=Tn,Ei={provide:jn,useExisting:(0,a.Gpc)(()=>mo)},Li=(()=>Promise.resolve())();let mo=(()=>{class Ne extends jn{constructor(ye,mt,vn,ao,Po,Dr){super(),this._changeDetectorRef=Po,this.callSetDisabledState=Dr,this.control=new Tn,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=ye,this._setValidators(mt),this._setAsyncValidators(vn),this.valueAccessor=vs(0,ao)}ngOnChanges(ye){if(this._checkForErrors(),!this._registered||"name"in ye){if(this._registered&&(this._checkName(),this.formDirective)){const mt=ye.name.previousValue;this.formDirective.removeControl({name:mt,path:this._getPath(mt)})}this._setUpControl()}"isDisabled"in ye&&this._updateDisabled(ye),kr(ye,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ye){this.viewModel=ye,this.update.emit(ye)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ei(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ye){Li.then(()=>{this.control.setValue(ye,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ye){const mt=ye.isDisabled.currentValue,vn=0!==mt&&(0,a.VuI)(mt);Li.then(()=>{vn&&!this.control.disabled?this.control.disable():!vn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ye){return this._parent?Jt(ye,this._parent):[ye]}static#e=this.\u0275fac=function(mt){return new(mt||Ne)(a.Y36(en,9),a.Y36(Pe,10),a.Y36(Be,10),a.Y36(fe,10),a.Y36(a.sBO,8),a.Y36(ct,8))};static#t=this.\u0275dir=a.lG2({type:Ne,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Ei]),a.qOj,a.TTD]})}return Ne})(),fr=(()=>{class Ne{static#e=this.\u0275fac=function(mt){return new(mt||Ne)};static#t=this.\u0275dir=a.lG2({type:Ne,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Ne})(),rs=(()=>{class Ne{static#e=this.\u0275fac=function(mt){return new(mt||Ne)};static#t=this.\u0275mod=a.oAB({type:Ne});static#n=this.\u0275inj=a.cJS({})}return Ne})();const Lr=new a.OlP("NgModelWithFormControlWarning"),Mr={provide:en,useExisting:(0,a.Gpc)(()=>Ii)};let Ii=(()=>{class Ne extends en{constructor(ye,mt,vn){super(),this.callSetDisabledState=vn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(ye),this._setAsyncValidators(mt)}ngOnChanges(ye){this._checkFormPresent(),ye.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Di(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ye){const mt=this.form.get(ye.path);return ei(mt,ye,this.callSetDisabledState),mt.updateValueAndValidity({emitEvent:!1}),this.directives.push(ye),mt}getControl(ye){return this.form.get(ye.path)}removeControl(ye){Zn(ye.control||null,ye,!1),function et(Ne,je){const ye=Ne.indexOf(je);ye>-1&&Ne.splice(ye,1)}(this.directives,ye)}addFormGroup(ye){this._setUpFormContainer(ye)}removeFormGroup(ye){this._cleanUpFormContainer(ye)}getFormGroup(ye){return this.form.get(ye.path)}addFormArray(ye){this._setUpFormContainer(ye)}removeFormArray(ye){this._cleanUpFormContainer(ye)}getFormArray(ye){return this.form.get(ye.path)}updateModel(ye,mt){this.form.get(ye.path).setValue(mt)}onSubmit(ye){return this.submitted=!0,function ys(Ne,je){Ne._syncPendingControls(),je.forEach(ye=>{const mt=ye.control;"submit"===mt.updateOn&&mt._pendingChange&&(ye.viewToModelUpdate(mt._pendingValue),mt._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(ye),"dialog"===ye?.target?.method}onReset(){this.resetForm()}resetForm(ye=void 0){this.form.reset(ye),this.submitted=!1}_updateDomValue(){this.directives.forEach(ye=>{const mt=ye.control,vn=this.form.get(ye.path);mt!==vn&&(Zn(mt||null,ye),(Ne=>Ne instanceof Tn)(vn)&&(ei(vn,ye,this.callSetDisabledState),ye.control=vn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ye){const mt=this.form.get(ye.path);(function dr(Ne,je){vo(Ne,je)})(mt,ye),mt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ye){if(this.form){const mt=this.form.get(ye.path);mt&&function Ko(Ne,je){return Di(Ne,je)}(mt,ye)&&mt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vo(this.form,this),this._oldForm&&Di(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(mt){return new(mt||Ne)(a.Y36(Pe,10),a.Y36(Be,10),a.Y36(ct,8))};static#t=this.\u0275dir=a.lG2({type:Ne,selectors:[["","formGroup",""]],hostBindings:function(mt,vn){1&mt&&a.NdJ("submit",function(Po){return vn.onSubmit(Po)})("reset",function(){return vn.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Mr]),a.qOj,a.TTD]})}return Ne})();const kl={provide:jn,useExisting:(0,a.Gpc)(()=>Vr)};let Vr=(()=>{class Ne extends jn{set isDisabled(ye){}static#e=this._ngModelWarningSentOnce=!1;constructor(ye,mt,vn,ao,Po){super(),this._ngModelWarningConfig=Po,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=ye,this._setValidators(mt),this._setAsyncValidators(vn),this.valueAccessor=vs(0,ao)}ngOnChanges(ye){this._added||this._setUpControl(),kr(ye,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ye){this.viewModel=ye,this.update.emit(ye)}get path(){return Jt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(mt){return new(mt||Ne)(a.Y36(en,13),a.Y36(Pe,10),a.Y36(Be,10),a.Y36(fe,10),a.Y36(Lr,8))};static#n=this.\u0275dir=a.lG2({type:Ne,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([kl]),a.qOj,a.TTD]})}return Ne})(),Fa=(()=>{class Ne{static#e=this.\u0275fac=function(mt){return new(mt||Ne)};static#t=this.\u0275mod=a.oAB({type:Ne});static#n=this.\u0275inj=a.cJS({imports:[rs]})}return Ne})(),nu=(()=>{class Ne{static withConfig(ye){return{ngModule:Ne,providers:[{provide:ct,useValue:ye.callSetDisabledState??At}]}}static#e=this.\u0275fac=function(mt){return new(mt||Ne)};static#t=this.\u0275mod=a.oAB({type:Ne});static#n=this.\u0275inj=a.cJS({imports:[Fa]})}return Ne})(),Dd=(()=>{class Ne{static withConfig(ye){return{ngModule:Ne,providers:[{provide:Lr,useValue:ye.warnOnNgModelWithFormControl??"always"},{provide:ct,useValue:ye.callSetDisabledState??At}]}}static#e=this.\u0275fac=function(mt){return new(mt||Ne)};static#t=this.\u0275mod=a.oAB({type:Ne});static#n=this.\u0275inj=a.cJS({imports:[Fa]})}return Ne})()},2614:()=>{"use strict";const Dt=":";const Cn=function(st,...U){if(Cn.translate){const Vt=Cn.translate(st,U);st=Vt[0],U=Vt[1]}let Se=Wt(st[0],st.raw[0]);for(let Vt=1;Vt<st.length;Vt++)Se+=U[Vt-1]+Wt(st[Vt],st.raw[Vt]);return Se},Ot=":";function Wt(st,U){return U.charAt(0)===Ot?st.substring(function jt(st,U){for(let Se=1,Vt=1;Se<st.length;Se++,Vt++)if("\\"===U[Vt])Vt++;else if(st[Se]===Dt)return Se;throw new Error(`Unterminated $localize metadata block in "${U}".`)}(st,U)+1):st}globalThis.$localize=Cn},6593:(Dt,Le,D)=>{"use strict";D.d(Le,{Dx:()=>jn,H7:()=>Ue,b2:()=>st,h_:()=>Se,q6:()=>$t,se:()=>rt});var a=D(5879),s=D(6814);class oe extends s.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class c extends oe{static makeCurrent(){(0,s.HT)(new c)}onAndCancel(cn,ft,Ze){return cn.addEventListener(ft,Ze),()=>{cn.removeEventListener(ft,Ze)}}dispatchEvent(cn,ft){cn.dispatchEvent(ft)}remove(cn){cn.parentNode&&cn.parentNode.removeChild(cn)}createElement(cn,ft){return(ft=ft||this.getDefaultDocument()).createElement(cn)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(cn){return cn.nodeType===Node.ELEMENT_NODE}isShadowRoot(cn){return cn instanceof DocumentFragment}getGlobalEventTarget(cn,ft){return"window"===ft?window:"document"===ft?cn:"body"===ft?cn.body:null}getBaseHref(cn){const ft=function V(){return T=T||document.querySelector("base"),T?T.getAttribute("href"):null}();return null==ft?null:function Te(kt){ie=ie||document.createElement("a"),ie.setAttribute("href",kt);const cn=ie.pathname;return"/"===cn.charAt(0)?cn:`/${cn}`}(ft)}resetBaseElement(){T=null}getUserAgent(){return window.navigator.userAgent}getCookie(cn){return(0,s.Mx)(document.cookie,cn)}}let ie,T=null,me=(()=>{class kt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Ze){return new(Ze||kt)};static#t=this.\u0275prov=a.Yz7({token:kt,factory:kt.\u0275fac})}return kt})();const ae=new a.OlP("EventManagerPlugins");let be=(()=>{class kt{constructor(ft,Ze){this._zone=Ze,this._eventNameToPlugin=new Map,ft.forEach(on=>{on.manager=this}),this._plugins=ft.slice().reverse()}addEventListener(ft,Ze,on){return this._findPluginFor(Ze).addEventListener(ft,Ze,on)}getZone(){return this._zone}_findPluginFor(ft){let Ze=this._eventNameToPlugin.get(ft);if(Ze)return Ze;if(Ze=this._plugins.find(_e=>_e.supports(ft)),!Ze)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(ft,Ze),Ze}static#e=this.\u0275fac=function(Ze){return new(Ze||kt)(a.LFG(ae),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:kt,factory:kt.\u0275fac})}return kt})();class re{constructor(cn){this._doc=cn}}const J="ng-app-id";let fe=(()=>{class kt{constructor(ft,Ze,on,_e={}){this.doc=ft,this.appId=Ze,this.nonce=on,this.platformId=_e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,s.PM)(_e),this.resetHostNodes()}addStyles(ft){for(const Ze of ft)1===this.changeUsageCount(Ze,1)&&this.onStyleAdded(Ze)}removeStyles(ft){for(const Ze of ft)this.changeUsageCount(Ze,-1)<=0&&this.onStyleRemoved(Ze)}ngOnDestroy(){const ft=this.styleNodesInDOM;ft&&(ft.forEach(Ze=>Ze.remove()),ft.clear());for(const Ze of this.getAllStyles())this.onStyleRemoved(Ze);this.resetHostNodes()}addHost(ft){this.hostNodes.add(ft);for(const Ze of this.getAllStyles())this.addStyleToHost(ft,Ze)}removeHost(ft){this.hostNodes.delete(ft)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ft){for(const Ze of this.hostNodes)this.addStyleToHost(Ze,ft)}onStyleRemoved(ft){const Ze=this.styleRef;Ze.get(ft)?.elements?.forEach(on=>on.remove()),Ze.delete(ft)}collectServerRenderedStyles(){const ft=this.doc.head?.querySelectorAll(`style[${J}="${this.appId}"]`);if(ft?.length){const Ze=new Map;return ft.forEach(on=>{null!=on.textContent&&Ze.set(on.textContent,on)}),Ze}return null}changeUsageCount(ft,Ze){const on=this.styleRef;if(on.has(ft)){const _e=on.get(ft);return _e.usage+=Ze,_e.usage}return on.set(ft,{usage:Ze,elements:[]}),Ze}getStyleElement(ft,Ze){const on=this.styleNodesInDOM,_e=on?.get(Ze);if(_e?.parentNode===ft)return on.delete(Ze),_e.removeAttribute(J),_e;{const Lt=this.doc.createElement("style");return this.nonce&&Lt.setAttribute("nonce",this.nonce),Lt.textContent=Ze,this.platformIsServer&&Lt.setAttribute(J,this.appId),Lt}}addStyleToHost(ft,Ze){const on=this.getStyleElement(ft,Ze);ft.appendChild(on);const _e=this.styleRef,Lt=_e.get(Ze)?.elements;Lt?Lt.push(on):_e.set(Ze,{elements:[on],usage:1})}resetHostNodes(){const ft=this.hostNodes;ft.clear(),ft.add(this.doc.head)}static#e=this.\u0275fac=function(Ze){return new(Ze||kt)(a.LFG(s.K0),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:kt,factory:kt.\u0275fac})}return kt})();const ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ce=/%COMP%/g,ge=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Be(kt,cn){return cn.map(ft=>ft.replace(Ce,kt))}let rt=(()=>{class kt{constructor(ft,Ze,on,_e,Lt,gn,Ht,Jn=null){this.eventManager=ft,this.sharedStylesHost=Ze,this.appId=on,this.removeStylesOnCompDestroy=_e,this.doc=Lt,this.platformId=gn,this.ngZone=Ht,this.nonce=Jn,this.rendererByCompId=new Map,this.platformIsServer=(0,s.PM)(gn),this.defaultRenderer=new wt(ft,Lt,Ht,this.platformIsServer)}createRenderer(ft,Ze){if(!ft||!Ze)return this.defaultRenderer;this.platformIsServer&&Ze.encapsulation===a.ifc.ShadowDom&&(Ze={...Ze,encapsulation:a.ifc.Emulated});const on=this.getOrCreateRenderer(ft,Ze);return on instanceof Nt?on.applyToHost(ft):on instanceof ut&&on.applyStyles(),on}getOrCreateRenderer(ft,Ze){const on=this.rendererByCompId;let _e=on.get(Ze.id);if(!_e){const Lt=this.doc,gn=this.ngZone,Ht=this.eventManager,Jn=this.sharedStylesHost,Je=this.removeStylesOnCompDestroy,yn=this.platformIsServer;switch(Ze.encapsulation){case a.ifc.Emulated:_e=new Nt(Ht,Jn,Ze,this.appId,Je,Lt,gn,yn);break;case a.ifc.ShadowDom:return new Oe(Ht,Jn,ft,Ze,Lt,gn,this.nonce,yn);default:_e=new ut(Ht,Jn,Ze,Je,Lt,gn,yn)}on.set(Ze.id,_e)}return _e}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Ze){return new(Ze||kt)(a.LFG(be),a.LFG(fe),a.LFG(a.AFp),a.LFG(ge),a.LFG(s.K0),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))};static#t=this.\u0275prov=a.Yz7({token:kt,factory:kt.\u0275fac})}return kt})();class wt{constructor(cn,ft,Ze,on){this.eventManager=cn,this.doc=ft,this.ngZone=Ze,this.platformIsServer=on,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(cn,ft){return ft?this.doc.createElementNS(ke[ft]||ft,cn):this.doc.createElement(cn)}createComment(cn){return this.doc.createComment(cn)}createText(cn){return this.doc.createTextNode(cn)}appendChild(cn,ft){(L(cn)?cn.content:cn).appendChild(ft)}insertBefore(cn,ft,Ze){cn&&(L(cn)?cn.content:cn).insertBefore(ft,Ze)}removeChild(cn,ft){cn&&cn.removeChild(ft)}selectRootElement(cn,ft){let Ze="string"==typeof cn?this.doc.querySelector(cn):cn;if(!Ze)throw new a.vHH(-5104,!1);return ft||(Ze.textContent=""),Ze}parentNode(cn){return cn.parentNode}nextSibling(cn){return cn.nextSibling}setAttribute(cn,ft,Ze,on){if(on){ft=on+":"+ft;const _e=ke[on];_e?cn.setAttributeNS(_e,ft,Ze):cn.setAttribute(ft,Ze)}else cn.setAttribute(ft,Ze)}removeAttribute(cn,ft,Ze){if(Ze){const on=ke[Ze];on?cn.removeAttributeNS(on,ft):cn.removeAttribute(`${Ze}:${ft}`)}else cn.removeAttribute(ft)}addClass(cn,ft){cn.classList.add(ft)}removeClass(cn,ft){cn.classList.remove(ft)}setStyle(cn,ft,Ze,on){on&(a.JOm.DashCase|a.JOm.Important)?cn.style.setProperty(ft,Ze,on&a.JOm.Important?"important":""):cn.style[ft]=Ze}removeStyle(cn,ft,Ze){Ze&a.JOm.DashCase?cn.style.removeProperty(ft):cn.style[ft]=""}setProperty(cn,ft,Ze){cn[ft]=Ze}setValue(cn,ft){cn.nodeValue=ft}listen(cn,ft,Ze){if("string"==typeof cn&&!(cn=(0,s.q)().getGlobalEventTarget(this.doc,cn)))throw new Error(`Unsupported event target ${cn} for event ${ft}`);return this.eventManager.addEventListener(cn,ft,this.decoratePreventDefault(Ze))}decoratePreventDefault(cn){return ft=>{if("__ngUnwrap__"===ft)return cn;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>cn(ft)):cn(ft))&&ft.preventDefault()}}}function L(kt){return"TEMPLATE"===kt.tagName&&void 0!==kt.content}class Oe extends wt{constructor(cn,ft,Ze,on,_e,Lt,gn,Ht){super(cn,_e,Lt,Ht),this.sharedStylesHost=ft,this.hostEl=Ze,this.shadowRoot=Ze.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Jn=Be(on.id,on.styles);for(const Je of Jn){const yn=document.createElement("style");gn&&yn.setAttribute("nonce",gn),yn.textContent=Je,this.shadowRoot.appendChild(yn)}}nodeOrShadowRoot(cn){return cn===this.hostEl?this.shadowRoot:cn}appendChild(cn,ft){return super.appendChild(this.nodeOrShadowRoot(cn),ft)}insertBefore(cn,ft,Ze){return super.insertBefore(this.nodeOrShadowRoot(cn),ft,Ze)}removeChild(cn,ft){return super.removeChild(this.nodeOrShadowRoot(cn),ft)}parentNode(cn){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(cn)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ut extends wt{constructor(cn,ft,Ze,on,_e,Lt,gn,Ht){super(cn,_e,Lt,gn),this.sharedStylesHost=ft,this.removeStylesOnCompDestroy=on,this.styles=Ht?Be(Ht,Ze.styles):Ze.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Nt extends ut{constructor(cn,ft,Ze,on,_e,Lt,gn,Ht){const Jn=on+"-"+Ze.id;super(cn,ft,Ze,_e,Lt,gn,Ht,Jn),this.contentAttr=function pt(kt){return"_ngcontent-%COMP%".replace(Ce,kt)}(Jn),this.hostAttr=function Pe(kt){return"_nghost-%COMP%".replace(Ce,kt)}(Jn)}applyToHost(cn){this.applyStyles(),this.setAttribute(cn,this.hostAttr,"")}createElement(cn,ft){const Ze=super.createElement(cn,ft);return super.setAttribute(Ze,this.contentAttr,""),Ze}}let an=(()=>{class kt extends re{constructor(ft){super(ft)}supports(ft){return!0}addEventListener(ft,Ze,on){return ft.addEventListener(Ze,on,!1),()=>this.removeEventListener(ft,Ze,on)}removeEventListener(ft,Ze,on){return ft.removeEventListener(Ze,on)}static#e=this.\u0275fac=function(Ze){return new(Ze||kt)(a.LFG(s.K0))};static#t=this.\u0275prov=a.Yz7({token:kt,factory:kt.\u0275fac})}return kt})();const bt=["alt","control","meta","shift"],Qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jt={alt:kt=>kt.altKey,control:kt=>kt.ctrlKey,meta:kt=>kt.metaKey,shift:kt=>kt.shiftKey};let gt=(()=>{class kt extends re{constructor(ft){super(ft)}supports(ft){return null!=kt.parseEventName(ft)}addEventListener(ft,Ze,on){const _e=kt.parseEventName(Ze),Lt=kt.eventCallback(_e.fullKey,on,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,s.q)().onAndCancel(ft,_e.domEventName,Lt))}static parseEventName(ft){const Ze=ft.toLowerCase().split("."),on=Ze.shift();if(0===Ze.length||"keydown"!==on&&"keyup"!==on)return null;const _e=kt._normalizeKey(Ze.pop());let Lt="",gn=Ze.indexOf("code");if(gn>-1&&(Ze.splice(gn,1),Lt="code."),bt.forEach(Jn=>{const Je=Ze.indexOf(Jn);Je>-1&&(Ze.splice(Je,1),Lt+=Jn+".")}),Lt+=_e,0!=Ze.length||0===_e.length)return null;const Ht={};return Ht.domEventName=on,Ht.fullKey=Lt,Ht}static matchEventFullKeyCode(ft,Ze){let on=Qe[ft.key]||ft.key,_e="";return Ze.indexOf("code.")>-1&&(on=ft.code,_e="code."),!(null==on||!on)&&(on=on.toLowerCase()," "===on?on="space":"."===on&&(on="dot"),bt.forEach(Lt=>{Lt!==on&&(0,jt[Lt])(ft)&&(_e+=Lt+".")}),_e+=on,_e===Ze)}static eventCallback(ft,Ze,on){return _e=>{kt.matchEventFullKeyCode(_e,ft)&&on.runGuarded(()=>Ze(_e))}}static _normalizeKey(ft){return"esc"===ft?"escape":ft}static#e=this.\u0275fac=function(Ze){return new(Ze||kt)(a.LFG(s.K0))};static#t=this.\u0275prov=a.Yz7({token:kt,factory:kt.\u0275fac})}return kt})();const $t=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:s.bD},{provide:a.g9A,useValue:function ve(){c.makeCurrent()},multi:!0},{provide:s.K0,useFactory:function St(){return(0,a.RDi)(document),document},deps:[]}]),Cn=new a.OlP(""),Ot=[{provide:a.rWj,useClass:class le{addToWindow(cn){a.dqk.getAngularTestability=(Ze,on=!0)=>{const _e=cn.findTestabilityInTree(Ze,on);if(null==_e)throw new a.vHH(5103,!1);return _e},a.dqk.getAllAngularTestabilities=()=>cn.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>cn.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(Ze=>{const on=a.dqk.getAllAngularTestabilities();let _e=on.length,Lt=!1;const gn=function(Ht){Lt=Lt||Ht,_e--,0==_e&&Ze(Lt)};on.forEach(Ht=>{Ht.whenStable(gn)})})}findTestabilityInTree(cn,ft,Ze){return null==ft?null:cn.getTestability(ft)??(Ze?(0,s.q)().isShadowRoot(ft)?this.findTestabilityInTree(cn,ft.host,!0):this.findTestabilityInTree(cn,ft.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Wt=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Ve(){return new a.qLn},deps:[]},{provide:ae,useClass:an,multi:!0,deps:[s.K0,a.R0b,a.Lbi]},{provide:ae,useClass:gt,multi:!0,deps:[s.K0]},rt,fe,be,{provide:a.FYo,useExisting:rt},{provide:s.JF,useClass:me,deps:[]},[]];let st=(()=>{class kt{constructor(ft){}static withServerTransition(ft){return{ngModule:kt,providers:[{provide:a.AFp,useValue:ft.appId}]}}static#e=this.\u0275fac=function(Ze){return new(Ze||kt)(a.LFG(Cn,12))};static#t=this.\u0275mod=a.oAB({type:kt});static#n=this.\u0275inj=a.cJS({providers:[...Wt,...Ot],imports:[s.ez,a.hGG]})}return kt})(),Se=(()=>{class kt{constructor(ft){this._doc=ft,this._dom=(0,s.q)()}addTag(ft,Ze=!1){return ft?this._getOrCreateElement(ft,Ze):null}addTags(ft,Ze=!1){return ft?ft.reduce((on,_e)=>(_e&&on.push(this._getOrCreateElement(_e,Ze)),on),[]):[]}getTag(ft){return ft&&this._doc.querySelector(`meta[${ft}]`)||null}getTags(ft){if(!ft)return[];const Ze=this._doc.querySelectorAll(`meta[${ft}]`);return Ze?[].slice.call(Ze):[]}updateTag(ft,Ze){if(!ft)return null;Ze=Ze||this._parseSelector(ft);const on=this.getTag(Ze);return on?this._setMetaElementAttributes(ft,on):this._getOrCreateElement(ft,!0)}removeTag(ft){this.removeTagElement(this.getTag(ft))}removeTagElement(ft){ft&&this._dom.remove(ft)}_getOrCreateElement(ft,Ze=!1){if(!Ze){const Lt=this._parseSelector(ft),gn=this.getTags(Lt).filter(Ht=>this._containsAttributes(ft,Ht))[0];if(void 0!==gn)return gn}const on=this._dom.createElement("meta");return this._setMetaElementAttributes(ft,on),this._doc.getElementsByTagName("head")[0].appendChild(on),on}_setMetaElementAttributes(ft,Ze){return Object.keys(ft).forEach(on=>Ze.setAttribute(this._getMetaKeyMap(on),ft[on])),Ze}_parseSelector(ft){const Ze=ft.name?"name":"property";return`${Ze}="${ft[Ze]}"`}_containsAttributes(ft,Ze){return Object.keys(ft).every(on=>Ze.getAttribute(this._getMetaKeyMap(on))===ft[on])}_getMetaKeyMap(ft){return Vt[ft]||ft}static#e=this.\u0275fac=function(Ze){return new(Ze||kt)(a.LFG(s.K0))};static#t=this.\u0275prov=a.Yz7({token:kt,factory:function(Ze){let on=null;return on=Ze?new Ze:function U(){return new Se((0,a.LFG)(s.K0))}(),on},providedIn:"root"})}return kt})();const Vt={httpEquiv:"http-equiv"};let jn=(()=>{class kt{constructor(ft){this._doc=ft}getTitle(){return this._doc.title}setTitle(ft){this._doc.title=ft||""}static#e=this.\u0275fac=function(Ze){return new(Ze||kt)(a.LFG(s.K0))};static#t=this.\u0275prov=a.Yz7({token:kt,factory:function(Ze){let on=null;return on=Ze?new Ze:function en(){return new jn((0,a.LFG)(s.K0))}(),on},providedIn:"root"})}return kt})();typeof window<"u"&&window;let Ue=(()=>{class kt{static#e=this.\u0275fac=function(Ze){return new(Ze||kt)};static#t=this.\u0275prov=a.Yz7({token:kt,factory:function(Ze){let on=null;return on=Ze?new(Ze||kt):a.LFG(Ge),on},providedIn:"root"})}return kt})(),Ge=(()=>{class kt extends Ue{constructor(ft){super(),this._doc=ft}sanitize(ft,Ze){if(null==Ze)return null;switch(ft){case a.q3G.NONE:return Ze;case a.q3G.HTML:return(0,a.qzn)(Ze,"HTML")?(0,a.z3N)(Ze):(0,a.EiD)(this._doc,String(Ze)).toString();case a.q3G.STYLE:return(0,a.qzn)(Ze,"Style")?(0,a.z3N)(Ze):Ze;case a.q3G.SCRIPT:if((0,a.qzn)(Ze,"Script"))return(0,a.z3N)(Ze);throw new a.vHH(5200,!1);case a.q3G.URL:return(0,a.qzn)(Ze,"URL")?(0,a.z3N)(Ze):(0,a.mCW)(String(Ze));case a.q3G.RESOURCE_URL:if((0,a.qzn)(Ze,"ResourceURL"))return(0,a.z3N)(Ze);throw new a.vHH(5201,!1);default:throw new a.vHH(5202,!1)}}bypassSecurityTrustHtml(ft){return(0,a.JVY)(ft)}bypassSecurityTrustStyle(ft){return(0,a.L6k)(ft)}bypassSecurityTrustScript(ft){return(0,a.eBb)(ft)}bypassSecurityTrustUrl(ft){return(0,a.LAX)(ft)}bypassSecurityTrustResourceUrl(ft){return(0,a.pB0)(ft)}static#e=this.\u0275fac=function(Ze){return new(Ze||kt)(a.LFG(s.K0))};static#t=this.\u0275prov=a.Yz7({token:kt,factory:function(Ze){let on=null;return on=Ze?new Ze:function We(kt){return new Ge(kt.get(s.K0))}(a.LFG(a.zs3)),on},providedIn:"root"})}return kt})()},2236:(Dt,Le,D)=>{"use strict";D.d(Le,{gz:()=>Ka,y6:()=>mo,OD:()=>ys,eC:()=>Ve,F0:()=>ra,rH:()=>Jl,Bz:()=>Lu,lC:()=>Ur,R9:()=>ln,Hx:()=>Mo});var a=D(5879),s=D(5592),oe=D(4674),T=D(9666),V=D(2096),ie=D(5619),Te=D(2572),le=D(6973),me=D(5211),ae=D(4829);function be($){return new s.y(ee=>{(0,ae.Xf)($()).subscribe(ee)})}var re=D(8407),J=D(8504),fe=D(6232),ke=D(7394),Ce=D(9360),we=D(8251);function he(){return(0,Ce.e)(($,ee)=>{let j=null;$._refCount++;const te=(0,we.x)(ee,void 0,void 0,void 0,()=>{if(!$||$._refCount<=0||0<--$._refCount)return void(j=null);const ne=$._connection,dt=j;j=null,ne&&(!dt||ne===dt)&&ne.unsubscribe(),ee.unsubscribe()});$.subscribe(te),te.closed||(j=$.connect())})}class A extends s.y{constructor(ee,j){super(),this.source=ee,this.subjectFactory=j,this._subject=null,this._refCount=0,this._connection=null,(0,Ce.A)(ee)&&(this.lift=ee.lift)}_subscribe(ee){return this.getSubject().subscribe(ee)}getSubject(){const ee=this._subject;return(!ee||ee.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ee}=this;this._subject=this._connection=null,ee?.unsubscribe()}connect(){let ee=this._connection;if(!ee){ee=this._connection=new ke.w0;const j=this.getSubject();ee.add(this.source.subscribe((0,we.x)(j,void 0,()=>{this._teardown(),j.complete()},te=>{this._teardown(),j.error(te)},()=>this._teardown()))),ee.closed&&(this._connection=null,ee=ke.w0.EMPTY)}return ee}refCount(){return he()(this)}}var pe=D(8645),ge=D(6814),pt=D(7398),Pe=D(4664),Be=D(8180),rt=D(7921),wt=D(2181),It=D(1631),Ie=D(1374),L=D(6328),Oe=D(9397),ut=D(6306),Nt=D(6699),an=D(3572);function bt($){return $<=0?()=>fe.E:(0,Ce.e)((ee,j)=>{let te=[];ee.subscribe((0,we.x)(j,ne=>{te.push(ne),$<te.length&&te.shift()},()=>{for(const ne of te)j.next(ne);j.complete()},void 0,()=>{te=null}))})}var Qe=D(3026),jt=D(2737),yt=D(975),at=D(4716),Xe=D(9773),Zt=D(7537),ve=D(6593);const Ve="primary",St=Symbol("RouteTitle");class wn{constructor(ee){this.params=ee||{}}has(ee){return Object.prototype.hasOwnProperty.call(this.params,ee)}get(ee){if(this.has(ee)){const j=this.params[ee];return Array.isArray(j)?j[0]:j}return null}getAll(ee){if(this.has(ee)){const j=this.params[ee];return Array.isArray(j)?j:[j]}return[]}get keys(){return Object.keys(this.params)}}function $t($){return new wn($)}function Cn($,ee,j){const te=j.path.split("/");if(te.length>$.length||"full"===j.pathMatch&&(ee.hasChildren()||te.length<$.length))return null;const ne={};for(let dt=0;dt<te.length;dt++){const Xt=te[dt],Yn=$[dt];if(Xt.startsWith(":"))ne[Xt.substring(1)]=Yn;else if(Xt!==Yn.path)return null}return{consumed:$.slice(0,te.length),posParams:ne}}function Wt($,ee){const j=$?Object.keys($):void 0,te=ee?Object.keys(ee):void 0;if(!j||!te||j.length!=te.length)return!1;let ne;for(let dt=0;dt<j.length;dt++)if(ne=j[dt],!st($[ne],ee[ne]))return!1;return!0}function st($,ee){if(Array.isArray($)&&Array.isArray(ee)){if($.length!==ee.length)return!1;const j=[...$].sort(),te=[...ee].sort();return j.every((ne,dt)=>te[dt]===ne)}return $===ee}function U($){return $.length>0?$[$.length-1]:null}function Se($){return function c($){return!!$&&($ instanceof s.y||(0,oe.m)($.lift)&&(0,oe.m)($.subscribe))}($)?$:(0,a.QGY)($)?(0,T.D)(Promise.resolve($)):(0,V.of)($)}const Vt={exact:function dn($,ee,j){if(!Ji($.segments,ee.segments)||!qi($.segments,ee.segments,j)||$.numberOfChildren!==ee.numberOfChildren)return!1;for(const te in ee.children)if(!$.children[te]||!dn($.children[te],ee.children[te],j))return!1;return!0},subset:qn},en={exact:function Mi($,ee){return Wt($,ee)},subset:function Pn($,ee){return Object.keys(ee).length<=Object.keys($).length&&Object.keys(ee).every(j=>st($[j],ee[j]))},ignored:()=>!0};function jn($,ee,j){return Vt[j.paths]($.root,ee.root,j.matrixParams)&&en[j.queryParams]($.queryParams,ee.queryParams)&&!("exact"===j.fragment&&$.fragment!==ee.fragment)}function qn($,ee,j){return ti($,ee,ee.segments,j)}function ti($,ee,j,te){if($.segments.length>j.length){const ne=$.segments.slice(0,j.length);return!(!Ji(ne,j)||ee.hasChildren()||!qi(ne,j,te))}if($.segments.length===j.length){if(!Ji($.segments,j)||!qi($.segments,j,te))return!1;for(const ne in ee.children)if(!$.children[ne]||!qn($.children[ne],ee.children[ne],te))return!1;return!0}{const ne=j.slice(0,$.segments.length),dt=j.slice($.segments.length);return!!(Ji($.segments,ne)&&qi($.segments,ne,te)&&$.children[Ve])&&ti($.children[Ve],ee,dt,te)}}function qi($,ee,j){return ee.every((te,ne)=>en[j]($[ne].parameters,te.parameters))}class to{constructor(ee=new Zi([],{}),j={},te=null){this.root=ee,this.queryParams=j,this.fragment=te}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$t(this.queryParams)),this._queryParamMap}toString(){return Wo.serialize(this)}}class Zi{constructor(ee,j){this.segments=ee,this.children=j,this.parent=null,Object.values(j).forEach(te=>te.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bt(this)}}class Fi{constructor(ee,j){this.path=ee,this.parameters=j}get parameterMap(){return this._parameterMap||(this._parameterMap=$t(this.parameters)),this._parameterMap}toString(){return lt(this)}}function Ji($,ee){return $.length===ee.length&&$.every((j,te)=>j.path===ee[te].path)}let Mo=(()=>{class ${static#e=this.\u0275fac=function(te){return new(te||$)};static#t=this.\u0275prov=a.Yz7({token:$,factory:function(){return new no},providedIn:"root"})}return $})();class no{parse(ee){const j=new gn(ee);return new to(j.parseRootSegment(),j.parseQueryParams(),j.parseFragment())}serialize(ee){const j=`/${Ue(ee.root,!0)}`,te=function bn($){const ee=Object.keys($).map(j=>{const te=$[j];return Array.isArray(te)?te.map(ne=>`${Ge(j)}=${Ge(ne)}`).join("&"):`${Ge(j)}=${Ge(te)}`}).filter(j=>!!j);return ee.length?`?${ee.join("&")}`:""}(ee.queryParams);return`${j}${te}${"string"==typeof ee.fragment?`#${function Et($){return encodeURI($)}(ee.fragment)}`:""}`}}const Wo=new no;function Bt($){return $.segments.map(ee=>lt(ee)).join("/")}function Ue($,ee){if(!$.hasChildren())return Bt($);if(ee){const j=$.children[Ve]?Ue($.children[Ve],!1):"",te=[];return Object.entries($.children).forEach(([ne,dt])=>{ne!==Ve&&te.push(`${ne}:${Ue(dt,!1)}`)}),te.length>0?`${j}(${te.join("//")})`:j}{const j=function xi($,ee){let j=[];return Object.entries($.children).forEach(([te,ne])=>{te===Ve&&(j=j.concat(ee(ne,te)))}),Object.entries($.children).forEach(([te,ne])=>{te!==Ve&&(j=j.concat(ee(ne,te)))}),j}($,(te,ne)=>ne===Ve?[Ue($.children[Ve],!1)]:[`${ne}:${Ue(te,!1)}`]);return 1===Object.keys($.children).length&&null!=$.children[Ve]?`${Bt($)}/${j[0]}`:`${Bt($)}/(${j.join("//")})`}}function We($){return encodeURIComponent($).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ge($){return We($).replace(/%3B/gi,";")}function Q($){return We($).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tt($){return decodeURIComponent($)}function $e($){return tt($.replace(/\+/g,"%20"))}function lt($){return`${Q($.path)}${function nn($){return Object.keys($).map(ee=>`;${Q(ee)}=${Q($[ee])}`).join("")}($.parameters)}`}const Bn=/^[^\/()?;#]+/;function kt($){const ee=$.match(Bn);return ee?ee[0]:""}const cn=/^[^\/()?;=#]+/,Ze=/^[^=?&#]+/,_e=/^[^&#]+/;class gn{constructor(ee){this.url=ee,this.remaining=ee}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zi([],{}):new Zi([],this.parseChildren())}parseQueryParams(){const ee={};if(this.consumeOptional("?"))do{this.parseQueryParam(ee)}while(this.consumeOptional("&"));return ee}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ee=[];for(this.peekStartsWith("(")||ee.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ee.push(this.parseSegment());let j={};this.peekStartsWith("/(")&&(this.capture("/"),j=this.parseParens(!0));let te={};return this.peekStartsWith("(")&&(te=this.parseParens(!1)),(ee.length>0||Object.keys(j).length>0)&&(te[Ve]=new Zi(ee,j)),te}parseSegment(){const ee=kt(this.remaining);if(""===ee&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(ee),new Fi(tt(ee),this.parseMatrixParams())}parseMatrixParams(){const ee={};for(;this.consumeOptional(";");)this.parseParam(ee);return ee}parseParam(ee){const j=function ft($){const ee=$.match(cn);return ee?ee[0]:""}(this.remaining);if(!j)return;this.capture(j);let te="";if(this.consumeOptional("=")){const ne=kt(this.remaining);ne&&(te=ne,this.capture(te))}ee[tt(j)]=tt(te)}parseQueryParam(ee){const j=function on($){const ee=$.match(Ze);return ee?ee[0]:""}(this.remaining);if(!j)return;this.capture(j);let te="";if(this.consumeOptional("=")){const Xt=function Lt($){const ee=$.match(_e);return ee?ee[0]:""}(this.remaining);Xt&&(te=Xt,this.capture(te))}const ne=$e(j),dt=$e(te);if(ee.hasOwnProperty(ne)){let Xt=ee[ne];Array.isArray(Xt)||(Xt=[Xt],ee[ne]=Xt),Xt.push(dt)}else ee[ne]=dt}parseParens(ee){const j={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const te=kt(this.remaining),ne=this.remaining[te.length];if("/"!==ne&&")"!==ne&&";"!==ne)throw new a.vHH(4010,!1);let dt;te.indexOf(":")>-1?(dt=te.slice(0,te.indexOf(":")),this.capture(dt),this.capture(":")):ee&&(dt=Ve);const Xt=this.parseChildren();j[dt]=1===Object.keys(Xt).length?Xt[Ve]:new Zi([],Xt),this.consumeOptional("//")}return j}peekStartsWith(ee){return this.remaining.startsWith(ee)}consumeOptional(ee){return!!this.peekStartsWith(ee)&&(this.remaining=this.remaining.substring(ee.length),!0)}capture(ee){if(!this.consumeOptional(ee))throw new a.vHH(4011,!1)}}function Ht($){return $.segments.length>0?new Zi([],{[Ve]:$}):$}function Jn($){const ee={};for(const te of Object.keys($.children)){const dt=Jn($.children[te]);if(te===Ve&&0===dt.segments.length&&dt.hasChildren())for(const[Xt,Yn]of Object.entries(dt.children))ee[Xt]=Yn;else(dt.segments.length>0||dt.hasChildren())&&(ee[te]=dt)}return function Je($){if(1===$.numberOfChildren&&$.children[Ve]){const ee=$.children[Ve];return new Zi($.segments.concat(ee.segments),ee.children)}return $}(new Zi($.segments,ee))}function yn($){return $ instanceof to}function At($){let ee;const ne=Ht(function j(dt){const Xt={};for(const Wn of dt.children){const Ki=j(Wn);Xt[Wn.outlet]=Ki}const Yn=new Zi(dt.url,Xt);return dt===$&&(ee=Yn),Yn}($.root));return ee??ne}function Jt($,ee,j,te){let ne=$;for(;ne.parent;)ne=ne.parent;if(0===ee.length)return Ci(ne,ne,ne,j,te);const dt=function Di($){if("string"==typeof $[0]&&1===$.length&&"/"===$[0])return new vo(!0,0,$);let ee=0,j=!1;const te=$.reduce((ne,dt,Xt)=>{if("object"==typeof dt&&null!=dt){if(dt.outlets){const Yn={};return Object.entries(dt.outlets).forEach(([Wn,Ki])=>{Yn[Wn]="string"==typeof Ki?Ki.split("/"):Ki}),[...ne,{outlets:Yn}]}if(dt.segmentPath)return[...ne,dt.segmentPath]}return"string"!=typeof dt?[...ne,dt]:0===Xt?(dt.split("/").forEach((Yn,Wn)=>{0==Wn&&"."===Yn||(0==Wn&&""===Yn?j=!0:".."===Yn?ee++:""!=Yn&&ne.push(Yn))}),ne):[...ne,dt]},[]);return new vo(j,ee,te)}(ee);if(dt.toRoot())return Ci(ne,ne,new Zi([],{}),j,te);const Xt=function ir($,ee,j){if($.isAbsolute)return new Do(ee,!0,0);if(!j)return new Do(ee,!1,NaN);if(null===j.parent)return new Do(j,!0,0);const te=ei($.commands[0])?0:1;return function wr($,ee,j){let te=$,ne=ee,dt=j;for(;dt>ne;){if(dt-=ne,te=te.parent,!te)throw new a.vHH(4005,!1);ne=te.segments.length}return new Do(te,!1,ne-dt)}(j,j.segments.length-1+te,$.numberOfDoubleDots)}(dt,ne,$),Yn=Xt.processChildren?Ko(Xt.segmentGroup,Xt.index,dt.commands):dr(Xt.segmentGroup,Xt.index,dt.commands);return Ci(ne,Xt.segmentGroup,Yn,j,te)}function ei($){return"object"==typeof $&&null!=$&&!$.outlets&&!$.segmentPath}function Zn($){return"object"==typeof $&&null!=$&&$.outlets}function Ci($,ee,j,te,ne){let Xt,dt={};te&&Object.entries(te).forEach(([Wn,Ki])=>{dt[Wn]=Array.isArray(Ki)?Ki.map(Go=>`${Go}`):`${Ki}`}),Xt=$===ee?j:hi($,ee,j);const Yn=Ht(Jn(Xt));return new to(Yn,dt,ne)}function hi($,ee,j){const te={};return Object.entries($.children).forEach(([ne,dt])=>{te[ne]=dt===ee?j:hi(dt,ee,j)}),new Zi($.segments,te)}class vo{constructor(ee,j,te){if(this.isAbsolute=ee,this.numberOfDoubleDots=j,this.commands=te,ee&&te.length>0&&ei(te[0]))throw new a.vHH(4003,!1);const ne=te.find(Zn);if(ne&&ne!==U(te))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Do{constructor(ee,j,te){this.segmentGroup=ee,this.processChildren=j,this.index=te}}function dr($,ee,j){if($||($=new Zi([],{})),0===$.segments.length&&$.hasChildren())return Ko($,ee,j);const te=function jo($,ee,j){let te=0,ne=ee;const dt={match:!1,pathIndex:0,commandIndex:0};for(;ne<$.segments.length;){if(te>=j.length)return dt;const Xt=$.segments[ne],Yn=j[te];if(Zn(Yn))break;const Wn=`${Yn}`,Ki=te<j.length-1?j[te+1]:null;if(ne>0&&void 0===Wn)break;if(Wn&&Ki&&"object"==typeof Ki&&void 0===Ki.outlets){if(!Eo(Wn,Ki,Xt))return dt;te+=2}else{if(!Eo(Wn,{},Xt))return dt;te++}ne++}return{match:!0,pathIndex:ne,commandIndex:te}}($,ee,j),ne=j.slice(te.commandIndex);if(te.match&&te.pathIndex<$.segments.length){const dt=new Zi($.segments.slice(0,te.pathIndex),{});return dt.children[Ve]=new Zi($.segments.slice(te.pathIndex),$.children),Ko(dt,0,ne)}return te.match&&0===ne.length?new Zi($.segments,{}):te.match&&!$.hasChildren()?Dn($,ee,j):te.match?Ko($,0,ne):Dn($,ee,j)}function Ko($,ee,j){if(0===j.length)return new Zi($.segments,{});{const te=function Ho($){return Zn($[0])?$[0].outlets:{[Ve]:$}}(j),ne={};if(Object.keys(te).some(dt=>dt!==Ve)&&$.children[Ve]&&1===$.numberOfChildren&&0===$.children[Ve].segments.length){const dt=Ko($.children[Ve],ee,j);return new Zi($.segments,dt.children)}return Object.entries(te).forEach(([dt,Xt])=>{"string"==typeof Xt&&(Xt=[Xt]),null!==Xt&&(ne[dt]=dr($.children[dt],ee,Xt))}),Object.entries($.children).forEach(([dt,Xt])=>{void 0===te[dt]&&(ne[dt]=Xt)}),new Zi($.segments,ne)}}function Dn($,ee,j){const te=$.segments.slice(0,ee);let ne=0;for(;ne<j.length;){const dt=j[ne];if(Zn(dt)){const Wn=Tr(dt.outlets);return new Zi(te,Wn)}if(0===ne&&ei(j[0])){te.push(new Fi($.segments[ee].path,Jo(j[0]))),ne++;continue}const Xt=Zn(dt)?dt.outlets[Ve]:`${dt}`,Yn=ne<j.length-1?j[ne+1]:null;Xt&&Yn&&ei(Yn)?(te.push(new Fi(Xt,Jo(Yn))),ne+=2):(te.push(new Fi(Xt,{})),ne++)}return new Zi(te,{})}function Tr($){const ee={};return Object.entries($).forEach(([j,te])=>{"string"==typeof te&&(te=[te]),null!==te&&(ee[j]=Dn(new Zi([],{}),0,te))}),ee}function Jo($){const ee={};return Object.entries($).forEach(([j,te])=>ee[j]=`${te}`),ee}function Eo($,ee,j){return $==j.path&&Wt(ee,j.parameters)}const kr="imperative";class gr{constructor(ee,j){this.id=ee,this.url=j}}class ys extends gr{constructor(ee,j,te="imperative",ne=null){super(ee,j),this.type=0,this.navigationTrigger=te,this.restoredState=ne}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vs extends gr{constructor(ee,j,te){super(ee,j),this.urlAfterRedirects=te,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class et extends gr{constructor(ee,j,te,ne){super(ee,j),this.reason=te,this.code=ne,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nt extends gr{constructor(ee,j,te,ne){super(ee,j),this.reason=te,this.code=ne,this.type=16}}class rn extends gr{constructor(ee,j,te,ne){super(ee,j),this.error=te,this.target=ne,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ln extends gr{constructor(ee,j,te,ne){super(ee,j),this.urlAfterRedirects=te,this.state=ne,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gn extends gr{constructor(ee,j,te,ne){super(ee,j),this.urlAfterRedirects=te,this.state=ne,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tt extends gr{constructor(ee,j,te,ne,dt){super(ee,j),this.urlAfterRedirects=te,this.state=ne,this.shouldActivate=dt,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sn extends gr{constructor(ee,j,te,ne){super(ee,j),this.urlAfterRedirects=te,this.state=ne,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tn extends gr{constructor(ee,j,te,ne){super(ee,j),this.urlAfterRedirects=te,this.state=ne,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ni{constructor(ee){this.route=ee,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class si{constructor(ee){this.route=ee,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ki{constructor(ee){this.snapshot=ee,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ri{constructor(ee){this.snapshot=ee,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uo{constructor(ee){this.snapshot=ee,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zt{constructor(ee){this.snapshot=ee,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xn{constructor(ee,j,te){this.routerEvent=ee,this.position=j,this.anchor=te,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class On{}class Rn{constructor(ee){this.url=ee}}class Li{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new mo,this.attachRef=null}}let mo=(()=>{class ${constructor(){this.contexts=new Map}onChildOutletCreated(j,te){const ne=this.getOrCreateContext(j);ne.outlet=te,this.contexts.set(j,ne)}onChildOutletDestroyed(j){const te=this.getContext(j);te&&(te.outlet=null,te.attachRef=null)}onOutletDeactivated(){const j=this.contexts;return this.contexts=new Map,j}onOutletReAttached(j){this.contexts=j}getOrCreateContext(j){let te=this.getContext(j);return te||(te=new Li,this.contexts.set(j,te)),te}getContext(j){return this.contexts.get(j)||null}static#e=this.\u0275fac=function(te){return new(te||$)};static#t=this.\u0275prov=a.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();class fr{constructor(ee){this._root=ee}get root(){return this._root.value}parent(ee){const j=this.pathFromRoot(ee);return j.length>1?j[j.length-2]:null}children(ee){const j=mr(ee,this._root);return j?j.children.map(te=>te.value):[]}firstChild(ee){const j=mr(ee,this._root);return j&&j.children.length>0?j.children[0].value:null}siblings(ee){const j=ur(ee,this._root);return j.length<2?[]:j[j.length-2].children.map(ne=>ne.value).filter(ne=>ne!==ee)}pathFromRoot(ee){return ur(ee,this._root).map(j=>j.value)}}function mr($,ee){if($===ee.value)return ee;for(const j of ee.children){const te=mr($,j);if(te)return te}return null}function ur($,ee){if($===ee.value)return[ee];for(const j of ee.children){const te=ur($,j);if(te.length)return te.unshift(ee),te}return[]}class Ni{constructor(ee,j){this.value=ee,this.children=j}toString(){return`TreeNode(${this.value})`}}function Xo($){const ee={};return $&&$.children.forEach(j=>ee[j.value.outlet]=j),ee}class rs extends fr{constructor(ee,j){super(ee),this.snapshot=j,Mr(this,ee)}toString(){return this.snapshot.toString()}}function qr($,ee){const j=function Rr($,ee){const Xt=new dl([],{},{},"",{},Ve,ee,null,{});return new wl("",new Ni(Xt,[]))}(0,ee),te=new ie.X([new Fi("",{})]),ne=new ie.X({}),dt=new ie.X({}),Xt=new ie.X({}),Yn=new ie.X(""),Wn=new Ka(te,ne,Xt,Yn,dt,Ve,ee,j.root);return Wn.snapshot=j.root,new rs(new Ni(Wn,[]),j)}class Ka{constructor(ee,j,te,ne,dt,Xt,Yn,Wn){this.urlSubject=ee,this.paramsSubject=j,this.queryParamsSubject=te,this.fragmentSubject=ne,this.dataSubject=dt,this.outlet=Xt,this.component=Yn,this._futureSnapshot=Wn,this.title=this.dataSubject?.pipe((0,pt.U)(Ki=>Ki[St]))??(0,V.of)(void 0),this.url=ee,this.params=j,this.queryParams=te,this.fragment=ne,this.data=dt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(ee=>$t(ee)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(ee=>$t(ee)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cl($,ee="emptyOnly"){const j=$.pathFromRoot;let te=0;if("always"!==ee)for(te=j.length-1;te>=1;){const ne=j[te],dt=j[te-1];if(ne.routeConfig&&""===ne.routeConfig.path)te--;else{if(dt.component)break;te--}}return function Lr($){return $.reduce((ee,j)=>({params:{...ee.params,...j.params},data:{...ee.data,...j.data},resolve:{...j.data,...ee.resolve,...j.routeConfig?.data,...j._resolvedData}}),{params:{},data:{},resolve:{}})}(j.slice(te))}class dl{get title(){return this.data?.[St]}constructor(ee,j,te,ne,dt,Xt,Yn,Wn,Ki){this.url=ee,this.params=j,this.queryParams=te,this.fragment=ne,this.data=dt,this.outlet=Xt,this.component=Yn,this.routeConfig=Wn,this._resolve=Ki}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$t(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$t(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(te=>te.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wl extends fr{constructor(ee,j){super(j),this.url=ee,Mr(this,j)}toString(){return Ii(this._root)}}function Mr($,ee){ee.value._routerState=$,ee.children.forEach(j=>Mr($,j))}function Ii($){const ee=$.children.length>0?` { ${$.children.map(Ii).join(", ")} } `:"";return`${$.value}${ee}`}function xo($){if($.snapshot){const ee=$.snapshot,j=$._futureSnapshot;$.snapshot=j,Wt(ee.queryParams,j.queryParams)||$.queryParamsSubject.next(j.queryParams),ee.fragment!==j.fragment&&$.fragmentSubject.next(j.fragment),Wt(ee.params,j.params)||$.paramsSubject.next(j.params),function Ot($,ee){if($.length!==ee.length)return!1;for(let j=0;j<$.length;++j)if(!Wt($[j],ee[j]))return!1;return!0}(ee.url,j.url)||$.urlSubject.next(j.url),Wt(ee.data,j.data)||$.dataSubject.next(j.data)}else $.snapshot=$._futureSnapshot,$.dataSubject.next($._futureSnapshot.data)}function _r($,ee){const j=Wt($.params,ee.params)&&function yo($,ee){return Ji($,ee)&&$.every((j,te)=>Wt(j.parameters,ee[te].parameters))}($.url,ee.url);return j&&!(!$.parent!=!ee.parent)&&(!$.parent||_r($.parent,ee.parent))}let Ur=(()=>{class ${constructor(){this.activated=null,this._activatedRoute=null,this.name=Ve,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(mo),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(ts,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(j){if(j.name){const{firstChange:te,previousValue:ne}=j.name;if(te)return;this.isTrackedInParentContexts(ne)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ne)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(j){return this.parentContexts.getContext(j)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const j=this.parentContexts.getContext(this.name);j?.route&&(j.attachRef?this.attach(j.attachRef,j.route):this.activateWith(j.route,j.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const j=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(j.instance),j}attach(j,te){this.activated=j,this._activatedRoute=te,this.location.insert(j.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(j.instance)}deactivate(){if(this.activated){const j=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(j)}}activateWith(j,te){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=j;const ne=this.location,Xt=j.snapshot.component,Yn=this.parentContexts.getOrCreateContext(this.name).children,Wn=new Ws(j,Yn,ne.injector);this.activated=ne.createComponent(Xt,{index:ne.length,injector:Wn,environmentInjector:te??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(te){return new(te||$)};static#t=this.\u0275dir=a.lG2({type:$,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]})}return $})();class Ws{constructor(ee,j,te){this.route=ee,this.childContexts=j,this.parent=te}get(ee,j){return ee===Ka?this.route:ee===mo?this.childContexts:this.parent.get(ee,j)}}const ts=new a.OlP("");let kl=(()=>{class ${constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(j){this.unsubscribeFromRouteData(j),this.subscribeToRouteData(j)}unsubscribeFromRouteData(j){this.outletDataSubscriptions.get(j)?.unsubscribe(),this.outletDataSubscriptions.delete(j)}subscribeToRouteData(j){const{activatedRoute:te}=j,ne=(0,Te.a)([te.queryParams,te.params,te.data]).pipe((0,Pe.w)(([dt,Xt,Yn],Wn)=>(Yn={...dt,...Xt,...Yn},0===Wn?(0,V.of)(Yn):Promise.resolve(Yn)))).subscribe(dt=>{if(!j.isActivated||!j.activatedComponentRef||j.activatedRoute!==te||null===te.component)return void this.unsubscribeFromRouteData(j);const Xt=(0,a.qFp)(te.component);if(Xt)for(const{templateName:Yn}of Xt.inputs)j.activatedComponentRef.setInput(Yn,dt[Yn]);else this.unsubscribeFromRouteData(j)});this.outletDataSubscriptions.set(j,ne)}static#e=this.\u0275fac=function(te){return new(te||$)};static#t=this.\u0275prov=a.Yz7({token:$,factory:$.\u0275fac})}return $})();function Ds($,ee,j){if(j&&$.shouldReuseRoute(ee.value,j.value.snapshot)){const te=j.value;te._futureSnapshot=ee.value;const ne=function Ls($,ee,j){return ee.children.map(te=>{for(const ne of j.children)if($.shouldReuseRoute(te.value,ne.value.snapshot))return Ds($,te,ne);return Ds($,te)})}($,ee,j);return new Ni(te,ne)}{if($.shouldAttach(ee.value)){const dt=$.retrieve(ee.value);if(null!==dt){const Xt=dt.route;return Xt.value._futureSnapshot=ee.value,Xt.children=ee.children.map(Yn=>Ds($,Yn)),Xt}}const te=function lo($){return new Ka(new ie.X($.url),new ie.X($.params),new ie.X($.queryParams),new ie.X($.fragment),new ie.X($.data),$.outlet,$.component,$)}(ee.value),ne=ee.children.map(dt=>Ds($,dt));return new Ni(te,ne)}}const Es="ngNavigationCancelingError";function $s($,ee){const{redirectTo:j,navigationBehaviorOptions:te}=yn(ee)?{redirectTo:ee,navigationBehaviorOptions:void 0}:ee,ne=ga(!1,0,ee);return ne.url=j,ne.navigationBehaviorOptions=te,ne}function ga($,ee,j){const te=new Error("NavigationCancelingError: "+($||""));return te[Es]=!0,te.cancellationCode=ee,j&&(te.url=j),te}function ul($){return $&&$[Es]}let na=(()=>{class ${static#e=this.\u0275fac=function(te){return new(te||$)};static#t=this.\u0275cmp=a.Xpm({type:$,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(te,ne){1&te&&a._UZ(0,"router-outlet")},dependencies:[Ur],encapsulation:2})}return $})();function Rl($){const ee=$.children&&$.children.map(Rl),j=ee?{...$,children:ee}:{...$};return!j.component&&!j.loadComponent&&(ee||j.loadChildren)&&j.outlet&&j.outlet!==Ve&&(j.component=na),j}function Is($){return $.outlet||Ve}function Na($){if(!$)return null;if($.routeConfig?._injector)return $.routeConfig._injector;for(let ee=$.parent;ee;ee=ee.parent){const j=ee.routeConfig;if(j?._loadedInjector)return j._loadedInjector;if(j?._injector)return j._injector}return null}class ss{constructor(ee,j,te,ne,dt){this.routeReuseStrategy=ee,this.futureState=j,this.currState=te,this.forwardEvent=ne,this.inputBindingEnabled=dt}activate(ee){const j=this.futureState._root,te=this.currState?this.currState._root:null;this.deactivateChildRoutes(j,te,ee),xo(this.futureState.root),this.activateChildRoutes(j,te,ee)}deactivateChildRoutes(ee,j,te){const ne=Xo(j);ee.children.forEach(dt=>{const Xt=dt.value.outlet;this.deactivateRoutes(dt,ne[Xt],te),delete ne[Xt]}),Object.values(ne).forEach(dt=>{this.deactivateRouteAndItsChildren(dt,te)})}deactivateRoutes(ee,j,te){const ne=ee.value,dt=j?j.value:null;if(ne===dt)if(ne.component){const Xt=te.getContext(ne.outlet);Xt&&this.deactivateChildRoutes(ee,j,Xt.children)}else this.deactivateChildRoutes(ee,j,te);else dt&&this.deactivateRouteAndItsChildren(j,te)}deactivateRouteAndItsChildren(ee,j){ee.value.component&&this.routeReuseStrategy.shouldDetach(ee.value.snapshot)?this.detachAndStoreRouteSubtree(ee,j):this.deactivateRouteAndOutlet(ee,j)}detachAndStoreRouteSubtree(ee,j){const te=j.getContext(ee.value.outlet),ne=te&&ee.value.component?te.children:j,dt=Xo(ee);for(const Xt of Object.keys(dt))this.deactivateRouteAndItsChildren(dt[Xt],ne);if(te&&te.outlet){const Xt=te.outlet.detach(),Yn=te.children.onOutletDeactivated();this.routeReuseStrategy.store(ee.value.snapshot,{componentRef:Xt,route:ee,contexts:Yn})}}deactivateRouteAndOutlet(ee,j){const te=j.getContext(ee.value.outlet),ne=te&&ee.value.component?te.children:j,dt=Xo(ee);for(const Xt of Object.keys(dt))this.deactivateRouteAndItsChildren(dt[Xt],ne);te&&(te.outlet&&(te.outlet.deactivate(),te.children.onOutletDeactivated()),te.attachRef=null,te.route=null)}activateChildRoutes(ee,j,te){const ne=Xo(j);ee.children.forEach(dt=>{this.activateRoutes(dt,ne[dt.value.outlet],te),this.forwardEvent(new zt(dt.value.snapshot))}),ee.children.length&&this.forwardEvent(new Ri(ee.value.snapshot))}activateRoutes(ee,j,te){const ne=ee.value,dt=j?j.value:null;if(xo(ne),ne===dt)if(ne.component){const Xt=te.getOrCreateContext(ne.outlet);this.activateChildRoutes(ee,j,Xt.children)}else this.activateChildRoutes(ee,j,te);else if(ne.component){const Xt=te.getOrCreateContext(ne.outlet);if(this.routeReuseStrategy.shouldAttach(ne.snapshot)){const Yn=this.routeReuseStrategy.retrieve(ne.snapshot);this.routeReuseStrategy.store(ne.snapshot,null),Xt.children.onOutletReAttached(Yn.contexts),Xt.attachRef=Yn.componentRef,Xt.route=Yn.route.value,Xt.outlet&&Xt.outlet.attach(Yn.componentRef,Yn.route.value),xo(Yn.route.value),this.activateChildRoutes(ee,null,Xt.children)}else{const Yn=Na(ne.snapshot);Xt.attachRef=null,Xt.route=ne,Xt.injector=Yn,Xt.outlet&&Xt.outlet.activateWith(ne,Xt.injector),this.activateChildRoutes(ee,null,Xt.children)}}else this.activateChildRoutes(ee,null,te)}}class Ya{constructor(ee){this.path=ee,this.route=this.path[this.path.length-1]}}class Gr{constructor(ee,j){this.component=ee,this.route=j}}function bs($,ee,j){const te=$._root;return pl(te,ee?ee._root:null,j,[te.value])}function As($,ee){const j=Symbol(),te=ee.get($,j);return te===j?"function"!=typeof $||(0,a.Z0I)($)?ee.get($):$:te}function pl($,ee,j,te,ne={canDeactivateChecks:[],canActivateChecks:[]}){const dt=Xo(ee);return $.children.forEach(Xt=>{(function ma($,ee,j,te,ne={canDeactivateChecks:[],canActivateChecks:[]}){const dt=$.value,Xt=ee?ee.value:null,Yn=j?j.getContext($.value.outlet):null;if(Xt&&dt.routeConfig===Xt.routeConfig){const Wn=function Kl($,ee,j){if("function"==typeof j)return j($,ee);switch(j){case"pathParamsChange":return!Ji($.url,ee.url);case"pathParamsOrQueryParamsChange":return!Ji($.url,ee.url)||!Wt($.queryParams,ee.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_r($,ee)||!Wt($.queryParams,ee.queryParams);default:return!_r($,ee)}}(Xt,dt,dt.routeConfig.runGuardsAndResolvers);Wn?ne.canActivateChecks.push(new Ya(te)):(dt.data=Xt.data,dt._resolvedData=Xt._resolvedData),pl($,ee,dt.component?Yn?Yn.children:null:j,te,ne),Wn&&Yn&&Yn.outlet&&Yn.outlet.isActivated&&ne.canDeactivateChecks.push(new Gr(Yn.outlet.component,Xt))}else Xt&&Fa(ee,Yn,ne),ne.canActivateChecks.push(new Ya(te)),pl($,null,dt.component?Yn?Yn.children:null:j,te,ne)})(Xt,dt[Xt.value.outlet],j,te.concat([Xt.value]),ne),delete dt[Xt.value.outlet]}),Object.entries(dt).forEach(([Xt,Yn])=>Fa(Yn,j.getContext(Xt),ne)),ne}function Fa($,ee,j){const te=Xo($),ne=$.value;Object.entries(te).forEach(([dt,Xt])=>{Fa(Xt,ne.component?ee?ee.children.getContext(dt):null:ee,j)}),j.canDeactivateChecks.push(new Gr(ne.component&&ee&&ee.outlet&&ee.outlet.isActivated?ee.outlet.component:null,ne))}function qa($){return"function"==typeof $}function Dd($){return $ instanceof le.K||"EmptyError"===$?.name}const Ne=Symbol("INITIAL_VALUE");function je(){return(0,Pe.w)($=>(0,Te.a)($.map(ee=>ee.pipe((0,Be.q)(1),(0,rt.O)(Ne)))).pipe((0,pt.U)(ee=>{for(const j of ee)if(!0!==j){if(j===Ne)return Ne;if(!1===j||j instanceof to)return j}return!0}),(0,wt.h)(ee=>ee!==Ne),(0,Be.q)(1)))}function Ys($){return(0,re.z)((0,Oe.b)(ee=>{if(yn(ee))throw $s(0,ee)}),(0,pt.U)(ee=>!0===ee))}class Er{constructor(ee){this.segmentGroup=ee||null}}class Ll{constructor(ee){this.urlTree=ee}}function ns($){return(0,J._)(new Er($))}function Ja($){return(0,J._)(new Ll($))}class iu{constructor(ee,j){this.urlSerializer=ee,this.urlTree=j}noMatchError(ee){return new a.vHH(4002,!1)}lineralizeSegments(ee,j){let te=[],ne=j.root;for(;;){if(te=te.concat(ne.segments),0===ne.numberOfChildren)return(0,V.of)(te);if(ne.numberOfChildren>1||!ne.children[Ve])return(0,J._)(new a.vHH(4e3,!1));ne=ne.children[Ve]}}applyRedirectCommands(ee,j,te){return this.applyRedirectCreateUrlTree(j,this.urlSerializer.parse(j),ee,te)}applyRedirectCreateUrlTree(ee,j,te,ne){const dt=this.createSegmentGroup(ee,j.root,te,ne);return new to(dt,this.createQueryParams(j.queryParams,this.urlTree.queryParams),j.fragment)}createQueryParams(ee,j){const te={};return Object.entries(ee).forEach(([ne,dt])=>{if("string"==typeof dt&&dt.startsWith(":")){const Yn=dt.substring(1);te[ne]=j[Yn]}else te[ne]=dt}),te}createSegmentGroup(ee,j,te,ne){const dt=this.createSegments(ee,j.segments,te,ne);let Xt={};return Object.entries(j.children).forEach(([Yn,Wn])=>{Xt[Yn]=this.createSegmentGroup(ee,Wn,te,ne)}),new Zi(dt,Xt)}createSegments(ee,j,te,ne){return j.map(dt=>dt.path.startsWith(":")?this.findPosParam(ee,dt,ne):this.findOrReturn(dt,te))}findPosParam(ee,j,te){const ne=te[j.path.substring(1)];if(!ne)throw new a.vHH(4001,!1);return ne}findOrReturn(ee,j){let te=0;for(const ne of j){if(ne.path===ee.path)return j.splice(te),ne;te++}return ee}}const _c={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ql($,ee,j,te,ne){const dt=Bs($,ee,j);return dt.matched?(te=function Ns($,ee){return $.providers&&!$._injector&&($._injector=(0,a.MMx)($.providers,ee,`Route: ${$.path}`)),$._injector??ee}(ee,te),function _a($,ee,j,te){const ne=ee.canMatch;if(!ne||0===ne.length)return(0,V.of)(!0);const dt=ne.map(Xt=>{const Yn=As(Xt,$);return Se(function fc($){return $&&qa($.canMatch)}(Yn)?Yn.canMatch(ee,j):$.runInContext(()=>Yn(ee,j)))});return(0,V.of)(dt).pipe(je(),Ys())}(te,ee,j).pipe((0,pt.U)(Xt=>!0===Xt?dt:{..._c}))):(0,V.of)(dt)}function Bs($,ee,j){if(""===ee.path)return"full"===ee.pathMatch&&($.hasChildren()||j.length>0)?{..._c}:{matched:!0,consumedSegments:[],remainingSegments:j,parameters:{},positionalParamSegments:{}};const ne=(ee.matcher||Cn)(j,$,ee);if(!ne)return{..._c};const dt={};Object.entries(ne.posParams??{}).forEach(([Yn,Wn])=>{dt[Yn]=Wn.path});const Xt=ne.consumed.length>0?{...dt,...ne.consumed[ne.consumed.length-1].parameters}:dt;return{matched:!0,consumedSegments:ne.consumed,remainingSegments:j.slice(ne.consumed.length),parameters:Xt,positionalParamSegments:ne.posParams??{}}}function Ic($,ee,j,te){return j.length>0&&function Id($,ee,j){return j.some(te=>yc($,ee,te)&&Is(te)!==Ve)}($,j,te)?{segmentGroup:new Zi(ee,Ed(te,new Zi(j,$.children))),slicedSegments:[]}:0===j.length&&function ou($,ee,j){return j.some(te=>yc($,ee,te))}($,j,te)?{segmentGroup:new Zi($.segments,Gc($,0,j,te,$.children)),slicedSegments:j}:{segmentGroup:new Zi($.segments,$.children),slicedSegments:j}}function Gc($,ee,j,te,ne){const dt={};for(const Xt of te)if(yc($,j,Xt)&&!ne[Is(Xt)]){const Yn=new Zi([],{});dt[Is(Xt)]=Yn}return{...ne,...dt}}function Ed($,ee){const j={};j[Ve]=ee;for(const te of $)if(""===te.path&&Is(te)!==Ve){const ne=new Zi([],{});j[Is(te)]=ne}return j}function yc($,ee,j){return(!($.hasChildren()||ee.length>0)||"full"!==j.pathMatch)&&""===j.path}class ho{constructor(ee,j,te,ne,dt,Xt,Yn){this.injector=ee,this.configLoader=j,this.rootComponentType=te,this.config=ne,this.urlTree=dt,this.paramsInheritanceStrategy=Xt,this.urlSerializer=Yn,this.allowRedirects=!0,this.applyRedirects=new iu(this.urlSerializer,this.urlTree)}noMatchError(ee){return new a.vHH(4002,!1)}recognize(){const ee=Ic(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,ee,Ve).pipe((0,ut.K)(j=>{if(j instanceof Ll)return this.allowRedirects=!1,this.urlTree=j.urlTree,this.match(j.urlTree);throw j instanceof Er?this.noMatchError(j):j}),(0,pt.U)(j=>{const te=new dl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ve,this.rootComponentType,null,{}),ne=new Ni(te,j),dt=new wl("",ne),Xt=function ct($,ee,j=null,te=null){return Jt(At($),ee,j,te)}(te,[],this.urlTree.queryParams,this.urlTree.fragment);return Xt.queryParams=this.urlTree.queryParams,dt.url=this.urlSerializer.serialize(Xt),this.inheritParamsAndData(dt._root),{state:dt,tree:Xt}}))}match(ee){return this.processSegmentGroup(this.injector,this.config,ee.root,Ve).pipe((0,ut.K)(te=>{throw te instanceof Er?this.noMatchError(te):te}))}inheritParamsAndData(ee){const j=ee.value,te=cl(j,this.paramsInheritanceStrategy);j.params=Object.freeze(te.params),j.data=Object.freeze(te.data),ee.children.forEach(ne=>this.inheritParamsAndData(ne))}processSegmentGroup(ee,j,te,ne){return 0===te.segments.length&&te.hasChildren()?this.processChildren(ee,j,te):this.processSegment(ee,j,te,te.segments,ne,!0)}processChildren(ee,j,te){const ne=[];for(const dt of Object.keys(te.children))"primary"===dt?ne.unshift(dt):ne.push(dt);return(0,T.D)(ne).pipe((0,L.b)(dt=>{const Xt=te.children[dt],Yn=function Ks($,ee){const j=$.filter(te=>Is(te)===ee);return j.push(...$.filter(te=>Is(te)!==ee)),j}(j,dt);return this.processSegmentGroup(ee,Yn,Xt,dt)}),(0,Nt.R)((dt,Xt)=>(dt.push(...Xt),dt)),(0,an.d)(null),function gt($,ee){const j=arguments.length>=2;return te=>te.pipe($?(0,wt.h)((ne,dt)=>$(ne,dt,te)):jt.y,bt(1),j?(0,an.d)(ee):(0,Qe.T)(()=>new le.K))}(),(0,It.z)(dt=>{if(null===dt)return ns(te);const Xt=kd(dt);return function ru($){$.sort((ee,j)=>ee.value.outlet===Ve?-1:j.value.outlet===Ve?1:ee.value.outlet.localeCompare(j.value.outlet))}(Xt),(0,V.of)(Xt)}))}processSegment(ee,j,te,ne,dt,Xt){return(0,T.D)(j).pipe((0,L.b)(Yn=>this.processSegmentAgainstRoute(Yn._injector??ee,j,Yn,te,ne,dt,Xt).pipe((0,ut.K)(Wn=>{if(Wn instanceof Er)return(0,V.of)(null);throw Wn}))),(0,Ie.P)(Yn=>!!Yn),(0,ut.K)(Yn=>{if(Dd(Yn))return function Xa($,ee,j){return 0===ee.length&&!$.children[j]}(te,ne,dt)?(0,V.of)([]):ns(te);throw Yn}))}processSegmentAgainstRoute(ee,j,te,ne,dt,Xt,Yn){return function $c($,ee,j,te){return!!(Is($)===te||te!==Ve&&yc(ee,j,$))&&("**"===$.path||Bs(ee,$,j).matched)}(te,ne,dt,Xt)?void 0===te.redirectTo?this.matchSegmentAgainstRoute(ee,ne,te,dt,Xt,Yn):Yn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ee,ne,j,te,dt,Xt):ns(ne):ns(ne)}expandSegmentAgainstRouteUsingRedirect(ee,j,te,ne,dt,Xt){return"**"===ne.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ee,te,ne,Xt):this.expandRegularSegmentAgainstRouteUsingRedirect(ee,j,te,ne,dt,Xt)}expandWildCardWithParamsAgainstRouteUsingRedirect(ee,j,te,ne){const dt=this.applyRedirects.applyRedirectCommands([],te.redirectTo,{});return te.redirectTo.startsWith("/")?Ja(dt):this.applyRedirects.lineralizeSegments(te,dt).pipe((0,It.z)(Xt=>{const Yn=new Zi(Xt,{});return this.processSegment(ee,j,Yn,Xt,ne,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ee,j,te,ne,dt,Xt){const{matched:Yn,consumedSegments:Wn,remainingSegments:Ki,positionalParamSegments:Go}=Bs(j,ne,dt);if(!Yn)return ns(j);const is=this.applyRedirects.applyRedirectCommands(Wn,ne.redirectTo,Go);return ne.redirectTo.startsWith("/")?Ja(is):this.applyRedirects.lineralizeSegments(ne,is).pipe((0,It.z)(Yo=>this.processSegment(ee,te,j,Yo.concat(Ki),Xt,!1)))}matchSegmentAgainstRoute(ee,j,te,ne,dt,Xt){let Yn;if("**"===te.path){const Wn=ne.length>0?U(ne).parameters:{},Ki=new dl(ne,Wn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gl(te),Is(te),te.component??te._loadedComponent??null,te,su(te));Yn=(0,V.of)({snapshot:Ki,consumedSegments:[],remainingSegments:[]}),j.children={}}else Yn=ql(j,te,ne,ee).pipe((0,pt.U)(({matched:Wn,consumedSegments:Ki,remainingSegments:Go,parameters:is})=>Wn?{snapshot:new dl(Ki,is,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gl(te),Is(te),te.component??te._loadedComponent??null,te,su(te)),consumedSegments:Ki,remainingSegments:Go}:null));return Yn.pipe((0,Pe.w)(Wn=>null===Wn?ns(j):this.getChildConfig(ee=te._injector??ee,te,ne).pipe((0,Pe.w)(({routes:Ki})=>{const Go=te._loadedInjector??ee,{snapshot:is,consumedSegments:Yo,remainingSegments:fl}=Wn,{segmentGroup:Bl,slicedSegments:Tl}=Ic(j,Yo,fl,Ki);if(0===Tl.length&&Bl.hasChildren())return this.processChildren(Go,Ki,Bl).pipe((0,pt.U)(f=>null===f?null:[new Ni(is,f)]));if(0===Ki.length&&0===Tl.length)return(0,V.of)([new Ni(is,[])]);const zl=Is(te)===dt;return this.processSegment(Go,Ki,Bl,Tl,zl?Ve:dt,!0).pipe((0,pt.U)(f=>[new Ni(is,f)]))}))))}getChildConfig(ee,j,te){return j.children?(0,V.of)({routes:j.children,injector:ee}):j.loadChildren?void 0!==j._loadedRoutes?(0,V.of)({routes:j._loadedRoutes,injector:j._loadedInjector}):function Yl($,ee,j,te){const ne=ee.canLoad;if(void 0===ne||0===ne.length)return(0,V.of)(!0);const dt=ne.map(Xt=>{const Yn=As(Xt,$);return Se(function gc($){return $&&qa($.canLoad)}(Yn)?Yn.canLoad(ee,j):$.runInContext(()=>Yn(ee,j)))});return(0,V.of)(dt).pipe(je(),Ys())}(ee,j,te).pipe((0,It.z)(ne=>ne?this.configLoader.loadChildren(ee,j).pipe((0,Oe.b)(dt=>{j._loadedRoutes=dt.routes,j._loadedInjector=dt.injector})):function mc($){return(0,J._)(ga(!1,3))}())):(0,V.of)({routes:[],injector:ee})}}function Ad($){const ee=$.value.routeConfig;return ee&&""===ee.path}function kd($){const ee=[],j=new Set;for(const te of $){if(!Ad(te)){ee.push(te);continue}const ne=ee.find(dt=>te.value.routeConfig===dt.value.routeConfig);void 0!==ne?(ne.children.push(...te.children),j.add(ne)):ee.push(te)}for(const te of j){const ne=kd(te.children);ee.push(new Ni(te.value,ne))}return ee.filter(te=>!j.has(te))}function gl($){return $.data||{}}function su($){return $.resolve||{}}function Qa($){return"string"==typeof $.title||null===$.title}function K($){return(0,Pe.w)(ee=>{const j=$(ee);return j?(0,T.D)(j).pipe((0,pt.U)(()=>ee)):(0,V.of)(ee)})}const Ye=new a.OlP("ROUTES");let Me=(()=>{class ${constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(j){if(this.componentLoaders.get(j))return this.componentLoaders.get(j);if(j._loadedComponent)return(0,V.of)(j._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(j);const te=Se(j.loadComponent()).pipe((0,pt.U)(Fn),(0,Oe.b)(dt=>{this.onLoadEndListener&&this.onLoadEndListener(j),j._loadedComponent=dt}),(0,at.x)(()=>{this.componentLoaders.delete(j)})),ne=new A(te,()=>new pe.x).pipe(he());return this.componentLoaders.set(j,ne),ne}loadChildren(j,te){if(this.childrenLoaders.get(te))return this.childrenLoaders.get(te);if(te._loadedRoutes)return(0,V.of)({routes:te._loadedRoutes,injector:te._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(te);const dt=function ze($,ee,j,te){return Se($.loadChildren()).pipe((0,pt.U)(Fn),(0,It.z)(ne=>ne instanceof a.YKP||Array.isArray(ne)?(0,V.of)(ne):(0,T.D)(ee.compileModuleAsync(ne))),(0,pt.U)(ne=>{te&&te($);let dt,Xt,Yn=!1;return Array.isArray(ne)?(Xt=ne,!0):(dt=ne.create(j).injector,Xt=dt.get(Ye,[],{optional:!0,self:!0}).flat()),{routes:Xt.map(Rl),injector:dt}}))}(te,this.compiler,j,this.onLoadEndListener).pipe((0,at.x)(()=>{this.childrenLoaders.delete(te)})),Xt=new A(dt,()=>new pe.x).pipe(he());return this.childrenLoaders.set(te,Xt),Xt}static#e=this.\u0275fac=function(te){return new(te||$)};static#t=this.\u0275prov=a.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();function Fn($){return function Kt($){return $&&"object"==typeof $&&"default"in $}($)?$.default:$}let Un=(()=>{class ${get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pe.x,this.transitionAbortSubject=new pe.x,this.configLoader=(0,a.f3M)(Me),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(Mo),this.rootContexts=(0,a.f3M)(mo),this.inputBindingEnabled=null!==(0,a.f3M)(ts,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,V.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ne=>this.events.next(new si(ne)),this.configLoader.onLoadStartListener=ne=>this.events.next(new ni(ne))}complete(){this.transitions?.complete()}handleNavigationRequest(j){const te=++this.navigationId;this.transitions?.next({...this.transitions.value,...j,id:te})}setupNavigations(j,te,ne){return this.transitions=new ie.X({id:0,currentUrlTree:te,currentRawUrl:te,currentBrowserUrl:te,extractedUrl:j.urlHandlingStrategy.extract(te),urlAfterRedirects:j.urlHandlingStrategy.extract(te),rawUrl:te,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kr,restoredState:null,currentSnapshot:ne.snapshot,targetSnapshot:null,currentRouterState:ne,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,wt.h)(dt=>0!==dt.id),(0,pt.U)(dt=>({...dt,extractedUrl:j.urlHandlingStrategy.extract(dt.rawUrl)})),(0,Pe.w)(dt=>{this.currentTransition=dt;let Xt=!1,Yn=!1;return(0,V.of)(dt).pipe((0,Oe.b)(Wn=>{this.currentNavigation={id:Wn.id,initialUrl:Wn.rawUrl,extractedUrl:Wn.extractedUrl,trigger:Wn.source,extras:Wn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pe.w)(Wn=>{const Ki=Wn.currentBrowserUrl.toString(),Go=!j.navigated||Wn.extractedUrl.toString()!==Ki||Ki!==Wn.currentUrlTree.toString();if(!Go&&"reload"!==(Wn.extras.onSameUrlNavigation??j.onSameUrlNavigation)){const Yo="";return this.events.next(new nt(Wn.id,this.urlSerializer.serialize(Wn.rawUrl),Yo,0)),Wn.resolve(null),fe.E}if(j.urlHandlingStrategy.shouldProcessUrl(Wn.rawUrl))return(0,V.of)(Wn).pipe((0,Pe.w)(Yo=>{const fl=this.transitions?.getValue();return this.events.next(new ys(Yo.id,this.urlSerializer.serialize(Yo.extractedUrl),Yo.source,Yo.restoredState)),fl!==this.transitions?.getValue()?fe.E:Promise.resolve(Yo)}),function Zc($,ee,j,te,ne,dt){return(0,It.z)(Xt=>function Ac($,ee,j,te,ne,dt,Xt="emptyOnly"){return new ho($,ee,j,te,ne,Xt,dt).recognize()}($,ee,j,te,Xt.extractedUrl,ne,dt).pipe((0,pt.U)(({state:Yn,tree:Wn})=>({...Xt,targetSnapshot:Yn,urlAfterRedirects:Wn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,j.config,this.urlSerializer,j.paramsInheritanceStrategy),(0,Oe.b)(Yo=>{dt.targetSnapshot=Yo.targetSnapshot,dt.urlAfterRedirects=Yo.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Yo.urlAfterRedirects};const fl=new ln(Yo.id,this.urlSerializer.serialize(Yo.extractedUrl),this.urlSerializer.serialize(Yo.urlAfterRedirects),Yo.targetSnapshot);this.events.next(fl)}));if(Go&&j.urlHandlingStrategy.shouldProcessUrl(Wn.currentRawUrl)){const{id:Yo,extractedUrl:fl,source:Bl,restoredState:Tl,extras:zl}=Wn,f=new ys(Yo,this.urlSerializer.serialize(fl),Bl,Tl);this.events.next(f);const o=qr(0,this.rootComponentType).snapshot;return this.currentTransition=dt={...Wn,targetSnapshot:o,urlAfterRedirects:fl,extras:{...zl,skipLocationChange:!1,replaceUrl:!1}},(0,V.of)(dt)}{const Yo="";return this.events.next(new nt(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),Yo,1)),Wn.resolve(null),fe.E}}),(0,Oe.b)(Wn=>{const Ki=new Gn(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects),Wn.targetSnapshot);this.events.next(Ki)}),(0,pt.U)(Wn=>(this.currentTransition=dt={...Wn,guards:bs(Wn.targetSnapshot,Wn.currentSnapshot,this.rootContexts)},dt)),function ye($,ee){return(0,It.z)(j=>{const{targetSnapshot:te,currentSnapshot:ne,guards:{canActivateChecks:dt,canDeactivateChecks:Xt}}=j;return 0===Xt.length&&0===dt.length?(0,V.of)({...j,guardsResult:!0}):function mt($,ee,j,te){return(0,T.D)($).pipe((0,It.z)(ne=>function Ba($,ee,j,te,ne){const dt=ee&&ee.routeConfig?ee.routeConfig.canDeactivate:null;if(!dt||0===dt.length)return(0,V.of)(!0);const Xt=dt.map(Yn=>{const Wn=Na(ee)??ne,Ki=As(Yn,Wn);return Se(function tu($){return $&&qa($.canDeactivate)}(Ki)?Ki.canDeactivate($,ee,j,te):Wn.runInContext(()=>Ki($,ee,j,te))).pipe((0,Ie.P)())});return(0,V.of)(Xt).pipe(je())}(ne.component,ne.route,j,ee,te)),(0,Ie.P)(ne=>!0!==ne,!0))}(Xt,te,ne,$).pipe((0,It.z)(Yn=>Yn&&function nr($){return"boolean"==typeof $}(Yn)?function vn($,ee,j,te){return(0,T.D)(ee).pipe((0,L.b)(ne=>(0,me.z)(function Po($,ee){return null!==$&&ee&&ee(new ki($)),(0,V.of)(!0)}(ne.route.parent,te),function ao($,ee){return null!==$&&ee&&ee(new uo($)),(0,V.of)(!0)}(ne.route,te),function _o($,ee,j){const te=ee[ee.length-1],dt=ee.slice(0,ee.length-1).reverse().map(Xt=>function Wl($){const ee=$.routeConfig?$.routeConfig.canActivateChild:null;return ee&&0!==ee.length?{node:$,guards:ee}:null}(Xt)).filter(Xt=>null!==Xt).map(Xt=>be(()=>{const Yn=Xt.guards.map(Wn=>{const Ki=Na(Xt.node)??j,Go=As(Wn,Ki);return Se(function ad($){return $&&qa($.canActivateChild)}(Go)?Go.canActivateChild(te,$):Ki.runInContext(()=>Go(te,$))).pipe((0,Ie.P)())});return(0,V.of)(Yn).pipe(je())}));return(0,V.of)(dt).pipe(je())}($,ne.path,j),function Dr($,ee,j){const te=ee.routeConfig?ee.routeConfig.canActivate:null;if(!te||0===te.length)return(0,V.of)(!0);const ne=te.map(dt=>be(()=>{const Xt=Na(ee)??j,Yn=As(dt,Xt);return Se(function Vc($){return $&&qa($.canActivate)}(Yn)?Yn.canActivate(ee,$):Xt.runInContext(()=>Yn(ee,$))).pipe((0,Ie.P)())}));return(0,V.of)(ne).pipe(je())}($,ne.route,j))),(0,Ie.P)(ne=>!0!==ne,!0))}(te,dt,$,ee):(0,V.of)(Yn)),(0,pt.U)(Yn=>({...j,guardsResult:Yn})))})}(this.environmentInjector,Wn=>this.events.next(Wn)),(0,Oe.b)(Wn=>{if(dt.guardsResult=Wn.guardsResult,yn(Wn.guardsResult))throw $s(0,Wn.guardsResult);const Ki=new Tt(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects),Wn.targetSnapshot,!!Wn.guardsResult);this.events.next(Ki)}),(0,wt.h)(Wn=>!!Wn.guardsResult||(this.cancelNavigationTransition(Wn,"",3),!1)),K(Wn=>{if(Wn.guards.canActivateChecks.length)return(0,V.of)(Wn).pipe((0,Oe.b)(Ki=>{const Go=new sn(Ki.id,this.urlSerializer.serialize(Ki.extractedUrl),this.urlSerializer.serialize(Ki.urlAfterRedirects),Ki.targetSnapshot);this.events.next(Go)}),(0,Pe.w)(Ki=>{let Go=!1;return(0,V.of)(Ki).pipe(function vc($,ee){return(0,It.z)(j=>{const{targetSnapshot:te,guards:{canActivateChecks:ne}}=j;if(!ne.length)return(0,V.of)(j);let dt=0;return(0,T.D)(ne).pipe((0,L.b)(Xt=>function Du($,ee,j,te){const ne=$.routeConfig,dt=$._resolve;return void 0!==ne?.title&&!Qa(ne)&&(dt[St]=ne.title),function Ld($,ee,j,te){const ne=function Nl($){return[...Object.keys($),...Object.getOwnPropertySymbols($)]}($);if(0===ne.length)return(0,V.of)({});const dt={};return(0,T.D)(ne).pipe((0,It.z)(Xt=>function bc($,ee,j,te){const ne=Na(ee)??te,dt=As($,ne);return Se(dt.resolve?dt.resolve(ee,j):ne.runInContext(()=>dt(ee,j)))}($[Xt],ee,j,te).pipe((0,Ie.P)(),(0,Oe.b)(Yn=>{dt[Xt]=Yn}))),bt(1),(0,yt.h)(dt),(0,ut.K)(Xt=>Dd(Xt)?fe.E:(0,J._)(Xt)))}(dt,$,ee,te).pipe((0,pt.U)(Xt=>($._resolvedData=Xt,$.data=cl($,j).resolve,ne&&Qa(ne)&&($.data[St]=ne.title),null)))}(Xt.route,te,$,ee)),(0,Oe.b)(()=>dt++),bt(1),(0,It.z)(Xt=>dt===ne.length?(0,V.of)(j):fe.E))})}(j.paramsInheritanceStrategy,this.environmentInjector),(0,Oe.b)({next:()=>Go=!0,complete:()=>{Go||this.cancelNavigationTransition(Ki,"",2)}}))}),(0,Oe.b)(Ki=>{const Go=new Tn(Ki.id,this.urlSerializer.serialize(Ki.extractedUrl),this.urlSerializer.serialize(Ki.urlAfterRedirects),Ki.targetSnapshot);this.events.next(Go)}))}),K(Wn=>{const Ki=Go=>{const is=[];Go.routeConfig?.loadComponent&&!Go.routeConfig._loadedComponent&&is.push(this.configLoader.loadComponent(Go.routeConfig).pipe((0,Oe.b)(Yo=>{Go.component=Yo}),(0,pt.U)(()=>{})));for(const Yo of Go.children)is.push(...Ki(Yo));return is};return(0,Te.a)(Ki(Wn.targetSnapshot.root)).pipe((0,an.d)(),(0,Be.q)(1))}),K(()=>this.afterPreactivation()),(0,pt.U)(Wn=>{const Ki=function Vr($,ee,j){const te=Ds($,ee._root,j?j._root:void 0);return new rs(te,ee)}(j.routeReuseStrategy,Wn.targetSnapshot,Wn.currentRouterState);return this.currentTransition=dt={...Wn,targetRouterState:Ki},dt}),(0,Oe.b)(()=>{this.events.next(new On)}),(($,ee,j,te)=>(0,pt.U)(ne=>(new ss(ee,ne.targetRouterState,ne.currentRouterState,j,te).activate($),ne)))(this.rootContexts,j.routeReuseStrategy,Wn=>this.events.next(Wn),this.inputBindingEnabled),(0,Be.q)(1),(0,Oe.b)({next:Wn=>{Xt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vs(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects))),j.titleStrategy?.updateTitle(Wn.targetRouterState.snapshot),Wn.resolve(!0)},complete:()=>{Xt=!0}}),(0,Xe.R)(this.transitionAbortSubject.pipe((0,Oe.b)(Wn=>{throw Wn}))),(0,at.x)(()=>{Xt||Yn||this.cancelNavigationTransition(dt,"",1),this.currentNavigation?.id===dt.id&&(this.currentNavigation=null)}),(0,ut.K)(Wn=>{if(Yn=!0,ul(Wn))this.events.next(new et(dt.id,this.urlSerializer.serialize(dt.extractedUrl),Wn.message,Wn.cancellationCode)),function Sr($){return ul($)&&yn($.url)}(Wn)?this.events.next(new Rn(Wn.url)):dt.resolve(!1);else{this.events.next(new rn(dt.id,this.urlSerializer.serialize(dt.extractedUrl),Wn,dt.targetSnapshot??void 0));try{dt.resolve(j.errorHandler(Wn))}catch(Ki){dt.reject(Ki)}}return fe.E}))}))}cancelNavigationTransition(j,te,ne){const dt=new et(j.id,this.urlSerializer.serialize(j.extractedUrl),te,ne);this.events.next(dt),j.resolve(!1)}static#e=this.\u0275fac=function(te){return new(te||$)};static#t=this.\u0275prov=a.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();function Qi($){return $!==kr}let hr=(()=>{class ${buildTitle(j){let te,ne=j.root;for(;void 0!==ne;)te=this.getResolvedTitleForRoute(ne)??te,ne=ne.children.find(dt=>dt.outlet===Ve);return te}getResolvedTitleForRoute(j){return j.data[St]}static#e=this.\u0275fac=function(te){return new(te||$)};static#t=this.\u0275prov=a.Yz7({token:$,factory:function(){return(0,a.f3M)(Ir)},providedIn:"root"})}return $})(),Ir=(()=>{class $ extends hr{constructor(j){super(),this.title=j}updateTitle(j){const te=this.buildTitle(j);void 0!==te&&this.title.setTitle(te)}static#e=this.\u0275fac=function(te){return new(te||$)(a.LFG(ve.Dx))};static#t=this.\u0275prov=a.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})(),Qo=(()=>{class ${static#e=this.\u0275fac=function(te){return new(te||$)};static#t=this.\u0275prov=a.Yz7({token:$,factory:function(){return(0,a.f3M)(Jr)},providedIn:"root"})}return $})();class Ro{shouldDetach(ee){return!1}store(ee,j){}shouldAttach(ee){return!1}retrieve(ee){return null}shouldReuseRoute(ee,j){return ee.routeConfig===j.routeConfig}}let Jr=(()=>{class $ extends Ro{static#e=this.\u0275fac=function(){let j;return function(ne){return(j||(j=a.n5z($)))(ne||$)}}();static#t=this.\u0275prov=a.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();const or=new a.OlP("",{providedIn:"root",factory:()=>({})});let ls=(()=>{class ${static#e=this.\u0275fac=function(te){return new(te||$)};static#t=this.\u0275prov=a.Yz7({token:$,factory:function(){return(0,a.f3M)(za)},providedIn:"root"})}return $})(),za=(()=>{class ${shouldProcessUrl(j){return!0}extract(j){return j}merge(j,te){return j}static#e=this.\u0275fac=function(te){return new(te||$)};static#t=this.\u0275prov=a.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();var Ts=function($){return $[$.COMPLETE=0]="COMPLETE",$[$.FAILED=1]="FAILED",$[$.REDIRECTING=2]="REDIRECTING",$}(Ts||{});function Pa($,ee){$.events.pipe((0,wt.h)(j=>j instanceof vs||j instanceof et||j instanceof rn||j instanceof nt),(0,pt.U)(j=>j instanceof vs||j instanceof nt?Ts.COMPLETE:j instanceof et&&(0===j.code||1===j.code)?Ts.REDIRECTING:Ts.FAILED),(0,wt.h)(j=>j!==Ts.REDIRECTING),(0,Be.q)(1)).subscribe(()=>{ee()})}function qs($){throw $}function oa($,ee,j){return ee.parse("/")}const yr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ra=(()=>{class ${get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this._events=new pe.x,this.options=(0,a.f3M)(or,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||qs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oa,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(ls),this.routeReuseStrategy=(0,a.f3M)(Qo),this.titleStrategy=(0,a.f3M)(hr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(Ye,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(Un),this.urlSerializer=(0,a.f3M)(Mo),this.location=(0,a.f3M)(ge.Ye),this.componentInputBindingEnabled=!!(0,a.f3M)(ts,{optional:!0}),this.eventsSubscription=new ke.w0,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new to,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(j=>{this.lastSuccessfulId=j.id,this.currentPageId=this.browserPageId},j=>{this.console.warn(`Unhandled Navigation Error: ${j}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const j=this.navigationTransitions.events.subscribe(te=>{try{const{currentTransition:ne}=this.navigationTransitions;if(null===ne)return void(sa(te)&&this._events.next(te));if(te instanceof ys)Qi(ne.source)&&(this.browserUrlTree=ne.extractedUrl);else if(te instanceof nt)this.rawUrlTree=ne.rawUrl;else if(te instanceof ln){if("eager"===this.urlUpdateStrategy){if(!ne.extras.skipLocationChange){const dt=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl);this.setBrowserUrl(dt,ne)}this.browserUrlTree=ne.urlAfterRedirects}}else if(te instanceof On)this.currentUrlTree=ne.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl),this.routerState=ne.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ne.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ne),this.browserUrlTree=ne.urlAfterRedirects);else if(te instanceof et)0!==te.code&&1!==te.code&&(this.navigated=!0),(3===te.code||2===te.code)&&this.restoreHistory(ne);else if(te instanceof Rn){const dt=this.urlHandlingStrategy.merge(te.url,ne.currentRawUrl),Xt={skipLocationChange:ne.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qi(ne.source)};this.scheduleNavigation(dt,kr,null,Xt,{resolve:ne.resolve,reject:ne.reject,promise:ne.promise})}te instanceof rn&&this.restoreHistory(ne,!0),te instanceof vs&&(this.navigated=!0),sa(te)&&this._events.next(te)}catch(ne){this.navigationTransitions.transitionAbortSubject.next(ne)}});this.eventsSubscription.add(j)}resetRootComponentType(j){this.routerState.root.component=j,this.navigationTransitions.rootComponentType=j}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const j=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),kr,j)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(j=>{const te="popstate"===j.type?"popstate":"hashchange";"popstate"===te&&setTimeout(()=>{this.navigateToSyncWithBrowser(j.url,te,j.state)},0)}))}navigateToSyncWithBrowser(j,te,ne){const dt={replaceUrl:!0},Xt=ne?.navigationId?ne:null;if(ne){const Wn={...ne};delete Wn.navigationId,delete Wn.\u0275routerPageId,0!==Object.keys(Wn).length&&(dt.state=Wn)}const Yn=this.parseUrl(j);this.scheduleNavigation(Yn,te,Xt,dt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(j){this.config=j.map(Rl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(j,te={}){const{relativeTo:ne,queryParams:dt,fragment:Xt,queryParamsHandling:Yn,preserveFragment:Wn}=te,Ki=Wn?this.currentUrlTree.fragment:Xt;let is,Go=null;switch(Yn){case"merge":Go={...this.currentUrlTree.queryParams,...dt};break;case"preserve":Go=this.currentUrlTree.queryParams;break;default:Go=dt||null}null!==Go&&(Go=this.removeEmptyProps(Go));try{is=At(ne?ne.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof j[0]||!j[0].startsWith("/"))&&(j=[]),is=this.currentUrlTree.root}return Jt(is,j,Go,Ki??null)}navigateByUrl(j,te={skipLocationChange:!1}){const ne=yn(j)?j:this.parseUrl(j),dt=this.urlHandlingStrategy.merge(ne,this.rawUrlTree);return this.scheduleNavigation(dt,kr,null,te)}navigate(j,te={skipLocationChange:!1}){return function mi($){for(let ee=0;ee<$.length;ee++)if(null==$[ee])throw new a.vHH(4008,!1)}(j),this.navigateByUrl(this.createUrlTree(j,te),te)}serializeUrl(j){return this.urlSerializer.serialize(j)}parseUrl(j){let te;try{te=this.urlSerializer.parse(j)}catch(ne){te=this.malformedUriErrorHandler(ne,this.urlSerializer,j)}return te}isActive(j,te){let ne;if(ne=!0===te?{...yr}:!1===te?{...xl}:te,yn(j))return jn(this.currentUrlTree,j,ne);const dt=this.parseUrl(j);return jn(this.currentUrlTree,dt,ne)}removeEmptyProps(j){return Object.keys(j).reduce((te,ne)=>{const dt=j[ne];return null!=dt&&(te[ne]=dt),te},{})}scheduleNavigation(j,te,ne,dt,Xt){if(this.disposed)return Promise.resolve(!1);let Yn,Wn,Ki;Xt?(Yn=Xt.resolve,Wn=Xt.reject,Ki=Xt.promise):Ki=new Promise((is,Yo)=>{Yn=is,Wn=Yo});const Go=this.pendingTasks.add();return Pa(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Go))}),this.navigationTransitions.handleNavigationRequest({source:te,restoredState:ne,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:j,extras:dt,resolve:Yn,reject:Wn,promise:Ki,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ki.catch(is=>Promise.reject(is))}setBrowserUrl(j,te){const ne=this.urlSerializer.serialize(j);if(this.location.isCurrentPathEqualTo(ne)||te.extras.replaceUrl){const Xt={...te.extras.state,...this.generateNgRouterState(te.id,this.browserPageId)};this.location.replaceState(ne,"",Xt)}else{const dt={...te.extras.state,...this.generateNgRouterState(te.id,this.browserPageId+1)};this.location.go(ne,"",dt)}}restoreHistory(j,te=!1){if("computed"===this.canceledNavigationResolution){const dt=this.currentPageId-this.browserPageId;0!==dt?this.location.historyGo(dt):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===dt&&(this.resetState(j),this.browserUrlTree=j.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(te&&this.resetState(j),this.resetUrlToCurrentUrlTree())}resetState(j){this.routerState=j.currentRouterState,this.currentUrlTree=j.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,j.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(j,te){return"computed"===this.canceledNavigationResolution?{navigationId:j,\u0275routerPageId:te}:{navigationId:j}}static#e=this.\u0275fac=function(te){return new(te||$)};static#t=this.\u0275prov=a.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();function sa($){return!($ instanceof On||$ instanceof Rn)}let Jl=(()=>{class ${constructor(j,te,ne,dt,Xt,Yn){this.router=j,this.route=te,this.tabIndexAttribute=ne,this.renderer=dt,this.el=Xt,this.locationStrategy=Yn,this.href=null,this.commands=null,this.onChanges=new pe.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Wn=Xt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Wn||"area"===Wn,this.isAnchorElement?this.subscription=j.events.subscribe(Ki=>{Ki instanceof vs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(j){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",j)}ngOnChanges(j){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(j){null!=j?(this.commands=Array.isArray(j)?j:[j],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(j,te,ne,dt,Xt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==j||te||ne||dt||Xt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const j=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",j)}applyAttributeValue(j,te){const ne=this.renderer,dt=this.el.nativeElement;null!==te?ne.setAttribute(dt,j,te):ne.removeAttribute(dt,j)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(te){return new(te||$)(a.Y36(ra),a.Y36(Ka),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(ge.S$))};static#t=this.\u0275dir=a.lG2({type:$,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(te,ne){1&te&&a.NdJ("click",function(Xt){return ne.onClick(Xt.button,Xt.ctrlKey,Xt.shiftKey,Xt.altKey,Xt.metaKey)}),2&te&&a.uIk("target",ne.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",a.VuI],replaceUrl:["replaceUrl","replaceUrl",a.VuI],routerLink:"routerLink"},standalone:!0,features:[a.Xq5,a.TTD]})}return $})();class Cs{}let Eu=(()=>{class ${constructor(j,te,ne,dt,Xt){this.router=j,this.injector=ne,this.preloadingStrategy=dt,this.loader=Xt}setUpPreloading(){this.subscription=this.router.events.pipe((0,wt.h)(j=>j instanceof vs),(0,L.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(j,te){const ne=[];for(const dt of te){dt.providers&&!dt._injector&&(dt._injector=(0,a.MMx)(dt.providers,j,`Route: ${dt.path}`));const Xt=dt._injector??j,Yn=dt._loadedInjector??Xt;(dt.loadChildren&&!dt._loadedRoutes&&void 0===dt.canLoad||dt.loadComponent&&!dt._loadedComponent)&&ne.push(this.preloadConfig(Xt,dt)),(dt.children||dt._loadedRoutes)&&ne.push(this.processRoutes(Yn,dt.children??dt._loadedRoutes))}return(0,T.D)(ne).pipe((0,Zt.J)())}preloadConfig(j,te){return this.preloadingStrategy.preload(te,()=>{let ne;ne=te.loadChildren&&void 0===te.canLoad?this.loader.loadChildren(j,te):(0,V.of)(null);const dt=ne.pipe((0,It.z)(Xt=>null===Xt?(0,V.of)(void 0):(te._loadedRoutes=Xt.routes,te._loadedInjector=Xt.injector,this.processRoutes(Xt.injector??j,Xt.routes))));if(te.loadComponent&&!te._loadedComponent){const Xt=this.loader.loadComponent(te);return(0,T.D)([dt,Xt]).pipe((0,Zt.J)())}return dt})}static#e=this.\u0275fac=function(te){return new(te||$)(a.LFG(ra),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Cs),a.LFG(Me))};static#t=this.\u0275prov=a.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();const Wc=new a.OlP("");let au=(()=>{class ${constructor(j,te,ne,dt,Xt={}){this.urlSerializer=j,this.transitions=te,this.viewportScroller=ne,this.zone=dt,this.options=Xt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Xt.scrollPositionRestoration=Xt.scrollPositionRestoration||"disabled",Xt.anchorScrolling=Xt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(j=>{j instanceof ys?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=j.navigationTrigger,this.restoredId=j.restoredState?j.restoredState.navigationId:0):j instanceof vs?(this.lastId=j.id,this.scheduleScrollEvent(j,this.urlSerializer.parse(j.urlAfterRedirects).fragment)):j instanceof nt&&0===j.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(j,this.urlSerializer.parse(j.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(j=>{j instanceof Xn&&(j.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(j.position):j.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(j.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(j,te){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xn(j,"popstate"===this.lastSource?this.store[this.restoredId]:null,te))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(te){a.$Z()};static#t=this.\u0275prov=a.Yz7({token:$,factory:$.\u0275fac})}return $})();function va($,ee){return{\u0275kind:$,\u0275providers:ee}}function To(){const $=(0,a.f3M)(a.zs3);return ee=>{const j=$.get(a.z2F);if(ee!==j.components[0])return;const te=$.get(ra),ne=$.get(Fl);1===$.get(Cc)&&te.initialNavigation(),$.get(dd,null,a.XFs.Optional)?.setUpPreloading(),$.get(Wc,null,a.XFs.Optional)?.init(),te.resetRootComponentType(j.componentTypes[0]),ne.closed||(ne.next(),ne.complete(),ne.unsubscribe())}}const Fl=new a.OlP("",{factory:()=>new pe.x}),Cc=new a.OlP("",{providedIn:"root",factory:()=>1}),dd=new a.OlP("");function Rc($){return va(0,[{provide:dd,useExisting:Eu},{provide:Cs,useExisting:$}])}const _i=new a.OlP("ROUTER_FORROOT_GUARD"),vr=[ge.Ye,{provide:Mo,useClass:no},ra,mo,{provide:Ka,useFactory:function Ol($){return $.routerState.root},deps:[ra]},Me,[]];function Ru(){return new a.PXZ("Router",ra)}let Lu=(()=>{class ${constructor(j){}static forRoot(j,te){return{ngModule:$,providers:[vr,[],{provide:Ye,multi:!0,useValue:j},{provide:_i,useFactory:Ta,deps:[[ra,new a.FiY,new a.tp0]]},{provide:or,useValue:te||{}},te?.useHash?{provide:ge.S$,useClass:ge.Do}:{provide:ge.S$,useClass:ge.b0},{provide:Wc,useFactory:()=>{const $=(0,a.f3M)(ge.EM),ee=(0,a.f3M)(a.R0b),j=(0,a.f3M)(or),te=(0,a.f3M)(Un),ne=(0,a.f3M)(Mo);return j.scrollOffset&&$.setOffset(j.scrollOffset),new au(ne,te,$,ee,j)}},te?.preloadingStrategy?Rc(te.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Ru},te?.initialNavigation?Ql(te):[],te?.bindToComponentInputs?va(8,[kl,{provide:ts,useExisting:kl}]).\u0275providers:[],[{provide:xr,useFactory:To},{provide:a.tb,multi:!0,useExisting:xr}]]}}static forChild(j){return{ngModule:$,providers:[{provide:Ye,multi:!0,useValue:j}]}}static#e=this.\u0275fac=function(te){return new(te||$)(a.LFG(_i,8))};static#t=this.\u0275mod=a.oAB({type:$});static#n=this.\u0275inj=a.cJS({})}return $})();function Ta($){return"guarded"}function Ql($){return["disabled"===$.initialNavigation?va(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const ee=(0,a.f3M)(ra);return()=>{ee.setUpLocationChangeListener()}}},{provide:Cc,useValue:2}]).\u0275providers:[],"enabledBlocking"===$.initialNavigation?va(2,[{provide:Cc,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:ee=>{const j=ee.get(ge.V_,Promise.resolve());return()=>j.then(()=>new Promise(te=>{const ne=ee.get(ra),dt=ee.get(Fl);Pa(ne,()=>{te(!0)}),ee.get(Un).afterPreactivation=()=>(te(!0),dt.closed?(0,V.of)(void 0):dt),ne.initialNavigation()}))}}]).\u0275providers:[]]}const xr=new a.OlP("")},7985:(Dt,Le,D)=>{"use strict";D.d(Le,{l:()=>s});var a=D(2628);class s extends a._{constructor(c){super(c),this.constructor=s,Object.setPrototypeOf(this,s.prototype)}}},6514:(Dt,Le,D)=>{"use strict";D.d(Le,{R:()=>oe});var a=D(1448),s=D(7985);function oe(c){if(!c||"Error"===c.name||c instanceof TypeError)throw new s.l({name:a.Z.Unknown,message:"An unknown error has occurred.",underlyingError:c})}},2522:(Dt,Le,D)=>{"use strict";D.d(Le,{t:()=>a});const a="cognito-idp"},297:(Dt,Le,D)=>{"use strict";D.d(Le,{n:()=>V});var a=D(2159),s=D(520),oe=D(1705),c=D(7228);const V={service:D(2522).t,retryDecider:(0,a.j)(s.f),computeDelay:oe.k,userAgentValue:(0,c.Zm)(),cache:"no-store"}},2273:(Dt,Le,D)=>{"use strict";D.d(Le,{x:()=>T});var a=D(5861),s=D(800),oe=D(9910);const T=(0,s.V)(oe.y,[()=>(V,ie)=>function(){var Te=(0,a.Z)(function*(me){return me.headers["cache-control"]="no-store",V(me)});return function le(me){return Te.apply(this,arguments)}}()])},54:(Dt,Le,D)=>{"use strict";D.d(Le,{o:()=>T});var a=D(5861),s=D(520),oe=D(6514),c=D(7985);const T=()=>function(){var V=(0,a.Z)(function*(ie){if(ie.statusCode>=300){const Te=yield(0,s.f)(ie);throw(0,oe.R)(Te),new c.l({name:Te.name,message:Te.message,metadata:Te.$metadata})}return(0,s.e)(ie)});return function(ie){return V.apply(this,arguments)}}()},6759:(Dt,Le,D)=>{"use strict";D.d(Le,{u:()=>a});const a=c=>(T,V)=>{const ie=s(c),Te=JSON.stringify(T);return oe(V,ie,Te)},s=c=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${c}`}),oe=({url:c},T,V)=>({headers:T,url:c,body:V,method:"POST"})},8687:(Dt,Le,D)=>{"use strict";D.d(Le,{N:()=>oe,y:()=>s});var a=D(7985);function s(c){const T=c?.split("_")[0];if(!c||c.indexOf("_")<0||!T||"string"!=typeof T)throw new a.l({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return T}function oe(c){if(!c||!c.includes(":"))throw new a.l({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return c.split(":")[0]}},5360:(Dt,Le,D)=>{"use strict";D.d(Le,{e:()=>T});var a=D(8264),s=D(7562),oe=D(2522);const T=({endpointOverride:V})=>ie=>V?{url:new a.a(V)}:(({region:V})=>({url:new a.a(`https://${oe.t}.${V}.${(0,s.b)(V)}`)}))(ie)},7503:(Dt,Le,D)=>{"use strict";D.d(Le,{Bx:()=>Pe,CA:()=>we,XD:()=>ge,Cg:()=>he});var a=D(7985);const s="UserUnAuthenticatedException";function we(It){if(!It||!It.accessToken)throw new a.l({name:s,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function he(It){if(!It||!It.idToken)throw new a.l({name:s,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}new a.l({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),new a.l({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),new a.l({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),new a.l({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const A=new a.l({name:"TokenRefreshException",message:"Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. \n\tPlease change your oauth configuration to use 'code grant' flow.",recoverySuggestion:"Please logout and change your Amplify configuration to use \"code grant\" flow. \n\tE.g { responseType: 'code' }"}),pe=new a.l({name:s,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function ge(It){if(function wt(It){return Be(It)&&!It?.refreshToken}(It))throw A;if(!function rt(It){return Be(It)&&It?.refreshToken}(It))throw pe}const Pe={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function Be(It){return It?.accessToken||It?.idToken}},1891:(Dt,Le,D)=>{"use strict";D.d(Le,{SQ:()=>c,Xb:()=>ie});var a=D(1069),s=D(3782),oe=D(2628);const c=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",T=new a.k("Hub");class V{constructor(me){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=me}_remove(me,ae){const be=this.listeners.get(me);be?this.listeners.set(me,[...be.filter(({callback:re})=>re!==ae)]):T.warn(`No listeners for ${me}`)}dispatch(me,ae,be,re){"string"==typeof me&&this.protectedChannels.indexOf(me)>-1&&(re===c||T.warn(`WARNING: ${me} is protected and dispatching on it can have unintended consequences`));const J={channel:me,payload:{...ae},source:be,patternInfo:[]};try{this._toListeners(J)}catch(fe){T.error(fe)}}listen(me,ae,be="noname"){let re;if("function"!=typeof ae)throw new oe._({name:s.z2,message:"No callback supplied to Hub"});re=ae;let J=this.listeners.get(me);return J||(J=[],this.listeners.set(me,J)),J.push({name:be,callback:re}),()=>{this._remove(me,re)}}_toListeners(me){const{channel:ae,payload:be}=me,re=this.listeners.get(ae);re&&re.forEach(J=>{T.debug(`Dispatching to ${ae} with `,be);try{J.callback(me)}catch(fe){T.error(fe)}})}}const ie=new V("__default__");new V("internal-hub")},1069:(Dt,Le,D)=>{"use strict";D.d(Le,{k:()=>c});var a=D(3782),s=function(T){return T.DEBUG="DEBUG",T.ERROR="ERROR",T.INFO="INFO",T.WARN="WARN",T.VERBOSE="VERBOSE",T.NONE="NONE",T}(s||{});const oe={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};let c=(()=>{class T{constructor(ie,Te=s.WARN){this.name=ie,this.level=Te,this._pluggables=[]}_padding(ie){return ie<10?"0"+ie:""+ie}_ts(){const ie=new Date;return[this._padding(ie.getMinutes()),this._padding(ie.getSeconds())].join(":")+"."+ie.getMilliseconds()}configure(ie){return ie?(this._config=ie,this._config):this._config}_log(ie,...Te){let le=this.level;if(T.LOG_LEVEL&&(le=T.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(le=window.LOG_LEVEL),!(oe[ie]>=oe[le]))return;let be=console.log.bind(console);ie===s.ERROR&&console.error&&(be=console.error.bind(console)),ie===s.WARN&&console.warn&&(be=console.warn.bind(console)),T.BIND_ALL_LOG_LEVELS&&(ie===s.INFO&&console.info&&(be=console.info.bind(console)),ie===s.DEBUG&&console.debug&&(be=console.debug.bind(console)));const re=`[${ie}] ${this._ts()} ${this.name}`;let J="";if(1===Te.length&&"string"==typeof Te[0])J=`${re} - ${Te[0]}`,be(J);else if(1===Te.length)J=`${re} ${Te[0]}`,be(re,Te[0]);else if("string"==typeof Te[0]){let fe=Te.slice(1);1===fe.length&&(fe=fe[0]),J=`${re} - ${Te[0]} ${fe}`,be(`${re} - ${Te[0]}`,fe)}else J=`${re} ${Te}`,be(re,Te);for(const fe of this._pluggables){const ke={message:J,timestamp:Date.now()};fe.pushLogs([ke])}}log(...ie){this._log(s.INFO,...ie)}info(...ie){this._log(s.INFO,...ie)}warn(...ie){this._log(s.WARN,...ie)}error(...ie){this._log(s.ERROR,...ie)}debug(...ie){this._log(s.DEBUG,...ie)}verbose(...ie){this._log(s.VERBOSE,...ie)}addPluggable(ie){ie&&ie.getCategoryName()===a.YG&&(this._pluggables.push(ie),ie.configure(this._config))}listPluggables(){return this._pluggables}}return T.LOG_LEVEL=null,T.BIND_ALL_LOG_LEVELS=!1,T})()},2670:(Dt,Le,D)=>{"use strict";D.d(Le,{Cj:()=>Oe,QW:()=>ut});var a=D(451);const s=()=>typeof global<"u",c=()=>typeof window<"u",T=()=>typeof document<"u",V=()=>typeof process<"u",ie=(bt,Qe)=>!!Object.keys(bt).find(jt=>jt.startsWith(Qe)),pt=[{platform:a.gQ.Expo,detectionMethod:function pe(){return s()&&typeof global.expo<"u"}},{platform:a.gQ.ReactNative,detectionMethod:function A(){return typeof navigator<"u"&&typeof navigator.product<"u"&&"ReactNative"===navigator.product}},{platform:a.gQ.NextJs,detectionMethod:function J(){return c()&&window.next&&"object"==typeof window.next}},{platform:a.gQ.Nuxt,detectionMethod:function ke(){return c()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:a.gQ.Angular,detectionMethod:function we(){const bt=!(!T()||!document.querySelector("[ng-version]")),Qe=!!(c()&&typeof window.ng<"u");return bt||Qe}},{platform:a.gQ.React,detectionMethod:function Te(){const bt=gt=>gt.startsWith("_react")||gt.startsWith("__react");return T()&&Array.from(document.querySelectorAll("[id]")).some(gt=>Object.keys(gt).find(bt))}},{platform:a.gQ.VueJs,detectionMethod:function me(){return c()&&ie(window,"__VUE")}},{platform:a.gQ.Svelte,detectionMethod:function be(){return c()&&ie(window,"__SVELTE")}},{platform:a.gQ.WebUnknown,detectionMethod:function ge(){return c()}},{platform:a.gQ.NextJsSSR,detectionMethod:function fe(){return s()&&(ie(global,"__next")||ie(global,"__NEXT"))}},{platform:a.gQ.NuxtSSR,detectionMethod:function Ce(){return s()&&typeof global.__NUXT_PATHS__<"u"}},{platform:a.gQ.ReactSSR,detectionMethod:function le(){return V()&&typeof process.env<"u"&&!!Object.keys(process.env).find(bt=>bt.includes("react"))}},{platform:a.gQ.VueJsSSR,detectionMethod:function ae(){return s()&&ie(global,"__VUE")}},{platform:a.gQ.AngularSSR,detectionMethod:function he(){return V()&&"object"==typeof process.env&&process.env.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:a.gQ.SvelteSSR,detectionMethod:function re(){return V()&&typeof process.env<"u"&&!!Object.keys(process.env).find(bt=>bt.includes("svelte"))}}];let Be;const rt=[];let wt=!1;const Oe=()=>{if(!Be){if(Be=function Pe(){return pt.find(bt=>bt.detectionMethod())?.platform||a.gQ.ServerSideUnknown}(),wt)for(;rt.length;)rt.pop()?.();else rt.forEach(bt=>{bt()});an(a.gQ.ServerSideUnknown,10),an(a.gQ.WebUnknown,10)}return Be},ut=bt=>{wt||rt.push(bt)};function an(bt,Qe){Be===bt&&!wt&&setTimeout(()=>{(function Nt(){Be=void 0})(),wt=!0,setTimeout(Oe,1e3)},Qe)}},7228:(Dt,Le,D)=>{"use strict";D.d(Le,{Zm:()=>be});var a=D(451);const s="6.14.4";var oe=D(2670);const c={},ie="aws-amplify",Te=re=>re.replace(/\+.*/,"");new class le{constructor(){this.userAgent=`${ie}/${Te(s)}`}get framework(){return(0,oe.Cj)()}get isReactNative(){return this.framework===a.gQ.ReactNative||this.framework===a.gQ.Expo}observeFrameworkChanges(J){(0,oe.QW)(J)}};const be=re=>(({category:re,action:J}={})=>{const fe=[[ie,Te(s)]];if(re&&fe.push([re,J]),fe.push(["framework",(0,oe.Cj)()]),re&&J){const ke=((re,J)=>c[re]?.[J]?.additionalDetails)(re,J);ke&&ke.forEach(Ce=>{fe.push(Ce)})}return fe})(re).map(([ke,Ce])=>ke&&Ce?`${ke}/${Ce}`:ke).join(" ")},451:(Dt,Le,D)=>{"use strict";D.d(Le,{WD:()=>s,g4:()=>V,gQ:()=>a});var a=function(fe){return fe.WebUnknown="0",fe.React="1",fe.NextJs="2",fe.Angular="3",fe.VueJs="4",fe.Nuxt="5",fe.Svelte="6",fe.ServerSideUnknown="100",fe.ReactSSR="101",fe.NextJsSSR="102",fe.AngularSSR="103",fe.VueJsSSR="104",fe.NuxtSSR="105",fe.SvelteSSR="106",fe.ReactNative="201",fe.Expo="202",fe}(a||{}),s=function(fe){return fe.AI="ai",fe.API="api",fe.Auth="auth",fe.Analytics="analytics",fe.DataStore="datastore",fe.Geo="geo",fe.InAppMessaging="inappmessaging",fe.Interactions="interactions",fe.Predictions="predictions",fe.PubSub="pubsub",fe.PushNotification="pushnotification",fe.Storage="storage",fe}(s||{}),V=function(fe){return fe.SignUp="1",fe.ConfirmSignUp="2",fe.ResendSignUpCode="3",fe.SignIn="4",fe.FetchMFAPreference="6",fe.UpdateMFAPreference="7",fe.SetUpTOTP="10",fe.VerifyTOTPSetup="11",fe.ConfirmSignIn="12",fe.DeleteUserAttributes="15",fe.DeleteUser="16",fe.UpdateUserAttributes="17",fe.FetchUserAttributes="18",fe.ConfirmUserAttribute="22",fe.SignOut="26",fe.UpdatePassword="27",fe.ResetPassword="28",fe.ConfirmResetPassword="29",fe.FederatedSignIn="30",fe.RememberDevice="32",fe.ForgetDevice="33",fe.FetchDevices="34",fe.SendUserAttributeVerificationCode="35",fe.SignInWithRedirect="36",fe.StartWebAuthnRegistration="37",fe.CompleteWebAuthnRegistration="38",fe.ListWebAuthnCredentials="39",fe.DeleteWebAuthnCredential="40",fe}(V||{})},7562:(Dt,Le,D)=>{"use strict";D.d(Le,{b:()=>oe});const a={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},s={partitions:[a,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},oe=c=>{const{partitions:T}=s;for(const{regions:V,outputs:ie,regionRegex:Te}of T){const le=new RegExp(Te);if(V.includes(c)||le.test(c))return ie.dnsSuffix}return a.outputs.dnsSuffix}},9910:(Dt,Le,D)=>{"use strict";D.d(Le,{y:()=>Ie});var a=D(5861),s=D(3213);const c=(L,Oe)=>{if(Oe?.aborted)return Promise.resolve();let ut,Nt;const an=new Promise(bt=>{Nt=bt,ut=setTimeout(bt,L)});return Oe?.addEventListener("abort",function bt(Qe){clearTimeout(ut),Oe?.removeEventListener("abort",bt),Nt()}),an},T=(L,Oe)=>{"[object Object]"===Object.prototype.toString.call(L)&&(L.$metadata={...L.$metadata??{},attempts:Oe})},ie={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Te;const le=new Uint8Array(16);function me(){if(!Te&&(Te=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Te))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Te(le)}const ae=[];for(let L=0;L<256;++L)ae.push((L+256).toString(16).slice(1));const Ce=function fe(L,Oe,ut){if(ie.randomUUID&&!Oe&&!L)return ie.randomUUID();const Nt=(L=L||{}).random||(L.rng||me)();if(Nt[6]=15&Nt[6]|64,Nt[8]=63&Nt[8]|128,Oe){ut=ut||0;for(let an=0;an<16;++an)Oe[ut+an]=Nt[an];return Oe}return function be(L,Oe=0){return ae[L[Oe+0]]+ae[L[Oe+1]]+ae[L[Oe+2]]+ae[L[Oe+3]]+"-"+ae[L[Oe+4]]+ae[L[Oe+5]]+"-"+ae[L[Oe+6]]+ae[L[Oe+7]]+"-"+ae[L[Oe+8]]+ae[L[Oe+9]]+"-"+ae[L[Oe+10]]+ae[L[Oe+11]]+ae[L[Oe+12]]+ae[L[Oe+13]]+ae[L[Oe+14]]+ae[L[Oe+15]]}(Nt)};D(2884),D(8571);var pt=D(800),Pe=D(2628),Be=D(1448);const rt=L=>{let Oe;return()=>(Oe||(Oe=L()),Oe)},wt=L=>!["HEAD","GET","DELETE"].includes(L.toUpperCase()),Ie=(0,pt.V)(function(){var L=(0,a.Z)(function*({url:Oe,method:ut,headers:Nt,body:an},{abortSignal:bt,cache:Qe,withCrossDomainCredentials:jt}){let gt;try{gt=yield fetch(Oe,{method:ut,headers:Nt,body:wt(ut)?an:void 0,signal:bt,cache:Qe,credentials:jt?"include":"same-origin"})}catch(Zt){throw Zt instanceof TypeError?new Pe._({name:Be.Z.NetworkError,message:"A network error has occurred.",underlyingError:Zt}):Zt}const yt={};return gt.headers?.forEach((Zt,ve)=>{yt[ve.toLowerCase()]=Zt}),{statusCode:gt.status,headers:yt,body:null,body:Object.assign(gt.body??{},{text:rt(()=>gt.text()),blob:rt(()=>gt.blob()),json:rt(()=>gt.json())})}});return function(ut,Nt){return L.apply(this,arguments)}}(),[({userAgentHeader:L="x-amz-user-agent",userAgentValue:Oe=""})=>ut=>function(){var Nt=(0,a.Z)(function*(bt){if(0===Oe.trim().length)return yield ut(bt);{const Qe=L.toLowerCase();return bt.headers[Qe]=bt.headers[Qe]?`${bt.headers[Qe]} ${Oe}`:Oe,yield ut(bt)}});return function an(bt){return Nt.apply(this,arguments)}}(),()=>L=>function(){var Oe=(0,a.Z)(function*(Nt){return Nt.headers[s.vt]||(Nt.headers[s.vt]=Ce()),L(Nt)});return function ut(Nt){return Oe.apply(this,arguments)}}(),({maxAttempts:L=s.tZ,retryDecider:Oe,computeDelay:ut,abortSignal:Nt})=>{if(L<1)throw new Error("maxAttempts must be greater than 0");return(an,bt)=>function(){var Qe=(0,a.Z)(function*(gt){let yt,Xe,at=bt.attemptsCount??0;const Zt=()=>{if(Xe)return T(Xe,at),Xe;throw T(yt,at),yt};for(;!Nt?.aborted&&at<L;){try{Xe=yield an(gt),yt=void 0}catch(St){yt=St,Xe=void 0}at=(bt.attemptsCount??0)>at?bt.attemptsCount??0:at+1,bt.attemptsCount=at;const{isCredentialsExpiredError:ve,retryable:Ve}=yield Oe(Xe,yt,bt);if(!Ve)return Zt();if(bt.isCredentialsExpired=!!ve,!Nt?.aborted&&at<L){const St=ut(at);yield c(St,Nt)}}if(Nt?.aborted)throw new Error("Request aborted.");return Zt()});return function jt(gt){return Qe.apply(this,arguments)}}()},({maxAttempts:L=s.tZ})=>(Oe,ut)=>function(){var Nt=(0,a.Z)(function*(bt){return bt.headers[s.zG]=`attempt=${(ut.attemptsCount??0)+1}; max=${L}`,Oe(bt)});return function an(bt){return Nt.apply(this,arguments)}}()])},1040:(Dt,Le,D)=>{"use strict";D.d(Le,{z:()=>s});var a=D(5861);const s=(oe,c,T,V)=>function(){var ie=(0,a.Z)(function*(Te,le){const me={...V,...Te},ae=yield me.endpointResolver(me,le),be=yield c(le,ae),re=yield oe(be,{...me});return T(re)});return function(Te,le){return ie.apply(this,arguments)}}()},800:(Dt,Le,D)=>{"use strict";D.d(Le,{V:()=>a});const a=(s,oe)=>(c,T)=>{const V={};let ie=Te=>s(Te,T);for(let Te=oe.length-1;Te>=0;Te--)ie=(0,oe[Te])(T)(ie,V);return ie(c)}},3213:(Dt,Le,D)=>{"use strict";D.d(Le,{tZ:()=>a,vt:()=>s,yx:()=>c,zG:()=>oe});const a=3,s="amz-sdk-invocation-id",oe="amz-sdk-request",c=3e5},2159:(Dt,Le,D)=>{"use strict";D.d(Le,{j:()=>T});var a=D(5861),s=D(1448);const oe=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],c=ae=>!!ae&&oe.includes(ae),T=ae=>function(){var be=(0,a.Z)(function*(re,J){const fe=J??(yield ae(re))??void 0,ke=fe?.code||fe?.name,Ce=re?.statusCode;return{retryable:le(J)||Te(Ce,ke)||c(ke)||me(Ce,ke)}});return function(re,J){return be.apply(this,arguments)}}(),V=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],ie=["TimeoutError","RequestTimeout","RequestTimeoutException"],Te=(ae,be)=>429===ae||!!be&&V.includes(be),le=ae=>[s.Z.NetworkError,"ERR_NETWORK"].includes(ae?.name),me=(ae,be)=>!!ae&&[500,502,503,504].includes(ae)||!!be&&ie.includes(be)},1705:(Dt,Le,D)=>{"use strict";D.d(Le,{k:()=>c});var oe=D(3213);const c=T=>{const ie=function s(T=3e5){return Te=>{const le=2**Te*100+100*Math.random();return!(le>T)&&le}}(oe.yx)(T);return!1===ie?oe.yx:ie}},520:(Dt,Le,D)=>{"use strict";D.d(Le,{e:()=>c,f:()=>oe});var a=D(5861),s=D(353);const oe=function(){var T=(0,a.Z)(function*(V){if(!V||V.statusCode<300)return;const ie=yield c(V),le=(be=>{const[re]=be.toString().split(/[,:]+/);return re.includes("#")?re.split("#")[1]:re})(V.headers["x-amzn-errortype"]??ie.code??ie.__type??"UnknownError"),ae=new Error(ie.message??ie.Message??"Unknown error");return Object.assign(ae,{name:le,$metadata:(0,s.B)(V)})});return function(ie){return T.apply(this,arguments)}}(),c=function(){var T=(0,a.Z)(function*(V){if(!V.body)throw new Error("Missing response payload");const ie=yield V.body.json();return Object.assign(ie,{$metadata:(0,s.B)(V)})});return function(ie){return T.apply(this,arguments)}}()},353:(Dt,Le,D)=>{"use strict";D.d(Le,{B:()=>a});const a=oe=>{const{headers:c,statusCode:T}=oe;return{...s(oe)?oe.$metadata:{},httpStatusCode:T,requestId:c["x-amzn-requestid"]??c["x-amzn-request-id"]??c["x-amz-request-id"],extendedRequestId:c["x-amz-id-2"],cfId:c["x-amz-cf-id"]}},s=oe=>"object"==typeof oe?.$metadata},3782:(Dt,Le,D)=>{"use strict";D.d(Le,{YG:()=>a,z2:()=>oe});const a="Logging",oe="NoHubcallbackProvidedException"},2628:(Dt,Le,D)=>{"use strict";D.d(Le,{_:()=>a});class a extends Error{constructor({message:oe,name:c,recoverySuggestion:T,underlyingError:V,metadata:ie}){if(super(oe),this.name=c,this.underlyingError=V,this.recoverySuggestion=T,ie){const{extendedRequestId:Te,httpStatusCode:le,requestId:me}=ie;this.metadata={extendedRequestId:Te,httpStatusCode:le,requestId:me}}this.constructor=a,Object.setPrototypeOf(this,a.prototype)}}},4534:(Dt,Le,D)=>{"use strict";D.d(Le,{$:()=>s});var a=D(2628);const s=(oe,c=a._)=>(T,V,ie)=>{const{message:Te,recoverySuggestion:le}=oe[V];if(!T)throw new c({name:V,message:ie?`${Te} ${ie}`:Te,recoverySuggestion:le})}},8303:(Dt,Le,D)=>{"use strict";D.d(Le,{d:()=>me});var a=D(1891);const s=ae=>{const be=Reflect.ownKeys(ae);for(const re of be){const J=ae[re];(J&&"object"==typeof J||"function"==typeof J)&&s(J)}return Object.freeze(ae)},oe=Symbol("oauth-listener");var c=D(6937),ie=(D(2884),D(8571),D(5861));class Te{configure(be,re){this.authConfig=be,this.authOptions=re}fetchAuthSession(be={}){var re=this;return(0,ie.Z)(function*(){let J,fe;const ke=yield re.getTokens(be);return ke?(fe=ke.accessToken?.payload?.sub,J=yield re.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:re.authConfig,tokens:ke,authenticated:!0,forceRefresh:be.forceRefresh})):J=yield re.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:re.authConfig,authenticated:!1,forceRefresh:be.forceRefresh}),{tokens:ke,credentials:J?.credentials,identityId:J?.identityId,userSub:fe}})()}clearCredentials(){var be=this;return(0,ie.Z)(function*(){yield be.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()})()}getTokens(be){var re=this;return(0,ie.Z)(function*(){return(yield re.authOptions?.tokenProvider?.getTokens(be))??void 0})()}}const me=new class le{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new Te}configure(be,re){const J=(0,c.h)(be);this.resourcesConfig=J,re&&(this.libraryOptions=re),this.resourcesConfig=s(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),a.Xb.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",a.SQ),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[oe](be){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?be(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=be}notifyOAuthListener(){!this.resourcesConfig.Auth?.Cognito.loginWith?.oauth||!this.oAuthListener||(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}}},8012:(Dt,Le,D)=>{"use strict";D.d(Le,{YE:()=>be,FG:()=>me,xp:()=>re});var a=D(2628);const T={convert(J,fe){let ke=J;return fe?.urlSafe&&(ke=ke.replace(/-/g,"+").replace(/_/g,"/")),(()=>{if(typeof window<"u"&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new a._({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})})()(ke)}};var V=D(4534),ie=function(J){return J.AuthTokenConfigException="AuthTokenConfigException",J.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",J.AuthUserPoolException="AuthUserPoolException",J.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",J.OAuthNotConfigureException="OAuthNotConfigureException",J}(ie||{});const le=(0,V.$)({[ie.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[ie.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[ie.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[ie.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[ie.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}});function me(J){let fe=!0;fe=!!J&&!!J.userPoolId&&!!J.userPoolClientId,le(fe,ie.AuthUserPoolException)}function be(J){le(!!J?.identityPoolId,ie.InvalidIdentityPoolIdException)}function re(J){const fe=J.split(".");if(3!==fe.length)throw new Error("Invalid token");try{const Ce=fe[1].replace(/-/g,"+").replace(/_/g,"/"),we=decodeURIComponent(T.convert(Ce).split("").map(A=>`%${`00${A.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));return{toString:()=>J,payload:JSON.parse(we)}}catch{throw new Error("Invalid token payload")}}},1448:(Dt,Le,D)=>{"use strict";D.d(Le,{Z:()=>a});var a=function(s){return s.NoEndpointId="NoEndpointId",s.PlatformNotSupported="PlatformNotSupported",s.Unknown="Unknown",s.NetworkError="NetworkError",s}(a||{})},8264:(Dt,Le,D)=>{"use strict";D.d(Le,{a:()=>a});const a=URL},6937:(Dt,Le,D)=>{"use strict";D.d(Le,{h:()=>Pe});var a=D(1069),s=D(2628);const oe=new a.k("parseAWSExports"),c={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},V=Be=>Be?.split(",")??[],ie=({domain:Be,scope:rt,redirectSignIn:wt,redirectSignOut:It,responseType:Ie})=>({domain:Be,scopes:rt,redirectSignIn:V(wt),redirectSignOut:V(It),responseType:Ie}),Te=Be=>Be.map(rt=>{const wt=rt.toLowerCase();return wt.charAt(0).toUpperCase()+wt.slice(1)});const we={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function he(Be){return we[Be]}const A={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function pe(Be=[]){return Be.reduce((rt,wt)=>(void 0!==A[wt]&&rt.push(A[wt]),rt),[])}function ge(Be){return"OPTIONAL"===Be?"optional":"REQUIRED"===Be?"on":"off"}function pt(Be){const rt={};return Be.forEach(({name:wt,bucket_name:It,aws_region:Ie,paths:L})=>{if(wt in rt)throw new Error(`Duplicate friendly name found: ${wt}. Name must be unique.`);const Oe=L?Object.entries(L).reduce((ut,[Nt,an])=>(void 0!==an&&(ut[Nt]=an),ut),{}):void 0;rt[wt]={bucketName:It,region:Ie,paths:Oe}}),rt}const Pe=Be=>Object.keys(Be).some(rt=>rt.startsWith("aws_"))?((Be={})=>{if(!Object.prototype.hasOwnProperty.call(Be,"aws_project_region"))throw new s._({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:rt,aws_appsync_authenticationType:wt,aws_appsync_graphqlEndpoint:It,aws_appsync_region:Ie,aws_bots_config:L,aws_cognito_identity_pool_id:Oe,aws_cognito_sign_up_verification_method:ut,aws_cognito_mfa_configuration:Nt,aws_cognito_mfa_types:an,aws_cognito_password_protection_settings:bt,aws_cognito_verification_mechanisms:Qe,aws_cognito_signup_attributes:jt,aws_cognito_social_providers:gt,aws_cognito_username_attributes:yt,aws_mandatory_sign_in:at,aws_mobile_analytics_app_id:Xe,aws_mobile_analytics_app_region:Zt,aws_user_files_s3_bucket:ve,aws_user_files_s3_bucket_region:Ve,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:St,aws_user_pools_id:wn,aws_user_pools_web_client_id:$t,geo:Cn,oauth:Ot,predictions:Wt,aws_cloud_logic_custom:st,Notifications:U,modelIntrospection:Se}=Be,Vt={};Xe&&(Vt.Analytics={Pinpoint:{appId:Xe,region:Zt}});const{InAppMessaging:en,Push:jn}=U??{};if(en?.AWSPinpoint||jn?.AWSPinpoint){if(en?.AWSPinpoint){const{appId:Fi,region:yo}=en.AWSPinpoint;Vt.Notifications={InAppMessaging:{Pinpoint:{appId:Fi,region:yo}}}}if(jn?.AWSPinpoint){const{appId:Fi,region:yo}=jn.AWSPinpoint;Vt.Notifications={...Vt.Notifications,PushNotification:{Pinpoint:{appId:Fi,region:yo}}}}}if(Array.isArray(L)&&(Vt.Interactions={LexV1:Object.fromEntries(L.map(Fi=>[Fi.name,Fi]))}),It){const Fi=c[wt];Fi||oe.debug(`Invalid authentication type ${wt}. Falling back to IAM.`),Vt.API={GraphQL:{endpoint:It,apiKey:rt,region:Ie,defaultAuthMode:Fi??"iam"}},Se&&(Vt.API.GraphQL.modelIntrospection=Se)}const Mi=Nt?{status:Nt&&Nt.toLowerCase(),totpEnabled:an?.includes("TOTP")??!1,smsEnabled:an?.includes("SMS")??!1}:void 0,dn=bt?{minLength:bt.passwordPolicyMinLength,requireLowercase:bt.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:bt.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:bt.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:bt.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,qn=Array.from(new Set([...Qe??[],...jt??[]])).reduce((Fi,yo)=>({...Fi,[yo.toLowerCase()]:{required:!0}}),{}),ti=yt?.includes("EMAIL")??!1,qi=yt?.includes("PHONE_NUMBER")??!1;(Oe||wn)&&(Vt.Auth={Cognito:{identityPoolId:Oe,allowGuestAccess:"enable"!==at,signUpVerificationMethod:ut,userAttributes:qn,userPoolClientId:$t,userPoolId:wn,mfa:Mi,passwordFormat:dn,loginWith:{username:!(ti||qi),email:ti,phone:qi}}});const to=!!Ot&&Object.keys(Ot).length>0,Zi=!!gt&&gt.length>0;if(Vt.Auth&&to&&(Vt.Auth.Cognito.loginWith={...Vt.Auth.Cognito.loginWith,oauth:{...ie(Ot),...Zi&&{providers:Te(gt)}}}),ve&&(Vt.Storage={S3:{bucket:ve,region:Ve,dangerouslyConnectToHttpEndpointForTesting:St}}),Cn){const{amazon_location_service:Fi}=Cn;Vt.Geo={LocationService:{maps:Fi.maps,geofenceCollections:Fi.geofenceCollections,searchIndices:Fi.search_indices,region:Fi.region}}}if(st&&(Vt.API={...Vt.API,REST:st.reduce((Fi,yo)=>{const{name:Ji,endpoint:xi,region:Mo,service:no}=yo;return{...Fi,[Ji]:{endpoint:xi,...no?{service:no}:void 0,...Mo?{region:Mo}:void 0}}},{})}),Wt){const{VoiceId:Fi}=Wt?.convert?.speechGenerator?.defaults??{};Vt.Predictions=Fi?{...Wt,convert:{...Wt.convert,speechGenerator:{...Wt.convert.speechGenerator,defaults:{voiceId:Fi}}}}:Wt}return Vt})(Be):function le(Be){const{version:rt}=Be;return!!rt&&rt.startsWith("1")}(Be)?function Ce(Be){const rt={};if(Be.storage&&(rt.Storage=function me(Be){if(!Be)return;const{bucket_name:rt,aws_region:wt,buckets:It}=Be;return{S3:{bucket:rt,region:wt,buckets:It&&pt(It)}}}(Be.storage)),Be.auth&&(rt.Auth=function ae(Be){if(!Be)return;const{user_pool_id:rt,user_pool_client_id:wt,identity_pool_id:It,password_policy:Ie,mfa_configuration:L,mfa_methods:Oe,unauthenticated_identities_enabled:ut,oauth:Nt,username_attributes:an,standard_required_attributes:bt,groups:Qe}=Be,jt={Cognito:{userPoolId:rt,userPoolClientId:wt,groups:Qe}};return It&&(jt.Cognito={...jt.Cognito,identityPoolId:It}),Ie&&(jt.Cognito.passwordFormat={requireLowercase:Ie.require_lowercase,requireNumbers:Ie.require_numbers,requireUppercase:Ie.require_uppercase,requireSpecialCharacters:Ie.require_symbols,minLength:Ie.min_length??6}),L&&(jt.Cognito.mfa={status:ge(L),smsEnabled:Oe?.includes("SMS"),totpEnabled:Oe?.includes("TOTP")}),ut&&(jt.Cognito.allowGuestAccess=ut),Nt&&(jt.Cognito.loginWith={oauth:{domain:Nt.domain,redirectSignIn:Nt.redirect_sign_in_uri,redirectSignOut:Nt.redirect_sign_out_uri,responseType:"token"===Nt.response_type?"token":"code",scopes:Nt.scopes,providers:pe(Nt.identity_providers)}}),an&&(jt.Cognito.loginWith={...jt.Cognito.loginWith,email:an.includes("email"),phone:an.includes("phone_number"),username:an.includes("username")}),bt&&(jt.Cognito.userAttributes=bt.reduce((gt,yt)=>({...gt,[yt]:{required:!0}}),{})),jt}(Be.auth)),Be.analytics&&(rt.Analytics=function be(Be){if(!Be?.amazon_pinpoint)return;const{amazon_pinpoint:rt}=Be;return{Pinpoint:{appId:rt.app_id,region:rt.aws_region}}}(Be.analytics)),Be.geo&&(rt.Geo=function re(Be){if(!Be)return;const{aws_region:rt,geofence_collections:wt,maps:It,search_indices:Ie}=Be;return{LocationService:{region:rt,searchIndices:Ie,geofenceCollections:wt,maps:It}}}(Be.geo)),Be.data&&(rt.API=function J(Be){if(!Be)return;const{aws_region:rt,default_authorization_type:wt,url:It,api_key:Ie,model_introspection:L}=Be;return{GraphQL:{endpoint:It,defaultAuthMode:he(wt),region:rt,apiKey:Ie,modelIntrospection:L}}}(Be.data)),Be.custom){const wt=function fe(Be){if(!Be?.events)return;const{url:rt,aws_region:wt,api_key:It,default_authorization_type:Ie}=Be.events;return{Events:{endpoint:rt,defaultAuthMode:he(Ie),region:wt,apiKey:It}}}(Be.custom);wt&&"Events"in wt&&(rt.API={...rt.API,...wt})}return Be.notifications&&(rt.Notifications=function ke(Be){if(!Be)return;const{aws_region:rt,channels:wt,amazon_pinpoint_app_id:It}=Be,Ie=wt.includes("IN_APP_MESSAGING"),L=wt.includes("APNS")||wt.includes("FCM");if(!Ie&&!L)return;const Oe={};return Ie&&(Oe.InAppMessaging={Pinpoint:{appId:It,region:rt}}),L&&(Oe.PushNotification={Pinpoint:{appId:It,region:rt}}),Oe}(Be.notifications)),rt}(Be):Be},1756:(Dt,Le,D)=>{"use strict";D.d(Le,{Kz:()=>dh,vL:()=>Ki,qj:()=>xr,VL:()=>de,wf:()=>Yo,M:()=>os,jt:()=>Sl,jL:()=>oo,TH:()=>uu,Vi:()=>nl,XC:()=>Tc,iD:()=>Bp,FF:()=>Bd,bz:()=>pu,IJ:()=>Eg,Pz:()=>yd,uN:()=>_d,nv:()=>ol,Is:()=>il,Vx:()=>gu,tO:()=>ms,Oz:()=>Xc,Dy:()=>qh,dT:()=>bd,Ly:()=>Ia,ZQ:()=>Hu});var a=D(5879),s=D(5592),oe=D(6232),c=D(2096),T=D(8645),V=D(2438),ie=D(9080),Te=D(3684),le=D(3019),me=D(4829),ae=D(7728),be=D(8251),re=D(9940);function J(...x){const W=(0,re.jO)(x),v=(0,ae.k)(x);return v.length?new s.y(E=>{let B=v.map(()=>[]),De=v.map(()=>!1);E.add(()=>{B=De=null});for(let Ke=0;!E.closed&&Ke<v.length;Ke++)(0,me.Xf)(v[Ke]).subscribe((0,be.x)(E,_n=>{if(B[Ke].push(_n),B.every(En=>En.length)){const En=B.map(Qn=>Qn.shift());E.next(W?W(...En):En),B.some((Qn,Kn)=>!Qn.length&&De[Kn])&&E.complete()}},()=>{De[Ke]=!0,!B[Ke].length&&E.complete()}));return()=>{B=De=null}}):oe.E}var fe=D(5211),Ce=D(9773),we=D(2181),he=D(8180),A=D(9397),pe=D(7398),ge=D(2460),pt=D(6321),Pe=D(9360),Be=D(2420),wt=D(975),It=D(1631);function Ie(x,W){return W?v=>(0,fe.z)(W.pipe((0,he.q)(1),function rt(){return(0,Pe.e)((x,W)=>{x.subscribe((0,be.x)(W,Be.Z))})}()),v.pipe(Ie(x))):(0,It.z)((v,E)=>(0,me.Xf)(x(v,E)).pipe((0,he.q)(1),(0,wt.h)(v)))}var Oe=D(4664),ut=D(7921),Nt=D(3997),an=D(836),bt=D(6814),jt=(D(1993),D(95)),gt={left:"right",right:"left",bottom:"top",top:"bottom"};function yt(x){return x.replace(/left|right|bottom|top/g,function(W){return gt[W]})}function at(x){return x.split("-")[0]}var Xe={start:"end",end:"start"};function Zt(x){return x.replace(/start|end/g,function(W){return Xe[W]})}var ve="top",Ve="bottom",St="right",wn="left",$t="auto",Cn=[ve,Ve,St,wn],Ot="start",Wt="end",U="viewport",Se="popper",en=Cn.reduce(function(x,W){return x.concat([W+"-"+Ot,W+"-"+Wt])},[]),jn=[].concat(Cn,[$t]).reduce(function(x,W){return x.concat([W,W+"-"+Ot,W+"-"+Wt])},[]),yo=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ji(x){if(null==x)return window;if("[object Window]"!==x.toString()){var W=x.ownerDocument;return W&&W.defaultView||window}return x}function xi(x){return x instanceof Ji(x).Element||x instanceof Element}function Mo(x){return x instanceof Ji(x).HTMLElement||x instanceof HTMLElement}function no(x){return!(typeof ShadowRoot>"u")&&(x instanceof Ji(x).ShadowRoot||x instanceof ShadowRoot)}function Wo(x){return((xi(x)?x.ownerDocument:x.document)||window.document).documentElement}var Bt=Math.max,Ue=Math.min,We=Math.round;function Ge(){var x=navigator.userAgentData;return null!=x&&x.brands&&Array.isArray(x.brands)?x.brands.map(function(W){return W.brand+"/"+W.version}).join(" "):navigator.userAgent}function Et(){return!/^((?!chrome|android).)*safari/i.test(Ge())}function Q(x,W,v){void 0===W&&(W=!1),void 0===v&&(v=!1);var E=x.getBoundingClientRect(),B=1,De=1;W&&Mo(x)&&(B=x.offsetWidth>0&&We(E.width)/x.offsetWidth||1,De=x.offsetHeight>0&&We(E.height)/x.offsetHeight||1);var _n=(xi(x)?Ji(x):window).visualViewport,En=!Et()&&v,Qn=(E.left+(En&&_n?_n.offsetLeft:0))/B,Kn=(E.top+(En&&_n?_n.offsetTop:0))/De,Hi=E.width/B,Ai=E.height/De;return{width:Hi,height:Ai,top:Kn,right:Qn+Hi,bottom:Kn+Ai,left:Qn,x:Qn,y:Kn}}function tt(x){var W=Ji(x);return{scrollLeft:W.pageXOffset,scrollTop:W.pageYOffset}}function $e(x){return Q(Wo(x)).left+tt(x).scrollLeft}function nn(x){return Ji(x).getComputedStyle(x)}function Bn(x){return x?(x.nodeName||"").toLowerCase():null}function kt(x){return"html"===Bn(x)?x:x.assignedSlot||x.parentNode||(no(x)?x.host:null)||Wo(x)}function cn(x){var W=nn(x);return/auto|scroll|overlay|hidden/.test(W.overflow+W.overflowY+W.overflowX)}function ft(x){return["html","body","#document"].indexOf(Bn(x))>=0?x.ownerDocument.body:Mo(x)&&cn(x)?x:ft(kt(x))}function Ze(x,W){var v;void 0===W&&(W=[]);var E=ft(x),B=E===(null==(v=x.ownerDocument)?void 0:v.body),De=Ji(E),Ke=B?[De].concat(De.visualViewport||[],cn(E)?E:[]):E,_n=W.concat(Ke);return B?_n:_n.concat(Ze(kt(Ke)))}function on(x){return["table","td","th"].indexOf(Bn(x))>=0}function _e(x){return Mo(x)&&"fixed"!==nn(x).position?x.offsetParent:null}function gn(x){for(var W=Ji(x),v=_e(x);v&&on(v)&&"static"===nn(v).position;)v=_e(v);return v&&("html"===Bn(v)||"body"===Bn(v)&&"static"===nn(v).position)?W:v||function Lt(x){var W=/firefox/i.test(Ge());if(/Trident/i.test(Ge())&&Mo(x)&&"fixed"===nn(x).position)return null;var B=kt(x);for(no(B)&&(B=B.host);Mo(B)&&["html","body"].indexOf(Bn(B))<0;){var De=nn(B);if("none"!==De.transform||"none"!==De.perspective||"paint"===De.contain||-1!==["transform","perspective"].indexOf(De.willChange)||W&&"filter"===De.willChange||W&&De.filter&&"none"!==De.filter)return B;B=B.parentNode}return null}(x)||W}function Ht(x,W){var v=W.getRootNode&&W.getRootNode();if(x.contains(W))return!0;if(v&&no(v)){var E=W;do{if(E&&x.isSameNode(E))return!0;E=E.parentNode||E.host}while(E)}return!1}function Jn(x){return Object.assign({},x,{left:x.x,top:x.y,right:x.x+x.width,bottom:x.y+x.height})}function yn(x,W,v){return W===U?Jn(function lt(x,W){var v=Ji(x),E=Wo(x),B=v.visualViewport,De=E.clientWidth,Ke=E.clientHeight,_n=0,En=0;if(B){De=B.width,Ke=B.height;var Qn=Et();(Qn||!Qn&&"fixed"===W)&&(_n=B.offsetLeft,En=B.offsetTop)}return{width:De,height:Ke,x:_n+$e(x),y:En}}(x,v)):xi(W)?function Je(x,W){var v=Q(x,!1,"fixed"===W);return v.top=v.top+x.clientTop,v.left=v.left+x.clientLeft,v.bottom=v.top+x.clientHeight,v.right=v.left+x.clientWidth,v.width=x.clientWidth,v.height=x.clientHeight,v.x=v.left,v.y=v.top,v}(W,v):Jn(function bn(x){var W,v=Wo(x),E=tt(x),B=null==(W=x.ownerDocument)?void 0:W.body,De=Bt(v.scrollWidth,v.clientWidth,B?B.scrollWidth:0,B?B.clientWidth:0),Ke=Bt(v.scrollHeight,v.clientHeight,B?B.scrollHeight:0,B?B.clientHeight:0),_n=-E.scrollLeft+$e(x),En=-E.scrollTop;return"rtl"===nn(B||v).direction&&(_n+=Bt(v.clientWidth,B?B.clientWidth:0)-De),{width:De,height:Ke,x:_n,y:En}}(Wo(x)))}function Jt(x){return x.split("-")[1]}function ei(x){return["top","bottom"].indexOf(x)>=0?"x":"y"}function Zn(x){var En,W=x.reference,v=x.element,E=x.placement,B=E?at(E):null,De=E?Jt(E):null,Ke=W.x+W.width/2-v.width/2,_n=W.y+W.height/2-v.height/2;switch(B){case ve:En={x:Ke,y:W.y-v.height};break;case Ve:En={x:Ke,y:W.y+W.height};break;case St:En={x:W.x+W.width,y:_n};break;case wn:En={x:W.x-v.width,y:_n};break;default:En={x:W.x,y:W.y}}var Qn=B?ei(B):null;if(null!=Qn){var Kn="y"===Qn?"height":"width";switch(De){case Ot:En[Qn]=En[Qn]-(W[Kn]/2-v[Kn]/2);break;case Wt:En[Qn]=En[Qn]+(W[Kn]/2-v[Kn]/2)}}return En}function hi(x){return Object.assign({},{top:0,right:0,bottom:0,left:0},x)}function vo(x,W){return W.reduce(function(v,E){return v[E]=x,v},{})}function Di(x,W){void 0===W&&(W={});var E=W.placement,B=void 0===E?x.placement:E,De=W.strategy,Ke=void 0===De?x.strategy:De,_n=W.boundary,En=void 0===_n?"clippingParents":_n,Qn=W.rootBoundary,Kn=void 0===Qn?U:Qn,Hi=W.elementContext,Ai=void 0===Hi?Se:Hi,Ui=W.altBoundary,No=void 0!==Ui&&Ui,rr=W.padding,bo=void 0===rr?0:rr,sr=hi("number"!=typeof bo?bo:vo(bo,Cn)),Ms=x.rects.popper,ar=x.elements[No?Ai===Se?"reference":Se:Ai],lr=function At(x,W,v,E){var B="clippingParents"===W?function ct(x){var W=Ze(kt(x)),E=["absolute","fixed"].indexOf(nn(x).position)>=0&&Mo(x)?gn(x):x;return xi(E)?W.filter(function(B){return xi(B)&&Ht(B,E)&&"body"!==Bn(B)}):[]}(x):[].concat(W),De=[].concat(B,[v]),_n=De.reduce(function(En,Qn){var Kn=yn(x,Qn,E);return En.top=Bt(Kn.top,En.top),En.right=Ue(Kn.right,En.right),En.bottom=Ue(Kn.bottom,En.bottom),En.left=Bt(Kn.left,En.left),En},yn(x,De[0],E));return _n.width=_n.right-_n.left,_n.height=_n.bottom-_n.top,_n.x=_n.left,_n.y=_n.top,_n}(xi(ar)?ar:ar.contextElement||Wo(x.elements.popper),En,Kn,Ke),tr=Q(x.elements.reference),Ss=Zn({reference:tr,element:Ms,strategy:"absolute",placement:B}),ds=Jn(Object.assign({},Ms,Ss)),ca=Ai===Se?ds:tr,da={top:lr.top-ca.top+sr.top,bottom:ca.bottom-lr.bottom+sr.bottom,left:lr.left-ca.left+sr.left,right:ca.right-lr.right+sr.right},ua=x.modifiersData.offset;if(Ai===Se&&ua){var lc=ua[B];Object.keys(da).forEach(function(Ga){var wu=[St,Ve].indexOf(Ga)>=0?1:-1,cc=[ve,Ve].indexOf(Ga)>=0?"y":"x";da[Ga]+=lc[cc]*wu})}return da}const Ho={name:"flip",enabled:!0,phase:"main",fn:function wr(x){var W=x.state,v=x.options,E=x.name;if(!W.modifiersData[E]._skip){for(var B=v.mainAxis,De=void 0===B||B,Ke=v.altAxis,_n=void 0===Ke||Ke,En=v.fallbackPlacements,Qn=v.padding,Kn=v.boundary,Hi=v.rootBoundary,Ai=v.altBoundary,Ui=v.flipVariations,No=void 0===Ui||Ui,rr=v.allowedAutoPlacements,bo=W.options.placement,sr=at(bo),Ms=En||(sr!==bo&&No?function ir(x){if(at(x)===$t)return[];var W=yt(x);return[Zt(x),W,Zt(W)]}(bo):[yt(bo)]),ar=[bo].concat(Ms).reduce(function($l,jd){return $l.concat(at(jd)===$t?function Do(x,W){void 0===W&&(W={});var B=W.boundary,De=W.rootBoundary,Ke=W.padding,_n=W.flipVariations,En=W.allowedAutoPlacements,Qn=void 0===En?jn:En,Kn=Jt(W.placement),Hi=Kn?_n?en:en.filter(function(No){return Jt(No)===Kn}):Cn,Ai=Hi.filter(function(No){return Qn.indexOf(No)>=0});0===Ai.length&&(Ai=Hi);var Ui=Ai.reduce(function(No,rr){return No[rr]=Di(x,{placement:rr,boundary:B,rootBoundary:De,padding:Ke})[at(rr)],No},{});return Object.keys(Ui).sort(function(No,rr){return Ui[No]-Ui[rr]})}(W,{placement:jd,boundary:Kn,rootBoundary:Hi,padding:Qn,flipVariations:No,allowedAutoPlacements:rr}):jd)},[]),lr=W.rects.reference,tr=W.rects.popper,Ss=new Map,ds=!0,ca=ar[0],da=0;da<ar.length;da++){var ua=ar[da],lc=at(ua),Ga=Jt(ua)===Ot,wu=[ve,Ve].indexOf(lc)>=0,cc=wu?"width":"height",ka=Di(W,{placement:ua,boundary:Kn,rootBoundary:Hi,altBoundary:Ai,padding:Qn}),Fc=wu?Ga?St:wn:Ga?Ve:ve;lr[cc]>tr[cc]&&(Fc=yt(Fc));var xd=yt(Fc),Od=[];if(De&&Od.push(ka[lc]<=0),_n&&Od.push(ka[Fc]<=0,ka[xd]<=0),Od.every(function($l){return $l})){ca=ua,ds=!1;break}Ss.set(ua,Od)}if(ds)for(var rp=function(jd){var Bc=ar.find(function(Ch){var us=Ss.get(Ch);if(us)return us.slice(0,jd).every(function(Gu){return Gu})});if(Bc)return ca=Bc,"break"},Mu=No?3:1;Mu>0&&"break"!==rp(Mu);Mu--);W.placement!==ca&&(W.modifiersData[E]._skip=!0,W.placement=ca,W.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ko(x,W,v){return Bt(x,Ue(W,v))}function Dn(x){var W=Q(x),v=x.offsetWidth,E=x.offsetHeight;return Math.abs(W.width-v)<=1&&(v=W.width),Math.abs(W.height-E)<=1&&(E=W.height),{x:x.offsetLeft,y:x.offsetTop,width:v,height:E}}const Jo={name:"preventOverflow",enabled:!0,phase:"main",fn:function Tr(x){var W=x.state,v=x.options,E=x.name,B=v.mainAxis,De=void 0===B||B,Ke=v.altAxis,_n=void 0!==Ke&&Ke,Ai=v.tether,Ui=void 0===Ai||Ai,No=v.tetherOffset,rr=void 0===No?0:No,bo=Di(W,{boundary:v.boundary,rootBoundary:v.rootBoundary,padding:v.padding,altBoundary:v.altBoundary}),sr=at(W.placement),Or=Jt(W.placement),Ms=!Or,ar=ei(sr),lr=function dr(x){return"x"===x?"y":"x"}(ar),tr=W.modifiersData.popperOffsets,Ss=W.rects.reference,ds=W.rects.popper,ca="function"==typeof rr?rr(Object.assign({},W.rects,{placement:W.placement})):rr,da="number"==typeof ca?{mainAxis:ca,altAxis:ca}:Object.assign({mainAxis:0,altAxis:0},ca),ua=W.modifiersData.offset?W.modifiersData.offset[W.placement]:null,lc={x:0,y:0};if(tr){if(De){var Ga,wu="y"===ar?ve:wn,cc="y"===ar?Ve:St,ka="y"===ar?"height":"width",Fc=tr[ar],xd=Fc+bo[wu],Od=Fc-bo[cc],Vu=Ui?-ds[ka]/2:0,rp=Or===Ot?Ss[ka]:ds[ka],Mu=Or===Ot?-ds[ka]:-Ss[ka],bh=W.elements.arrow,$l=Ui&&bh?Dn(bh):{width:0,height:0},jd=W.modifiersData["arrow#persistent"]?W.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Bc=jd[wu],Ch=jd[cc],us=Ko(0,Ss[ka],$l[ka]),Gu=Ms?Ss[ka]/2-Vu-us-Bc-da.mainAxis:rp-us-Bc-da.mainAxis,zc=Ms?-Ss[ka]/2+Vu+us+Ch+da.mainAxis:Mu+us+Ch+da.mainAxis,Uc=W.elements.arrow&&gn(W.elements.arrow),sp=Uc?"y"===ar?Uc.clientTop||0:Uc.clientLeft||0:0,$u=null!=(Ga=ua?.[ar])?Ga:0,Ag=Fc+zc-$u,Zu=Ko(Ui?Ue(xd,Fc+Gu-$u-sp):xd,Fc,Ui?Bt(Od,Ag):Od);tr[ar]=Zu,lc[ar]=Zu-Fc}if(_n){var ap,xu=tr[lr],wh="y"===lr?"height":"width",Ou=xu+bo["x"===ar?ve:wn],Mh=xu-bo["x"===ar?Ve:St],dc=-1!==[ve,wn].indexOf(sr),Vd=null!=(ap=ua?.[lr])?ap:0,xh=dc?Ou:xu-Ss[wh]-ds[wh]-Vd+da.altAxis,Oh=dc?xu+Ss[wh]+ds[wh]-Vd-da.altAxis:Mh,Wu=Ui&&dc?function jo(x,W,v){var E=Ko(x,W,v);return E>v?v:E}(xh,xu,Oh):Ko(Ui?xh:Ou,xu,Ui?Oh:Mh);tr[lr]=Wu,lc[lr]=Wu-xu}W.modifiersData[E]=lc}},requiresIfExists:["offset"]},ys={name:"arrow",enabled:!0,phase:"main",fn:function kr(x){var W,v=x.state,E=x.name,B=x.options,De=v.elements.arrow,Ke=v.modifiersData.popperOffsets,_n=at(v.placement),En=ei(_n),Kn=[wn,St].indexOf(_n)>=0?"height":"width";if(De&&Ke){var Hi=function(W,v){return hi("number"!=typeof(W="function"==typeof W?W(Object.assign({},v.rects,{placement:v.placement})):W)?W:vo(W,Cn))}(B.padding,v),Ai=Dn(De),Ui="y"===En?ve:wn,No="y"===En?Ve:St,rr=v.rects.reference[Kn]+v.rects.reference[En]-Ke[En]-v.rects.popper[Kn],bo=Ke[En]-v.rects.reference[En],sr=gn(De),Or=sr?"y"===En?sr.clientHeight||0:sr.clientWidth||0:0,tr=Or/2-Ai[Kn]/2+(rr/2-bo/2),Ss=Ko(Hi[Ui],tr,Or-Ai[Kn]-Hi[No]);v.modifiersData[E]=((W={})[En]=Ss,W.centerOffset=Ss-tr,W)}},effect:function gr(x){var W=x.state,E=x.options.element,B=void 0===E?"[data-popper-arrow]":E;null!=B&&("string"==typeof B&&!(B=W.elements.popper.querySelector(B))||Ht(W.elements.popper,B)&&(W.elements.arrow=B))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rn(x,W,v){void 0===v&&(v=!1);var E=Mo(W),B=Mo(W)&&function nt(x){var W=x.getBoundingClientRect(),v=We(W.width)/x.offsetWidth||1,E=We(W.height)/x.offsetHeight||1;return 1!==v||1!==E}(W),De=Wo(W),Ke=Q(x,B,v),_n={scrollLeft:0,scrollTop:0},En={x:0,y:0};return(E||!E&&!v)&&(("body"!==Bn(W)||cn(De))&&(_n=function et(x){return x!==Ji(x)&&Mo(x)?function vs(x){return{scrollLeft:x.scrollLeft,scrollTop:x.scrollTop}}(x):tt(x)}(W)),Mo(W)?((En=Q(W,!0)).x+=W.clientLeft,En.y+=W.clientTop):De&&(En.x=$e(De))),{x:Ke.left+_n.scrollLeft-En.x,y:Ke.top+_n.scrollTop-En.y,width:Ke.width,height:Ke.height}}function ln(x){var W=new Map,v=new Set,E=[];function B(De){v.add(De.name),[].concat(De.requires||[],De.requiresIfExists||[]).forEach(function(_n){if(!v.has(_n)){var En=W.get(_n);En&&B(En)}}),E.push(De)}return x.forEach(function(De){W.set(De.name,De)}),x.forEach(function(De){v.has(De.name)||B(De)}),E}function Tt(x){var W;return function(){return W||(W=new Promise(function(v){Promise.resolve().then(function(){W=void 0,v(x())})})),W}}var Tn={placement:"bottom",modifiers:[],strategy:"absolute"};function ni(){for(var x=arguments.length,W=new Array(x),v=0;v<x;v++)W[v]=arguments[v];return!W.some(function(E){return!(E&&"function"==typeof E.getBoundingClientRect)})}function si(x){void 0===x&&(x={});var v=x.defaultModifiers,E=void 0===v?[]:v,B=x.defaultOptions,De=void 0===B?Tn:B;return function(_n,En,Qn){void 0===Qn&&(Qn=De);var Kn={placement:"bottom",orderedModifiers:[],options:Object.assign({},Tn,De),modifiersData:{},elements:{reference:_n,popper:En},attributes:{},styles:{}},Hi=[],Ai=!1,Ui={state:Kn,setOptions:function(sr){var Or="function"==typeof sr?sr(Kn.options):sr;rr(),Kn.options=Object.assign({},De,Kn.options,Or),Kn.scrollParents={reference:xi(_n)?Ze(_n):_n.contextElement?Ze(_n.contextElement):[],popper:Ze(En)};var Ms=function Gn(x){var W=ln(x);return yo.reduce(function(v,E){return v.concat(W.filter(function(B){return B.phase===E}))},[])}(function sn(x){var W=x.reduce(function(v,E){var B=v[E.name];return v[E.name]=B?Object.assign({},B,E,{options:Object.assign({},B.options,E.options),data:Object.assign({},B.data,E.data)}):E,v},{});return Object.keys(W).map(function(v){return W[v]})}([].concat(E,Kn.options.modifiers)));return Kn.orderedModifiers=Ms.filter(function(ar){return ar.enabled}),function No(){Kn.orderedModifiers.forEach(function(bo){var Or=bo.options,ar=bo.effect;if("function"==typeof ar){var lr=ar({state:Kn,name:bo.name,instance:Ui,options:void 0===Or?{}:Or});Hi.push(lr||function(){})}})}(),Ui.update()},forceUpdate:function(){if(!Ai){var sr=Kn.elements,Or=sr.reference,Ms=sr.popper;if(ni(Or,Ms)){Kn.rects={reference:rn(Or,gn(Ms),"fixed"===Kn.options.strategy),popper:Dn(Ms)},Kn.reset=!1,Kn.placement=Kn.options.placement,Kn.orderedModifiers.forEach(function(da){return Kn.modifiersData[da.name]=Object.assign({},da.data)});for(var ar=0;ar<Kn.orderedModifiers.length;ar++)if(!0!==Kn.reset){var lr=Kn.orderedModifiers[ar],tr=lr.fn,Ss=lr.options;"function"==typeof tr&&(Kn=tr({state:Kn,options:void 0===Ss?{}:Ss,name:lr.name,instance:Ui})||Kn)}else Kn.reset=!1,ar=-1}}},update:Tt(function(){return new Promise(function(bo){Ui.forceUpdate(),bo(Kn)})}),destroy:function(){rr(),Ai=!0}};if(!ni(_n,En))return Ui;function rr(){Hi.forEach(function(bo){return bo()}),Hi=[]}return Ui.setOptions(Qn).then(function(bo){!Ai&&Qn.onFirstUpdate&&Qn.onFirstUpdate(bo)}),Ui}}var Ri={passive:!0},Rn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Li(x){var W,v=x.popper,E=x.popperRect,B=x.placement,De=x.variation,Ke=x.offsets,_n=x.position,En=x.gpuAcceleration,Qn=x.adaptive,Kn=x.roundOffsets,Hi=x.isFixed,Ai=Ke.x,Ui=void 0===Ai?0:Ai,No=Ke.y,rr=void 0===No?0:No,bo="function"==typeof Kn?Kn({x:Ui,y:rr}):{x:Ui,y:rr};Ui=bo.x,rr=bo.y;var sr=Ke.hasOwnProperty("x"),Or=Ke.hasOwnProperty("y"),Ms=wn,ar=ve,lr=window;if(Qn){var tr=gn(v),Ss="clientHeight",ds="clientWidth";tr===Ji(v)&&"static"!==nn(tr=Wo(v)).position&&"absolute"===_n&&(Ss="scrollHeight",ds="scrollWidth"),(B===ve||(B===wn||B===St)&&De===Wt)&&(ar=Ve,rr-=(Hi&&tr===lr&&lr.visualViewport?lr.visualViewport.height:tr[Ss])-E.height,rr*=En?1:-1),B!==wn&&(B!==ve&&B!==Ve||De!==Wt)||(Ms=St,Ui-=(Hi&&tr===lr&&lr.visualViewport?lr.visualViewport.width:tr[ds])-E.width,Ui*=En?1:-1)}var Ga,ua=Object.assign({position:_n},Qn&&Rn),lc=!0===Kn?function Ei(x,W){var E=x.y,B=W.devicePixelRatio||1;return{x:We(x.x*B)/B||0,y:We(E*B)/B||0}}({x:Ui,y:rr},Ji(v)):{x:Ui,y:rr};return Ui=lc.x,rr=lc.y,Object.assign({},ua,En?((Ga={})[ar]=Or?"0":"",Ga[Ms]=sr?"0":"",Ga.transform=(lr.devicePixelRatio||1)<=1?"translate("+Ui+"px, "+rr+"px)":"translate3d("+Ui+"px, "+rr+"px, 0)",Ga):((W={})[ar]=Or?rr+"px":"",W[Ms]=sr?Ui+"px":"",W.transform="",W))}var rs=si({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function uo(x){var W=x.state,v=x.instance,E=x.options,B=E.scroll,De=void 0===B||B,Ke=E.resize,_n=void 0===Ke||Ke,En=Ji(W.elements.popper),Qn=[].concat(W.scrollParents.reference,W.scrollParents.popper);return De&&Qn.forEach(function(Kn){Kn.addEventListener("scroll",v.update,Ri)}),_n&&En.addEventListener("resize",v.update,Ri),function(){De&&Qn.forEach(function(Kn){Kn.removeEventListener("scroll",v.update,Ri)}),_n&&En.removeEventListener("resize",v.update,Ri)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Xn(x){var W=x.state;W.modifiersData[x.name]=Zn({reference:W.rects.reference,element:W.rects.popper,strategy:"absolute",placement:W.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function mo(x){var W=x.state,v=x.options,E=v.gpuAcceleration,B=void 0===E||E,De=v.adaptive,Ke=void 0===De||De,_n=v.roundOffsets,En=void 0===_n||_n,Qn={placement:at(W.placement),variation:Jt(W.placement),popper:W.elements.popper,popperRect:W.rects.popper,gpuAcceleration:B,isFixed:"fixed"===W.options.strategy};null!=W.modifiersData.popperOffsets&&(W.styles.popper=Object.assign({},W.styles.popper,Li(Object.assign({},Qn,{offsets:W.modifiersData.popperOffsets,position:W.options.strategy,adaptive:Ke,roundOffsets:En})))),null!=W.modifiersData.arrow&&(W.styles.arrow=Object.assign({},W.styles.arrow,Li(Object.assign({},Qn,{offsets:W.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:En})))),W.attributes.popper=Object.assign({},W.attributes.popper,{"data-popper-placement":W.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function mr(x){var W=x.state;Object.keys(W.elements).forEach(function(v){var E=W.styles[v]||{},B=W.attributes[v]||{},De=W.elements[v];!Mo(De)||!Bn(De)||(Object.assign(De.style,E),Object.keys(B).forEach(function(Ke){var _n=B[Ke];!1===_n?De.removeAttribute(Ke):De.setAttribute(Ke,!0===_n?"":_n)}))})},effect:function ur(x){var W=x.state,v={popper:{position:W.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(W.elements.popper.style,v.popper),W.styles=v,W.elements.arrow&&Object.assign(W.elements.arrow.style,v.arrow),function(){Object.keys(W.elements).forEach(function(E){var B=W.elements[E],De=W.attributes[E]||{},_n=Object.keys(W.styles.hasOwnProperty(E)?W.styles[E]:v[E]).reduce(function(En,Qn){return En[Qn]="",En},{});!Mo(B)||!Bn(B)||(Object.assign(B.style,_n),Object.keys(De).forEach(function(En){B.removeAttribute(En)}))})}},requires:["computeStyles"]}]});const Ka={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Rr(x){var W=x.state,E=x.name,B=x.options.offset,De=void 0===B?[0,0]:B,Ke=jn.reduce(function(Kn,Hi){return Kn[Hi]=function qr(x,W,v){var E=at(x),B=[wn,ve].indexOf(E)>=0?-1:1,De="function"==typeof v?v(Object.assign({},W,{placement:x})):v,Ke=De[0],_n=De[1];return Ke=Ke||0,_n=(_n||0)*B,[wn,St].indexOf(E)>=0?{x:_n,y:Ke}:{x:Ke,y:_n}}(Hi,W.rects,De),Kn},{}),_n=Ke[W.placement],Qn=_n.y;null!=W.modifiersData.popperOffsets&&(W.modifiersData.popperOffsets.x+=_n.x,W.modifiersData.popperOffsets.y+=Qn),W.modifiersData[E]=Ke}},Ur=["*"],Ls=["ngbDatepickerDayView",""],lo=["month"],Es=["year"];function $s(x,W){if(1&x&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&x){const v=W.$implicit,E=a.oxw();a.Q6J("value",v),a.uIk("aria-label",E.i18n.getMonthFullName(v,E.date.year)),a.xp6(1),a.Oqu(E.i18n.getMonthShortName(v,E.date.year))}}function ga(x,W){if(1&x&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&x){const v=W.$implicit,E=a.oxw();a.Q6J("value",v),a.xp6(1),a.Oqu(E.i18n.getYearNumerals(v))}}function Sr(x,W){if(1&x){const v=a.EpF();a.TgZ(0,"ngb-datepicker-navigation-select",7),a.NdJ("select",function(B){a.CHM(v);const De=a.oxw();return a.KtG(De.select.emit(B))}),a.qZA()}if(2&x){const v=a.oxw();a.Q6J("date",v.date)("disabled",v.disabled)("months",v.selectBoxes.months)("years",v.selectBoxes.years)}}function ul(x,W){1&x&&a._UZ(0,"div",11)}function na(x,W){1&x&&a._UZ(0,"div",11)}function Ns(x,W){if(1&x&&(a.YNc(0,ul,1,0,"div",9),a.TgZ(1,"div",10),a._uU(2),a.qZA(),a.YNc(3,na,1,0,"div",9)),2&x){const v=W.$implicit,E=W.index,B=a.oxw(2);a.Q6J("ngIf",E>0),a.xp6(2),a.hij(" ",B.i18n.getMonthLabel(v.firstDate)," "),a.xp6(1),a.Q6J("ngIf",E!==B.months.length-1)}}function Zl(x,W){if(1&x&&a.YNc(0,Ns,4,3,"ng-template",8),2&x){const v=a.oxw();a.Q6J("ngForOf",v.months)}}function Ml(x,W){if(1&x&&(a.TgZ(0,"div",5),a._uU(1),a.qZA()),2&x){const v=a.oxw(2);a.xp6(1),a.Oqu(v.i18n.getWeekLabel())}}function La(x,W){if(1&x&&(a.TgZ(0,"div",6),a._uU(1),a.qZA()),2&x){const v=W.$implicit;a.xp6(1),a.Oqu(v)}}function Fs(x,W){if(1&x&&(a.TgZ(0,"div",2),a.YNc(1,Ml,2,1,"div",3),a.YNc(2,La,2,1,"div",4),a.qZA()),2&x){const v=a.oxw();a.xp6(1),a.Q6J("ngIf",v.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",v.viewModel.weekdays)}}function ia(x,W){if(1&x&&(a.TgZ(0,"div",11),a._uU(1),a.qZA()),2&x){const v=a.oxw(2).$implicit,E=a.oxw();a.xp6(1),a.Oqu(E.i18n.getWeekNumerals(v.number))}}function Vo(x,W){}function Oo(x,W){if(1&x&&a.YNc(0,Vo,0,0,"ng-template",14),2&x){const v=a.oxw().$implicit,E=a.oxw(3);a.Q6J("ngTemplateOutlet",E.datepicker.dayTemplate)("ngTemplateOutletContext",v.context)}}function hl(x,W){if(1&x){const v=a.EpF();a.TgZ(0,"div",12),a.NdJ("click",function(B){const Ke=a.CHM(v).$implicit;return a.oxw(3).doSelect(Ke),a.KtG(B.preventDefault())}),a.YNc(1,Oo,1,2,"ng-template",13),a.qZA()}if(2&x){const v=W.$implicit;a.ekj("disabled",v.context.disabled)("hidden",v.hidden)("ngb-dp-today",v.context.today),a.Q6J("tabindex",v.tabindex),a.uIk("aria-label",v.ariaLabel),a.xp6(1),a.Q6J("ngIf",!v.hidden)}}function Rl(x,W){if(1&x&&(a.TgZ(0,"div",8),a.YNc(1,ia,2,1,"div",9),a.YNc(2,hl,2,9,"div",10),a.qZA()),2&x){const v=a.oxw().$implicit,E=a.oxw();a.xp6(1),a.Q6J("ngIf",E.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",v.days)}}function Is(x,W){1&x&&a.YNc(0,Rl,3,2,"div",7),2&x&&a.Q6J("ngIf",!W.$implicit.collapsed)}const Ks=["defaultDayTemplate"],Na=["content"];function Oa(x,W){if(1&x&&a._UZ(0,"div",8),2&x){const E=W.currentMonth,B=W.selected,De=W.disabled,Ke=W.focused;a.Q6J("date",W.date)("currentMonth",E)("selected",B)("disabled",De)("focused",Ke)}}function fa(x,W){if(1&x&&(a.TgZ(0,"div",13),a._uU(1),a.qZA()),2&x){const v=a.oxw().$implicit,E=a.oxw(2);a.xp6(1),a.hij(" ",E.i18n.getMonthLabel(v.firstDate)," ")}}function ss(x,W){if(1&x&&(a.TgZ(0,"div",10),a.YNc(1,fa,2,1,"div",11),a._UZ(2,"ngb-datepicker-month",12),a.qZA()),2&x){const v=W.$implicit,E=a.oxw(2);a.xp6(1),a.Q6J("ngIf","none"===E.navigation||E.displayMonths>1&&"select"===E.navigation),a.xp6(1),a.Q6J("month",v.firstDate)}}function Ya(x,W){if(1&x&&a.YNc(0,ss,3,2,"div",9),2&x){const v=a.oxw();a.Q6J("ngForOf",v.model.months)}}function Gr(x,W){if(1&x){const v=a.EpF();a.TgZ(0,"ngb-datepicker-navigation",14),a.NdJ("navigate",function(B){a.CHM(v);const De=a.oxw();return a.KtG(De.onNavigateEvent(B))})("select",function(B){a.CHM(v);const De=a.oxw();return a.KtG(De.onNavigateDateSelect(B))}),a.qZA()}if(2&x){const v=a.oxw();a.Q6J("date",v.model.firstDate)("months",v.model.months)("disabled",v.model.disabled)("showSelect","select"===v.model.navigation)("prevDisabled",v.model.prevDisabled)("nextDisabled",v.model.nextDisabled)("selectBoxes",v.model.selectBoxes)}}function bs(x,W){}function Wl(x,W){}const As=function(x){return{$implicit:x}},pl=["dialog"],ma=["ngbNavOutlet",""];function Kl(x,W){}function Fa(x,W){if(1&x&&(a.TgZ(0,"div",2),a.YNc(1,Kl,0,0,"ng-template",3),a.qZA()),2&x){const v=a.oxw().$implicit,E=a.oxw();a.Q6J("item",v)("nav",E.nav)("role",E.paneRole),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==v.contentTpl?null:v.contentTpl.templateRef)||null)("ngTemplateOutletContext",a.VKq(5,As,v.active||E.isPanelTransitioning(v)))}}function qa(x,W){if(1&x&&a.YNc(0,Fa,2,7,"div",1),2&x){const v=W.$implicit,E=a.oxw();a.Q6J("ngIf",v.isPanelInDom()||E.isPanelTransitioning(v))}}function _c(x,W){if(1&x&&(a.TgZ(0,"span"),a.SDv(1,1),a.ALo(2,"percent"),a.qZA()),2&x){const v=a.oxw();a.xp6(2),a.pQV(a.lcZ(2,1,v.getValue()/v.max)),a.QtT(1)}}function K(x){return parseInt(`${x}`,10)}function ze(x){return"string"==typeof x}function Fn(x){return"number"==typeof x&&isFinite(x)&&Math.floor(x)===x}function Un(x){return null!=x}function Ro(x){return(x||document.body).getBoundingClientRect()}function ls(x=document){const W=x?.activeElement;return W?W.shadowRoot?ls(W.shadowRoot):W:null}const Ts={animation:!0,transitionTimerDelayMs:5},Pa=()=>{},{transitionTimerDelayMs:qs}=Ts,oa=new Map,yr=(x,W,v,E)=>{let B=E.context||{};const De=oa.get(W);if(De)switch(E.runningTransition){case"continue":return oe.E;case"stop":x.run(()=>De.transition$.complete()),B=Object.assign(De.context,B),oa.delete(W)}const Ke=v(W,E.animation,B)||Pa;if(!E.animation||"none"===window.getComputedStyle(W).transitionProperty)return x.run(()=>Ke()),(0,c.of)(void 0).pipe(function Jr(x){return W=>new s.y(v=>W.subscribe({next:Ke=>x.run(()=>v.next(Ke)),error:Ke=>x.run(()=>v.error(Ke)),complete:()=>x.run(()=>v.complete())}))}(x));const _n=new T.x,En=new T.x,Qn=_n.pipe(function ke(...x){return W=>(0,fe.z)(W,(0,c.of)(...x))}(!0));oa.set(W,{transition$:_n,complete:()=>{En.next(),En.complete()},context:B});const Kn=function za(x){const{transitionDelay:W,transitionDuration:v}=window.getComputedStyle(x);return 1e3*(parseFloat(W)+parseFloat(v))}(W);return x.runOutsideAngular(()=>{const Hi=(0,V.R)(W,"transitionend").pipe((0,Ce.R)(Qn),(0,we.h)(({target:Ui})=>Ui===W)),Ai=(0,ie.H)(Kn+qs).pipe((0,Ce.R)(Qn));(0,Te.S)(Ai,Hi,En).pipe((0,Ce.R)(Qn)).subscribe(()=>{oa.delete(W),x.run(()=>{Ke(),_n.next(),_n.complete()})})}),_n.asObservable()};let sa=(()=>{class x{constructor(){this.animation=Ts.animation}static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),cd=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),Au=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),Ta=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),Ql=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})();class xr{static from(W){return W instanceof xr?W:W?new xr(W.year,W.month,W.day):null}constructor(W,v,E){this.year=Fn(W)?W:null,this.month=Fn(v)?v:null,this.day=Fn(E)?E:null}equals(W){return null!=W&&this.year===W.year&&this.month===W.month&&this.day===W.day}before(W){return!!W&&(this.year===W.year?this.month===W.month?this.day!==W.day&&this.day<W.day:this.month<W.month:this.year<W.year)}after(W){return!!W&&(this.year===W.year?this.month===W.month?this.day!==W.day&&this.day>W.day:this.month>W.month:this.year>W.year)}}function ec(x,W){return!function Pl(x,W){return!x&&!W||!!x&&!!W&&x.equals(W)}(x,W)}function jh(x,W){return!(!x&&!W||x&&W&&x.year===W.year&&x.month===W.month)}function la(x,W,v){return x&&W&&x.before(W)?W:x&&v&&x.after(v)?v:x||null}function qc(x,W){const{minDate:v,maxDate:E,disabled:B,markDisabled:De}=W;return!(null==x||B||De&&De(x,{year:x.year,month:x.month})||v&&x.before(v)||E&&x.after(E))}function Xt(x){return new xr(x.getFullYear(),x.getMonth()+1,x.getDate())}function Yn(x){const W=new Date(x.year,x.month-1,x.day,12);return isNaN(W.getTime())||W.setFullYear(x.year),W}let Ki=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275prov=a.Yz7({token:x,factory:function(){return function Wn(){return new Go}()},providedIn:"root"})}return x})(),Go=(()=>{class x extends Ki{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(v,E="d",B=1){let De=Yn(v),Ke=!0,_n=De.getMonth();switch(E){case"y":De.setFullYear(De.getFullYear()+B);break;case"m":_n+=B,De.setMonth(_n),_n%=12,_n<0&&(_n+=12);break;case"d":De.setDate(De.getDate()+B),Ke=!1;break;default:return v}return Ke&&De.getMonth()!==_n&&De.setDate(0),Xt(De)}getPrev(v,E="d",B=1){return this.getNext(v,E,-B)}getWeekday(v){let B=Yn(v).getDay();return 0===B?7:B}getWeekNumber(v,E){7===E&&(E=0);const Ke=Yn(v[(11-E)%7]);Ke.setDate(Ke.getDate()+4-(Ke.getDay()||7));const _n=Ke.getTime();return Ke.setMonth(0),Ke.setDate(1),Math.floor(Math.round((_n-Ke.getTime())/864e5)/7)+1}getToday(){return Xt(new Date)}isValid(v){if(!(v&&Fn(v.year)&&Fn(v.month)&&Fn(v.day)&&0!==v.year))return!1;const E=Yn(v);return!isNaN(E.getTime())&&E.getFullYear()===v.year&&E.getMonth()+1===v.month&&E.getDate()===v.day}static#e=this.\u0275fac=function(){let v;return function(B){return(v||(v=a.n5z(x)))(B||x)}}();static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac})}return x})(),Yo=(()=>{class x{getMonthLabel(v){return`${this.getMonthFullName(v.month,v.year)} ${this.getYearNumerals(v.year)}`}getDayNumerals(v){return`${v.day}`}getWeekNumerals(v){return`${v}`}getYearNumerals(v){return`${v}`}getWeekLabel(){return""}static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275prov=a.Yz7({token:x,factory:function(E){let B=null;return B=E?new E:function is(x){return new fl(x)}(a.LFG(a.soG)),B},providedIn:"root"})}return x})(),fl=(()=>{class x extends Yo{constructor(v){super(),this._locale=v,this._monthsShort=(0,bt.UT)(v,bt.x.Standalone,bt.Tn.Abbreviated),this._monthsFull=(0,bt.UT)(v,bt.x.Standalone,bt.Tn.Wide)}getWeekdayLabel(v,E){const B=(0,bt.Mn)(this._locale,bt.x.Standalone,void 0===E?bt.Tn.Short:E);return B.map((Ke,_n)=>B[(_n+1)%7])[v-1]||""}getMonthShortName(v){return this._monthsShort[v-1]||""}getMonthFullName(v){return this._monthsFull[v-1]||""}getDayAriaLabel(v){const E=new Date(v.year,v.month-1,v.day);return(0,bt.p6)(E,"fullDate",this._locale)}static#e=this.\u0275fac=function(E){return new(E||x)(a.LFG(a.soG))};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac})}return x})(),Bl=(()=>{class x{get model$(){return this._model$.pipe((0,we.h)(v=>v.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,we.h)(v=>null!==v))}set(v){let E=Object.keys(v).map(B=>this._VALIDATORS[B](v[B])).reduce((B,De)=>({...B,...De}),{});Object.keys(E).length>0&&this._nextState(E)}constructor(v,E){this._calendar=v,this._i18n=E,this._VALIDATORS={dayTemplateData:B=>{if(this._state.dayTemplateData!==B)return{dayTemplateData:B}},displayMonths:B=>{if(Fn(B=K(B))&&B>0&&this._state.displayMonths!==B)return{displayMonths:B}},disabled:B=>{if(this._state.disabled!==B)return{disabled:B}},firstDayOfWeek:B=>{if(Fn(B=K(B))&&B>=0&&this._state.firstDayOfWeek!==B)return{firstDayOfWeek:B}},focusVisible:B=>{if(this._state.focusVisible!==B&&!this._state.disabled)return{focusVisible:B}},markDisabled:B=>{if(this._state.markDisabled!==B)return{markDisabled:B}},maxDate:B=>{const De=this.toValidDate(B,null);if(ec(this._state.maxDate,De))return{maxDate:De}},minDate:B=>{const De=this.toValidDate(B,null);if(ec(this._state.minDate,De))return{minDate:De}},navigation:B=>{if(this._state.navigation!==B)return{navigation:B}},outsideDays:B=>{if(this._state.outsideDays!==B)return{outsideDays:B}},weekdays:B=>{const De=!0===B||!1===B?bt.Tn.Short:B,Ke=!0!==B&&!1!==B||B;if(this._state.weekdayWidth!==De||this._state.weekdaysVisible!==Ke)return{weekdayWidth:De,weekdaysVisible:Ke}}},this._model$=new T.x,this._dateSelect$=new T.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:bt.Tn.Short,weekdaysVisible:!0}}focus(v){const E=this.toValidDate(v,null);null!=E&&!this._state.disabled&&ec(this._state.focusDate,E)&&this._nextState({focusDate:v})}focusSelect(){qc(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(v){const E=this.toValidDate(v,this._calendar.getToday());null!=E&&!this._state.disabled&&(!this._state.firstDate||jh(this._state.firstDate,E))&&this._nextState({firstDate:E})}select(v,E={}){const B=this.toValidDate(v,null);null!=B&&!this._state.disabled&&(ec(this._state.selectedDate,B)&&this._nextState({selectedDate:B}),E.emitEvent&&qc(B,this._state)&&this._dateSelect$.next(B))}toValidDate(v,E){const B=xr.from(v);return void 0===E&&(E=this._calendar.getToday()),this._calendar.isValid(B)?B:E}getMonth(v){for(let E of this._state.months)if(v.month===E.number&&v.year===E.year)return E;throw new Error(`month ${v.month} of year ${v.year} not found`)}_nextState(v){const E=this._updateState(v);this._patchContexts(E),this._state=E,this._model$.next(this._state)}_patchContexts(v){const{months:E,displayMonths:B,selectedDate:De,focusDate:Ke,focusVisible:_n,disabled:En,outsideDays:Qn}=v;v.months.forEach(Kn=>{Kn.weeks.forEach(Hi=>{Hi.days.forEach(Ai=>{Ke&&(Ai.context.focused=Ke.equals(Ai.date)&&_n),Ai.tabindex=!En&&Ke&&Ai.date.equals(Ke)&&Ke.month===Kn.number?0:-1,!0===En&&(Ai.context.disabled=!0),void 0!==De&&(Ai.context.selected=null!==De&&De.equals(Ai.date)),Kn.number!==Ai.date.month&&(Ai.hidden="hidden"===Qn||"collapsed"===Qn||B>1&&Ai.date.after(E[0].firstDate)&&Ai.date.before(E[B-1].lastDate))})})})}_updateState(v){const E=Object.assign({},this._state,v);let B=E.firstDate;if(("minDate"in v||"maxDate"in v)&&(function ws(x,W){if(W&&x&&W.before(x))throw new Error(`'maxDate' ${W} should be greater than 'minDate' ${x}`)}(E.minDate,E.maxDate),E.focusDate=la(E.focusDate,E.minDate,E.maxDate),E.firstDate=la(E.firstDate,E.minDate,E.maxDate),B=E.focusDate),"disabled"in v&&(E.focusVisible=!1),"selectedDate"in v&&0===this._state.months.length&&(B=E.selectedDate),"focusVisible"in v||"focusDate"in v&&(E.focusDate=la(E.focusDate,E.minDate,E.maxDate),B=E.focusDate,0!==E.months.length&&E.focusDate&&!E.focusDate.before(E.firstDate)&&!E.focusDate.after(E.lastDate)))return E;if("firstDate"in v&&(E.firstDate=la(E.firstDate,E.minDate,E.maxDate),B=E.firstDate),B){const Ke=function te(x,W,v,E,B){const{displayMonths:De,months:Ke}=v,_n=Ke.splice(0,Ke.length);return Array.from({length:De},(Qn,Kn)=>{const Hi=Object.assign(x.getNext(W,"m",Kn),{day:1});if(Ke[Kn]=null,!B){const Ai=_n.findIndex(Ui=>Ui.firstDate.equals(Hi));-1!==Ai&&(Ke[Kn]=_n.splice(Ai,1)[0])}return Hi}).forEach((Qn,Kn)=>{null===Ke[Kn]&&(Ke[Kn]=function ne(x,W,v,E,B={}){const{dayTemplateData:De,minDate:Ke,maxDate:_n,firstDayOfWeek:En,markDisabled:Qn,outsideDays:Kn,weekdayWidth:Hi,weekdaysVisible:Ai}=v,Ui=x.getToday();B.firstDate=null,B.lastDate=null,B.number=W.month,B.year=W.year,B.weeks=B.weeks||[],B.weekdays=B.weekdays||[],W=function dt(x,W,v){const E=x.getDaysPerWeek(),B=new xr(W.year,W.month,1),De=x.getWeekday(B)%E;return x.getPrev(B,"d",(E+De-v)%E)}(x,W,En),Ai||(B.weekdays.length=0);for(let No=0;No<x.getWeeksPerMonth();No++){let rr=B.weeks[No];rr||(rr=B.weeks[No]={number:0,days:[],collapsed:!0});const bo=rr.days;for(let sr=0;sr<x.getDaysPerWeek();sr++){0===No&&Ai&&(B.weekdays[sr]=E.getWeekdayLabel(x.getWeekday(W),Hi));const Or=new xr(W.year,W.month,W.day),Ms=x.getNext(Or),ar=E.getDayAriaLabel(Or);let lr=!!(Ke&&Or.before(Ke)||_n&&Or.after(_n));!lr&&Qn&&(lr=Qn(Or,{month:B.number,year:B.year}));let tr=Or.equals(Ui),Ss=De?De(Or,{month:B.number,year:B.year}):void 0;null===B.firstDate&&Or.month===B.number&&(B.firstDate=Or),Or.month===B.number&&Ms.month!==B.number&&(B.lastDate=Or);let ds=bo[sr];ds||(ds=bo[sr]={}),ds.date=Or,ds.context=Object.assign(ds.context||{},{$implicit:Or,date:Or,data:Ss,currentMonth:B.number,currentYear:B.year,disabled:lr,focused:!1,selected:!1,today:tr}),ds.tabindex=-1,ds.ariaLabel=ar,ds.hidden=!1,W=Ms}rr.number=x.getWeekNumber(bo.map(sr=>sr.date),En),rr.collapsed="collapsed"===Kn&&bo[0].date.month!==B.number&&bo[bo.length-1].date.month!==B.number}return B}(x,Qn,v,E,_n.shift()||{}))}),Ke}(this._calendar,B,E,this._i18n,"dayTemplateData"in v||"firstDayOfWeek"in v||"markDisabled"in v||"minDate"in v||"maxDate"in v||"disabled"in v||"outsideDays"in v||"weekdaysVisible"in v);E.months=Ke,E.firstDate=Ke[0].firstDate,E.lastDate=Ke[Ke.length-1].lastDate,"selectedDate"in v&&!qc(E.selectedDate,E)&&(E.selectedDate=null),"firstDate"in v&&(!E.focusDate||E.focusDate.before(E.firstDate)||E.focusDate.after(E.lastDate))&&(E.focusDate=B);const _n=!this._state.firstDate||this._state.firstDate.year!==E.firstDate.year,En=!this._state.firstDate||this._state.firstDate.month!==E.firstDate.month;"select"===E.navigation?(("minDate"in v||"maxDate"in v||0===E.selectBoxes.years.length||_n)&&(E.selectBoxes.years=function $(x,W,v){if(!x)return[];const E=W?Math.max(W.year,x.year-500):x.year-10,De=(v?Math.min(v.year,x.year+500):x.year+10)-E+1,Ke=Array(De);for(let _n=0;_n<De;_n++)Ke[_n]=E+_n;return Ke}(E.firstDate,E.minDate,E.maxDate)),("minDate"in v||"maxDate"in v||0===E.selectBoxes.months.length||_n)&&(E.selectBoxes.months=function Vi(x,W,v,E){if(!W)return[];let B=x.getMonths(W.year);if(v&&W.year===v.year){const De=B.findIndex(Ke=>Ke===v.month);B=B.slice(De)}if(E&&W.year===E.year){const De=B.findIndex(Ke=>Ke===E.month);B=B.slice(0,De+1)}return B}(this._calendar,E.firstDate,E.minDate,E.maxDate))):E.selectBoxes={years:[],months:[]},("arrows"===E.navigation||"select"===E.navigation)&&(En||_n||"minDate"in v||"maxDate"in v||"disabled"in v)&&(E.prevDisabled=E.disabled||function j(x,W,v){const E=Object.assign(x.getPrev(W,"m"),{day:1});return null!=v&&(E.year===v.year&&E.month<v.month||E.year<v.year&&1===v.month)}(this._calendar,E.firstDate,E.minDate),E.nextDisabled=E.disabled||function ee(x,W,v){const E=Object.assign(x.getNext(W,"m"),{day:1});return null!=v&&E.after(v)}(this._calendar,E.lastDate,E.maxDate))}return E}static#e=this.\u0275fac=function(E){return new(E||x)(a.LFG(Ki),a.LFG(Yo))};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac})}return x})();var Tl=function(x){return x[x.PREV=0]="PREV",x[x.NEXT=1]="NEXT",x}(Tl||{});let zl=(()=>{class x{constructor(v){this.i18n=v}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(Yo))};static#t=this.\u0275cmp=a.Xpm({type:x,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(E,B){2&E&&a.ekj("bg-primary",B.selected)("text-white",B.selected)("text-muted",B.isMuted())("outside",B.isMuted())("active",B.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[a.jDz],attrs:Ls,decls:1,vars:1,template:function(E,B){1&E&&a._uU(0),2&E&&a.Oqu(B.i18n.getDayNumerals(B.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0})}return x})(),f=(()=>{class x{constructor(v,E){this.i18n=v,this._renderer=E,this.select=new a.vpe,this._month=-1,this._year=-1}changeMonth(v){this.select.emit(new xr(this.date.year,K(v),1))}changeYear(v){this.select.emit(new xr(K(v),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(Yo),a.Y36(a.Qsj))};static#t=this.\u0275cmp=a.Xpm({type:x,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(E,B){if(1&E&&(a.Gf(lo,7,a.SBq),a.Gf(Es,7,a.SBq)),2&E){let De;a.iGM(De=a.CRH())&&(B.monthSelect=De.first),a.iGM(De=a.CRH())&&(B.yearSelect=De.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[a.jDz],decls:6,vars:4,consts:function(){let v,E,B,De;return v=$localize`:@@ngb.datepicker.select-month:Select month`,E=$localize`:@@ngb.datepicker.select-month:Select month`,B=$localize`:@@ngb.datepicker.select-year:Select year`,De=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",v,"title",E,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",B,"title",De,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(E,B){1&E&&(a.TgZ(0,"select",0,1),a.NdJ("change",function(Ke){return B.changeMonth(Ke.target.value)}),a.YNc(2,$s,2,3,"option",2),a.qZA(),a.TgZ(3,"select",3,4),a.NdJ("change",function(Ke){return B.changeYear(Ke.target.value)}),a.YNc(5,ga,2,2,"option",2),a.qZA()),2&E&&(a.Q6J("disabled",B.disabled),a.xp6(2),a.Q6J("ngForOf",B.months),a.xp6(1),a.Q6J("disabled",B.disabled),a.xp6(2),a.Q6J("ngForOf",B.years))},dependencies:[bt.ax],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0})}return x})(),o=(()=>{class x{constructor(v){this.i18n=v,this.navigation=Tl,this.months=[],this.navigate=new a.vpe,this.select=new a.vpe}onClickPrev(v){v.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(v){v.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(Yo))};static#t=this.\u0275cmp=a.Xpm({type:x,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[a.jDz],decls:8,vars:4,consts:function(){let v,E,B,De;return v=$localize`:@@ngb.datepicker.previous-month:Previous month`,E=$localize`:@@ngb.datepicker.previous-month:Previous month`,B=$localize`:@@ngb.datepicker.next-month:Next month`,De=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow","ngb-dp-arrow-prev"],["type","button","aria-label",v,"title",E,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","ngb-dp-arrow-next"],["type","button","aria-label",B,"title",De,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"],[1,"ngb-dp-arrow"]]},template:function(E,B){1&E&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(Ke){return B.onClickPrev(Ke)}),a._UZ(2,"span",2),a.qZA()(),a.YNc(3,Sr,1,4,"ngb-datepicker-navigation-select",3),a.YNc(4,Zl,1,1,null,4),a.TgZ(5,"div",5)(6,"button",6),a.NdJ("click",function(Ke){return B.onClickNext(Ke)}),a._UZ(7,"span",2),a.qZA()()),2&E&&(a.xp6(1),a.Q6J("disabled",B.prevDisabled),a.xp6(2),a.Q6J("ngIf",B.showSelect),a.xp6(1),a.Q6J("ngIf",!B.showSelect),a.xp6(2),a.Q6J("disabled",B.nextDisabled))},dependencies:[bt.O5,bt.ax,f],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow-next{justify-content:flex-end}.ngb-dp-arrow-next .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0})}return x})();var u=function(x){return x[x.Tab=9]="Tab",x[x.Enter=13]="Enter",x[x.Escape=27]="Escape",x[x.Space=32]="Space",x[x.PageUp=33]="PageUp",x[x.PageDown=34]="PageDown",x[x.End=35]="End",x[x.Home=36]="Home",x[x.ArrowLeft=37]="ArrowLeft",x[x.ArrowUp=38]="ArrowUp",x[x.ArrowRight=39]="ArrowRight",x[x.ArrowDown=40]="ArrowDown",x}(u||{});let y=(()=>{class x{processKey(v,E){const{state:B,calendar:De}=E;switch(v.which){case u.PageUp:E.focusDate(De.getPrev(B.focusedDate,v.shiftKey?"y":"m",1));break;case u.PageDown:E.focusDate(De.getNext(B.focusedDate,v.shiftKey?"y":"m",1));break;case u.End:E.focusDate(v.shiftKey?B.maxDate:B.lastDate);break;case u.Home:E.focusDate(v.shiftKey?B.minDate:B.firstDate);break;case u.ArrowLeft:E.focusDate(De.getPrev(B.focusedDate,"d",1));break;case u.ArrowUp:E.focusDate(De.getPrev(B.focusedDate,"d",De.getDaysPerWeek()));break;case u.ArrowRight:E.focusDate(De.getNext(B.focusedDate,"d",1));break;case u.ArrowDown:E.focusDate(De.getNext(B.focusedDate,"d",De.getDaysPerWeek()));break;case u.Enter:case u.Space:E.focusSelect();break;default:return}v.preventDefault(),v.stopPropagation()}static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),O=(()=>{class x{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=bt.Tn.Short}static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),z=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275prov=a.Yz7({token:x,factory:function(){return function I(){return new H}()},providedIn:"root"})}return x})(),H=(()=>{class x extends z{fromModel(v){return v&&Fn(v.year)&&Fn(v.month)&&Fn(v.day)?{year:v.year,month:v.month,day:v.day}:null}toModel(v){return v&&Fn(v.year)&&Fn(v.month)&&Fn(v.day)?{year:v.year,month:v.month,day:v.day}:null}static#e=this.\u0275fac=function(){let v;return function(B){return(v||(v=a.n5z(x)))(B||x)}}();static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac})}return x})(),Y=(()=>{class x{constructor(v){this.templateRef=v}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0})}return x})(),ue=(()=>{class x{set month(v){this.viewModel=this._service.getMonth(v)}constructor(v,E,B,De){this.i18n=v,this.datepicker=E,this._keyboardService=B,this._service=De}onKeyDown(v){this._keyboardService.processKey(v,this.datepicker)}doSelect(v){!v.context.disabled&&!v.hidden&&this.datepicker.onDateSelect(v.date)}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(Yo),a.Y36((0,a.Gpc)(()=>de)),a.Y36(y),a.Y36(Bl))};static#t=this.\u0275cmp=a.Xpm({type:x,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(E,B){1&E&&a.NdJ("keydown",function(Ke){return B.onKeyDown(Ke)})},inputs:{month:"month"},standalone:!0,features:[a.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(E,B){1&E&&(a.YNc(0,Fs,3,2,"div",0),a.YNc(1,Is,1,1,"ng-template",1)),2&E&&(a.Q6J("ngIf",B.viewModel.weekdays.length>0),a.xp6(1),a.Q6J("ngForOf",B.viewModel.weeks))},dependencies:[bt.O5,bt.ax,bt.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2})}return x})(),de=(()=>{class x{constructor(v,E,B,De,Ke,_n,En,Qn){this._service=v,this._calendar=E,this._i18n=B,this._elementRef=_n,this._ngbDateAdapter=En,this._ngZone=Qn,this.injector=(0,a.f3M)(a.zs3),this._controlValue=null,this._destroyed$=new T.x,this._publicState={},this.navigate=new a.vpe,this.dateSelect=new a.vpe,this.onChange=Kn=>{},this.onTouched=()=>{},["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(Kn=>this[Kn]=De[Kn]),v.dateSelect$.pipe((0,Ce.R)(this._destroyed$)).subscribe(Kn=>{this.dateSelect.emit(Kn)}),v.model$.pipe((0,Ce.R)(this._destroyed$)).subscribe(Kn=>{const Hi=Kn.firstDate,Ai=this.model?this.model.firstDate:null;this._publicState={maxDate:Kn.maxDate,minDate:Kn.minDate,firstDate:Kn.firstDate,lastDate:Kn.lastDate,focusedDate:Kn.focusDate,months:Kn.months.map(sr=>sr.firstDate)};let Ui=!1;if(!Hi.equals(Ai)&&(this.navigate.emit({current:Ai?{year:Ai.year,month:Ai.month}:null,next:{year:Hi.year,month:Hi.month},preventDefault:()=>Ui=!0}),Ui&&null!==Ai))return void this._service.open(Ai);const No=Kn.selectedDate,rr=Kn.focusDate,bo=this.model?this.model.focusDate:null;this.model=Kn,ec(No,this._controlValue)&&(this._controlValue=No,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(No))),ec(rr,bo)&&bo&&Kn.focusVisible&&this.focus(),Ke.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(v){this._service.focus(xr.from(v))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,he.q)(1)).subscribe(()=>{const v=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');v&&v.focus()})}navigateTo(v){this._service.open(xr.from(v?v.day?v:{...v,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const v=(0,V.R)(this._contentEl.nativeElement,"focusin"),E=(0,V.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:B}=this._elementRef;(0,le.T)(v,E).pipe((0,we.h)(De=>{const Ke=De.target,_n=De.relatedTarget;return!(Ke?.classList.contains("ngb-dp-day")&&_n?.classList.contains("ngb-dp-day")&&B.contains(Ke)&&B.contains(_n))}),(0,Ce.R)(this._destroyed$)).subscribe(({type:De})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===De})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const v={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(E=>v[E]=this[E]),this._service.set(v),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(v){const E={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(B=>B in v).forEach(B=>E[B]=this[B]),this._service.set(E),"startDate"in v){const{currentValue:B,previousValue:De}=v.startDate;jh(De,B)&&this.navigateTo(this.startDate)}}onDateSelect(v){this._service.focus(v),this._service.select(v,{emitEvent:!0})}onNavigateDateSelect(v){this._service.open(v)}onNavigateEvent(v){switch(v){case Tl.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Tl.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(v){this.onChange=v}registerOnTouched(v){this.onTouched=v}setDisabledState(v){this._service.set({disabled:v})}writeValue(v){this._controlValue=xr.from(this._ngbDateAdapter.fromModel(v)),this._service.select(this._controlValue)}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(Bl),a.Y36(Ki),a.Y36(Yo),a.Y36(O),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(z),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:x,selectors:[["ngb-datepicker"]],contentQueries:function(E,B,De){if(1&E&&a.Suo(De,Y,7),2&E){let Ke;a.iGM(Ke=a.CRH())&&(B.contentTemplateFromContent=Ke.first)}},viewQuery:function(E,B){if(1&E&&(a.Gf(Ks,7),a.Gf(Na,7)),2&E){let De;a.iGM(De=a.CRH())&&(B._defaultDayTemplate=De.first),a.iGM(De=a.CRH())&&(B._contentEl=De.first)}},hostVars:2,hostBindings:function(E,B){2&E&&a.ekj("disabled",B.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[a._Bn([{provide:jt.JU,useExisting:(0,a.Gpc)(()=>x),multi:!0},Bl]),a.TTD,a.jDz],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(E,B){if(1&E&&(a.YNc(0,Oa,1,5,"ng-template",null,0,a.W1O),a.YNc(2,Ya,1,1,"ng-template",null,1,a.W1O),a.TgZ(4,"div",2),a.YNc(5,Gr,1,7,"ngb-datepicker-navigation",3),a.qZA(),a.TgZ(6,"div",4,5),a.YNc(8,bs,0,0,"ng-template",6),a.qZA(),a.YNc(9,Wl,0,0,"ng-template",7)),2&E){const De=a.MAs(3);a.xp6(5),a.Q6J("ngIf","none"!==B.navigation),a.xp6(1),a.ekj("ngb-dp-months",!B.contentTemplate),a.xp6(2),a.Q6J("ngTemplateOutlet",B.contentTemplate||(null==B.contentTemplateFromContent?null:B.contentTemplateFromContent.templateRef)||De)("ngTemplateOutletContext",a.VKq(7,As,B))("ngTemplateOutletInjector",B.injector),a.xp6(1),a.Q6J("ngTemplateOutlet",B.footerTemplate)}},dependencies:[bt.O5,bt.ax,bt.tP,zl,ue,o],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0})}return x})();const Re=(x,W)=>!!W&&W.some(v=>v.contains(x)),it=(x,W)=>!W||null!=function Qo(x,W){return!W||typeof x.closest>"u"?null:x.closest(W)}(x,W),vt=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Mt(x,W,v,E,B,De,Ke,_n){v&&x.runOutsideAngular((x=>vt?()=>setTimeout(()=>x(),100):x)(()=>{const Qn=(0,V.R)(W,"keydown").pipe((0,Ce.R)(B),(0,we.h)(Ai=>Ai.which===u.Escape),(0,A.b)(Ai=>Ai.preventDefault())),Kn=(0,V.R)(W,"mousedown").pipe((0,pe.U)(Ai=>{const Ui=Ai.target;return 2!==Ai.button&&!Re(Ui,Ke)&&("inside"===v?Re(Ui,De)&&it(Ui,_n):"outside"===v?!Re(Ui,De):it(Ui,_n)||!Re(Ui,De))}),(0,Ce.R)(B)),Hi=(0,V.R)(W,"mouseup").pipe((0,ge.M)(Kn),(0,we.h)(([Ai,Ui])=>Ui),function L(x,W=pt.z){const v=(0,ie.H)(x,W);return Ie(()=>v)}(0),(0,Ce.R)(B));(0,Te.S)([Qn.pipe((0,pe.U)(Ai=>0)),Hi.pipe((0,pe.U)(Ai=>1))]).subscribe(Ai=>x.run(()=>E(Ai)))}))}const Pt=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Fe(x){const W=Array.from(x.querySelectorAll(Pt)).filter(v=>-1!==v.tabIndex);return[W[0],W[W.length-1]]}let Ut=(()=>{class x{constructor(v){this._element=v.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(E){return new(E||x)(a.LFG(bt.K0))};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})();const Gt=/\s+/,hn=/  +/gi,fn={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Sn=/^left/,Mn=/^right/,zn=/^start/,yi=/^end/;function ai({placement:x,baseClass:W},v){let E=Array.isArray(x)?x:x.split(Gt),De=E.findIndex(Qn=>"auto"===Qn);De>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Qn){null==E.find(Kn=>-1!==Kn.search("^"+Qn))&&E.splice(De++,1,Qn)});const Ke=E.map(Qn=>function mn(x,W){const[v,E]=fn[x];return W&&E||v}(Qn,v.isRTL()));return{placement:Ke.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!W,phase:"write",fn({state:Qn}){const Kn=new RegExp(W+"(-[a-z]+)*","gi"),Hi=Qn.elements.popper,Ai=Qn.placement;let Ui=Hi.className;Ui=Ui.replace(Kn,""),Ui+=` ${function kn(x,W){let[v,E]=W.split("-");const B=v.replace(Sn,"start").replace(Mn,"end");let De=[B];if(E){let Ke=E;("left"===v||"right"===v)&&(Ke=Ke.replace(zn,"top").replace(yi,"bottom")),De.push(`${B}-${Ke}`)}return x&&(De=De.map(Ke=>`${x}-${Ke}`)),De.join(" ")}(W,Ai)}`,Ui=Ui.trim().replace(hn," "),Hi.className=Ui}},Ho,Jo,ys,{enabled:!0,name:"flip",options:{fallbackPlacements:Ke}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Vn(x){return x}new Date(1882,10,12),new Date(2174,10,25);let os=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),oo=(()=>{class x{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=v=>v}static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),uu=(()=>{class x{set disabled(v){this._disabled=""===v||!0===v,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}constructor(v,E){this.elementRef=v,this._renderer=E,this._disabled=!1}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(a.SBq),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(E,B){2&E&&(a.Ikx("tabIndex",B.disabled?-1:0),a.ekj("disabled",B.disabled))},inputs:{disabled:"disabled"},standalone:!0})}return x})(),nl=(()=>{class x{constructor(v,E){this.dropdown=v,this.placement="bottom",this.isOpen=!1,this.nativeElement=E.nativeElement}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36((0,a.Gpc)(()=>Sl)),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(E,B,De){if(1&E&&a.Suo(De,uu,4),2&E){let Ke;a.iGM(Ke=a.CRH())&&(B.menuItems=Ke)}},hostVars:4,hostBindings:function(E,B){1&E&&a.NdJ("keydown.ArrowUp",function(Ke){return B.dropdown.onKeyDown(Ke)})("keydown.ArrowDown",function(Ke){return B.dropdown.onKeyDown(Ke)})("keydown.Home",function(Ke){return B.dropdown.onKeyDown(Ke)})("keydown.End",function(Ke){return B.dropdown.onKeyDown(Ke)})("keydown.Enter",function(Ke){return B.dropdown.onKeyDown(Ke)})("keydown.Space",function(Ke){return B.dropdown.onKeyDown(Ke)})("keydown.Tab",function(Ke){return B.dropdown.onKeyDown(Ke)})("keydown.Shift.Tab",function(Ke){return B.dropdown.onKeyDown(Ke)}),2&E&&a.ekj("dropdown-menu",!0)("show",B.dropdown.isOpen())},standalone:!0})}return x})(),lh=(()=>{class x{constructor(v,E){this.dropdown=v,this.nativeElement=E.nativeElement}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36((0,a.Gpc)(()=>Sl)),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(E,B){2&E&&a.uIk("aria-expanded",B.dropdown.isOpen())},standalone:!0})}return x})(),Bp=(()=>{class x extends lh{constructor(v,E){super(v,E)}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36((0,a.Gpc)(()=>Sl)),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(E,B){1&E&&a.NdJ("click",function(){return B.dropdown.toggle()})("keydown.ArrowUp",function(Ke){return B.dropdown.onKeyDown(Ke)})("keydown.ArrowDown",function(Ke){return B.dropdown.onKeyDown(Ke)})("keydown.Home",function(Ke){return B.dropdown.onKeyDown(Ke)})("keydown.End",function(Ke){return B.dropdown.onKeyDown(Ke)})("keydown.Tab",function(Ke){return B.dropdown.onKeyDown(Ke)})("keydown.Shift.Tab",function(Ke){return B.dropdown.onKeyDown(Ke)}),2&E&&a.uIk("aria-expanded",B.dropdown.isOpen())},standalone:!0,features:[a._Bn([{provide:lh,useExisting:(0,a.Gpc)(()=>x)}]),a.qOj]})}return x})(),Sl=(()=>{class x{constructor(v,E,B,De,Ke,_n){this._changeDetector=v,this._document=B,this._ngZone=De,this._elementRef=Ke,this._renderer=_n,this._destroyCloseHandlers$=new T.x,this._bodyContainer=null,this._open=!1,this.openChange=new a.vpe,this.placement=E.placement,this.popperOptions=E.popperOptions,this.container=E.container,this.autoClose=E.autoClose,this._positioning=function pi(){const x=(0,a.f3M)(Ut);let W=null;return{createPopper(v){if(!W){let B=(v.updatePopperOptions||Vn)(ai(v,x));W=rs(v.hostElement,v.targetElement,B)}},update(){W&&W.update()},setOptions(v){if(W){let B=(v.updatePopperOptions||Vn)(ai(v,x));W.setOptions(B)}},destroy(){W&&(W.destroy(),W=null)}}}()}ngOnInit(){this.display||(this.display=this._elementRef.nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,he.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(v){if(v.container&&this._open&&this._applyContainer(this.container),v.placement&&!v.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),v.dropdownClass){const{currentValue:E,previousValue:B}=v.dropdownClass;this._applyCustomDropdownClass(E,B)}v.autoClose&&this._open&&(this.autoClose=v.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:v=>this.popperOptions(function oi(x){return W=>(W.modifiers.push(Ka,{name:"offset",options:{offset:()=>x}}),W)}([0,2])(v))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Mt(this._ngZone,this._document,this.autoClose,v=>{this.close(),0===v&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(v){const E=v.which,B=this._getMenuElements();let De=-1,Ke=null;const _n=this._isEventFromToggle(v);if(!_n&&B.length&&B.forEach((En,Qn)=>{En.contains(v.target)&&(Ke=En),En===ls(this._document)&&(De=Qn)}),E!==u.Space&&E!==u.Enter){if(E!==u.Tab){if(_n||Ke){if(this.open(),B.length){switch(E){case u.ArrowDown:De=Math.min(De+1,B.length-1);break;case u.ArrowUp:if(this._isDropup()&&-1===De){De=B.length-1;break}De=Math.max(De-1,0);break;case u.Home:De=0;break;case u.End:De=B.length-1}B[De].focus()}v.preventDefault()}}else if(v.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===v.target)return void("body"!==this.container||v.shiftKey?v.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const En=this._menu.nativeElement.querySelectorAll(Pt);v.shiftKey&&v.target===En[0]?(this._anchor.nativeElement.focus(),v.preventDefault()):!v.shiftKey&&v.target===En[En.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,V.R)(v.target,"focusout").pipe((0,he.q)(1)).subscribe(({relatedTarget:En})=>{this._elementRef.nativeElement.contains(En)||this.close()})}}else Ke&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,V.R)(Ke,"click").pipe((0,he.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(v){return this._anchor.nativeElement.contains(v.target)}_getMenuElements(){const v=this._menu;return null==v?[]:v.menuItems.filter(E=>!E.disabled).map(E=>E.elementRef.nativeElement)}_positionMenu(){const v=this._menu;this.isOpen()&&v&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(v){return Array.isArray(v)?v[0]:v.split(" ")[0]}_resetContainer(){const v=this._renderer;this._menu&&v.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(v.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(v=null){if(this._resetContainer(),"body"===v){const E=this._renderer,B=this._menu.nativeElement,De=this._bodyContainer=this._bodyContainer||E.createElement("div");E.setStyle(De,"position","absolute"),E.setStyle(B,"position","static"),E.setStyle(De,"z-index","1055"),E.appendChild(De,B),E.appendChild(this._document.body,De)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(v,E){const B="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;B&&(E&&this._renderer.removeClass(B,E),v&&this._renderer.addClass(B,v))}_applyPlacementClasses(v){const E=this._menu;if(E){v||(v=this._getFirstPlacement(this.placement));const B=this._renderer,De=this._elementRef.nativeElement;B.removeClass(De,"dropup"),B.removeClass(De,"dropdown");const{nativeElement:Ke}=E;"static"===this.display?(E.placement=null,B.setAttribute(Ke,"data-bs-popper","static")):(E.placement=v,B.removeAttribute(Ke,"data-bs-popper"));const _n=-1!==v.search("^top")?"dropup":"dropdown";B.addClass(De,_n);const En=this._bodyContainer;En&&(B.removeClass(En,"dropup"),B.removeClass(En,"dropdown"),B.addClass(En,_n))}}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(a.sBO),a.Y36(oo),a.Y36(bt.K0),a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["","ngbDropdown",""]],contentQueries:function(E,B,De){if(1&E&&(a.Suo(De,nl,5),a.Suo(De,lh,5)),2&E){let Ke;a.iGM(Ke=a.CRH())&&(B._menu=Ke.first),a.iGM(Ke=a.CRH())&&(B._anchor=Ke.first)}},hostVars:2,hostBindings:function(E,B){2&E&&a.ekj("show",B.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[a.TTD]})}return x})(),Tc=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})();class oc{constructor(W,v,E){this.nodes=W,this.viewRef=v,this.componentRef=E}}let ch=(()=>{class x{constructor(v,E){this._el=v,this._zone=E}ngOnInit(){this._zone.onStable.asObservable().pipe((0,he.q)(1)).subscribe(()=>{yr(this._zone,this._el.nativeElement,(v,E)=>{E&&Ro(v),v.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return yr(this._zone,this._el.nativeElement,({classList:v})=>v.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:x,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(E,B){2&E&&(a.Tol("modal-backdrop"+(B.backdropClass?" "+B.backdropClass:"")),a.ekj("show",!B.animation)("fade",B.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[a.jDz],decls:0,vars:0,template:function(E,B){},encapsulation:2})}return x})();class dh{update(W){}close(W){}dismiss(W){}}const Wh=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],zp=["animation","backdropClass"];class vg{_applyWindowOptions(W,v){Wh.forEach(E=>{Un(v[E])&&(W[E]=v[E])})}_applyBackdropOptions(W,v){zp.forEach(E=>{Un(v[E])&&(W[E]=v[E])})}update(W){this._applyWindowOptions(this._windowCmptRef.instance,W),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,W)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Ce.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Ce.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(W,v,E,B){this._windowCmptRef=W,this._contentRef=v,this._backdropCmptRef=E,this._beforeDismiss=B,this._closed=new T.x,this._dismissed=new T.x,this._hidden=new T.x,W.instance.dismissEvent.subscribe(De=>{this.dismiss(De)}),this.result=new Promise((De,Ke)=>{this._resolve=De,this._reject=Ke}),this.result.then(null,()=>{})}close(W){this._windowCmptRef&&(this._closed.next(W),this._resolve(W),this._removeModalElements())}_dismiss(W){this._dismissed.next(W),this._reject(W),this._removeModalElements()}dismiss(W){if(this._windowCmptRef)if(this._beforeDismiss){const v=this._beforeDismiss();!function Qi(x){return x&&x.then}(v)?!1!==v&&this._dismiss(W):v.then(E=>{!1!==E&&this._dismiss(W)},()=>{})}else this._dismiss(W)}_removeModalElements(){const W=this._windowCmptRef.instance.hide(),v=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,c.of)(void 0);W.subscribe(()=>{const{nativeElement:E}=this._windowCmptRef.location;E.parentNode.removeChild(E),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),v.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:E}=this._backdropCmptRef.location;E.parentNode.removeChild(E),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),J(W,v).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var hu=function(x){return x[x.BACKDROP_CLICK=0]="BACKDROP_CLICK",x[x.ESC=1]="ESC",x}(hu||{});let Kh=(()=>{class x{constructor(v,E,B){this._document=v,this._elRef=E,this._zone=B,this._closed$=new T.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new T.x,this.hidden=new T.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ze(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(v){this.dismissEvent.emit(v)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,he.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:v}=this._elRef,E={animation:this.animation,runningTransition:"stop"},Ke=J(yr(this._zone,v,()=>v.classList.remove("show"),E),yr(this._zone,this._dialogEl.nativeElement,()=>{},E));return Ke.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Ke}_show(){const v={animation:this.animation,runningTransition:"continue"};J(yr(this._zone,this._elRef.nativeElement,(De,Ke)=>{Ke&&Ro(De),De.classList.add("show")},v),yr(this._zone,this._dialogEl.nativeElement,()=>{},v)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:v}=this._elRef;this._zone.runOutsideAngular(()=>{(0,V.R)(v,"keydown").pipe((0,Ce.R)(this._closed$),(0,we.h)(B=>B.which===u.Escape)).subscribe(B=>{this.keyboard?requestAnimationFrame(()=>{B.defaultPrevented||this._zone.run(()=>this.dismiss(hu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let E=!1;(0,V.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Ce.R)(this._closed$),(0,A.b)(()=>E=!1),(0,Oe.w)(()=>(0,V.R)(v,"mouseup").pipe((0,Ce.R)(this._closed$),(0,he.q)(1))),(0,we.h)(({target:B})=>v===B)).subscribe(()=>{E=!0}),(0,V.R)(v,"click").pipe((0,Ce.R)(this._closed$)).subscribe(({target:B})=>{v===B&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!E&&this._zone.run(()=>this.dismiss(hu.BACKDROP_CLICK))),E=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:v}=this._elRef;if(!v.contains(document.activeElement)){const E=v.querySelector("[ngbAutofocus]"),B=Fe(v)[0];(E||B||v).focus()}}_restoreFocus(){const v=this._document.body,E=this._elWithFocus;let B;B=E&&E.focus&&v.contains(E)?E:v,this._zone.runOutsideAngular(()=>{setTimeout(()=>B.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&yr(this._zone,this._elRef.nativeElement,({classList:v})=>(v.add("modal-static"),()=>v.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(bt.K0),a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:x,selectors:[["ngb-modal-window"]],viewQuery:function(E,B){if(1&E&&a.Gf(pl,7),2&E){let De;a.iGM(De=a.CRH())&&(B._dialogEl=De.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(E,B){2&E&&(a.uIk("aria-modal",!0)("aria-labelledby",B.ariaLabelledBy)("aria-describedby",B.ariaDescribedBy),a.Tol("modal d-block"+(B.windowClass?" "+B.windowClass:"")),a.ekj("fade",B.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[a.jDz],ngContentSelectors:Ur,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(E,B){1&E&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2),a.Hsn(3),a.qZA()()),2&E&&a.Tol("modal-dialog"+(B.size?" modal-"+B.size:"")+(B.centered?" modal-dialog-centered":"")+B.fullscreenClass+(B.scrollable?" modal-dialog-scrollable":"")+(B.modalDialogClass?" "+B.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return x})(),uh=(()=>{class x{constructor(v){this._document=v}hide(){const v=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),E=this._document.body,B=E.style,{overflow:De,paddingRight:Ke}=B;if(v>0){const _n=parseFloat(window.getComputedStyle(E).paddingRight);B.paddingRight=`${_n+v}px`}return B.overflow="hidden",()=>{v>0&&(B.paddingRight=Ke),B.overflow=De}}static#e=this.\u0275fac=function(E){return new(E||x)(a.LFG(bt.K0))};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),hh=(()=>{class x{constructor(v,E,B,De,Ke,_n,En){this._applicationRef=v,this._injector=E,this._environmentInjector=B,this._document=De,this._scrollBar=Ke,this._rendererFactory=_n,this._ngZone=En,this._activeWindowCmptHasChanged=new T.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Qn=this._windowCmpts[this._windowCmpts.length-1];((x,W,v,E=!1)=>{x.runOutsideAngular(()=>{const B=(0,V.R)(W,"focusin").pipe((0,Ce.R)(v),(0,pe.U)(De=>De.target));(0,V.R)(W,"keydown").pipe((0,Ce.R)(v),(0,we.h)(De=>De.which===u.Tab),(0,ge.M)(B)).subscribe(([De,Ke])=>{const[_n,En]=Fe(W);(Ke===_n||Ke===W)&&De.shiftKey&&(En.focus(),De.preventDefault()),Ke===En&&!De.shiftKey&&(_n.focus(),De.preventDefault())}),E&&(0,V.R)(W,"click").pipe((0,Ce.R)(v),(0,ge.M)(B),(0,pe.U)(De=>De[1])).subscribe(De=>De.focus())})})(this._ngZone,Qn.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Qn.location.nativeElement)}})}_restoreScrollBar(){const v=this._scrollBarRestoreFn;v&&(this._scrollBarRestoreFn=null,v())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(v,E,B){const De=B.container instanceof HTMLElement?B.container:Un(B.container)?this._document.querySelector(B.container):this._document.body,Ke=this._rendererFactory.createRenderer(null,null);if(!De)throw new Error(`The specified modal container "${B.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const _n=new dh,En=(v=B.injector||v).get(a.lqb,null)||this._environmentInjector,Qn=this._getContentRef(v,En,E,_n,B);let Kn=!1!==B.backdrop?this._attachBackdrop(De):void 0,Hi=this._attachWindowComponent(De,Qn.nodes),Ai=new vg(Hi,Qn,Kn,B.beforeDismiss);return this._registerModalRef(Ai),this._registerWindowCmpt(Hi),Ai.hidden.pipe((0,he.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Ke.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),_n.close=Ui=>{Ai.close(Ui)},_n.dismiss=Ui=>{Ai.dismiss(Ui)},_n.update=Ui=>{Ai.update(Ui)},Ai.update(B),1===this._modalRefs.length&&Ke.addClass(this._document.body,"modal-open"),Kn&&Kn.instance&&Kn.changeDetectorRef.detectChanges(),Hi.changeDetectorRef.detectChanges(),Ai}get activeInstances(){return this._activeInstances}dismissAll(v){this._modalRefs.forEach(E=>E.dismiss(v))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(v){let E=(0,a.LMc)(ch,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(E.hostView),v.appendChild(E.location.nativeElement),E}_attachWindowComponent(v,E){let B=(0,a.LMc)(Kh,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:E});return this._applicationRef.attachView(B.hostView),v.appendChild(B.location.nativeElement),B}_getContentRef(v,E,B,De,Ke){return B?B instanceof a.Rgc?this._createFromTemplateRef(B,De):ze(B)?this._createFromString(B):this._createFromComponent(v,E,B,De,Ke):new oc([])}_createFromTemplateRef(v,E){const De=v.createEmbeddedView({$implicit:E,close(Ke){E.close(Ke)},dismiss(Ke){E.dismiss(Ke)}});return this._applicationRef.attachView(De),new oc([De.rootNodes],De)}_createFromString(v){const E=this._document.createTextNode(`${v}`);return new oc([[E]])}_createFromComponent(v,E,B,De,Ke){const _n=a.zs3.create({providers:[{provide:dh,useValue:De}],parent:v}),En=(0,a.LMc)(B,{environmentInjector:E,elementInjector:_n}),Qn=En.location.nativeElement;return Ke.scrollable&&Qn.classList.add("component-host-scrollable"),this._applicationRef.attachView(En.hostView),new oc([[Qn]],En.hostView,En)}_setAriaHidden(v){const E=v.parentElement;E&&v!==this._document.body&&(Array.from(E.children).forEach(B=>{B!==v&&"SCRIPT"!==B.nodeName&&(this._ariaHiddenValues.set(B,B.getAttribute("aria-hidden")),B.setAttribute("aria-hidden","true"))}),this._setAriaHidden(E))}_revertAriaHidden(){this._ariaHiddenValues.forEach((v,E)=>{v?E.setAttribute("aria-hidden",v):E.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(v){const E=()=>{const B=this._modalRefs.indexOf(v);B>-1&&(this._modalRefs.splice(B,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(v),this._activeInstances.emit(this._modalRefs),v.result.then(E,E)}_registerWindowCmpt(v){this._windowCmpts.push(v),this._activeWindowCmptHasChanged.next(),v.onDestroy(()=>{const E=this._windowCmpts.indexOf(v);E>-1&&(this._windowCmpts.splice(E,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(E){return new(E||x)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(a.lqb),a.LFG(bt.K0),a.LFG(uh),a.LFG(a.FYo),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),Fd=(()=>{class x{constructor(v){this._ngbConfig=v,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(v){this._animation=v}static#e=this.\u0275fac=function(E){return new(E||x)(a.LFG(sa))};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),Bd=(()=>{class x{constructor(v,E,B){this._injector=v,this._modalStack=E,this._config=B}open(v,E={}){const B={...this._config,animation:this._config.animation,...E};return this._modalStack.open(this._injector,v,B)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(v){this._modalStack.dismissAll(v)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(E){return new(E||x)(a.LFG(a.zs3),a.LFG(hh),a.LFG(Fd))};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),pu=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({providers:[Bd]})}return x})(),ph=(()=>{class x{constructor(v){this._ngbConfig=v,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(v){this._animation=v}static#e=this.\u0275fac=function(E){return new(E||x)(a.LFG(sa))};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})();const Yh=x=>Un(x)&&""!==x;let rc=0,_d=(()=>{class x{constructor(v){this.templateRef=v}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["ng-template","ngbNavContent",""]],standalone:!0})}return x})(),il=(()=>{class x{constructor(v,E){this.role=v,this.nav=E}static#e=this.\u0275fac=function(E){return new(E||x)(a.$8M("role"),a.Y36((0,a.Gpc)(()=>yd)))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(E,B){2&E&&a.uIk("role",B.role?B.role:B.nav.roles?"presentation":void 0)},standalone:!0})}return x})(),ol=(()=>{class x{constructor(v,E){this._nav=v,this.elementRef=E,this.disabled=!1,this.shown=new a.vpe,this.hidden=new a.vpe}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Un(this.domId)||(this.domId="ngb-nav-"+rc++)}get active(){return this._nav.activeId===this.id}get id(){return Yh(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Un(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36((0,a.Gpc)(()=>yd)),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["","ngbNavItem",""]],contentQueries:function(E,B,De){if(1&E&&a.Suo(De,_d,4),2&E){let Ke;a.iGM(Ke=a.CRH())&&(B.contentTpls=Ke)}},hostVars:2,hostBindings:function(E,B){2&E&&a.ekj("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0})}return x})(),yd=(()=>{class x{constructor(v,E,B,De){this.role=v,this._cd=B,this._document=De,this.activeIdChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.destroy$=new T.x,this.navItemChange$=new T.x,this.navChange=new a.vpe,this.animation=E.animation,this.destroyOnHide=E.destroyOnHide,this.orientation=E.orientation,this.roles=E.roles,this.keyboard=E.keyboard}click(v){v.disabled||this._updateActiveId(v.id)}onKeyDown(v){if("tablist"!==this.roles||!this.keyboard)return;const E=v.which,B=this.links.filter(_n=>!_n.navItem.disabled),{length:De}=B;let Ke=-1;if(B.forEach((_n,En)=>{_n.elRef.nativeElement===this._document.activeElement&&(Ke=En)}),De){switch(E){case u.ArrowLeft:if("vertical"===this.orientation)return;Ke=(Ke-1+De)%De;break;case u.ArrowRight:if("vertical"===this.orientation)return;Ke=(Ke+1)%De;break;case u.ArrowDown:if("horizontal"===this.orientation)return;Ke=(Ke+1)%De;break;case u.ArrowUp:if("horizontal"===this.orientation)return;Ke=(Ke-1+De)%De;break;case u.Home:Ke=0;break;case u.End:Ke=De-1}"changeWithArrows"===this.keyboard&&this.select(B[Ke].navItem.id),B[Ke].elRef.nativeElement.focus(),v.preventDefault()}}select(v){this._updateActiveId(v,!1)}ngAfterContentInit(){if(!Un(this.activeId)){const v=this.items.first?this.items.first.id:null;Yh(v)&&(this._updateActiveId(v,!1),this._cd.detectChanges())}this.items.changes.pipe((0,Ce.R)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:v}){v&&!v.firstChange&&this._notifyItemChanged(v.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(v,E=!0){if(this.activeId!==v){let B=!1;E&&this.navChange.emit({activeId:this.activeId,nextId:v,preventDefault:()=>{B=!0}}),B||(this.activeId=v,this.activeIdChange.emit(v),this._notifyItemChanged(v))}}_notifyItemChanged(v){this.navItemChange$.next(this._getItemById(v))}_getItemById(v){return this.items&&this.items.find(E=>E.id===v)||null}static#e=this.\u0275fac=function(E){return new(E||x)(a.$8M("role"),a.Y36(ph),a.Y36(a.sBO),a.Y36(bt.K0))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["","ngbNav",""]],contentQueries:function(E,B,De){if(1&E&&(a.Suo(De,ol,4),a.Suo(De,ms,5)),2&E){let Ke;a.iGM(Ke=a.CRH())&&(B.items=Ke),a.iGM(Ke=a.CRH())&&(B.links=Ke)}},hostVars:6,hostBindings:function(E,B){1&E&&a.NdJ("keydown.arrowLeft",function(Ke){return B.onKeyDown(Ke)})("keydown.arrowRight",function(Ke){return B.onKeyDown(Ke)})("keydown.arrowDown",function(Ke){return B.onKeyDown(Ke)})("keydown.arrowUp",function(Ke){return B.onKeyDown(Ke)})("keydown.Home",function(Ke){return B.onKeyDown(Ke)})("keydown.End",function(Ke){return B.onKeyDown(Ke)}),2&E&&(a.uIk("aria-orientation","vertical"===B.orientation&&"tablist"===B.roles?"vertical":void 0)("role",B.role?B.role:B.roles?"tablist":void 0),a.ekj("nav",!0)("flex-column","vertical"===B.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[a.TTD]})}return x})(),ms=(()=>{class x{constructor(v,E,B,De){this.role=v,this.navItem=E,this.nav=B,this.elRef=De}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}static#e=this.\u0275fac=function(E){return new(E||x)(a.$8M("role"),a.Y36(ol),a.Y36(yd),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["","ngbNavLink",""]],hostVars:14,hostBindings:function(E,B){2&E&&(a.Ikx("id",B.navItem.domId),a.uIk("role",B.role?B.role:B.nav.roles?"tab":void 0)("tabindex",B.navItem.disabled?-1:void 0)("aria-controls",B.navItem.isPanelInDom()?B.navItem.panelDomId:null)("aria-selected",B.navItem.active)("aria-disabled",B.navItem.disabled),a.ekj("nav-link",!0)("nav-item",B.hasNavItemClass())("active",B.navItem.active)("disabled",B.navItem.disabled))},standalone:!0})}return x})(),gu=(()=>{class x{constructor(v,E){this.navItem=v,this.nav=E}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(ol),a.Y36(yd))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostBindings:function(E,B){1&E&&a.NdJ("click",function(Ke){return B.nav.click(B.navItem),Ke.preventDefault()})},standalone:!0,features:[a.zW0([ms])]})}return x})();const jl=({classList:x})=>(x.remove("show"),()=>x.remove("active")),bg=(x,W)=>{W&&Ro(x),x.classList.add("show")};let Cg=(()=>{class x{constructor(v){this.elRef=v}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:x,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(E,B){2&E&&(a.Ikx("id",B.item.panelDomId),a.uIk("role",B.role?B.role:B.nav.roles?"tabpanel":void 0)("aria-labelledby",B.item.domId),a.ekj("fade",B.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0})}return x})(),qh=(()=>{class x{constructor(v,E){this._cd=v,this._ngZone=E,this._activePane=null}isPanelTransitioning(v){return this._activePane?.item===v}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,Ce.R)(this.nav.destroy$),(0,ut.O)(this._activePane?.item||null),(0,Nt.x)(),(0,an.T)(1)).subscribe(v=>{const E={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?yr(this._ngZone,this._activePane.elRef.nativeElement,jl,E).subscribe(()=>{const B=this._activePane?.item;this._activePane=this._getPaneForItem(v),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),yr(this._ngZone,this._activePane.elRef.nativeElement,bg,E).subscribe(()=>{v&&(v.shown.emit(),this.nav.shown.emit(v.id))})),B&&(B.hidden.emit(),this.nav.hidden.emit(B.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(v){return this._panes&&this._panes.find(E=>E.item===v)||null}_getActivePane(){return this._panes&&this._panes.find(v=>v.item.active)||null}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(a.sBO),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:x,selectors:[["","ngbNavOutlet",""]],viewQuery:function(E,B){if(1&E&&a.Gf(Cg,5),2&E){let De;a.iGM(De=a.CRH())&&(B._panes=De)}},hostVars:2,hostBindings:function(E,B){2&E&&a.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[a.jDz],attrs:ma,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(E,B){1&E&&a.YNc(0,qa,1,1,"ng-template",0),2&E&&a.Q6J("ngForOf",B.nav.items)},dependencies:[Cg,bt.ax,bt.O5,bt.tP],encapsulation:2,changeDetection:0})}return x})(),Xc=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),Xh=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),bd=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),Ea=(()=>{class x{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),Ia=(()=>{class x{set max(v){this._max=!function Kt(x){return!isNaN(K(x))}(v)||v<=0?100:v}get max(){return this._max}constructor(v){this.value=0,this.max=v.max,this.animated=v.animated,this.ariaLabel=v.ariaLabel,this.striped=v.striped,this.textType=v.textType,this.type=v.type,this.showValue=v.showValue,this.height=v.height}getValue(){return function Me(x,W,v=0){return Math.max(Math.min(x,W),v)}(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}static#e=this.\u0275fac=function(E){return new(E||x)(a.Y36(Ea))};static#t=this.\u0275cmp=a.Xpm({type:x,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(E,B){2&E&&(a.uIk("aria-valuenow",B.getValue())("aria-valuemax",B.max)("aria-label",B.ariaLabel),a.Udp("height",B.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[a.jDz],ngContentSelectors:Ur,decls:3,vars:11,consts:function(){let v;return v=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],v]},template:function(E,B){1&E&&(a.F$t(),a.TgZ(0,"div"),a.YNc(1,_c,3,3,"span",0),a.Hsn(2),a.qZA()),2&E&&(a.MT6("progress-bar",B.type?B.textType?" bg-"+B.type:" text-bg-"+B.type:"","",B.textType?" text-"+B.textType:"",""),a.Udp("width",B.getPercentValue(),"%"),a.ekj("progress-bar-animated",B.animated)("progress-bar-striped",B.striped),a.xp6(1),a.Q6J("ngIf",B.showValue))},dependencies:[bt.O5,bt.Zx],encapsulation:2,changeDetection:0})}return x})(),Hu=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),Gp=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),yu=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),Kp=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),vl=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),ep=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})();new a.OlP("live announcer delay",{providedIn:"root",factory:function yh(){return 100}});let af=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})(),Jp=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({})}return x})();const td=[cd,Au,Ta,Ql,os,Tc,pu,Xc,Jp,Xh,bd,Hu,Gp,yu,Kp,vl,ep,af];let Eg=(()=>{class x{static#e=this.\u0275fac=function(E){return new(E||x)};static#t=this.\u0275mod=a.oAB({type:x});static#n=this.\u0275inj=a.cJS({imports:[td,cd,Au,Ta,Ql,os,Tc,pu,Xc,Jp,Xh,bd,Hu,Gp,yu,Kp,vl,ep,af]})}return x})()},7632:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5879),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4221),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6232),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5592),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2096),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3019),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2381),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(7328),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3020),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2181),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7398),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6328),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5178),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3620),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6306),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8180),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9773),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4664),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(836),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3093),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2460),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6699),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1993);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(Le,D){if(this.action=Le,this.timestamp=D,this.type=PERFORM_ACTION,typeof Le.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(Le){this.timestamp=Le,this.type=RESET}}class Rollback{constructor(Le){this.timestamp=Le,this.type=ROLLBACK}}class Commit{constructor(Le){this.timestamp=Le,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(Le){this.id=Le,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(Le,D,a=!0){this.start=Le,this.end=D,this.active=a,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(Le){this.index=Le,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(Le){this.actionId=Le,this.type=JUMP_TO_ACTION}}class ImportState{constructor(Le){this.nextLiftedState=Le,this.type=IMPORT_STATE}}class LockChanges{constructor(Le){this.status=Le,this.type=LOCK_CHANGES}}class PauseRecording{constructor(Le){this.status=Le,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Dt){const Le={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectOutsideZone:!1},D="function"==typeof Dt?Dt():Dt,s=D.features||!!D.logOnly&&{pause:!0,export:!0,test:!0}||Le.features;!0===s.import&&(s.import="custom");const oe=Object.assign({},Le,{features:s},D);if(oe.maxAge&&oe.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${oe.maxAge}`);return oe}function difference(Dt,Le){return Dt.filter(D=>Le.indexOf(D)<0)}function unliftState(Dt){const{computedStates:Le,currentStateIndex:D}=Dt;if(D>=Le.length){const{state:s}=Le[Le.length-1];return s}const{state:a}=Le[D];return a}function unliftAction(Dt){return Dt.actionsById[Dt.nextActionId-1]}function liftAction(Dt){return new PerformAction(Dt,+Date.now())}function sanitizeActions(Dt,Le){return Object.keys(Le).reduce((D,a)=>{const s=Number(a);return D[s]=sanitizeAction(Dt,Le[s],s),D},{})}function sanitizeAction(Dt,Le,D){return{...Le,action:Dt(Le.action,D)}}function sanitizeStates(Dt,Le){return Le.map((D,a)=>({state:sanitizeState(Dt,D.state,a),error:D.error}))}function sanitizeState(Dt,Le,D){return Dt(Le,D)}function shouldFilterActions(Dt){return Dt.predicate||Dt.actionsSafelist||Dt.actionsBlocklist}function filterLiftedState(Dt,Le,D,a){const s=[],oe={},c=[];return Dt.stagedActionIds.forEach((T,V)=>{const ie=Dt.actionsById[T];ie&&(V&&isActionFiltered(Dt.computedStates[V],ie,Le,D,a)||(oe[T]=ie,s.push(T),c.push(Dt.computedStates[V])))}),{...Dt,stagedActionIds:s,actionsById:oe,computedStates:c}}function isActionFiltered(Dt,Le,D,a,s){const oe=D&&!D(Dt,Le.action),c=a&&!Le.action.type.match(a.map(V=>escapeRegExp(V)).join("|")),T=s&&Le.action.type.match(s.map(V=>escapeRegExp(V)).join("|"));return oe||c||T}function escapeRegExp(Dt){return Dt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function injectZoneConfig(Dt){return{ngZone:Dt?(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.f3M)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R0b):null,connectOutsideZone:Dt}}let DevtoolsDispatcher=(()=>{class Dt extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{static#e=this.\u0275fac=function(){let D;return function(s){return(D||(D=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Dt)))(s||Dt)}}();static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Dt,factory:Dt.\u0275fac})}return Dt})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Dt,Le,D){this.config=Le,this.dispatcher=D,this.zoneConfig=injectZoneConfig(this.config.connectOutsideZone),this.devtoolsExtension=Dt,this.createActionStreams()}notify(Dt,Le){if(this.devtoolsExtension)if(Dt.type===PERFORM_ACTION){if(Le.isLocked||Le.isPaused)return;const D=unliftState(Le);if(shouldFilterActions(this.config)&&isActionFiltered(D,Dt,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const a=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,D,Le.currentStateIndex):D,s=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Dt,Le.nextActionId):Dt;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,a))}else{const D={...Le,stagedActionIds:Le.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,Le.actionsById):Le.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,Le.computedStates):Le.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,D,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Dt=>{const Le=this.zoneConfig.connectOutsideZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=Le,Le.init(),Le.subscribe(D=>Dt.next(D)),Le.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Dt=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),Le=Dt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(T=>T.type===ExtensionActionTypes.START)),D=Dt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(T=>T.type===ExtensionActionTypes.STOP)),a=Dt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(T=>T.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(T=>this.unwrapAction(T.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(T=>T.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(V=>V.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>T),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(T)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(T))),oe=Dt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(T=>T.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(T=>this.unwrapAction(T.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),c=a.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D));this.start$=Le.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>oe)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>c))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Dt){const Le={name:Dt.name,features:Dt.features,serialize:Dt.serialize,autoPause:Dt.autoPause??!1,trace:Dt.trace??!1,traceLimit:Dt.traceLimit??75};return!1!==Dt.maxAge&&(Le.maxAge=Dt.maxAge),Le}sendToReduxDevtools(Dt){try{Dt()}catch(Le){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",Le)}}static#_=this.\u0275fac=function Dt(Le){return new(Le||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac})}return DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Dt,Le,D,a,s){if(a)return{state:D,error:"Interrupted by an error up the chain"};let c,oe=D;try{oe=Dt(D,Le)}catch(T){c=T.toString(),s.handleError(T)}return{state:oe,error:c}}function recomputeStates(Dt,Le,D,a,s,oe,c,T,V){if(Le>=Dt.length&&Dt.length===oe.length)return Dt;const ie=Dt.slice(0,Le),Te=oe.length-(V?1:0);for(let le=Le;le<Te;le++){const me=oe[le],ae=s[me].action,be=ie[le-1],re=be?be.state:a,J=be?be.error:void 0,ke=c.indexOf(me)>-1?be:computeNextEntry(D,ae,re,J,T);ie.push(ke)}return V&&ie.push(Dt[Dt.length-1]),ie}function liftInitialState(Dt,Le){return{monitorState:Le(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Dt,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Dt,Le,D,a,s={}){return oe=>(c,T)=>{let{monitorState:V,actionsById:ie,nextActionId:Te,stagedActionIds:le,skippedActionIds:me,committedState:ae,currentStateIndex:be,computedStates:re,isLocked:J,isPaused:fe}=c||Le;function ke(he){let A=he,pe=le.slice(1,A+1);for(let ge=0;ge<pe.length;ge++){if(re[ge+1].error){A=ge,pe=le.slice(1,A+1);break}delete ie[pe[ge]]}me=me.filter(ge=>-1===pe.indexOf(ge)),le=[0,...le.slice(A+1)],ae=re[A].state,re=re.slice(A),be=be>A?be-A:0}function Ce(){ie={0:liftAction(INIT_ACTION)},Te=1,le=[0],me=[],ae=re[be].state,be=0,re=[]}c||(ie=Object.create(ie));let we=0;switch(T.type){case LOCK_CHANGES:J=T.status,we=1/0;break;case PAUSE_RECORDING:fe=T.status,fe?(le=[...le,Te],ie[Te]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),Te++,we=le.length-1,re=re.concat(re[re.length-1]),be===le.length-2&&be++,we=1/0):Ce();break;case RESET:ie={0:liftAction(INIT_ACTION)},Te=1,le=[0],me=[],ae=Dt,be=0,re=[];break;case COMMIT:Ce();break;case ROLLBACK:ie={0:liftAction(INIT_ACTION)},Te=1,le=[0],me=[],be=0,re=[];break;case TOGGLE_ACTION:{const{id:he}=T;me=-1===me.indexOf(he)?[he,...me]:me.filter(pe=>pe!==he),we=le.indexOf(he);break}case SET_ACTIONS_ACTIVE:{const{start:he,end:A,active:pe}=T,ge=[];for(let pt=he;pt<A;pt++)ge.push(pt);me=pe?difference(me,ge):[...me,...ge],we=le.indexOf(he);break}case JUMP_TO_STATE:be=T.index,we=1/0;break;case JUMP_TO_ACTION:{const he=le.indexOf(T.actionId);-1!==he&&(be=he),we=1/0;break}case SWEEP:le=difference(le,me),me=[],be=Math.min(be,le.length-1);break;case PERFORM_ACTION:{if(J)return c||Le;if(fe||c&&isActionFiltered(c.computedStates[be],T,s.predicate,s.actionsSafelist,s.actionsBlocklist)){const A=re[re.length-1];re=[...re.slice(0,-1),computeNextEntry(oe,T.action,A.state,A.error,D)],we=1/0;break}s.maxAge&&le.length===s.maxAge&&ke(1),be===le.length-1&&be++;const he=Te++;ie[he]=T,le=[...le,he],we=le.length-1;break}case IMPORT_STATE:({monitorState:V,actionsById:ie,nextActionId:Te,stagedActionIds:le,skippedActionIds:me,committedState:ae,currentStateIndex:be,computedStates:re,isLocked:J,isPaused:fe}=T.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:we=0,s.maxAge&&le.length>s.maxAge&&(re=recomputeStates(re,we,oe,ae,ie,le,me,D,fe),ke(le.length-s.maxAge),we=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(re.filter(A=>A.error).length>0)we=0,s.maxAge&&le.length>s.maxAge&&(re=recomputeStates(re,we,oe,ae,ie,le,me,D,fe),ke(le.length-s.maxAge),we=1/0);else{if(!fe&&!J){be===le.length-1&&be++;const A=Te++;ie[A]=new PerformAction(T,+Date.now()),le=[...le,A],we=le.length-1,re=recomputeStates(re,we,oe,ae,ie,le,me,D,fe)}re=re.map(A=>({...A,state:oe(A.state,RECOMPUTE_ACTION)})),be=le.length-1,s.maxAge&&le.length>s.maxAge&&ke(le.length-s.maxAge),we=1/0}break;default:we=1/0}return re=recomputeStates(re,we,oe,ae,ie,le,me,D,fe),V=a(V,T),{monitorState:V,actionsById:ie,nextActionId:Te,stagedActionIds:le,skippedActionIds:me,committedState:ae,currentStateIndex:be,computedStates:re,isLocked:J,isPaused:fe}}}let StoreDevtools=(()=>{class Dt{constructor(D,a,s,oe,c,T,V,ie){const Te=liftInitialState(V,ie.monitor),le=liftReducerWith(V,Te,T,ie.monitor,ie),me=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(a.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),oe.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),D,oe.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),ae=s.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(le)),be=injectZoneConfig(ie.connectOutsideZone),re=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1);this.liftedStateSubscription=me.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(ae),emitInZone(be),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:ke},[Ce,we])=>{let he=we(ke,Ce);return Ce.type!==PERFORM_ACTION&&shouldFilterActions(ie)&&(he=filterLiftedState(he,ie.predicate,ie.actionsSafelist,ie.actionsBlocklist)),oe.notify(Ce,he),{state:he,action:Ce}},{state:Te,action:null})).subscribe(({state:ke,action:Ce})=>{re.next(ke),Ce.type===PERFORM_ACTION&&c.next(Ce.action)}),this.extensionStartSubscription=oe.start$.pipe(emitInZone(be)).subscribe(()=>{this.refresh()});const J=re.asObservable(),fe=J.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));Object.defineProperty(fe,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.O4)(fe,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=D,this.liftedState=J,this.state=fe}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(D){this.dispatcher.next(D)}next(D){this.dispatcher.next(D)}error(D){}complete(){}performAction(D){this.dispatch(new PerformAction(D,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(D){this.dispatch(new ToggleAction(D))}jumpToAction(D){this.dispatch(new JumpToAction(D))}jumpToState(D){this.dispatch(new JumpToState(D))}importState(D){this.dispatch(new ImportState(D))}lockChanges(D){this.dispatch(new LockChanges(D))}pauseRecording(D){this.dispatch(new PauseRecording(D))}static#e=this.\u0275fac=function(a){return new(a||Dt)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))};static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Dt,factory:Dt.\u0275fac})}return Dt})();function emitInZone({ngZone:Dt,connectOutsideZone:Le}){return D=>Le?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(a=>D.subscribe({next:s=>Dt.run(()=>a.next(s)),error:s=>Dt.run(()=>a.error(s)),complete:()=>Dt.run(()=>a.complete())})):D}const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Dt,Le){return!!Dt||Le.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Dt="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[Dt]<"u"?window[Dt]:null}function provideStoreDevtools(Dt={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Dt},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(Dt){return Dt.state}let StoreDevtoolsModule=(()=>{class Dt{static instrument(D={}){return{ngModule:Dt,providers:[provideStoreDevtools(D)]}}static#e=this.\u0275fac=function(a){return new(a||Dt)};static#t=this.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Dt});static#n=this.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({})}return Dt})()},4221:(Dt,Le,D)=>{"use strict";D.d(Le,{UO:()=>rt,qg:()=>Be,Y6:()=>L,mK:()=>Mi,n$:()=>jn,Y$:()=>ti,FR:()=>to,yh:()=>Ji,Aw:()=>ki,wb:()=>dn,PH:()=>fe,Lq:()=>uo,on:()=>Ri,Ky:()=>ke});var a=D(5879),s=D(5619),oe=D(5592),c=D(8645),T=D(2381),V=D(3093),ie=D(2460),Te=D(6699),le=D(7398),ae=D(3997),be=D(1993);const re={};function fe(zt,Xn){if(re[zt]=(re[zt]||0)+1,"function"==typeof Xn)return we(zt,(...Rn)=>({...Xn(...Rn),type:zt}));switch(Xn?Xn._as:"empty"){case"empty":return we(zt,()=>({type:zt}));case"props":return we(zt,Rn=>({...Rn,type:zt}));default:throw new Error("Unexpected config.")}}function ke(){return{_as:"props",_p:void 0}}function we(zt,Xn){return Object.defineProperty(Xn,"type",{value:zt,writable:!1})}const Be="@ngrx/store/init";let rt=(()=>{class zt extends s.X{constructor(){super({type:Be})}next(On){if("function"==typeof On)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof On>"u")throw new TypeError("Actions must be objects");if(typeof On.type>"u")throw new TypeError("Actions must have a type property");super.next(On)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(Rn){return new(Rn||zt)};static#t=this.\u0275prov=a.Yz7({token:zt,factory:zt.\u0275fac})}return zt})();const wt=[rt],It=new a.OlP("@ngrx/store Internal Root Guard"),Ie=new a.OlP("@ngrx/store Internal Initial State"),L=new a.OlP("@ngrx/store Initial State"),Oe=new a.OlP("@ngrx/store Reducer Factory"),ut=new a.OlP("@ngrx/store Internal Reducer Factory Provider"),Nt=new a.OlP("@ngrx/store Initial Reducers"),an=new a.OlP("@ngrx/store Internal Initial Reducers"),bt=new a.OlP("@ngrx/store Store Features"),Qe=new a.OlP("@ngrx/store Internal Store Reducers"),jt=new a.OlP("@ngrx/store Internal Feature Reducers"),gt=new a.OlP("@ngrx/store Internal Feature Configs"),yt=new a.OlP("@ngrx/store Internal Store Features"),at=new a.OlP("@ngrx/store Internal Feature Reducers Token"),Xe=new a.OlP("@ngrx/store Feature Reducers"),Zt=new a.OlP("@ngrx/store User Provided Meta Reducers"),ve=new a.OlP("@ngrx/store Meta Reducers"),Ve=new a.OlP("@ngrx/store Internal Resolved Meta Reducers"),St=new a.OlP("@ngrx/store User Runtime Checks Config"),wn=new a.OlP("@ngrx/store Internal User Runtime Checks Config"),$t=new a.OlP("@ngrx/store Internal Runtime Checks"),Cn=new a.OlP("@ngrx/store Check if Action types are unique");function st(zt,Xn={}){const On=Object.keys(zt),Rn={};for(let Li=0;Li<On.length;Li++){const mo=On[Li];"function"==typeof zt[mo]&&(Rn[mo]=zt[mo])}const Ei=Object.keys(Rn);return function(mo,fr){mo=void 0===mo?Xn:mo;let mr=!1;const ur={};for(let Ni=0;Ni<Ei.length;Ni++){const Xo=Ei[Ni],qr=mo[Xo],Rr=(0,Rn[Xo])(qr,fr);ur[Xo]=Rr,mr=mr||Rr!==qr}return mr?ur:mo}}function Se(...zt){return function(Xn){if(0===zt.length)return Xn;const On=zt[zt.length-1];return zt.slice(0,-1).reduceRight((Ei,Li)=>Li(Ei),On(Xn))}}function Vt(zt,Xn){return Array.isArray(Xn)&&Xn.length>0&&(zt=Se.apply(null,[...Xn,zt])),(On,Rn)=>{const Ei=zt(On);return(Li,mo)=>Ei(Li=void 0===Li?Rn:Li,mo)}}new a.OlP("@ngrx/store Root Store Provider"),new a.OlP("@ngrx/store Feature State Provider");class jn extends oe.y{}class Mi extends rt{}const dn="@ngrx/store/update-reducers";let Pn=(()=>{class zt extends s.X{get currentReducers(){return this.reducers}constructor(On,Rn,Ei,Li){super(Li(Ei,Rn)),this.dispatcher=On,this.initialState=Rn,this.reducers=Ei,this.reducerFactory=Li}addFeature(On){this.addFeatures([On])}addFeatures(On){const Rn=On.reduce((Ei,{reducers:Li,reducerFactory:mo,metaReducers:fr,initialState:mr,key:ur})=>{const Ni="function"==typeof Li?function en(zt){const Xn=Array.isArray(zt)&&zt.length>0?Se(...zt):On=>On;return(On,Rn)=>(On=Xn(On),(Ei,Li)=>On(Ei=void 0===Ei?Rn:Ei,Li))}(fr)(Li,mr):Vt(mo,fr)(Li,mr);return Ei[ur]=Ni,Ei},{});this.addReducers(Rn)}removeFeature(On){this.removeFeatures([On])}removeFeatures(On){this.removeReducers(On.map(Rn=>Rn.key))}addReducer(On,Rn){this.addReducers({[On]:Rn})}addReducers(On){this.reducers={...this.reducers,...On},this.updateReducers(Object.keys(On))}removeReducer(On){this.removeReducers([On])}removeReducers(On){On.forEach(Rn=>{this.reducers=function U(zt,Xn){return Object.keys(zt).filter(On=>On!==Xn).reduce((On,Rn)=>Object.assign(On,{[Rn]:zt[Rn]}),{})}(this.reducers,Rn)}),this.updateReducers(On)}updateReducers(On){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:dn,features:On})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(Rn){return new(Rn||zt)(a.LFG(Mi),a.LFG(L),a.LFG(Nt),a.LFG(Oe))};static#t=this.\u0275prov=a.Yz7({token:zt,factory:zt.\u0275fac})}return zt})();const qn=[Pn,{provide:jn,useExisting:Pn},{provide:Mi,useExisting:rt}];let ti=(()=>{class zt extends c.x{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(){let On;return function(Ei){return(On||(On=a.n5z(zt)))(Ei||zt)}}();static#t=this.\u0275prov=a.Yz7({token:zt,factory:zt.\u0275fac})}return zt})();const qi=[ti];class to extends oe.y{}let Zi=(()=>{class zt extends s.X{static#e=this.INIT=Be;constructor(On,Rn,Ei,Li){super(Li);const ur=On.pipe((0,V.Q)(T.N)).pipe((0,ie.M)(Rn)).pipe((0,Te.R)(Fi,{state:Li}));this.stateSubscription=ur.subscribe(({state:Ni,action:Xo})=>{this.next(Ni),Ei.next(Xo)}),this.state=(0,be.O4)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(Rn){return new(Rn||zt)(a.LFG(rt),a.LFG(jn),a.LFG(ti),a.LFG(L))};static#n=this.\u0275prov=a.Yz7({token:zt,factory:zt.\u0275fac})}return zt})();function Fi(zt={state:void 0},[Xn,On]){const{state:Rn}=zt;return{state:On(Rn,Xn),action:Xn}}const yo=[Zi,{provide:to,useExisting:Zi}];let Ji=(()=>{class zt extends oe.y{constructor(On,Rn,Ei){super(),this.actionsObserver=Rn,this.reducerManager=Ei,this.source=On,this.state=On.state}select(On,...Rn){return Mo.call(null,On,...Rn)(this)}selectSignal(On,Rn){return(0,a.Flj)(()=>On(this.state()),{equal:Rn?.equal||((Ei,Li)=>Ei===Li)})}lift(On){const Rn=new zt(this,this.actionsObserver,this.reducerManager);return Rn.operator=On,Rn}dispatch(On){this.actionsObserver.next(On)}next(On){this.actionsObserver.next(On)}error(On){this.actionsObserver.error(On)}complete(){this.actionsObserver.complete()}addReducer(On,Rn){this.reducerManager.addReducer(On,Rn)}removeReducer(On){this.reducerManager.removeReducer(On)}static#e=this.\u0275fac=function(Rn){return new(Rn||zt)(a.LFG(to),a.LFG(rt),a.LFG(Pn))};static#t=this.\u0275prov=a.Yz7({token:zt,factory:zt.\u0275fac})}return zt})();const xi=[Ji];function Mo(zt,Xn,...On){return function(Ei){let Li;if("string"==typeof zt){const mo=[Xn,...On].filter(Boolean);Li=Ei.pipe(function me(...zt){const Xn=zt.length;if(0===Xn)throw new Error("list of properties cannot be empty.");return(0,le.U)(On=>{let Rn=On;for(let Ei=0;Ei<Xn;Ei++){const Li=Rn?.[zt[Ei]];if(!(typeof Li<"u"))return;Rn=Li}return Rn})}(zt,...mo))}else{if("function"!=typeof zt)throw new TypeError(`Unexpected type '${typeof zt}' in select operator, expected 'string' or 'function'`);Li=Ei.pipe((0,le.U)(mo=>zt(mo,Xn)))}return Li.pipe((0,ae.x)())}}const no="https://ngrx.io/guide/store/configuration/runtime-checks";function Wo(zt){return void 0===zt}function Bt(zt){return null===zt}function Ue(zt){return Array.isArray(zt)}function Q(zt){return"object"==typeof zt&&null!==zt}function lt(zt){return"function"==typeof zt}function ei(zt){return zt instanceof a.OlP?(0,a.f3M)(zt):zt}function Zn(zt,Xn){return Xn.map((On,Rn)=>{if(zt[Rn]instanceof a.OlP){const Ei=(0,a.f3M)(zt[Rn]);return{key:On.key,reducerFactory:Ei.reducerFactory?Ei.reducerFactory:st,metaReducers:Ei.metaReducers?Ei.metaReducers:[],initialState:Ei.initialState}}return On})}function Ci(zt){return zt.map(Xn=>Xn instanceof a.OlP?(0,a.f3M)(Xn):Xn)}function hi(zt){return"function"==typeof zt?zt():zt}function vo(zt,Xn){return zt.concat(Xn)}function Di(){if((0,a.f3M)(Ji,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function ir(zt){Object.freeze(zt);const Xn=lt(zt);return Object.getOwnPropertyNames(zt).forEach(On=>{if(!On.startsWith("\u0275")&&function bn(zt,Xn){return Object.prototype.hasOwnProperty.call(zt,Xn)}(zt,On)&&(!Xn||"caller"!==On&&"callee"!==On&&"arguments"!==On)){const Rn=zt[On];(Q(Rn)||lt(Rn))&&!Object.isFrozen(Rn)&&ir(Rn)}}),zt}function Ho(zt,Xn=[]){return(Wo(zt)||Bt(zt))&&0===Xn.length?{path:["root"],value:zt}:Object.keys(zt).reduce((Rn,Ei)=>{if(Rn)return Rn;const Li=zt[Ei];return function nn(zt){return lt(zt)&&zt.hasOwnProperty("\u0275cmp")}(Li)?Rn:!(Wo(Li)||Bt(Li)||function Et(zt){return"number"==typeof zt}(Li)||function Ge(zt){return"boolean"==typeof zt}(Li)||function We(zt){return"string"==typeof zt}(Li)||Ue(Li))&&(function $e(zt){if(!function tt(zt){return Q(zt)&&!Ue(zt)}(zt))return!1;const Xn=Object.getPrototypeOf(zt);return Xn===Object.prototype||null===Xn}(Li)?Ho(Li,[...Xn,Ei]):{path:[...Xn,Ei],value:Li})},!1)}function dr(zt,Xn){if(!1===zt)return;const On=zt.path.join("."),Rn=new Error(`Detected unserializable ${Xn} at "${On}". ${no}#strict${Xn}serializability`);throw Rn.value=zt.value,Rn.unserializablePath=On,Rn}function jo(zt){return(0,a.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...zt}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Dn({strictActionSerializability:zt,strictStateSerializability:Xn}){return On=>zt||Xn?function wr(zt,Xn){return function(On,Rn){Xn.action(Rn)&&dr(Ho(Rn),"action");const Ei=zt(On,Rn);return Xn.state()&&dr(Ho(Ei),"state"),Ei}}(On,{action:Rn=>zt&&!Jo(Rn),state:()=>Xn}):On}function Tr({strictActionImmutability:zt,strictStateImmutability:Xn}){return On=>zt||Xn?function Do(zt,Xn){return function(On,Rn){const Ei=Xn.action(Rn)?ir(Rn):Rn,Li=zt(On,Ei);return Xn.state()?ir(Li):Li}}(On,{action:Rn=>zt&&!Jo(Rn),state:()=>Xn}):On}function Jo(zt){return zt.type.startsWith("@ngrx")}function Eo({strictActionWithinNgZone:zt}){return Xn=>zt?function Ko(zt,Xn){return function(On,Rn){if(Xn.action(Rn)&&!a.R0b.isInAngularZone())throw new Error(`Action '${Rn.type}' running outside NgZone. ${no}#strictactionwithinngzone`);return zt(On,Rn)}}(Xn,{action:On=>zt&&!Jo(On)}):Xn}function kr(zt){return[{provide:wn,useValue:zt},{provide:St,useFactory:ys,deps:[wn]},{provide:$t,deps:[St],useFactory:jo},{provide:ve,multi:!0,deps:[$t],useFactory:Tr},{provide:ve,multi:!0,deps:[$t],useFactory:Dn},{provide:ve,multi:!0,deps:[$t],useFactory:Eo}]}function gr(){return[{provide:Cn,multi:!0,deps:[$t],useFactory:vs}]}function ys(zt){return zt}function vs(zt){if(!zt.strictActionTypeUniqueness)return;const Xn=Object.entries(re).filter(([,On])=>On>1).map(([On])=>On);if(Xn.length)throw new Error(`Action types are registered more than once, ${Xn.map(On=>`"${On}"`).join(", ")}. ${no}#strictactiontypeuniqueness`)}function nt(zt={},Xn={}){return[{provide:It,useFactory:Di},{provide:Ie,useValue:Xn.initialState},{provide:L,useFactory:hi,deps:[Ie]},{provide:an,useValue:zt},{provide:Qe,useExisting:zt instanceof a.OlP?zt:an},{provide:Nt,deps:[an,[new a.tBr(Qe)]],useFactory:ei},{provide:Zt,useValue:Xn.metaReducers?Xn.metaReducers:[]},{provide:Ve,deps:[ve,Zt],useFactory:vo},{provide:ut,useValue:Xn.reducerFactory?Xn.reducerFactory:st},{provide:Oe,deps:[ut,Ve],useFactory:Vt},wt,qn,qi,yo,xi,kr(Xn.runtimeChecks),gr()]}function Tn(zt,Xn,On={}){return[{provide:gt,multi:!0,useValue:zt instanceof Object?{}:On},{provide:bt,multi:!0,useValue:{key:zt instanceof Object?zt.name:zt,reducerFactory:On instanceof a.OlP||!On.reducerFactory?st:On.reducerFactory,metaReducers:On instanceof a.OlP||!On.metaReducers?[]:On.metaReducers,initialState:On instanceof a.OlP||!On.initialState?void 0:On.initialState}},{provide:yt,deps:[gt,bt],useFactory:Zn},{provide:jt,multi:!0,useValue:zt instanceof Object?zt.reducer:Xn},{provide:at,multi:!0,useExisting:Xn instanceof a.OlP?Xn:jt},{provide:Xe,multi:!0,deps:[jt,[new a.tBr(at)]],useFactory:Ci},gr()]}let ni=(()=>{class zt{constructor(On,Rn,Ei,Li,mo,fr){}static#e=this.\u0275fac=function(Rn){return new(Rn||zt)(a.LFG(rt),a.LFG(jn),a.LFG(ti),a.LFG(Ji),a.LFG(It,8),a.LFG(Cn,8))};static#t=this.\u0275mod=a.oAB({type:zt});static#n=this.\u0275inj=a.cJS({})}return zt})(),si=(()=>{class zt{constructor(On,Rn,Ei,Li,mo){this.features=On,this.featureReducers=Rn,this.reducerManager=Ei;const fr=On.map((mr,ur)=>{const Xo=Rn.shift()[ur];return{...mr,reducers:Xo,initialState:hi(mr.initialState)}});Ei.addFeatures(fr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(Rn){return new(Rn||zt)(a.LFG(yt),a.LFG(Xe),a.LFG(Pn),a.LFG(ni),a.LFG(Cn,8))};static#t=this.\u0275mod=a.oAB({type:zt});static#n=this.\u0275inj=a.cJS({})}return zt})(),ki=(()=>{class zt{static forRoot(On,Rn){return{ngModule:ni,providers:[...nt(On,Rn)]}}static forFeature(On,Rn,Ei={}){return{ngModule:si,providers:[...Tn(On,Rn,Ei)]}}static#e=this.\u0275fac=function(Rn){return new(Rn||zt)};static#t=this.\u0275mod=a.oAB({type:zt});static#n=this.\u0275inj=a.cJS({})}return zt})();function Ri(...zt){return{reducer:zt.pop(),types:zt.map(Rn=>Rn.type)}}function uo(zt,...Xn){const On=new Map;for(const Rn of Xn)for(const Ei of Rn.types){const Li=On.get(Ei);On.set(Ei,Li?(fr,mr)=>Rn.reducer(Li(fr,mr),mr):Rn.reducer)}return function(Rn=zt,Ei){const Li=On.get(Ei.type);return Li?Li(Rn,Ei):Rn}}},6866:(Dt,Le,D)=>{"use strict";D.d(Le,{ZP:()=>c});var a=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,s=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,oe=/[^-+\dA-Z]/g;function c(be,re,J,fe){if(1===arguments.length&&"string"==typeof be&&!/\d/.test(be)&&(re=be,be=void 0),(be=be||0===be?be:new Date)instanceof Date||(be=new Date(be)),isNaN(be))throw TypeError("Invalid date");var ke=(re=String(T[re]||re||T.default)).slice(0,4);("UTC:"===ke||"GMT:"===ke)&&(re=re.slice(4),J=!0,"GMT:"===ke&&(fe=!0));var Ce=function(){return J?"getUTC":"get"},we=function(){return be[Ce()+"Date"]()},he=function(){return be[Ce()+"Day"]()},A=function(){return be[Ce()+"Month"]()},pe=function(){return be[Ce()+"FullYear"]()},ge=function(){return be[Ce()+"Hours"]()},pt=function(){return be[Ce()+"Minutes"]()},Pe=function(){return be[Ce()+"Seconds"]()},Be=function(){return be[Ce()+"Milliseconds"]()},rt=function(){return J?0:be.getTimezoneOffset()},wt=function(){return le(be)},Ie={d:function(){return we()},dd:function(){return ie(we())},ddd:function(){return V.dayNames[he()]},DDD:function(){return Te({y:pe(),m:A(),d:we(),_:Ce(),dayName:V.dayNames[he()],short:!0})},dddd:function(){return V.dayNames[he()+7]},DDDD:function(){return Te({y:pe(),m:A(),d:we(),_:Ce(),dayName:V.dayNames[he()+7]})},m:function(){return A()+1},mm:function(){return ie(A()+1)},mmm:function(){return V.monthNames[A()]},mmmm:function(){return V.monthNames[A()+12]},yy:function(){return String(pe()).slice(2)},yyyy:function(){return ie(pe(),4)},h:function(){return ge()%12||12},hh:function(){return ie(ge()%12||12)},H:function(){return ge()},HH:function(){return ie(ge())},M:function(){return pt()},MM:function(){return ie(pt())},s:function(){return Pe()},ss:function(){return ie(Pe())},l:function(){return ie(Be(),3)},L:function(){return ie(Math.floor(Be()/10))},t:function(){return ge()<12?V.timeNames[0]:V.timeNames[1]},tt:function(){return ge()<12?V.timeNames[2]:V.timeNames[3]},T:function(){return ge()<12?V.timeNames[4]:V.timeNames[5]},TT:function(){return ge()<12?V.timeNames[6]:V.timeNames[7]},Z:function(){return fe?"GMT":J?"UTC":ae(be)},o:function(){return(rt()>0?"-":"+")+ie(100*Math.floor(Math.abs(rt())/60)+Math.abs(rt())%60,4)},p:function(){return(rt()>0?"-":"+")+ie(Math.floor(Math.abs(rt())/60),2)+":"+ie(Math.floor(Math.abs(rt())%60),2)},S:function(){return["th","st","nd","rd"][we()%10>3?0:(we()%100-we()%10!=10)*we()%10]},W:function(){return wt()},WW:function(){return ie(wt())},N:function(){return me(be)}};return re.replace(a,function(L){return L in Ie?Ie[L]():L.slice(1,L.length-1)})}var T={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},V={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},ie=function(re){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(re).padStart(J,"0")},Te=function(re){var J=re.y,fe=re.m,ke=re.d,Ce=re._,we=re.dayName,he=re.short,A=void 0!==he&&he,pe=new Date,ge=new Date;ge.setDate(ge[Ce+"Date"]()-1);var pt=new Date;return pt.setDate(pt[Ce+"Date"]()+1),pe[Ce+"FullYear"]()===J&&pe[Ce+"Month"]()===fe&&pe[Ce+"Date"]()===ke?A?"Tdy":"Today":ge[Ce+"FullYear"]()===J&&ge[Ce+"Month"]()===fe&&ge[Ce+"Date"]()===ke?A?"Ysd":"Yesterday":pt[Ce+"FullYear"]()===J&&pt[Ce+"Month"]()===fe&&pt[Ce+"Date"]()===ke?A?"Tmw":"Tomorrow":we},le=function(re){var J=new Date(re.getFullYear(),re.getMonth(),re.getDate());J.setDate(J.getDate()-(J.getDay()+6)%7+3);var fe=new Date(J.getFullYear(),0,4);fe.setDate(fe.getDate()-(fe.getDay()+6)%7+3);var ke=J.getTimezoneOffset()-fe.getTimezoneOffset();return J.setHours(J.getHours()-ke),1+Math.floor((J-fe)/6048e5)},me=function(re){var J=re.getDay();return 0===J&&(J=7),J},ae=function(re){return(String(re).match(s)||[""]).pop().replace(oe,"").replace(/GMT\+0000/g,"UTC")}},2930:(Dt,Le,D)=>{"use strict";D.d(Le,{N_:()=>J,m$:()=>Ce});var a=D(5879),s=D(6814);const oe=new a.OlP("COOKIE_OPTIONS"),c=new a.OlP("COOKIE_WRITER");function T(we){return null==we}function V(we){return!T(we)}function le(we,he){return he?{path:V(he.path)?he.path:we.path,domain:V(he.domain)?he.domain:we.domain,expires:V(he.expires)?he.expires:we.expires,secure:V(he.secure)?he.secure:we.secure,sameSite:V(he.sameSite)?he.sameSite:we.sameSite,httpOnly:V(he.httpOnly)?he.httpOnly:we.httpOnly,storeUnencoded:V(he.storeUnencoded)?he.storeUnencoded:we.storeUnencoded}:we}function be(we){try{return decodeURIComponent(we)}catch{return we}}let re=(()=>{class we{constructor(A={},pe){this.injector=pe,this.defaultOptions={path:this.injector.get(s.mr,"/"),domain:void 0,expires:void 0,secure:!1,httpOnly:!1},this.options=le(this.defaultOptions,A)}}return we.\u0275fac=function(A){return new(A||we)(a.LFG(oe),a.LFG(a.zs3))},we.\u0275prov=a.Yz7({token:we,factory:we.\u0275fac}),we})(),J=(()=>{class we{constructor(A,pe,ge){this.document=A,this.optionsProvider=pe,this.cookieWriterService=ge,this.options=this.optionsProvider.options}hasKey(A){return V(this.get(A))}get(A){return this.getAll()?.[A]}getObject(A){const pe=this.get(A);if(!T(pe))return""===pe?{}:JSON.parse(pe)}getAll(){return function me(we){let pe,ge,pt,Pe,Be,he={},A="";if(we!==A)for(A=we,pe=A.split(";"),he={},pt=0;pt<pe.length;pt++)ge=pe[pt],Pe=ge.indexOf("="),Pe>0&&(Be=be(ge.substring(0,Pe).trim()),T(he[Be])&&(he[Be]=be(ge.substring(Pe+1).trim())));return he}(this.cookieWriterService.readAllAsString())}put(A,pe,ge){const pt=le(this.options,ge);this.cookieWriterService.write(A,pe,pt)}putObject(A,pe,ge){this.put(A,JSON.stringify(pe),ge)}remove(A,pe){this.put(A,void 0,pe)}removeAll(A){const pe=this.getAll();Object.keys(pe).forEach(ge=>this.remove(ge,A))}}return we.\u0275fac=function(A){return new(A||we)(a.LFG(s.K0),a.LFG(re),a.LFG(c))},we.\u0275prov=a.Yz7({token:we,factory:we.\u0275fac}),we})(),fe=(()=>{class we{constructor(A){this.document=A}readAllAsString(){return this.document.cookie||""}write(A,pe,ge){this.document.cookie=function ae(we,he,A){let ge,pe=A?.expires;T(he)?(pe="Thu, 01 Jan 1970 00:00:00 GMT",ge=""):ge=he,function ie(we){return"string"==typeof we}(pe)&&(pe=new Date(pe));const pt=A?.storeUnencoded?he:encodeURIComponent(ge);let Pe=encodeURIComponent(we)+"="+pt;Pe+=A?.path?";path="+A.path:"",Pe+=A?.domain?";domain="+A.domain:"",Pe+=pe?";expires="+pe.toUTCString():"",Pe+=A?.sameSite?"; SameSite="+A.sameSite:"",Pe+=A?.secure?";secure":"",Pe+=A?.httpOnly?"; HttpOnly":"";const Be=Pe.length+1;return Be>4096&&console.log("Cookie '"+we+"' possibly not set or overflowed because it was too large ("+Be+" > 4096 bytes)!"),Pe}(A,pe,ge)}}return we.\u0275fac=function(A){return new(A||we)(a.LFG(s.K0))},we.\u0275prov=a.Yz7({token:we,factory:we.\u0275fac}),we})();function ke(we,he,A){return new J(we,he,A)}let Ce=(()=>{class we{static withOptions(A={}){return{ngModule:we,providers:[{provide:oe,useValue:A},{provide:c,useClass:fe},{provide:J,useFactory:ke,deps:[s.K0,re,c]}]}}static forRoot(A={}){return this.withOptions(A)}static forChild(A={}){return this.withOptions(A)}}return we.\u0275fac=function(A){return new(A||we)},we.\u0275mod=a.oAB({type:we}),we.\u0275inj=a.cJS({providers:[re]}),we})()},8738:(Dt,Le,D)=>{"use strict";D.d(Le,{fz:()=>le,kg:()=>Te});var a=D(5879),s=D(7909),oe=D(6814),c=D(2236);let Te=(()=>{class me{}return me.\u0275fac=function(be){return new(be||me)},me.\u0275mod=a.oAB({type:me}),me.\u0275inj=a.cJS({imports:[oe.ez]}),me})(),le=(()=>{class me{constructor(be){this.router=be}isDevMode(){return(0,a.X6Q)()}isOnCheck(be){if(!be||!be.data||"string"!=typeof be.data.featureToggle&&!Array.isArray(be.data.featureToggle))return this.isDevMode()&&console.error("`NgxFeatureToggleRouteGuard` need to receive `featureToggle` as data as an array or string in your route configuration."),!1;const re=[].concat(be.data.featureToggle).every(J=>"!"===J[0]?!(0,s.isOn)(J.replace("!","")):(0,s.isOn)(J));return!re&&be.data.redirectTo&&this.router.navigate([].concat(be.data.redirectTo)),re}canLoad(be){return this.isOnCheck(be)}canActivateChild(be){return this.isOnCheck(be)}canActivate(be){return this.isOnCheck(be)}}return me.\u0275fac=function(be){return new(be||me)(a.LFG(c.F0))},me.\u0275prov=a.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},272:(Dt,Le,D)=>{"use strict";D.d(Le,{Gd:()=>Qe,CI:()=>jt,Wm:()=>Ot});var a=D(5861),s=D(5879),oe=D(2574),c=D(8645);class T extends c.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(st){const{hasError:U,_hasValue:Se,_value:Vt,thrownError:en,isStopped:jn,_isComplete:Mi}=this;U?st.error(en):(jn||Mi)&&(Se&&st.next(Vt),st.complete())}next(st){this.isStopped||(this._value=st,this._hasValue=!0)}complete(){const{_hasValue:st,_value:U,_isComplete:Se}=this;Se||(this._isComplete=!0,st&&super.next(U),super.complete())}}var V=D(7394),ie=D(6973),le=D(1374),me=D(6814);const ae=["content"],be=["*"],re=["container"],pe=new s.OlP("MapboxApiKey");let ge=(()=>{class Wt{constructor(U,Se){this.zone=U,this.MAPBOX_API_KEY=Se,this.mapCreated=new T,this.mapLoaded=new T,this.markersToRemove=[],this.popupsToRemove=[],this.imageIdsToRemove=[],this.subscription=new V.w0,this.mapCreated$=this.mapCreated.asObservable(),this.mapLoaded$=this.mapLoaded.asObservable()}setup(U){this.zone.onStable.pipe((0,le.P)()).subscribe(()=>{U.customMapboxApiUrl&&(oe.baseApiUrl=U.customMapboxApiUrl),this.createMap({...U.mapOptions,accessToken:U.accessToken||this.MAPBOX_API_KEY||""}),this.hookEvents(U.mapEvents),this.mapEvents=U.mapEvents,this.mapCreated.next(void 0),this.mapCreated.complete(),U.mapEvents.mapCreate.observed&&this.zone.run(()=>{U.mapEvents.mapCreate.emit(this.mapInstance)})})}destroyMap(){this.mapInstance&&(this.subscription.unsubscribe(),this.mapInstance.remove())}updateProjection(U){return this.zone.runOutsideAngular(()=>{this.mapInstance.setProjection(U)})}updateMinZoom(U){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinZoom(U)})}updateMaxZoom(U){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxZoom(U)})}updateMinPitch(U){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinPitch(U)})}updateMaxPitch(U){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxPitch(U)})}updateRenderWorldCopies(U){return this.zone.runOutsideAngular(()=>{this.mapInstance.setRenderWorldCopies(U)})}updateScrollZoom(U){return this.zone.runOutsideAngular(()=>{U?this.mapInstance.scrollZoom.enable():this.mapInstance.scrollZoom.disable()})}updateDragRotate(U){return this.zone.runOutsideAngular(()=>{U?this.mapInstance.dragRotate.enable():this.mapInstance.dragRotate.disable()})}updateTouchPitch(U){return this.zone.runOutsideAngular(()=>{U?this.mapInstance.touchPitch.enable():this.mapInstance.touchPitch.disable()})}updateTouchZoomRotate(U){return this.zone.runOutsideAngular(()=>{U?this.mapInstance.touchZoomRotate.enable():this.mapInstance.touchZoomRotate.disable()})}updateDoubleClickZoom(U){return this.zone.runOutsideAngular(()=>{U?this.mapInstance.doubleClickZoom.enable():this.mapInstance.doubleClickZoom.disable()})}updateKeyboard(U){return this.zone.runOutsideAngular(()=>{U?this.mapInstance.keyboard.enable():this.mapInstance.keyboard.disable()})}updateDragPan(U){return this.zone.runOutsideAngular(()=>{U?this.mapInstance.dragPan.enable():this.mapInstance.dragPan.disable()})}updateBoxZoom(U){return this.zone.runOutsideAngular(()=>{U?this.mapInstance.boxZoom.enable():this.mapInstance.boxZoom.disable()})}updateStyle(U){return this.zone.runOutsideAngular(()=>{this.mapInstance.setStyle(U)})}updateMaxBounds(U){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxBounds(U)})}changeCanvasCursor(U){this.mapInstance.getCanvasContainer().style.cursor=U}queryRenderedFeatures(U,Se){return this.mapInstance.queryRenderedFeatures(U,Se)}panTo(U,Se){return this.zone.runOutsideAngular(()=>{this.mapInstance.panTo(U,Se)})}move(U,Se,Vt,en,jn,Mi){return this.zone.runOutsideAngular(()=>{this.mapInstance[U]({...Se,zoom:Vt??this.mapInstance.getZoom(),center:en??this.mapInstance.getCenter(),bearing:jn??this.mapInstance.getBearing(),pitch:Mi??this.mapInstance.getPitch()})})}addLayer(U,Se,Vt){this.zone.runOutsideAngular(()=>{Object.keys(U.layerOptions).forEach(en=>{void 0===U.layerOptions[en]&&delete U.layerOptions[en]}),this.mapInstance.addLayer(U.layerOptions,Vt),Se&&((U.layerEvents.layerClick.observed||U.layerEvents.click.observed)&&this.mapInstance.on("click",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerClick.emit(en),U.layerEvents.click.emit(en)})}),(U.layerEvents.layerDblClick.observed||U.layerEvents.dblClick.observed)&&this.mapInstance.on("dblclick",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerDblClick.emit(en),U.layerEvents.dblClick.emit(en)})}),(U.layerEvents.layerMouseDown.observed||U.layerEvents.mouseDown.observed)&&this.mapInstance.on("mousedown",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerMouseDown.emit(en),U.layerEvents.mouseDown.emit(en)})}),(U.layerEvents.layerMouseUp.observed||U.layerEvents.mouseUp.observed)&&this.mapInstance.on("mouseup",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerMouseUp.emit(en),U.layerEvents.mouseUp.emit(en)})}),(U.layerEvents.layerMouseEnter.observed||U.layerEvents.mouseEnter.observed)&&this.mapInstance.on("mouseenter",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerMouseEnter.emit(en),U.layerEvents.mouseEnter.emit(en)})}),(U.layerEvents.layerMouseLeave.observed||U.layerEvents.mouseLeave.observed)&&this.mapInstance.on("mouseleave",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerMouseLeave.emit(en),U.layerEvents.mouseLeave.emit(en)})}),(U.layerEvents.layerMouseMove.observed||U.layerEvents.mouseMove.observed)&&this.mapInstance.on("mousemove",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerMouseMove.emit(en),U.layerEvents.mouseMove.emit(en)})}),(U.layerEvents.layerMouseOver.observed||U.layerEvents.mouseOver.observed)&&this.mapInstance.on("mouseover",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerMouseOver.emit(en),U.layerEvents.mouseOver.emit(en)})}),(U.layerEvents.layerMouseOut.observed||U.layerEvents.mouseOut.observed)&&this.mapInstance.on("mouseout",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerMouseOut.emit(en),U.layerEvents.mouseOut.emit(en)})}),(U.layerEvents.layerContextMenu.observed||U.layerEvents.contextMenu.observed)&&this.mapInstance.on("contextmenu",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerContextMenu.emit(en),U.layerEvents.contextMenu.emit(en)})}),(U.layerEvents.layerTouchStart.observed||U.layerEvents.touchStart.observed)&&this.mapInstance.on("touchstart",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerTouchStart.emit(en),U.layerEvents.touchStart.emit(en)})}),(U.layerEvents.layerTouchEnd.observed||U.layerEvents.touchEnd.observed)&&this.mapInstance.on("touchend",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerTouchEnd.emit(en),U.layerEvents.touchEnd.emit(en)})}),(U.layerEvents.layerTouchCancel.observed||U.layerEvents.touchCancel.observed)&&this.mapInstance.on("touchcancel",U.layerOptions.id,en=>{this.zone.run(()=>{U.layerEvents.layerTouchCancel.emit(en),U.layerEvents.touchCancel.emit(en)})}))})}removeLayer(U){this.zone.runOutsideAngular(()=>{null!=this.mapInstance.getLayer(U)&&this.mapInstance.removeLayer(U)})}addMarker(U){const Se={offset:U.markersOptions.offset,anchor:U.markersOptions.anchor,draggable:!!U.markersOptions.draggable,rotationAlignment:U.markersOptions.rotationAlignment,pitchAlignment:U.markersOptions.pitchAlignment,clickTolerance:U.markersOptions.clickTolerance};U.markersOptions.element.childNodes.length>0&&(Se.element=U.markersOptions.element);const Vt=new oe.Marker(Se);return(U.markersEvents.markerDragStart.observed||U.markersEvents.dragStart.observed)&&Vt.on("dragstart",jn=>{if(jn){const{target:Mi}=jn;this.zone.run(()=>{U.markersEvents.markerDragStart.emit(Mi),U.markersEvents.dragStart.emit(Mi)})}}),(U.markersEvents.markerDrag.observed||U.markersEvents.drag.observed)&&Vt.on("drag",jn=>{if(jn){const{target:Mi}=jn;this.zone.run(()=>{U.markersEvents.markerDrag.emit(Mi),U.markersEvents.drag.emit(Mi)})}}),(U.markersEvents.markerDragEnd.observed||U.markersEvents.dragEnd.observed)&&Vt.on("dragend",jn=>{if(jn){const{target:Mi}=jn;this.zone.run(()=>{U.markersEvents.markerDragEnd.emit(Mi),U.markersEvents.dragEnd.emit(Mi)})}}),Vt.setLngLat(U.markersOptions.feature?U.markersOptions.feature.geometry.coordinates:U.markersOptions.lngLat),this.zone.runOutsideAngular(()=>(Vt.addTo(this.mapInstance),Vt))}removeMarker(U){this.markersToRemove.push(U)}createPopup(U,Se){return this.zone.runOutsideAngular(()=>{Object.keys(U.popupOptions).forEach(en=>void 0===U.popupOptions[en]&&delete U.popupOptions[en]);const Vt=new oe.Popup(U.popupOptions);return Vt.setDOMContent(Se),(U.popupEvents.popupClose.observed||U.popupEvents.close.observed)&&Vt.on("close",()=>{this.zone.run(()=>{U.popupEvents.popupClose.emit(),U.popupEvents.close.emit()})}),(U.popupEvents.popupOpen.observed||U.popupEvents.open.observed)&&Vt.on("open",()=>{this.zone.run(()=>{U.popupEvents.popupOpen.emit(),U.popupEvents.open.emit()})}),Vt})}addPopupToMap(U,Se,Vt=!1){return this.zone.runOutsideAngular(()=>{Vt&&U._listeners&&delete U._listeners.open,U.setLngLat(Se),U.addTo(this.mapInstance)})}addPopupToMarker(U,Se){return this.zone.runOutsideAngular(()=>{U.setPopup(Se)})}removePopupFromMap(U,Se=!1){Se&&U._listeners&&delete U._listeners.close,this.popupsToRemove.push(U)}removePopupFromMarker(U){return this.zone.runOutsideAngular(()=>{U.setPopup(void 0)})}addControl(U,Se){return this.zone.runOutsideAngular(()=>{this.mapInstance.addControl(U,Se)})}removeControl(U){return this.zone.runOutsideAngular(()=>{this.mapInstance.removeControl(U)})}loadAndAddImage(U,Se,Vt){var en=this;return(0,a.Z)(function*(){return en.zone.runOutsideAngular(()=>new Promise((jn,Mi)=>{en.mapInstance.loadImage(Se,(dn,Pn)=>{dn?Mi(dn):(en.addImage(U,Pn,Vt),jn())})}))})()}addImage(U,Se,Vt){return this.zone.runOutsideAngular(()=>{this.mapInstance.addImage(U,Se,Vt)})}removeImage(U){this.imageIdsToRemove.push(U)}addSource(U,Se){return this.zone.runOutsideAngular(()=>{Object.keys(Se).forEach(Vt=>void 0===Se[Vt]&&delete Se[Vt]),this.mapInstance.addSource(U,Se)})}getSource(U){return this.mapInstance.getSource(U)}removeSource(U){this.zone.runOutsideAngular(()=>{this.findLayersBySourceId(U).forEach(Se=>this.mapInstance.removeLayer(Se.id)),this.mapInstance.removeSource(U)})}setAllLayerPaintProperty(U,Se){return this.zone.runOutsideAngular(()=>{Object.keys(Se).forEach(Vt=>{this.mapInstance.setPaintProperty(U,Vt,Se[Vt])})})}setAllLayerLayoutProperty(U,Se){return this.zone.runOutsideAngular(()=>{Object.keys(Se).forEach(Vt=>{this.mapInstance.setLayoutProperty(U,Vt,Se[Vt])})})}setLayerFilter(U,Se){return this.zone.runOutsideAngular(()=>{this.mapInstance.setFilter(U,Se)})}setLayerBefore(U,Se){return this.zone.runOutsideAngular(()=>{this.mapInstance.moveLayer(U,Se)})}setLayerZoomRange(U,Se,Vt){return this.zone.runOutsideAngular(()=>{this.mapInstance.setLayerZoomRange(U,Se||0,Vt||20)})}fitBounds(U,Se){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitBounds(U,Se)})}fitScreenCoordinates(U,Se,Vt){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitScreenCoordinates(U[0],U[1],Se,Vt)})}applyChanges(){this.zone.runOutsideAngular(()=>{this.removeMarkers(),this.removePopups(),this.removeImages()})}createMap(U){s.R0b.assertNotInAngularZone(),Object.keys(U).forEach(Vt=>{void 0===U[Vt]&&delete U[Vt]}),this.mapInstance=new oe.Map(U),window&&/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&this.mapInstance.setStyle(U.style),this.subscription.add(this.zone.onMicrotaskEmpty.subscribe(()=>this.applyChanges()))}removeMarkers(){for(const U of this.markersToRemove)U.remove();this.markersToRemove=[]}removePopups(){for(const U of this.popupsToRemove)U.remove();this.popupsToRemove=[]}removeImages(){for(const U of this.imageIdsToRemove)this.mapInstance.removeImage(U);this.imageIdsToRemove=[]}findLayersBySourceId(U){const Se=this.mapInstance.getStyle().layers;return null==Se?[]:Se.filter(Vt=>"source"in Vt&&Vt.source===U)}hookEvents(U){this.mapInstance.on("load",Se=>{this.mapLoaded.next(void 0),this.mapLoaded.complete(),this.zone.run(()=>{U.mapLoad.emit(Se),U.load.emit(Se.target)})}),(U.mapResize.observed||U.resize.observed)&&this.mapInstance.on("resize",Se=>this.zone.run(()=>{U.mapResize.emit(Se),U.resize.emit(Se)})),(U.mapRemove.observed||U.remove.observed)&&this.mapInstance.on("remove",Se=>this.zone.run(()=>{U.mapRemove.emit(Se),U.remove.emit(Se)})),(U.mapMouseDown.observed||U.mouseDown.observed)&&this.mapInstance.on("mousedown",Se=>this.zone.run(()=>{U.mapMouseDown.emit(Se),U.mouseDown.emit(Se)})),(U.mapMouseUp.observed||U.mouseUp.observed)&&this.mapInstance.on("mouseup",Se=>this.zone.run(()=>{U.mapMouseUp.emit(Se),U.mouseUp.emit(Se)})),(U.mapMouseMove.observed||U.mouseMove.observed)&&this.mapInstance.on("mousemove",Se=>this.zone.run(()=>{U.mapMouseMove.emit(Se),U.mouseMove.emit(Se)})),(U.mapClick.observed||U.click.observed)&&this.mapInstance.on("click",Se=>this.zone.run(()=>{U.mapClick.emit(Se),U.click.emit(Se)})),(U.mapDblClick.observed||U.dblClick.observed)&&this.mapInstance.on("dblclick",Se=>this.zone.run(()=>{U.mapDblClick.emit(Se),U.dblClick.emit(Se)})),(U.mapMouseOver.observed||U.mouseOver.observed)&&this.mapInstance.on("mouseover",Se=>this.zone.run(()=>{U.mapMouseOver.emit(Se),U.mouseOver.emit(Se)})),(U.mapMouseOut.observed||U.mouseOut.observed)&&this.mapInstance.on("mouseout",Se=>this.zone.run(()=>{U.mapMouseOut.emit(Se),U.mouseOut.emit(Se)})),(U.mapContextMenu.observed||U.contextMenu.observed)&&this.mapInstance.on("contextmenu",Se=>this.zone.run(()=>{U.mapContextMenu.emit(Se),U.contextMenu.emit(Se)})),(U.mapTouchStart.observed||U.touchStart.observed)&&this.mapInstance.on("touchstart",Se=>this.zone.run(()=>{U.mapTouchStart.emit(Se),U.touchStart.emit(Se)})),(U.mapTouchEnd.observed||U.touchEnd.observed)&&this.mapInstance.on("touchend",Se=>this.zone.run(()=>{U.mapTouchEnd.emit(Se),U.touchEnd.emit(Se)})),(U.mapTouchMove.observed||U.touchMove.observed)&&this.mapInstance.on("touchmove",Se=>this.zone.run(()=>{U.mapTouchMove.emit(Se),U.touchMove.emit(Se)})),(U.mapTouchCancel.observed||U.touchCancel.observed)&&this.mapInstance.on("touchcancel",Se=>this.zone.run(()=>{U.mapTouchCancel.emit(Se),U.touchCancel.emit(Se)})),(U.mapWheel.observed||U.wheel.observed)&&this.mapInstance.on("wheel",Se=>this.zone.run(()=>{U.mapWheel.emit(Se),U.wheel.emit(Se)})),U.moveStart.observed&&this.mapInstance.on("movestart",Se=>this.zone.run(()=>U.moveStart.emit(Se))),U.move.observed&&this.mapInstance.on("move",Se=>this.zone.run(()=>U.move.emit(Se))),U.moveEnd.observed&&this.mapInstance.on("moveend",Se=>this.zone.run(()=>U.moveEnd.emit(Se))),(U.mapDragStart.observed||U.dragStart.observed)&&this.mapInstance.on("dragstart",Se=>this.zone.run(()=>{U.mapDragStart.emit(Se),U.dragStart.emit(Se)})),(U.mapDrag.observed||U.drag.observed)&&this.mapInstance.on("drag",Se=>this.zone.run(()=>{U.mapDrag.emit(Se),U.drag.emit(Se)})),(U.mapDragEnd.observed||U.dragEnd.observed)&&this.mapInstance.on("dragend",Se=>this.zone.run(()=>{U.mapDragEnd.emit(Se),U.dragEnd.emit(Se)})),U.zoomStart.observed&&this.mapInstance.on("zoomstart",Se=>this.zone.run(()=>U.zoomStart.emit(Se))),U.zoomEvt.observed&&this.mapInstance.on("zoom",Se=>this.zone.run(()=>U.zoomEvt.emit(Se))),U.zoomEnd.observed&&this.mapInstance.on("zoomend",Se=>this.zone.run(()=>U.zoomEnd.emit(Se))),U.rotateStart.observed&&this.mapInstance.on("rotatestart",Se=>this.zone.run(()=>U.rotateStart.emit(Se))),U.rotate.observed&&this.mapInstance.on("rotate",Se=>this.zone.run(()=>U.rotate.emit(Se))),U.rotateEnd.observed&&this.mapInstance.on("rotateend",Se=>this.zone.run(()=>U.rotateEnd.emit(Se))),U.pitchStart.observed&&this.mapInstance.on("pitchstart",Se=>this.zone.run(()=>U.pitchStart.emit(Se))),U.pitchEvt.observed&&this.mapInstance.on("pitch",Se=>this.zone.run(()=>U.pitchEvt.emit(Se))),U.pitchEnd.observed&&this.mapInstance.on("pitchend",Se=>this.zone.run(()=>U.pitchEnd.emit(Se))),U.boxZoomStart.observed&&this.mapInstance.on("boxzoomstart",Se=>this.zone.run(()=>U.boxZoomStart.emit(Se))),U.boxZoomEnd.observed&&this.mapInstance.on("boxzoomend",Se=>this.zone.run(()=>U.boxZoomEnd.emit(Se))),U.boxZoomCancel.observed&&this.mapInstance.on("boxzoomcancel",Se=>this.zone.run(()=>U.boxZoomCancel.emit(Se))),U.webGlContextLost.observed&&this.mapInstance.on("webglcontextlost",Se=>this.zone.run(()=>U.webGlContextLost.emit(Se))),U.webGlContextRestored.observed&&this.mapInstance.on("webglcontextrestored",Se=>this.zone.run(()=>U.webGlContextRestored.emit(Se))),U.render.observed&&this.mapInstance.on("render",Se=>this.zone.run(()=>U.render.emit(Se))),(U.mapError.observed||U.error.observed)&&this.mapInstance.on("error",Se=>this.zone.run(()=>{U.mapError.emit(Se),U.error.emit(Se)})),U.data.observed&&this.mapInstance.on("data",Se=>this.zone.run(()=>U.data.emit(Se))),U.styleData.observed&&this.mapInstance.on("styledata",Se=>this.zone.run(()=>U.styleData.emit(Se))),U.sourceData.observed&&this.mapInstance.on("sourcedata",Se=>this.zone.run(()=>U.sourceData.emit(Se))),U.dataLoading.observed&&this.mapInstance.on("dataloading",Se=>this.zone.run(()=>U.dataLoading.emit(Se))),U.styleDataLoading.observed&&this.mapInstance.on("styledataloading",Se=>this.zone.run(()=>U.styleDataLoading.emit(Se))),U.sourceDataLoading.observed&&this.mapInstance.on("sourcedataloading",Se=>this.zone.run(()=>U.sourceDataLoading.emit(Se))),U.styleImageMissing.observed&&this.mapInstance.on("styleimagemissing",Se=>this.zone.run(()=>U.styleImageMissing.emit(Se))),U.idle.observed&&this.mapInstance.on("idle",Se=>this.zone.run(()=>U.idle.emit(Se)))}assign(U,Se,Vt){if("string"==typeof Se&&(Se=Se.split(".")),Se.length>1){const en=Se.shift();this.assign(U[en]="[object Object]"===Object.prototype.toString.call(U[en])?U[en]:{},Se,Vt)}else U[Se[0]]=Vt}static#e=this.\u0275fac=function(Se){return new(Se||Wt)(s.LFG(s.R0b),s.LFG(pe,8))};static#t=this.\u0275prov=s.Yz7({token:Wt,factory:Wt.\u0275fac})}return Wt})();const L=(Wt,st,U)=>{console.warn(`[ngx-mapbox-gl]: ${Wt}: ${st} is deprecated, please use ${U} instead.`)};let Qe=(()=>{class Wt{get mapInstance(){return this.mapService.mapInstance}constructor(U){this.mapService=U,this.movingMethod="flyTo",this.mapResize=new s.vpe,this.mapRemove=new s.vpe,this.mapMouseDown=new s.vpe,this.mapMouseUp=new s.vpe,this.mapMouseMove=new s.vpe,this.mapClick=new s.vpe,this.mapDblClick=new s.vpe,this.mapMouseOver=new s.vpe,this.mapMouseOut=new s.vpe,this.mapContextMenu=new s.vpe,this.mapTouchStart=new s.vpe,this.mapTouchEnd=new s.vpe,this.mapTouchMove=new s.vpe,this.mapTouchCancel=new s.vpe,this.mapWheel=new s.vpe,this.moveStart=new s.vpe,this.move=new s.vpe,this.moveEnd=new s.vpe,this.mapDragStart=new s.vpe,this.mapDrag=new s.vpe,this.mapDragEnd=new s.vpe,this.zoomStart=new s.vpe,this.zoomEvt=new s.vpe,this.zoomEnd=new s.vpe,this.rotateStart=new s.vpe,this.rotate=new s.vpe,this.rotateEnd=new s.vpe,this.pitchStart=new s.vpe,this.pitchEvt=new s.vpe,this.pitchEnd=new s.vpe,this.boxZoomStart=new s.vpe,this.boxZoomEnd=new s.vpe,this.boxZoomCancel=new s.vpe,this.webGlContextLost=new s.vpe,this.webGlContextRestored=new s.vpe,this.mapLoad=new s.vpe,this.mapCreate=new s.vpe,this.idle=new s.vpe,this.render=new s.vpe,this.mapError=new s.vpe,this.data=new s.vpe,this.styleData=new s.vpe,this.sourceData=new s.vpe,this.dataLoading=new s.vpe,this.styleDataLoading=new s.vpe,this.sourceDataLoading=new s.vpe,this.styleImageMissing=new s.vpe,this.resize=new s.vpe,this.remove=new s.vpe,this.mouseDown=new s.vpe,this.mouseUp=new s.vpe,this.mouseMove=new s.vpe,this.click=new s.vpe,this.dblClick=new s.vpe,this.mouseOver=new s.vpe,this.mouseOut=new s.vpe,this.contextMenu=new s.vpe,this.touchStart=new s.vpe,this.touchEnd=new s.vpe,this.touchMove=new s.vpe,this.touchCancel=new s.vpe,this.wheel=new s.vpe,this.dragStart=new s.vpe,this.drag=new s.vpe,this.dragEnd=new s.vpe,this.load=new s.vpe,this.error=new s.vpe}ngAfterViewInit(){this.warnDeprecatedOutputs(),this.mapService.setup({accessToken:this.accessToken,customMapboxApiUrl:this.customMapboxApiUrl,mapOptions:{collectResourceTiming:this.collectResourceTiming,container:this.mapContainer.nativeElement,crossSourceCollisions:this.crossSourceCollisions,fadeDuration:this.fadeDuration,minZoom:this.minZoom,maxZoom:this.maxZoom,minPitch:this.minPitch,maxPitch:this.maxPitch,style:this.style,hash:this.hash,interactive:this.interactive,bearingSnap:this.bearingSnap,pitchWithRotate:this.pitchWithRotate,clickTolerance:this.clickTolerance,attributionControl:this.attributionControl,logoPosition:this.logoPosition,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,refreshExpiredTiles:this.refreshExpiredTiles,maxBounds:this.maxBounds,scrollZoom:this.scrollZoom,boxZoom:this.boxZoom,dragRotate:this.dragRotate,dragPan:this.dragPan,keyboard:this.keyboard,doubleClickZoom:this.doubleClickZoom,touchPitch:this.touchPitch,touchZoomRotate:this.touchZoomRotate,trackResize:this.trackResize,center:this.center,zoom:this.zoom,bearing:this.bearing,pitch:this.pitch,renderWorldCopies:this.renderWorldCopies,maxTileCacheSize:this.maxTileCacheSize,localIdeographFontFamily:this.localIdeographFontFamily,transformRequest:this.transformRequest,bounds:this.bounds?this.bounds:this.fitBounds,fitBoundsOptions:this.fitBoundsOptions,antialias:this.antialias,locale:this.locale,cooperativeGestures:this.cooperativeGestures,projection:this.projection},mapEvents:this}),this.cursorStyle&&this.mapService.changeCanvasCursor(this.cursorStyle)}ngOnDestroy(){this.mapService.destroyMap()}ngOnChanges(U){var Se=this;return(0,a.Z)(function*(){yield function Te(Wt,st){const U="object"==typeof st;return new Promise((Se,Vt)=>{let jn,en=!1;Wt.subscribe({next:Mi=>{jn=Mi,en=!0},error:Vt,complete:()=>{en?Se(jn):U?Se(st.defaultValue):Vt(new ie.K)}})})}(Se.mapService.mapCreated$),U.cursorStyle&&!U.cursorStyle.isFirstChange()&&Se.mapService.changeCanvasCursor(U.cursorStyle.currentValue),U.projection&&!U.projection.isFirstChange()&&Se.mapService.updateProjection(U.projection.currentValue),U.minZoom&&!U.minZoom.isFirstChange()&&Se.mapService.updateMinZoom(U.minZoom.currentValue),U.maxZoom&&!U.maxZoom.isFirstChange()&&Se.mapService.updateMaxZoom(U.maxZoom.currentValue),U.minPitch&&!U.minPitch.isFirstChange()&&Se.mapService.updateMinPitch(U.minPitch.currentValue),U.maxPitch&&!U.maxPitch.isFirstChange()&&Se.mapService.updateMaxPitch(U.maxPitch.currentValue),U.renderWorldCopies&&!U.renderWorldCopies.isFirstChange()&&Se.mapService.updateRenderWorldCopies(U.renderWorldCopies.currentValue),U.scrollZoom&&!U.scrollZoom.isFirstChange()&&Se.mapService.updateScrollZoom(U.scrollZoom.currentValue),U.dragRotate&&!U.dragRotate.isFirstChange()&&Se.mapService.updateDragRotate(U.dragRotate.currentValue),U.touchPitch&&!U.touchPitch.isFirstChange()&&Se.mapService.updateTouchPitch(U.touchPitch.currentValue),U.touchZoomRotate&&!U.touchZoomRotate.isFirstChange()&&Se.mapService.updateTouchZoomRotate(U.touchZoomRotate.currentValue),U.doubleClickZoom&&!U.doubleClickZoom.isFirstChange()&&Se.mapService.updateDoubleClickZoom(U.doubleClickZoom.currentValue),U.keyboard&&!U.keyboard.isFirstChange()&&Se.mapService.updateKeyboard(U.keyboard.currentValue),U.dragPan&&!U.dragPan.isFirstChange()&&Se.mapService.updateDragPan(U.dragPan.currentValue),U.boxZoom&&!U.boxZoom.isFirstChange()&&Se.mapService.updateBoxZoom(U.boxZoom.currentValue),U.style&&!U.style.isFirstChange()&&Se.mapService.updateStyle(U.style.currentValue),U.maxBounds&&!U.maxBounds.isFirstChange()&&Se.mapService.updateMaxBounds(U.maxBounds.currentValue),U.fitBounds&&U.fitBounds.currentValue&&!U.fitBounds.isFirstChange()&&Se.mapService.fitBounds(U.fitBounds.currentValue,Se.fitBoundsOptions),U.fitScreenCoordinates&&U.fitScreenCoordinates.currentValue&&((Se.center||Se.zoom||Se.pitch||Se.fitBounds)&&U.fitScreenCoordinates.isFirstChange()&&console.warn("[ngx-mapbox-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input"),Se.mapService.fitScreenCoordinates(U.fitScreenCoordinates.currentValue,Se.bearing?Se.bearing[0]:0,Se.movingOptions)),!Se.centerWithPanTo||!U.center||U.center.isFirstChange()||U.zoom||U.bearing||U.pitch?(U.center&&!U.center.isFirstChange()||U.zoom&&!U.zoom.isFirstChange()||U.bearing&&!U.bearing.isFirstChange()&&!U.fitScreenCoordinates||U.pitch&&!U.pitch.isFirstChange())&&Se.mapService.move(Se.movingMethod,Se.movingOptions,U.zoom&&Se.zoom?Se.zoom[0]:void 0,U.center?Se.center:void 0,U.bearing&&Se.bearing?Se.bearing[0]:void 0,U.pitch&&Se.pitch?Se.pitch[0]:void 0):Se.mapService.panTo(Se.center,Se.panToOptions)})()}warnDeprecatedOutputs(){const U=L.bind(void 0,Wt.name);this.resize.observed&&U("resize","mapResize"),this.remove.observed&&U("remove","mapRemove"),this.mouseDown.observed&&U("mouseDown","mapMouseDown"),this.mouseUp.observed&&U("mouseUp","mapMouseUp"),this.mouseMove.observed&&U("mouseMove","mapMouseMove"),this.click.observed&&U("click","mapClick"),this.dblClick.observed&&U("dblClick","mapDblClick"),this.mouseOver.observed&&U("mouseOver","mapMouseOver"),this.mouseOut.observed&&U("mouseOut","mapMouseOut"),this.contextMenu.observed&&U("contextMenu","mapContextMenu"),this.touchStart.observed&&U("touchStart","mapTouchStart"),this.touchEnd.observed&&U("touchEnd","mapTouchEnd"),this.touchMove.observed&&U("touchMove","mapTouchMove"),this.touchCancel.observed&&U("touchCancel","mapTouchCancel"),this.wheel.observed&&U("wheel","mapWheel"),this.dragStart.observed&&U("dragStart","mapDragStart"),this.drag.observed&&U("drag","mapDrag"),this.dragEnd.observed&&U("dragEnd","mapDragEnd"),this.load.observed&&U("load","mapLoad"),this.error.observed&&U("error","mapError")}static#e=this.\u0275fac=function(Se){return new(Se||Wt)(s.Y36(ge))};static#t=this.\u0275cmp=s.Xpm({type:Wt,selectors:[["mgl-map"]],viewQuery:function(Se,Vt){if(1&Se&&s.Gf(re,7),2&Se){let en;s.iGM(en=s.CRH())&&(Vt.mapContainer=en.first)}},inputs:{accessToken:"accessToken",collectResourceTiming:"collectResourceTiming",crossSourceCollisions:"crossSourceCollisions",customMapboxApiUrl:"customMapboxApiUrl",fadeDuration:"fadeDuration",hash:"hash",refreshExpiredTiles:"refreshExpiredTiles",failIfMajorPerformanceCaveat:"failIfMajorPerformanceCaveat",bearingSnap:"bearingSnap",interactive:"interactive",pitchWithRotate:"pitchWithRotate",clickTolerance:"clickTolerance",attributionControl:"attributionControl",logoPosition:"logoPosition",maxTileCacheSize:"maxTileCacheSize",localIdeographFontFamily:"localIdeographFontFamily",preserveDrawingBuffer:"preserveDrawingBuffer",trackResize:"trackResize",transformRequest:"transformRequest",bounds:"bounds",antialias:"antialias",locale:"locale",cooperativeGestures:"cooperativeGestures",minZoom:"minZoom",maxZoom:"maxZoom",minPitch:"minPitch",maxPitch:"maxPitch",scrollZoom:"scrollZoom",dragRotate:"dragRotate",touchPitch:"touchPitch",touchZoomRotate:"touchZoomRotate",doubleClickZoom:"doubleClickZoom",keyboard:"keyboard",dragPan:"dragPan",boxZoom:"boxZoom",style:"style",center:"center",maxBounds:"maxBounds",zoom:"zoom",bearing:"bearing",pitch:"pitch",fitBoundsOptions:"fitBoundsOptions",renderWorldCopies:"renderWorldCopies",projection:"projection",movingMethod:"movingMethod",movingOptions:"movingOptions",fitBounds:"fitBounds",fitScreenCoordinates:"fitScreenCoordinates",centerWithPanTo:"centerWithPanTo",panToOptions:"panToOptions",cursorStyle:"cursorStyle"},outputs:{mapResize:"mapResize",mapRemove:"mapRemove",mapMouseDown:"mapMouseDown",mapMouseUp:"mapMouseUp",mapMouseMove:"mapMouseMove",mapClick:"mapClick",mapDblClick:"mapDblClick",mapMouseOver:"mapMouseOver",mapMouseOut:"mapMouseOut",mapContextMenu:"mapContextMenu",mapTouchStart:"mapTouchStart",mapTouchEnd:"mapTouchEnd",mapTouchMove:"mapTouchMove",mapTouchCancel:"mapTouchCancel",mapWheel:"mapWheel",moveStart:"moveStart",move:"move",moveEnd:"moveEnd",mapDragStart:"mapDragStart",mapDrag:"mapDrag",mapDragEnd:"mapDragEnd",zoomStart:"zoomStart",zoomEvt:"zoomEvt",zoomEnd:"zoomEnd",rotateStart:"rotateStart",rotate:"rotate",rotateEnd:"rotateEnd",pitchStart:"pitchStart",pitchEvt:"pitchEvt",pitchEnd:"pitchEnd",boxZoomStart:"boxZoomStart",boxZoomEnd:"boxZoomEnd",boxZoomCancel:"boxZoomCancel",webGlContextLost:"webGlContextLost",webGlContextRestored:"webGlContextRestored",mapLoad:"mapLoad",mapCreate:"mapCreate",idle:"idle",render:"render",mapError:"mapError",data:"data",styleData:"styleData",sourceData:"sourceData",dataLoading:"dataLoading",styleDataLoading:"styleDataLoading",sourceDataLoading:"sourceDataLoading",styleImageMissing:"styleImageMissing",resize:"resize",remove:"remove",mouseDown:"mouseDown",mouseUp:"mouseUp",mouseMove:"mouseMove",click:"click",dblClick:"dblClick",mouseOver:"mouseOver",mouseOut:"mouseOut",contextMenu:"contextMenu",touchStart:"touchStart",touchEnd:"touchEnd",touchMove:"touchMove",touchCancel:"touchCancel",wheel:"wheel",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",load:"load",error:"error"},features:[s._Bn([ge]),s.TTD],decls:2,vars:0,consts:[["container",""]],template:function(Se,Vt){1&Se&&s._UZ(0,"div",null,0)},styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0})}return Wt})(),jt=(()=>{class Wt{constructor(U){this.mapService=U,this.markerDragStart=new s.vpe,this.markerDragEnd=new s.vpe,this.markerDrag=new s.vpe,this.dragStart=new s.vpe,this.dragEnd=new s.vpe,this.drag=new s.vpe}ngOnInit(){if(this.warnDeprecatedOutputs(),this.feature&&this.lngLat)throw new Error("feature and lngLat input are mutually exclusive")}ngOnChanges(U){U.lngLat&&!U.lngLat.isFirstChange()&&this.markerInstance.setLngLat(this.lngLat),U.feature&&!U.feature.isFirstChange()&&this.markerInstance.setLngLat(this.feature.geometry.coordinates),U.draggable&&!U.draggable.isFirstChange()&&this.markerInstance.setDraggable(!!this.draggable),U.popupShown&&!U.popupShown.isFirstChange()&&(U.popupShown.currentValue?this.markerInstance.getPopup().addTo(this.mapService.mapInstance):this.markerInstance.getPopup().remove()),U.pitchAlignment&&!U.pitchAlignment.isFirstChange()&&this.markerInstance.setPitchAlignment(U.pitchAlignment.currentValue),U.rotationAlignment&&!U.rotationAlignment.isFirstChange()&&this.markerInstance.setRotationAlignment(U.rotationAlignment.currentValue)}ngAfterViewInit(){this.mapService.mapCreated$.subscribe(()=>{this.markerInstance=this.mapService.addMarker({markersOptions:{offset:this.offset,anchor:this.anchor,pitchAlignment:this.pitchAlignment,rotationAlignment:this.rotationAlignment,draggable:!!this.draggable,element:this.content.nativeElement,feature:this.feature,lngLat:this.lngLat,clickTolerance:this.clickTolerance},markersEvents:{markerDragStart:this.markerDragStart,markerDrag:this.markerDrag,markerDragEnd:this.markerDragEnd,dragStart:this.markerDragStart,drag:this.markerDrag,dragEnd:this.markerDragEnd}})})}ngOnDestroy(){this.mapService.removeMarker(this.markerInstance),this.markerInstance=void 0}togglePopup(){this.markerInstance.togglePopup()}updateCoordinates(U){this.markerInstance.setLngLat(U)}warnDeprecatedOutputs(){const U=L.bind(void 0,Wt.name);this.markerDragStart.observed&&U("dragStart","markerDragStart"),this.markerDragEnd.observed&&U("dragEnd","markerDragEnd"),this.markerDrag.observed&&U("drag","markerDrag")}static#e=this.\u0275fac=function(Se){return new(Se||Wt)(s.Y36(ge))};static#t=this.\u0275cmp=s.Xpm({type:Wt,selectors:[["mgl-marker"]],viewQuery:function(Se,Vt){if(1&Se&&s.Gf(ae,7),2&Se){let en;s.iGM(en=s.CRH())&&(Vt.content=en.first)}},inputs:{offset:"offset",anchor:"anchor",clickTolerance:"clickTolerance",feature:"feature",lngLat:"lngLat",draggable:"draggable",popupShown:"popupShown",className:"className",pitchAlignment:"pitchAlignment",rotationAlignment:"rotationAlignment"},outputs:{markerDragStart:"markerDragStart",markerDragEnd:"markerDragEnd",markerDrag:"markerDrag",dragStart:"dragStart",dragEnd:"dragEnd",drag:"drag"},features:[s.TTD],ngContentSelectors:be,decls:3,vars:2,consts:[["content",""]],template:function(Se,Vt){1&Se&&(s.F$t(),s.TgZ(0,"div",null,0),s.Hsn(2),s.qZA()),2&Se&&s.Tol(Vt.className)},encapsulation:2,changeDetection:0})}return Wt})(),Ot=(()=>{class Wt{static withConfig(U){return{ngModule:Wt,providers:[{provide:pe,useValue:U.accessToken}]}}static#e=this.\u0275fac=function(Se){return new(Se||Wt)};static#t=this.\u0275mod=s.oAB({type:Wt});static#n=this.\u0275inj=s.cJS({imports:[me.ez]})}return Wt})()},5861:(Dt,Le,D)=>{"use strict";function a(oe,c,T,V,ie,Te,le){try{var me=oe[Te](le),ae=me.value}catch(be){return void T(be)}me.done?c(ae):Promise.resolve(ae).then(V,ie)}function s(oe){return function(){var c=this,T=arguments;return new Promise(function(V,ie){var Te=oe.apply(c,T);function le(ae){a(Te,V,ie,le,me,"next",ae)}function me(ae){a(Te,V,ie,le,me,"throw",ae)}le(void 0)})}}D.d(Le,{Z:()=>s})},7582:(Dt,Le,D)=>{"use strict";D.r(Le),D.d(Le,{__addDisposableResource:()=>Nt,__assign:()=>oe,__asyncDelegator:()=>pt,__asyncGenerator:()=>ge,__asyncValues:()=>Pe,__await:()=>pe,__awaiter:()=>be,__classPrivateFieldGet:()=>L,__classPrivateFieldIn:()=>ut,__classPrivateFieldSet:()=>Oe,__createBinding:()=>J,__decorate:()=>T,__disposeResources:()=>bt,__esDecorate:()=>ie,__exportStar:()=>fe,__extends:()=>s,__generator:()=>re,__importDefault:()=>Ie,__importStar:()=>It,__makeTemplateObject:()=>Be,__metadata:()=>ae,__param:()=>V,__propKey:()=>le,__read:()=>Ce,__rest:()=>c,__rewriteRelativeImportExtension:()=>Qe,__runInitializers:()=>Te,__setFunctionName:()=>me,__spread:()=>we,__spreadArray:()=>A,__spreadArrays:()=>he,__values:()=>ke,default:()=>jt});var a=function(gt,yt){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,Xe){at.__proto__=Xe}||function(at,Xe){for(var Zt in Xe)Object.prototype.hasOwnProperty.call(Xe,Zt)&&(at[Zt]=Xe[Zt])})(gt,yt)};function s(gt,yt){if("function"!=typeof yt&&null!==yt)throw new TypeError("Class extends value "+String(yt)+" is not a constructor or null");function at(){this.constructor=gt}a(gt,yt),gt.prototype=null===yt?Object.create(yt):(at.prototype=yt.prototype,new at)}var oe=function(){return oe=Object.assign||function(yt){for(var at,Xe=1,Zt=arguments.length;Xe<Zt;Xe++)for(var ve in at=arguments[Xe])Object.prototype.hasOwnProperty.call(at,ve)&&(yt[ve]=at[ve]);return yt},oe.apply(this,arguments)};function c(gt,yt){var at={};for(var Xe in gt)Object.prototype.hasOwnProperty.call(gt,Xe)&&yt.indexOf(Xe)<0&&(at[Xe]=gt[Xe]);if(null!=gt&&"function"==typeof Object.getOwnPropertySymbols){var Zt=0;for(Xe=Object.getOwnPropertySymbols(gt);Zt<Xe.length;Zt++)yt.indexOf(Xe[Zt])<0&&Object.prototype.propertyIsEnumerable.call(gt,Xe[Zt])&&(at[Xe[Zt]]=gt[Xe[Zt]])}return at}function T(gt,yt,at,Xe){var Ve,Zt=arguments.length,ve=Zt<3?yt:null===Xe?Xe=Object.getOwnPropertyDescriptor(yt,at):Xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ve=Reflect.decorate(gt,yt,at,Xe);else for(var St=gt.length-1;St>=0;St--)(Ve=gt[St])&&(ve=(Zt<3?Ve(ve):Zt>3?Ve(yt,at,ve):Ve(yt,at))||ve);return Zt>3&&ve&&Object.defineProperty(yt,at,ve),ve}function V(gt,yt){return function(at,Xe){yt(at,Xe,gt)}}function ie(gt,yt,at,Xe,Zt,ve){function Ve(en){if(void 0!==en&&"function"!=typeof en)throw new TypeError("Function expected");return en}for(var Ot,St=Xe.kind,wn="getter"===St?"get":"setter"===St?"set":"value",$t=!yt&&gt?Xe.static?gt:gt.prototype:null,Cn=yt||($t?Object.getOwnPropertyDescriptor($t,Xe.name):{}),Wt=!1,st=at.length-1;st>=0;st--){var U={};for(var Se in Xe)U[Se]="access"===Se?{}:Xe[Se];for(var Se in Xe.access)U.access[Se]=Xe.access[Se];U.addInitializer=function(en){if(Wt)throw new TypeError("Cannot add initializers after decoration has completed");ve.push(Ve(en||null))};var Vt=(0,at[st])("accessor"===St?{get:Cn.get,set:Cn.set}:Cn[wn],U);if("accessor"===St){if(void 0===Vt)continue;if(null===Vt||"object"!=typeof Vt)throw new TypeError("Object expected");(Ot=Ve(Vt.get))&&(Cn.get=Ot),(Ot=Ve(Vt.set))&&(Cn.set=Ot),(Ot=Ve(Vt.init))&&Zt.unshift(Ot)}else(Ot=Ve(Vt))&&("field"===St?Zt.unshift(Ot):Cn[wn]=Ot)}$t&&Object.defineProperty($t,Xe.name,Cn),Wt=!0}function Te(gt,yt,at){for(var Xe=arguments.length>2,Zt=0;Zt<yt.length;Zt++)at=Xe?yt[Zt].call(gt,at):yt[Zt].call(gt);return Xe?at:void 0}function le(gt){return"symbol"==typeof gt?gt:"".concat(gt)}function me(gt,yt,at){return"symbol"==typeof yt&&(yt=yt.description?"[".concat(yt.description,"]"):""),Object.defineProperty(gt,"name",{configurable:!0,value:at?"".concat(at," ",yt):yt})}function ae(gt,yt){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(gt,yt)}function be(gt,yt,at,Xe){return new(at||(at=Promise))(function(ve,Ve){function St(Cn){try{$t(Xe.next(Cn))}catch(Ot){Ve(Ot)}}function wn(Cn){try{$t(Xe.throw(Cn))}catch(Ot){Ve(Ot)}}function $t(Cn){Cn.done?ve(Cn.value):function Zt(ve){return ve instanceof at?ve:new at(function(Ve){Ve(ve)})}(Cn.value).then(St,wn)}$t((Xe=Xe.apply(gt,yt||[])).next())})}function re(gt,yt){var Xe,Zt,ve,at={label:0,sent:function(){if(1&ve[0])throw ve[1];return ve[1]},trys:[],ops:[]},Ve=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return Ve.next=St(0),Ve.throw=St(1),Ve.return=St(2),"function"==typeof Symbol&&(Ve[Symbol.iterator]=function(){return this}),Ve;function St($t){return function(Cn){return function wn($t){if(Xe)throw new TypeError("Generator is already executing.");for(;Ve&&(Ve=0,$t[0]&&(at=0)),at;)try{if(Xe=1,Zt&&(ve=2&$t[0]?Zt.return:$t[0]?Zt.throw||((ve=Zt.return)&&ve.call(Zt),0):Zt.next)&&!(ve=ve.call(Zt,$t[1])).done)return ve;switch(Zt=0,ve&&($t=[2&$t[0],ve.value]),$t[0]){case 0:case 1:ve=$t;break;case 4:return at.label++,{value:$t[1],done:!1};case 5:at.label++,Zt=$t[1],$t=[0];continue;case 7:$t=at.ops.pop(),at.trys.pop();continue;default:if(!(ve=(ve=at.trys).length>0&&ve[ve.length-1])&&(6===$t[0]||2===$t[0])){at=0;continue}if(3===$t[0]&&(!ve||$t[1]>ve[0]&&$t[1]<ve[3])){at.label=$t[1];break}if(6===$t[0]&&at.label<ve[1]){at.label=ve[1],ve=$t;break}if(ve&&at.label<ve[2]){at.label=ve[2],at.ops.push($t);break}ve[2]&&at.ops.pop(),at.trys.pop();continue}$t=yt.call(gt,at)}catch(Cn){$t=[6,Cn],Zt=0}finally{Xe=ve=0}if(5&$t[0])throw $t[1];return{value:$t[0]?$t[1]:void 0,done:!0}}([$t,Cn])}}}var J=Object.create?function(gt,yt,at,Xe){void 0===Xe&&(Xe=at);var Zt=Object.getOwnPropertyDescriptor(yt,at);(!Zt||("get"in Zt?!yt.__esModule:Zt.writable||Zt.configurable))&&(Zt={enumerable:!0,get:function(){return yt[at]}}),Object.defineProperty(gt,Xe,Zt)}:function(gt,yt,at,Xe){void 0===Xe&&(Xe=at),gt[Xe]=yt[at]};function fe(gt,yt){for(var at in gt)"default"!==at&&!Object.prototype.hasOwnProperty.call(yt,at)&&J(yt,gt,at)}function ke(gt){var yt="function"==typeof Symbol&&Symbol.iterator,at=yt&&gt[yt],Xe=0;if(at)return at.call(gt);if(gt&&"number"==typeof gt.length)return{next:function(){return gt&&Xe>=gt.length&&(gt=void 0),{value:gt&&gt[Xe++],done:!gt}}};throw new TypeError(yt?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(gt,yt){var at="function"==typeof Symbol&&gt[Symbol.iterator];if(!at)return gt;var Zt,Ve,Xe=at.call(gt),ve=[];try{for(;(void 0===yt||yt-- >0)&&!(Zt=Xe.next()).done;)ve.push(Zt.value)}catch(St){Ve={error:St}}finally{try{Zt&&!Zt.done&&(at=Xe.return)&&at.call(Xe)}finally{if(Ve)throw Ve.error}}return ve}function we(){for(var gt=[],yt=0;yt<arguments.length;yt++)gt=gt.concat(Ce(arguments[yt]));return gt}function he(){for(var gt=0,yt=0,at=arguments.length;yt<at;yt++)gt+=arguments[yt].length;var Xe=Array(gt),Zt=0;for(yt=0;yt<at;yt++)for(var ve=arguments[yt],Ve=0,St=ve.length;Ve<St;Ve++,Zt++)Xe[Zt]=ve[Ve];return Xe}function A(gt,yt,at){if(at||2===arguments.length)for(var ve,Xe=0,Zt=yt.length;Xe<Zt;Xe++)(ve||!(Xe in yt))&&(ve||(ve=Array.prototype.slice.call(yt,0,Xe)),ve[Xe]=yt[Xe]);return gt.concat(ve||Array.prototype.slice.call(yt))}function pe(gt){return this instanceof pe?(this.v=gt,this):new pe(gt)}function ge(gt,yt,at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Zt,Xe=at.apply(gt,yt||[]),ve=[];return Zt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),St("next"),St("throw"),St("return",function Ve(st){return function(U){return Promise.resolve(U).then(st,Ot)}}),Zt[Symbol.asyncIterator]=function(){return this},Zt;function St(st,U){Xe[st]&&(Zt[st]=function(Se){return new Promise(function(Vt,en){ve.push([st,Se,Vt,en])>1||wn(st,Se)})},U&&(Zt[st]=U(Zt[st])))}function wn(st,U){try{!function $t(st){st.value instanceof pe?Promise.resolve(st.value.v).then(Cn,Ot):Wt(ve[0][2],st)}(Xe[st](U))}catch(Se){Wt(ve[0][3],Se)}}function Cn(st){wn("next",st)}function Ot(st){wn("throw",st)}function Wt(st,U){st(U),ve.shift(),ve.length&&wn(ve[0][0],ve[0][1])}}function pt(gt){var yt,at;return yt={},Xe("next"),Xe("throw",function(Zt){throw Zt}),Xe("return"),yt[Symbol.iterator]=function(){return this},yt;function Xe(Zt,ve){yt[Zt]=gt[Zt]?function(Ve){return(at=!at)?{value:pe(gt[Zt](Ve)),done:!1}:ve?ve(Ve):Ve}:ve}}function Pe(gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,yt=gt[Symbol.asyncIterator];return yt?yt.call(gt):(gt=ke(gt),at={},Xe("next"),Xe("throw"),Xe("return"),at[Symbol.asyncIterator]=function(){return this},at);function Xe(ve){at[ve]=gt[ve]&&function(Ve){return new Promise(function(St,wn){!function Zt(ve,Ve,St,wn){Promise.resolve(wn).then(function($t){ve({value:$t,done:St})},Ve)}(St,wn,(Ve=gt[ve](Ve)).done,Ve.value)})}}}function Be(gt,yt){return Object.defineProperty?Object.defineProperty(gt,"raw",{value:yt}):gt.raw=yt,gt}var rt=Object.create?function(gt,yt){Object.defineProperty(gt,"default",{enumerable:!0,value:yt})}:function(gt,yt){gt.default=yt},wt=function(gt){return(wt=Object.getOwnPropertyNames||function(yt){var at=[];for(var Xe in yt)Object.prototype.hasOwnProperty.call(yt,Xe)&&(at[at.length]=Xe);return at})(gt)};function It(gt){if(gt&&gt.__esModule)return gt;var yt={};if(null!=gt)for(var at=wt(gt),Xe=0;Xe<at.length;Xe++)"default"!==at[Xe]&&J(yt,gt,at[Xe]);return rt(yt,gt),yt}function Ie(gt){return gt&&gt.__esModule?gt:{default:gt}}function L(gt,yt,at,Xe){if("a"===at&&!Xe)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof yt?gt!==yt||!Xe:!yt.has(gt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===at?Xe:"a"===at?Xe.call(gt):Xe?Xe.value:yt.get(gt)}function Oe(gt,yt,at,Xe,Zt){if("m"===Xe)throw new TypeError("Private method is not writable");if("a"===Xe&&!Zt)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof yt?gt!==yt||!Zt:!yt.has(gt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Xe?Zt.call(gt,at):Zt?Zt.value=at:yt.set(gt,at),at}function ut(gt,yt){if(null===yt||"object"!=typeof yt&&"function"!=typeof yt)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof gt?yt===gt:gt.has(yt)}function Nt(gt,yt,at){if(null!=yt){if("object"!=typeof yt&&"function"!=typeof yt)throw new TypeError("Object expected.");var Xe,Zt;if(at){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Xe=yt[Symbol.asyncDispose]}if(void 0===Xe){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Xe=yt[Symbol.dispose],at&&(Zt=Xe)}if("function"!=typeof Xe)throw new TypeError("Object not disposable.");Zt&&(Xe=function(){try{Zt.call(this)}catch(ve){return Promise.reject(ve)}}),gt.stack.push({value:yt,dispose:Xe,async:at})}else at&&gt.stack.push({async:!0});return yt}var an="function"==typeof SuppressedError?SuppressedError:function(gt,yt,at){var Xe=new Error(at);return Xe.name="SuppressedError",Xe.error=gt,Xe.suppressed=yt,Xe};function bt(gt){function yt(ve){gt.error=gt.hasError?new an(ve,gt.error,"An error was suppressed during disposal."):ve,gt.hasError=!0}var at,Xe=0;return function Zt(){for(;at=gt.stack.pop();)try{if(!at.async&&1===Xe)return Xe=0,gt.stack.push(at),Promise.resolve().then(Zt);if(at.dispose){var ve=at.dispose.call(at.value);if(at.async)return Xe|=2,Promise.resolve(ve).then(Zt,function(Ve){return yt(Ve),Zt()})}else Xe|=1}catch(Ve){yt(Ve)}if(1===Xe)return gt.hasError?Promise.reject(gt.error):Promise.resolve();if(gt.hasError)throw gt.error}()}function Qe(gt,yt){return"string"==typeof gt&&/^\.\.?\//.test(gt)?gt.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(at,Xe,Zt,ve,Ve){return Xe?yt?".jsx":".js":!Zt||ve&&Ve?Zt+ve+"."+Ve.toLowerCase()+"js":at}):gt}const jt={__extends:s,__assign:oe,__rest:c,__decorate:T,__param:V,__esDecorate:ie,__runInitializers:Te,__propKey:le,__setFunctionName:me,__metadata:ae,__awaiter:be,__generator:re,__createBinding:J,__exportStar:fe,__values:ke,__read:Ce,__spread:we,__spreadArrays:he,__spreadArray:A,__await:pe,__asyncGenerator:ge,__asyncDelegator:pt,__asyncValues:Pe,__makeTemplateObject:Be,__importStar:It,__importDefault:Ie,__classPrivateFieldGet:L,__classPrivateFieldSet:Oe,__classPrivateFieldIn:ut,__addDisposableResource:Nt,__disposeResources:bt,__rewriteRelativeImportExtension:Qe}},4499:Dt=>{"use strict";Dt.exports=JSON.parse('{"site":{"baseURL":"https://api.bxsearch.sit.ielts.com","baseSessionURL":"https://api.session-search.sit.ielts.com","bookingURL":"https://bx.ielts.sit.idp.com/","environmentName":"SIT","mapBoxApiKey":"pk.eyJ1IjoiaWRwLWl0LWFjY291bnRzIiwiYSI6ImNsNGdzMXQ0MTBnNHQzY3FxZGMzbjBoZzkifQ.EvXe2It5uPnCC3Yqc2hC3w","googleTagManagerId":"GTM-WDMRNW","buildInfo":"20250523081703 1.21.2 SIT","splunkLoggerAuthKey":"3af7513e-af91-45f6-83df-2e2039924e9d","onetrustCookieId":"0024db59-ae7f-45d1-9b4a-5b3349b4bf74-test","clickStreamApiKey":"M2yFXr5BvK4t30RyUwuaS2ksncLR3Lfg3l6xFGXo","clickStreamUrl":"https://api.clickstream.ielts.sit.idp.com/idpstats/v1/shared-analytics-clickstream-event","gaContainer":"_ga_S3BQT4LB1Q","envSubDomain":".ielts.sit.idp.com","oneAccountUrl":"https://account.ielts.sit.idp.com","cognitoProxy":"https://ielts.api.security.stg.idp.com/v1/ielts/cognito-proxy","userPoolId":"ap-southeast-1_4CLTbXo1y","userPoolWebClientId":"6orauh2fdaea9r66jd5mngddbl","secure":true,"sameSite":"strict"},"featureFlags":{"mockSettingsEnabled":true}}')}},Dt=>{var Le=a=>Dt(Dt.s=a);Le(2614),Le(7155)}]);